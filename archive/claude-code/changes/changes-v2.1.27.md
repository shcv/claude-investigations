--- archive/claude-code/pretty/pretty-v2.1.26.js
+++ archive/claude-code/pretty/pretty-v2.1.27.js
Structural similarity: 98.2%
Matched: 14154/14417 vs 14304
Changes: 150 added, 263 removed, 1011 structural, 35 string-only (13108 unchanged)

Filtered: 44 version bumps, 765 reformatting-only changes

=== Import Style Changes ===

"child_process":
  - import TqY from "child_process";
  - import vqY from "child_process";
  + import { execFile as b6K, spawn as u6K, spawnSync as B6K } from "child_process";
  + import { spawn as FI5, spawnSync as gI5 } from "child_process";

"crypto":
  - import G1Y from "crypto";
  - import Z1Y from "crypto";
  + import { randomBytes as z1z, randomUUID as w1z } from "crypto";
  + import { randomBytes as gYz, timingSafeEqual as QYz } from "crypto";

"https":
  - import GA7 from "https";
  + import { Agent as KK5 } from "https";

"node:child_process":
  - import eL1 from "node:child_process";
  - import g77 from "node:child_process";
  + import { execFile as gE9, execFileSync as ne2 } from "node:child_process";
  + import { execFileSync as dIY, spawn as cIY } from "node:child_process";

"node:fs":
  - import F5Y from "node:fs";
  - import p5Y from "node:fs";
  + import {
  +   existsSync as iF1,
  +   statSync as SIY,
  +   mkdirSync as hIY,
  +   realpathSync as IIY,
  + } from "node:fs";
  + import {
  +   constants as gIY,
  +   readFileSync as QIY,
  +   existsSync as UIY,
  +   unlinkSync as pIY,
  + } from "node:fs";

"node:os":
  - import U5Y from "node:os";
  + import { homedir as kYz } from "node:os";

"node:path":
  - import m77 from "node:path";
  + import {
  +   join as JJ,
  +   dirname as Cp,
  +   resolve as JB,
  +   delimiter as DBY,
  +   basename as jBY,
  + } from "node:path";

"node:process":
  - import IfK from "node:process";
  + import { cwd as vD7 } from "node:process";

"node:util":
  - import la9 from "node:util";
  + import { isDeepStrictEqual as IPq } from "node:util";

"path":
  - import j5Y from "path";
  + import { basename as M7z, relative as P7z } from "path";
  + import { extname as x5z, join as b5z } from "path";
  + import { dirname as U9z, join as iWq } from "path";

"stream":
  - import kzA from "stream";
  + import { PassThrough as MYz } from "stream";

=== Removed ===

--- Removed fG8 (pretty-v2.1.26.js:61998-61999)
- var fG8 =
-     "https://e531a1d9ec1de9064fae9d4affb0b0f4@o1158394.ingest.us.sentry.io/4508259541909504",

--- Removed LE (pretty-v2.1.26.js:62004-62097)
- var LE = k((kG8) => {
-   Object.defineProperty(kG8, "__esModule", { value: !0 });
-   var TG8 = Object.prototype.toString;
-   function hf5(A) {
-     switch (TG8.call(A)) {
-       case "[object Error]":
-       case "[object Exception]":
-       case "[object DOMException]":
-         return !0;
-       default:
-         return VaA(A, Error);
-     }
-   }
-   function uwA(A, K) {
-     return TG8.call(A) === `[object ${K}]`;
-   }
-   function bf5(A) {
-     return uwA(A, "ErrorEvent");
-   }
-   function xf5(A) {
-     return uwA(A, "DOMError");
-   }
-   function uf5(A) {
-     return uwA(A, "DOMException");
-   }
-   function Bf5(A) {
-     return uwA(A, "String");
-   }
-   function vG8(A) {
-     return (
-       typeof A === "object" &&
-       A !== null &&
-       "__sentry_template_string__" in A &&
-       "__sentry_template_values__" in A
-     );
-   }
-   function mf5(A) {
-     return (
-       A === null || vG8(A) || (typeof A !== "object" && typeof A !== "function")
-     );
-   }
-   function EG8(A) {
-     return uwA(A, "Object");
-   }
-   function gf5(A) {
-     return typeof Event < "u" && VaA(A, Event);
-   }
-   function Ff5(A) {
-     return typeof Element < "u" && VaA(A, Element);
-   }
-   function Qf5(A) {
-     return uwA(A, "RegExp");
-   }
-   function Uf5(A) {
-     return Boolean(A && A.then && typeof A.then === "function");
-   }
-   function pf5(A) {
-     return (
-       EG8(A) &&
-       "nativeEvent" in A &&
-       "preventDefault" in A &&
-       "stopPropagation" in A
-     );
-   }
-   function df5(A) {
-     return typeof A === "number" && A !== A;
-   }
-   function VaA(A, K) {
-     try {
-       return A instanceof K;
-     } catch (q) {
-       return !1;
-     }
-   }
-   function cf5(A) {
-     return !!(typeof A === "object" && A !== null && (A.__isVue || A._isVue));
-   }
-   kG8.isDOMError = xf5;
-   kG8.isDOMException = uf5;
-   kG8.isElement = Ff5;
-   kG8.isError = hf5;
-   kG8.isErrorEvent = bf5;
-   kG8.isEvent = gf5;
-   kG8.isInstanceOf = VaA;
-   kG8.isNaN = df5;
-   kG8.isParameterizedString = vG8;
-   kG8.isPlainObject = EG8;
-   kG8.isPrimitive = mf5;
-   kG8.isRegExp = Qf5;
-   kG8.isString = Bf5;
-   kG8.isSyntheticEvent = pf5;
-   kG8.isThenable = Uf5;
-   kG8.isVueViewModel = cf5;
- });

--- Removed STA (pretty-v2.1.26.js:62098-62147)
- var STA = k((LG8) => {
-   Object.defineProperty(LG8, "__esModule", { value: !0 });
-   var faA = LE();
-   function JN5(A, K = 0) {
-     if (typeof A !== "string" || K === 0) return A;
-     return A.length <= K ? A : `${A.slice(0, K)}...`;
-   }
-   function ON5(A, K) {
-     let q = A,
-       Y = q.length;
-     if (Y <= 150) return q;
-     if (K > Y) K = Y;
-     let z = Math.max(K - 60, 0);
-     if (z < 5) z = 0;
-     let w = Math.min(z + 140, Y);
-     if (w > Y - 5) w = Y;
-     if (w === Y) z = Math.max(w - 140, 0);
-     if (((q = q.slice(z, w)), z > 0)) q = `'{snip} ${q}`;
-     if (w < Y) q += " {snip}";
-     return q;
-   }
-   function XN5(A, K) {
-     if (!Array.isArray(A)) return "";
-     let q = [];
-     for (let Y = 0; Y < A.length; Y++) {
-       let z = A[Y];
-       try {
-         if (faA.isVueViewModel(z)) q.push("[VueViewModel]");
-         else q.push(String(z));
-       } catch (w) {
-         q.push("[value cannot be serialized]");
-       }
-     }
-     return q.join(K);
-   }
-   function CG8(A, K, q = !1) {
-     if (!faA.isString(A)) return !1;
-     if (faA.isRegExp(K)) return K.test(A);
-     if (faA.isString(K)) return q ? A === K : A.includes(K);
-     return !1;
-   }
-   function $N5(A, K = [], q = !1) {
-     return K.some((Y) => CG8(A, Y, q));
-   }
-   LG8.isMatchingPattern = CG8;
-   LG8.safeJoin = XN5;
-   LG8.snipLine = ON5;
-   LG8.stringMatchesSomePattern = $N5;
-   LG8.truncate = JN5;
- });

--- Removed SG8 (pretty-v2.1.26.js:62148-62216)
- var SG8 = k((IG8) => {
-   Object.defineProperty(IG8, "__esModule", { value: !0 });
-   var Qb1 = LE(),
-     jN5 = STA();
-   function MN5(A, K, q = 250, Y, z, w, H) {
-     if (
-       !w.exception ||
-       !w.exception.values ||
-       !H ||
-       !Qb1.isInstanceOf(H.originalException, Error)
-     )
-       return;
-     let J =
-       w.exception.values.length > 0
-         ? w.exception.values[w.exception.values.length - 1]
-         : void 0;
-     if (J)
-       w.exception.values = PN5(
-         Ub1(A, K, z, H.originalException, Y, w.exception.values, J, 0),
-         q,
-       );
-   }
-   function Ub1(A, K, q, Y, z, w, H, J) {
-     if (w.length >= q + 1) return w;
-     let O = [...w];
-     if (Qb1.isInstanceOf(Y[z], Error)) {
-       RG8(H, J);
-       let X = A(K, Y[z]),
-         $ = O.length;
-       (yG8(X, z, $, J), (O = Ub1(A, K, q, Y[z], z, [X, ...O], X, $)));
-     }
-     if (Array.isArray(Y.errors))
-       Y.errors.forEach((X, $) => {
-         if (Qb1.isInstanceOf(X, Error)) {
-           RG8(H, J);
-           let _ = A(K, X),
-             G = O.length;
-           (yG8(_, `errors[${$}]`, G, J),
-             (O = Ub1(A, K, q, X, z, [_, ...O], _, G)));
-         }
-       });
-     return O;
-   }
-   function RG8(A, K) {
-     ((A.mechanism = A.mechanism || { type: "generic", handled: !0 }),
-       (A.mechanism = {
-         ...A.mechanism,
-         ...(A.type === "AggregateError" && { is_exception_group: !0 }),
-         exception_id: K,
-       }));
-   }
-   function yG8(A, K, q, Y) {
-     ((A.mechanism = A.mechanism || { type: "generic", handled: !0 }),
-       (A.mechanism = {
-         ...A.mechanism,
-         type: "chained",
-         source: K,
-         exception_id: q,
-         parent_id: Y,
-       }));
-   }
-   function PN5(A, K) {
-     return A.map((q) => {
-       if (q.value) q.value = jN5.truncate(q.value, K);
-       return q;
-     });
-   }
-   IG8.applyAggregateErrorsToEvent = MN5;
- });

--- Removed tW (pretty-v2.1.26.js:62217-62242)
- var tW = k((hG8) => {
-   Object.defineProperty(hG8, "__esModule", { value: !0 });
-   function NaA(A) {
-     return A && A.Math == Math ? A : void 0;
-   }
-   var pb1 =
-     (typeof globalThis == "object" && NaA(globalThis)) ||
-     (typeof window == "object" && NaA(window)) ||
-     (typeof self == "object" && NaA(self)) ||
-     (typeof global == "object" && NaA(global)) ||
-     (function () {
-       return this;
-     })() ||
-     {};
-   function fN5() {
-     return pb1;
-   }
-   function NN5(A, K, q) {
-     let Y = q || pb1,
-       z = (Y.__SENTRY__ = Y.__SENTRY__ || {});
-     return z[A] || (z[A] = K());
-   }
-   hG8.GLOBAL_OBJ = pb1;
-   hG8.getGlobalObject = fN5;
-   hG8.getGlobalSingleton = NN5;
- });

--- Removed db1 (pretty-v2.1.26.js:62243-62337)
- var db1 = k((bG8) => {
-   Object.defineProperty(bG8, "__esModule", { value: !0 });
-   var kN5 = LE(),
-     CN5 = tW(),
-     BwA = CN5.getGlobalObject(),
-     LN5 = 80;
-   function RN5(A, K = {}) {
-     if (!A) return "<unknown>";
-     try {
-       let q = A,
-         Y = 5,
-         z = [],
-         w = 0,
-         H = 0,
-         J = " > ",
-         O = J.length,
-         X,
-         $ = Array.isArray(K) ? K : K.keyAttrs,
-         _ = (!Array.isArray(K) && K.maxStringLength) || LN5;
-       while (q && w++ < Y) {
-         if (
-           ((X = yN5(q, $)),
-           X === "html" || (w > 1 && H + z.length * O + X.length >= _))
-         )
-           break;
-         (z.push(X), (H += X.length), (q = q.parentNode));
-       }
-       return z.reverse().join(J);
-     } catch (q) {
-       return "<unknown>";
-     }
-   }
-   function yN5(A, K) {
-     let q = A,
-       Y = [],
-       z,
-       w,
-       H,
-       J,
-       O;
-     if (!q || !q.tagName) return "";
-     if (BwA.HTMLElement) {
-       if (q instanceof HTMLElement && q.dataset && q.dataset.sentryComponent)
-         return q.dataset.sentryComponent;
-     }
-     Y.push(q.tagName.toLowerCase());
-     let X =
-       K && K.length
-         ? K.filter((_) => q.getAttribute(_)).map((_) => [_, q.getAttribute(_)])
-         : null;
-     if (X && X.length)
-       X.forEach((_) => {
-         Y.push(`[${_[0]}="${_[1]}"]`);
-       });
-     else {
-       if (q.id) Y.push(`#${q.id}`);
-       if (((z = q.className), z && kN5.isString(z))) {
-         w = z.split(/\s+/);
-         for (O = 0; O < w.length; O++) Y.push(`.${w[O]}`);
-       }
-     }
-     let $ = ["aria-label", "type", "name", "title", "alt"];
-     for (O = 0; O < $.length; O++)
-       if (((H = $[O]), (J = q.getAttribute(H)), J)) Y.push(`[${H}="${J}"]`);
-     return Y.join("");
-   }
-   function IN5() {
-     try {
-       return BwA.document.location.href;
-     } catch (A) {
-       return "";
-     }
-   }
-   function SN5(A) {
-     if (BwA.document && BwA.document.querySelector)
-       return BwA.document.querySelector(A);
-     return null;
-   }
-   function hN5(A) {
-     if (!BwA.HTMLElement) return null;
-     let K = A,
-       q = 5;
-     for (let Y = 0; Y < q; Y++) {
-       if (!K) return null;
-       if (K instanceof HTMLElement && K.dataset.sentryComponent)
-         return K.dataset.sentryComponent;
-       K = K.parentNode;
-     }
-     return null;
-   }
-   bG8.getComponentName = hN5;
-   bG8.getDomElement = SN5;
-   bG8.getLocationHref = IN5;
-   bG8.htmlTreeAsString = RN5;
- });

--- Removed $b (pretty-v2.1.26.js:62338-62342)
- var $b = k((xG8) => {
-   Object.defineProperty(xG8, "__esModule", { value: !0 });
-   var mN5 = typeof __SENTRY_DEBUG__ > "u" || __SENTRY_DEBUG__;
-   xG8.DEBUG_BUILD = mN5;
- });

--- Removed hR (pretty-v2.1.26.js:62343-62400)
- var hR = k((BG8) => {
-   Object.defineProperty(BG8, "__esModule", { value: !0 });
-   var FN5 = $b(),
-     cb1 = tW(),
-     QN5 = "Sentry Logger ",
-     lb1 = ["debug", "info", "warn", "error", "log", "assert", "trace"],
-     ib1 = {};
-   function uG8(A) {
-     if (!("console" in cb1.GLOBAL_OBJ)) return A();
-     let K = cb1.GLOBAL_OBJ.console,
-       q = {},
-       Y = Object.keys(ib1);
-     Y.forEach((z) => {
-       let w = ib1[z];
-       ((q[z] = K[z]), (K[z] = w));
-     });
-     try {
-       return A();
-     } finally {
-       Y.forEach((z) => {
-         K[z] = q[z];
-       });
-     }
-   }
-   function UN5() {
-     let A = !1,
-       K = {
-         enable: () => {
-           A = !0;
-         },
-         disable: () => {
-           A = !1;
-         },
-         isEnabled: () => A,
-       };
-     if (FN5.DEBUG_BUILD)
-       lb1.forEach((q) => {
-         K[q] = (...Y) => {
-           if (A)
-             uG8(() => {
-               cb1.GLOBAL_OBJ.console[q](`${QN5}[${q}]:`, ...Y);
-             });
-         };
-       });
-     else
-       lb1.forEach((q) => {
-         K[q] = () => {
-           return;
-         };
-       });
-     return K;
-   }
-   var pN5 = UN5();
-   BG8.CONSOLE_LEVELS = lb1;
-   BG8.consoleSandbox = uG8;
-   BG8.logger = pN5;
-   BG8.originalConsoleMethods = ib1;
- });

--- Removed nb1 (pretty-v2.1.26.js:62401-62492)
- var nb1 = k((FG8) => {
-   Object.defineProperty(FG8, "__esModule", { value: !0 });
-   var nN5 = $b(),
-     hTA = hR(),
-     rN5 = /^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;
-   function oN5(A) {
-     return A === "http" || A === "https";
-   }
-   function aN5(A, K = !1) {
-     let {
-       host: q,
-       path: Y,
-       pass: z,
-       port: w,
-       projectId: H,
-       protocol: J,
-       publicKey: O,
-     } = A;
-     return `${J}://${O}${K && z ? `:${z}` : ""}@${q}${w ? `:${w}` : ""}/${Y ? `${Y}/` : Y}${H}`;
-   }
-   function mG8(A) {
-     let K = rN5.exec(A);
-     if (!K) {
-       hTA.consoleSandbox(() => {
-         console.error(`Invalid Sentry Dsn: ${A}`);
-       });
-       return;
-     }
-     let [q, Y, z = "", w, H = "", J] = K.slice(1),
-       O = "",
-       X = J,
-       $ = X.split("/");
-     if ($.length > 1) ((O = $.slice(0, -1).join("/")), (X = $.pop()));
-     if (X) {
-       let _ = X.match(/^\d+/);
-       if (_) X = _[0];
-     }
-     return gG8({
-       host: w,
-       pass: z,
-       path: O,
-       projectId: X,
-       port: H,
-       protocol: q,
-       publicKey: Y,
-     });
-   }
-   function gG8(A) {
-     return {
-       protocol: A.protocol,
-       publicKey: A.publicKey || "",
-       pass: A.pass || "",
-       host: A.host,
-       port: A.port || "",
-       path: A.path || "",
-       projectId: A.projectId,
-     };
-   }
-   function sN5(A) {
-     if (!nN5.DEBUG_BUILD) return !0;
-     let { port: K, projectId: q, protocol: Y } = A;
-     if (
-       ["protocol", "publicKey", "host", "projectId"].find((H) => {
-         if (!A[H])
-           return (hTA.logger.error(`Invalid Sentry Dsn: ${H} missing`), !0);
-         return !1;
-       })
-     )
-       return !1;
-     if (!q.match(/^\d+$/))
-       return (
-         hTA.logger.error(`Invalid Sentry Dsn: Invalid projectId ${q}`),
-         !1
-       );
-     if (!oN5(Y))
-       return (
-         hTA.logger.error(`Invalid Sentry Dsn: Invalid protocol ${Y}`),
-         !1
-       );
-     if (K && isNaN(parseInt(K, 10)))
-       return (hTA.logger.error(`Invalid Sentry Dsn: Invalid port ${K}`), !1);
-     return !0;
-   }
-   function tN5(A) {
-     let K = typeof A === "string" ? mG8(A) : gG8(A);
-     if (!K || !sN5(K)) return;
-     return K;
-   }
-   FG8.dsnFromString = mG8;
-   FG8.dsnToString = aN5;
-   FG8.makeDsn = tN5;
- });

--- Removed rb1 (pretty-v2.1.26.js:62493-62505)
- var rb1 = k((UG8) => {
-   Object.defineProperty(UG8, "__esModule", { value: !0 });
-   class QG8 extends Error {
-     constructor(A, K = "warn") {
-       super(A);
-       ((this.message = A),
-         (this.name = new.target.prototype.constructor.name),
-         Object.setPrototypeOf(this, new.target.prototype),
-         (this.logLevel = K));
-     }
-   }
-   UG8.SentryError = QG8;
- });

--- Removed RE (pretty-v2.1.26.js:62506-62651)
- var RE = k((rG8) => {
-   Object.defineProperty(rG8, "__esModule", { value: !0 });
-   var YT5 = db1(),
-     zT5 = $b(),
-     mwA = LE(),
-     wT5 = hR(),
-     pG8 = STA();
-   function HT5(A, K, q) {
-     if (!(K in A)) return;
-     let Y = A[K],
-       z = q(Y);
-     if (typeof z === "function") iG8(z, Y);
-     A[K] = z;
-   }
-   function lG8(A, K, q) {
-     try {
-       Object.defineProperty(A, K, { value: q, writable: !0, configurable: !0 });
-     } catch (Y) {
-       zT5.DEBUG_BUILD &&
-         wT5.logger.log(
-           `Failed to add non-enumerable property "${K}" to object`,
-           A,
-         );
-     }
-   }
-   function iG8(A, K) {
-     try {
-       let q = K.prototype || {};
-       ((A.prototype = K.prototype = q), lG8(A, "__sentry_original__", K));
-     } catch (q) {}
-   }
-   function JT5(A) {
-     return A.__sentry_original__;
-   }
-   function OT5(A) {
-     return Object.keys(A)
-       .map((K) => `${encodeURIComponent(K)}=${encodeURIComponent(A[K])}`)
-       .join("&");
-   }
-   function nG8(A) {
-     if (mwA.isError(A))
-       return { message: A.message, name: A.name, stack: A.stack, ...cG8(A) };
-     else if (mwA.isEvent(A)) {
-       let K = {
-         type: A.type,
-         target: dG8(A.target),
-         currentTarget: dG8(A.currentTarget),
-         ...cG8(A),
-       };
-       if (typeof CustomEvent < "u" && mwA.isInstanceOf(A, CustomEvent))
-         K.detail = A.detail;
-       return K;
-     } else return A;
-   }
-   function dG8(A) {
-     try {
-       return mwA.isElement(A)
-         ? YT5.htmlTreeAsString(A)
-         : Object.prototype.toString.call(A);
-     } catch (K) {
-       return "<unknown>";
-     }
-   }
-   function cG8(A) {
-     if (typeof A === "object" && A !== null) {
-       let K = {};
-       for (let q in A)
-         if (Object.prototype.hasOwnProperty.call(A, q)) K[q] = A[q];
-       return K;
-     } else return {};
-   }
-   function XT5(A, K = 40) {
-     let q = Object.keys(nG8(A));
-     if ((q.sort(), !q.length)) return "[object has no keys]";
-     if (q[0].length >= K) return pG8.truncate(q[0], K);
-     for (let Y = q.length; Y > 0; Y--) {
-       let z = q.slice(0, Y).join(", ");
-       if (z.length > K) continue;
-       if (Y === q.length) return z;
-       return pG8.truncate(z, K);
-     }
-     return "";
-   }
-   function $T5(A) {
-     return ob1(A, new Map());
-   }
-   function ob1(A, K) {
-     if (_T5(A)) {
-       let q = K.get(A);
-       if (q !== void 0) return q;
-       let Y = {};
-       K.set(A, Y);
-       for (let z of Object.keys(A)) if (typeof A[z] < "u") Y[z] = ob1(A[z], K);
-       return Y;
-     }
-     if (Array.isArray(A)) {
-       let q = K.get(A);
-       if (q !== void 0) return q;
-       let Y = [];
-       return (
-         K.set(A, Y),
-         A.forEach((z) => {
-           Y.push(ob1(z, K));
-         }),
-         Y
-       );
-     }
-     return A;
-   }
-   function _T5(A) {
-     if (!mwA.isPlainObject(A)) return !1;
-     try {
-       let K = Object.getPrototypeOf(A).constructor.name;
-       return !K || K === "Object";
-     } catch (K) {
-       return !0;
-     }
-   }
-   function GT5(A) {
-     let K;
-     switch (!0) {
-       case A === void 0 || A === null:
-         K = new String(A);
-         break;
-       case typeof A === "symbol" || typeof A === "bigint":
-         K = Object(A);
-         break;
-       case mwA.isPrimitive(A):
-         K = new A.constructor(A);
-         break;
-       default:
-         K = A;
-         break;
-     }
-     return K;
-   }
-   rG8.addNonEnumerableProperty = lG8;
-   rG8.convertToPlainObject = nG8;
-   rG8.dropUndefinedKeys = $T5;
-   rG8.extractExceptionKeysForMessage = XT5;
-   rG8.fill = HT5;
-   rG8.getOriginalFunction = JT5;
-   rG8.markFunctionWrapped = iG8;
-   rG8.objectify = GT5;
-   rG8.urlEncode = OT5;
- });

--- Removed TaA (pretty-v2.1.26.js:62652-62708)
- var TaA = k((aG8) => {
-   Object.defineProperty(aG8, "__esModule", { value: !0 });
-   function oG8(A, K = !1) {
-     return (
-       !(
-         K ||
-         (A &&
-           !A.startsWith("/") &&
-           !A.match(/^[A-Z]:/) &&
-           !A.startsWith(".") &&
-           !A.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))
-       ) &&
-       A !== void 0 &&
-       !A.includes("node_modules/")
-     );
-   }
-   function TT5(A) {
-     let K = /^\s*[-]{4,}$/,
-       q = /at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;
-     return (Y) => {
-       let z = Y.match(q);
-       if (z) {
-         let w, H, J, O, X;
-         if (z[1]) {
-           J = z[1];
-           let G = J.lastIndexOf(".");
-           if (J[G - 1] === ".") G--;
-           if (G > 0) {
-             ((w = J.slice(0, G)), (H = J.slice(G + 1)));
-             let Z = w.indexOf(".Module");
-             if (Z > 0) ((J = J.slice(Z + 1)), (w = w.slice(0, Z)));
-           }
-           O = void 0;
-         }
-         if (H) ((O = w), (X = H));
-         if (H === "<anonymous>") ((X = void 0), (J = void 0));
-         if (J === void 0) ((X = X || "<anonymous>"), (J = O ? `${O}.${X}` : X));
-         let $ = z[2] && z[2].startsWith("file://") ? z[2].slice(7) : z[2],
-           _ = z[5] === "native";
-         if ($ && $.match(/\/[A-Z]:/)) $ = $.slice(1);
-         if (!$ && z[5] && !_) $ = z[5];
-         return {
-           filename: $,
-           module: A ? A($) : void 0,
-           function: J,
-           lineno: parseInt(z[3], 10) || void 0,
-           colno: parseInt(z[4], 10) || void 0,
-           in_app: oG8($, _),
-         };
-       }
-       if (Y.match(K)) return { filename: Y };
-       return;
-     };
-   }
-   aG8.filenameIsInApp = oG8;
-   aG8.node = TT5;
- });

--- Removed vaA (pretty-v2.1.26.js:62709-62773)
- var vaA = k((YZ8) => {
-   Object.defineProperty(YZ8, "__esModule", { value: !0 });
-   var eG8 = TaA(),
-     AZ8 = 50,
-     sG8 = /\(error: (.*)\)/,
-     tG8 = /captureMessage|captureException/;
-   function KZ8(...A) {
-     let K = A.sort((q, Y) => q[0] - Y[0]).map((q) => q[1]);
-     return (q, Y = 0) => {
-       let z = [],
-         w = q.split(`
- `);
-       for (let H = Y; H < w.length; H++) {
-         let J = w[H];
-         if (J.length > 1024) continue;
-         let O = sG8.test(J) ? J.replace(sG8, "$1") : J;
-         if (O.match(/\S*Error: /)) continue;
-         for (let X of K) {
-           let $ = X(O);
-           if ($) {
-             z.push($);
-             break;
-           }
-         }
-         if (z.length >= AZ8) break;
-       }
-       return qZ8(z);
-     };
-   }
-   function kT5(A) {
-     if (Array.isArray(A)) return KZ8(...A);
-     return A;
-   }
-   function qZ8(A) {
-     if (!A.length) return [];
-     let K = Array.from(A);
-     if (/sentryWrapped/.test(K[K.length - 1].function || "")) K.pop();
-     if ((K.reverse(), tG8.test(K[K.length - 1].function || ""))) {
-       if ((K.pop(), tG8.test(K[K.length - 1].function || ""))) K.pop();
-     }
-     return K.slice(0, AZ8).map((q) => ({
-       ...q,
-       filename: q.filename || K[K.length - 1].filename,
-       function: q.function || "?",
-     }));
-   }
-   var ab1 = "<anonymous>";
-   function CT5(A) {
-     try {
-       if (!A || typeof A !== "function") return ab1;
-       return A.name || ab1;
-     } catch (K) {
-       return ab1;
-     }
-   }
-   function LT5(A) {
-     return [90, eG8.node(A)];
-   }
-   YZ8.filenameIsInApp = eG8.filenameIsInApp;
-   YZ8.createStackParser = KZ8;
-   YZ8.getFunctionName = CT5;
-   YZ8.nodeStackLineParser = LT5;
-   YZ8.stackParserFromStackParserOptions = kT5;
-   YZ8.stripSentryFramesAndReverse = qZ8;
- });

--- Removed dg (pretty-v2.1.26.js:62774-62813)
- var dg = k((wZ8) => {
-   Object.defineProperty(wZ8, "__esModule", { value: !0 });
-   var xT5 = $b(),
-     uT5 = hR(),
-     BT5 = vaA(),
-     gwA = {},
-     zZ8 = {};
-   function mT5(A, K) {
-     ((gwA[A] = gwA[A] || []), gwA[A].push(K));
-   }
-   function gT5() {
-     Object.keys(gwA).forEach((A) => {
-       gwA[A] = void 0;
-     });
-   }
-   function FT5(A, K) {
-     if (!zZ8[A]) (K(), (zZ8[A] = !0));
-   }
-   function QT5(A, K) {
-     let q = A && gwA[A];
-     if (!q) return;
-     for (let Y of q)
-       try {
-         Y(K);
-       } catch (z) {
-         xT5.DEBUG_BUILD &&
-           uT5.logger.error(
-             `Error while triggering instrumentation handler.
- Type: ${A}
- Name: ${BT5.getFunctionName(Y)}
- Error:`,
-             z,
-           );
-       }
-   }
-   wZ8.addHandler = mT5;
-   wZ8.maybeInstrument = FT5;
-   wZ8.resetInstrumentationHandlers = gT5;
-   wZ8.triggerHandlers = QT5;
- });

--- Removed eb1 (pretty-v2.1.26.js:62814-62841)
- var eb1 = k((HZ8) => {
-   Object.defineProperty(HZ8, "__esModule", { value: !0 });
-   var sb1 = hR(),
-     lT5 = RE(),
-     EaA = tW(),
-     tb1 = dg();
-   function iT5(A) {
-     (tb1.addHandler("console", A), tb1.maybeInstrument("console", nT5));
-   }
-   function nT5() {
-     if (!("console" in EaA.GLOBAL_OBJ)) return;
-     sb1.CONSOLE_LEVELS.forEach(function (A) {
-       if (!(A in EaA.GLOBAL_OBJ.console)) return;
-       lT5.fill(EaA.GLOBAL_OBJ.console, A, function (K) {
-         return (
-           (sb1.originalConsoleMethods[A] = K),
-           function (...q) {
-             let Y = { args: q, level: A };
-             tb1.triggerHandlers("console", Y);
-             let z = sb1.originalConsoleMethods[A];
-             z && z.apply(EaA.GLOBAL_OBJ.console, q);
-           }
-         );
-       });
-     });
-   }
-   HZ8.addConsoleInstrumentationHandler = iT5;
- });

--- Removed bTA (pretty-v2.1.26.js:62842-62938)
- var bTA = k((OZ8) => {
-   Object.defineProperty(OZ8, "__esModule", { value: !0 });
-   var oT5 = RE(),
-     Ax1 = STA(),
-     aT5 = tW();
-   function sT5() {
-     let A = aT5.GLOBAL_OBJ,
-       K = A.crypto || A.msCrypto,
-       q = () => Math.random() * 16;
-     try {
-       if (K && K.randomUUID) return K.randomUUID().replace(/-/g, "");
-       if (K && K.getRandomValues)
-         q = () => {
-           let Y = new Uint8Array(1);
-           return (K.getRandomValues(Y), Y[0]);
-         };
-     } catch (Y) {}
-     return ([1e7] + 1000 + 4000 + 8000 + 100000000000).replace(/[018]/g, (Y) =>
-       (Y ^ ((q() & 15) >> (Y / 4))).toString(16),
-     );
-   }
-   function JZ8(A) {
-     return A.exception && A.exception.values ? A.exception.values[0] : void 0;
-   }
-   function tT5(A) {
-     let { message: K, event_id: q } = A;
-     if (K) return K;
-     let Y = JZ8(A);
-     if (Y) {
-       if (Y.type && Y.value) return `${Y.type}: ${Y.value}`;
-       return Y.type || Y.value || q || "<unknown>";
-     }
-     return q || "<unknown>";
-   }
-   function eT5(A, K, q) {
-     let Y = (A.exception = A.exception || {}),
-       z = (Y.values = Y.values || []),
-       w = (z[0] = z[0] || {});
-     if (!w.value) w.value = K || "";
-     if (!w.type) w.type = q || "Error";
-   }
-   function Av5(A, K) {
-     let q = JZ8(A);
-     if (!q) return;
-     let Y = { type: "generic", handled: !0 },
-       z = q.mechanism;
-     if (((q.mechanism = { ...Y, ...z, ...K }), K && "data" in K)) {
-       let w = { ...(z && z.data), ...K.data };
-       q.mechanism.data = w;
-     }
-   }
-   var Kv5 =
-     /^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;
-   function qv5(A) {
-     let K = A.match(Kv5) || [],
-       q = parseInt(K[1], 10),
-       Y = parseInt(K[2], 10),
-       z = parseInt(K[3], 10);
-     return {
-       buildmetadata: K[5],
-       major: isNaN(q) ? void 0 : q,
-       minor: isNaN(Y) ? void 0 : Y,
-       patch: isNaN(z) ? void 0 : z,
-       prerelease: K[4],
-     };
-   }
-   function Yv5(A, K, q = 5) {
-     if (K.lineno === void 0) return;
-     let Y = A.length,
-       z = Math.max(Math.min(Y - 1, K.lineno - 1), 0);
-     ((K.pre_context = A.slice(Math.max(0, z - q), z).map((w) =>
-       Ax1.snipLine(w, 0),
-     )),
-       (K.context_line = Ax1.snipLine(A[Math.min(Y - 1, z)], K.colno || 0)),
-       (K.post_context = A.slice(Math.min(z + 1, Y), z + 1 + q).map((w) =>
-         Ax1.snipLine(w, 0),
-       )));
-   }
-   function zv5(A) {
-     if (A && A.__sentry_captured__) return !0;
-     try {
-       oT5.addNonEnumerableProperty(A, "__sentry_captured__", !0);
-     } catch (K) {}
-     return !1;
-   }
-   function wv5(A) {
-     return Array.isArray(A) ? A : [A];
-   }
-   OZ8.addContextToFrame = Yv5;
-   OZ8.addExceptionMechanism = Av5;
-   OZ8.addExceptionTypeValue = eT5;
-   OZ8.arrayify = wv5;
-   OZ8.checkOrSetAlreadyCaught = zv5;
-   OZ8.getEventDescription = tT5;
-   OZ8.parseSemver = qv5;
-   OZ8.uuid4 = sT5;
- });

--- Removed zx1 (pretty-v2.1.26.js:62939-63049)
- var zx1 = k((GZ8) => {
-   Object.defineProperty(GZ8, "__esModule", { value: !0 });
-   var Wv5 = bTA(),
-     kaA = RE(),
-     Dv5 = tW(),
-     Kx1 = dg(),
-     FwA = Dv5.GLOBAL_OBJ,
-     jv5 = 1000,
-     XZ8,
-     qx1,
-     Yx1;
-   function Mv5(A) {
-     (Kx1.addHandler("dom", A), Kx1.maybeInstrument("dom", _Z8));
-   }
-   function _Z8() {
-     if (!FwA.document) return;
-     let A = Kx1.triggerHandlers.bind(null, "dom"),
-       K = $Z8(A, !0);
-     (FwA.document.addEventListener("click", K, !1),
-       FwA.document.addEventListener("keypress", K, !1),
-       ["EventTarget", "Node"].forEach((q) => {
-         let Y = FwA[q] && FwA[q].prototype;
-         if (!Y || !Y.hasOwnProperty || !Y.hasOwnProperty("addEventListener"))
-           return;
-         (kaA.fill(Y, "addEventListener", function (z) {
-           return function (w, H, J) {
-             if (w === "click" || w == "keypress")
-               try {
-                 let O = this,
-                   X = (O.__sentry_instrumentation_handlers__ =
-                     O.__sentry_instrumentation_handlers__ || {}),
-                   $ = (X[w] = X[w] || { refCount: 0 });
-                 if (!$.handler) {
-                   let _ = $Z8(A);
-                   (($.handler = _), z.call(this, w, _, J));
-                 }
-                 $.refCount++;
-               } catch (O) {}
-             return z.call(this, w, H, J);
-           };
-         }),
-           kaA.fill(Y, "removeEventListener", function (z) {
-             return function (w, H, J) {
-               if (w === "click" || w == "keypress")
-                 try {
-                   let O = this,
-                     X = O.__sentry_instrumentation_handlers__ || {},
-                     $ = X[w];
-                   if ($) {
-                     if (($.refCount--, $.refCount <= 0))
-                       (z.call(this, w, $.handler, J),
-                         ($.handler = void 0),
-                         delete X[w]);
-                     if (Object.keys(X).length === 0)
-                       delete O.__sentry_instrumentation_handlers__;
-                   }
-                 } catch (O) {}
-               return z.call(this, w, H, J);
-             };
-           }));
-       }));
-   }
-   function Pv5(A) {
-     if (A.type !== qx1) return !1;
-     try {
-       if (!A.target || A.target._sentryId !== Yx1) return !1;
-     } catch (K) {}
-     return !0;
-   }
-   function Vv5(A, K) {
-     if (A !== "keypress") return !1;
-     if (!K || !K.tagName) return !0;
-     if (
-       K.tagName === "INPUT" ||
-       K.tagName === "TEXTAREA" ||
-       K.isContentEditable
-     )
-       return !1;
-     return !0;
-   }
-   function $Z8(A, K = !1) {
-     return (q) => {
-       if (!q || q._sentryCaptured) return;
-       let Y = fv5(q);
-       if (Vv5(q.type, Y)) return;
-       if (
-         (kaA.addNonEnumerableProperty(q, "_sentryCaptured", !0),
-         Y && !Y._sentryId)
-       )
-         kaA.addNonEnumerableProperty(Y, "_sentryId", Wv5.uuid4());
-       let z = q.type === "keypress" ? "input" : q.type;
-       if (!Pv5(q))
-         (A({ event: q, name: z, global: K }),
-           (qx1 = q.type),
-           (Yx1 = Y ? Y._sentryId : void 0));
-       (clearTimeout(XZ8),
-         (XZ8 = FwA.setTimeout(() => {
-           ((Yx1 = void 0), (qx1 = void 0));
-         }, jv5)));
-     };
-   }
-   function fv5(A) {
-     try {
-       return A.target;
-     } catch (K) {
-       return null;
-     }
-   }
-   GZ8.addClickKeypressInstrumentationHandler = Mv5;
-   GZ8.instrumentDOM = _Z8;
- });

--- Removed Jx1 (pretty-v2.1.26.js:63050-63134)
- var Jx1 = k((ZZ8) => {
-   Object.defineProperty(ZZ8, "__esModule", { value: !0 });
-   var vv5 = $b(),
-     Ev5 = hR(),
-     kv5 = tW(),
-     CaA = kv5.getGlobalObject();
-   function Cv5() {
-     try {
-       return (new ErrorEvent(""), !0);
-     } catch (A) {
-       return !1;
-     }
-   }
-   function Lv5() {
-     try {
-       return (new DOMError(""), !0);
-     } catch (A) {
-       return !1;
-     }
-   }
-   function Rv5() {
-     try {
-       return (new DOMException(""), !0);
-     } catch (A) {
-       return !1;
-     }
-   }
-   function Hx1() {
-     if (!("fetch" in CaA)) return !1;
-     try {
-       return (new Request("http://www.example.com"), !0);
-     } catch (A) {
-       return !1;
-     }
-   }
-   function wx1(A) {
-     return (
-       A && /^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(A.toString())
-     );
-   }
-   function yv5() {
-     if (typeof EdgeRuntime === "string") return !0;
-     if (!Hx1()) return !1;
-     if (wx1(CaA.fetch)) return !0;
-     let A = !1,
-       K = CaA.document;
-     if (K && typeof K.createElement === "function")
-       try {
-         let q = K.createElement("iframe");
-         if (
-           ((q.hidden = !0),
-           K.head.appendChild(q),
-           q.contentWindow && q.contentWindow.fetch)
-         )
-           A = wx1(q.contentWindow.fetch);
-         K.head.removeChild(q);
-       } catch (q) {
-         vv5.DEBUG_BUILD &&
-           Ev5.logger.warn(
-             "Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",
-             q,
-           );
-       }
-     return A;
-   }
-   function Iv5() {
-     return "ReportingObserver" in CaA;
-   }
-   function Sv5() {
-     if (!Hx1()) return !1;
-     try {
-       return (new Request("_", { referrerPolicy: "origin" }), !0);
-     } catch (A) {
-       return !1;
-     }
-   }
-   ZZ8.isNativeFetch = wx1;
-   ZZ8.supportsDOMError = Lv5;
-   ZZ8.supportsDOMException = Rv5;
-   ZZ8.supportsErrorEvent = Cv5;
-   ZZ8.supportsFetch = Hx1;
-   ZZ8.supportsNativeFetch = yv5;
-   ZZ8.supportsReferrerPolicy = Sv5;
-   ZZ8.supportsReportingObserver = Iv5;
- });

--- Removed Xx1 (pretty-v2.1.26.js:63135-63197)
- var Xx1 = k((MZ8) => {
-   Object.defineProperty(MZ8, "__esModule", { value: !0 });
-   var Qv5 = RE(),
-     Uv5 = Jx1(),
-     WZ8 = tW(),
-     xTA = dg();
-   function pv5(A) {
-     (xTA.addHandler("fetch", A), xTA.maybeInstrument("fetch", dv5));
-   }
-   function dv5() {
-     if (!Uv5.supportsNativeFetch()) return;
-     Qv5.fill(WZ8.GLOBAL_OBJ, "fetch", function (A) {
-       return function (...K) {
-         let { method: q, url: Y } = jZ8(K),
-           z = {
-             args: K,
-             fetchData: { method: q, url: Y },
-             startTimestamp: Date.now(),
-           };
-         return (
-           xTA.triggerHandlers("fetch", { ...z }),
-           A.apply(WZ8.GLOBAL_OBJ, K).then(
-             (w) => {
-               let H = { ...z, endTimestamp: Date.now(), response: w };
-               return (xTA.triggerHandlers("fetch", H), w);
-             },
-             (w) => {
-               let H = { ...z, endTimestamp: Date.now(), error: w };
-               throw (xTA.triggerHandlers("fetch", H), w);
-             },
-           )
-         );
-       };
-     });
-   }
-   function Ox1(A, K) {
-     return !!A && typeof A === "object" && !!A[K];
-   }
-   function DZ8(A) {
-     if (typeof A === "string") return A;
-     if (!A) return "";
-     if (Ox1(A, "url")) return A.url;
-     if (A.toString) return A.toString();
-     return "";
-   }
-   function jZ8(A) {
-     if (A.length === 0) return { method: "GET", url: "" };
-     if (A.length === 2) {
-       let [q, Y] = A;
-       return {
-         url: DZ8(q),
-         method: Ox1(Y, "method") ? String(Y.method).toUpperCase() : "GET",
-       };
-     }
-     let K = A[0];
-     return {
-       url: DZ8(K),
-       method: Ox1(K, "method") ? String(K.method).toUpperCase() : "GET",
-     };
-   }
-   MZ8.addFetchInstrumentationHandler = pv5;
-   MZ8.parseFetchArgs = jZ8;
- });

--- Removed Gx1 (pretty-v2.1.26.js:63198-63217)
- var Gx1 = k((PZ8) => {
-   Object.defineProperty(PZ8, "__esModule", { value: !0 });
-   var $x1 = tW(),
-     _x1 = dg(),
-     LaA = null;
-   function iv5(A) {
-     (_x1.addHandler("error", A), _x1.maybeInstrument("error", nv5));
-   }
-   function nv5() {
-     ((LaA = $x1.GLOBAL_OBJ.onerror),
-       ($x1.GLOBAL_OBJ.onerror = function (A, K, q, Y, z) {
-         let w = { column: Y, error: z, line: q, msg: A, url: K };
-         if ((_x1.triggerHandlers("error", w), LaA && !LaA.__SENTRY_LOADER__))
-           return LaA.apply(this, arguments);
-         return !1;
-       }),
-       ($x1.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__ = !0));
-   }
-   PZ8.addGlobalErrorInstrumentationHandler = iv5;
- });

--- Removed Dx1 (pretty-v2.1.26.js:63218-63241)
- var Dx1 = k((VZ8) => {
-   Object.defineProperty(VZ8, "__esModule", { value: !0 });
-   var Zx1 = tW(),
-     Wx1 = dg(),
-     RaA = null;
-   function ov5(A) {
-     (Wx1.addHandler("unhandledrejection", A),
-       Wx1.maybeInstrument("unhandledrejection", av5));
-   }
-   function av5() {
-     ((RaA = Zx1.GLOBAL_OBJ.onunhandledrejection),
-       (Zx1.GLOBAL_OBJ.onunhandledrejection = function (A) {
-         let K = A;
-         if (
-           (Wx1.triggerHandlers("unhandledrejection", K),
-           RaA && !RaA.__SENTRY_LOADER__)
-         )
-           return RaA.apply(this, arguments);
-         return !0;
-       }),
-       (Zx1.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__ = !0));
-   }
-   VZ8.addGlobalUnhandledRejectionInstrumentationHandler = ov5;
- });

--- Removed jx1 (pretty-v2.1.26.js:63242-63256)
- var jx1 = k((fZ8) => {
-   Object.defineProperty(fZ8, "__esModule", { value: !0 });
-   var tv5 = tW(),
-     yaA = tv5.getGlobalObject();
-   function ev5() {
-     let A = yaA.chrome,
-       K = A && A.app && A.app.runtime,
-       q =
-         "history" in yaA &&
-         !!yaA.history.pushState &&
-         !!yaA.history.replaceState;
-     return !K && q;
-   }
-   fZ8.supportsHistory = ev5;
- });

--- Removed Mx1 (pretty-v2.1.26.js:63257-63300)
- var Mx1 = k((TZ8) => {
-   Object.defineProperty(TZ8, "__esModule", { value: !0 });
-   var NZ8 = RE();
-   $b();
-   hR();
-   var KE5 = tW(),
-     qE5 = jx1(),
-     SaA = dg(),
-     uTA = KE5.GLOBAL_OBJ,
-     IaA;
-   function YE5(A) {
-     (SaA.addHandler("history", A), SaA.maybeInstrument("history", zE5));
-   }
-   function zE5() {
-     if (!qE5.supportsHistory()) return;
-     let A = uTA.onpopstate;
-     uTA.onpopstate = function (...q) {
-       let Y = uTA.location.href,
-         z = IaA;
-       IaA = Y;
-       let w = { from: z, to: Y };
-       if ((SaA.triggerHandlers("history", w), A))
-         try {
-           return A.apply(this, q);
-         } catch (H) {}
-     };
-     function K(q) {
-       return function (...Y) {
-         let z = Y.length > 2 ? Y[2] : void 0;
-         if (z) {
-           let w = IaA,
-             H = String(z);
-           IaA = H;
-           let J = { from: w, to: H };
-           SaA.triggerHandlers("history", J);
-         }
-         return q.apply(this, Y);
-       };
-     }
-     (NZ8.fill(uTA.history, "pushState", K),
-       NZ8.fill(uTA.history, "replaceState", K));
-   }
-   TZ8.addHistoryInstrumentationHandler = YE5;
- });

--- Removed Px1 (pretty-v2.1.26.js:63301-63390)
- var Px1 = k((EZ8) => {
-   Object.defineProperty(EZ8, "__esModule", { value: !0 });
-   var baA = LE(),
-     haA = RE(),
-     HE5 = tW(),
-     xaA = dg(),
-     JE5 = HE5.GLOBAL_OBJ,
-     BTA = "__sentry_xhr_v3__";
-   function OE5(A) {
-     (xaA.addHandler("xhr", A), xaA.maybeInstrument("xhr", vZ8));
-   }
-   function vZ8() {
-     if (!JE5.XMLHttpRequest) return;
-     let A = XMLHttpRequest.prototype;
-     (haA.fill(A, "open", function (K) {
-       return function (...q) {
-         let Y = Date.now(),
-           z = baA.isString(q[0]) ? q[0].toUpperCase() : void 0,
-           w = XE5(q[1]);
-         if (!z || !w) return K.apply(this, q);
-         if (
-           ((this[BTA] = { method: z, url: w, request_headers: {} }),
-           z === "POST" && w.match(/sentry_key/))
-         )
-           this.__sentry_own_request__ = !0;
-         let H = () => {
-           let J = this[BTA];
-           if (!J) return;
-           if (this.readyState === 4) {
-             try {
-               J.status_code = this.status;
-             } catch (X) {}
-             let O = {
-               args: [z, w],
-               endTimestamp: Date.now(),
-               startTimestamp: Y,
-               xhr: this,
-             };
-             xaA.triggerHandlers("xhr", O);
-           }
-         };
-         if (
-           "onreadystatechange" in this &&
-           typeof this.onreadystatechange === "function"
-         )
-           haA.fill(this, "onreadystatechange", function (J) {
-             return function (...O) {
-               return (H(), J.apply(this, O));
-             };
-           });
-         else this.addEventListener("readystatechange", H);
-         return (
-           haA.fill(this, "setRequestHeader", function (J) {
-             return function (...O) {
-               let [X, $] = O,
-                 _ = this[BTA];
-               if (_ && baA.isString(X) && baA.isString($))
-                 _.request_headers[X.toLowerCase()] = $;
-               return J.apply(this, O);
-             };
-           }),
-           K.apply(this, q)
-         );
-       };
-     }),
-       haA.fill(A, "send", function (K) {
-         return function (...q) {
-           let Y = this[BTA];
-           if (!Y) return K.apply(this, q);
-           if (q[0] !== void 0) Y.body = q[0];
-           let z = {
-             args: [Y.method, Y.url],
-             startTimestamp: Date.now(),
-             xhr: this,
-           };
-           return (xaA.triggerHandlers("xhr", z), K.apply(this, q));
-         };
-       }));
-   }
-   function XE5(A) {
-     if (baA.isString(A)) return A;
-     try {
-       return A.toString();
-     } catch (K) {}
-     return;
-   }
-   EZ8.SENTRY_XHR_DATA_KEY = BTA;
-   EZ8.addXhrInstrumentationHandler = OE5;
-   EZ8.instrumentXHR = vZ8;
- });

--- Removed hZ8 (pretty-v2.1.26.js:63391-63434)
- var hZ8 = k((SZ8) => {
-   Object.defineProperty(SZ8, "__esModule", { value: !0 });
-   var ZE5 = $b(),
-     WE5 = hR(),
-     kZ8 = eb1(),
-     CZ8 = zx1(),
-     LZ8 = Xx1(),
-     RZ8 = Gx1(),
-     yZ8 = Dx1(),
-     IZ8 = Mx1(),
-     Vx1 = Px1();
-   function DE5(A, K) {
-     switch (A) {
-       case "console":
-         return kZ8.addConsoleInstrumentationHandler(K);
-       case "dom":
-         return CZ8.addClickKeypressInstrumentationHandler(K);
-       case "xhr":
-         return Vx1.addXhrInstrumentationHandler(K);
-       case "fetch":
-         return LZ8.addFetchInstrumentationHandler(K);
-       case "history":
-         return IZ8.addHistoryInstrumentationHandler(K);
-       case "error":
-         return RZ8.addGlobalErrorInstrumentationHandler(K);
-       case "unhandledrejection":
-         return yZ8.addGlobalUnhandledRejectionInstrumentationHandler(K);
-       default:
-         ZE5.DEBUG_BUILD && WE5.logger.warn("unknown instrumentation type:", A);
-     }
-   }
-   SZ8.addConsoleInstrumentationHandler = kZ8.addConsoleInstrumentationHandler;
-   SZ8.addClickKeypressInstrumentationHandler =
-     CZ8.addClickKeypressInstrumentationHandler;
-   SZ8.addFetchInstrumentationHandler = LZ8.addFetchInstrumentationHandler;
-   SZ8.addGlobalErrorInstrumentationHandler =
-     RZ8.addGlobalErrorInstrumentationHandler;
-   SZ8.addGlobalUnhandledRejectionInstrumentationHandler =
-     yZ8.addGlobalUnhandledRejectionInstrumentationHandler;
-   SZ8.addHistoryInstrumentationHandler = IZ8.addHistoryInstrumentationHandler;
-   SZ8.SENTRY_XHR_DATA_KEY = Vx1.SENTRY_XHR_DATA_KEY;
-   SZ8.addXhrInstrumentationHandler = Vx1.addXhrInstrumentationHandler;
-   SZ8.addInstrumentationHandler = DE5;
- });

--- Removed fx1 (pretty-v2.1.26.js:63435-63447)
- var fx1 = k((bZ8) => {
-   Object.defineProperty(bZ8, "__esModule", { value: !0 });
-   function kE5() {
-     return (
-       typeof __SENTRY_BROWSER_BUNDLE__ < "u" && !!__SENTRY_BROWSER_BUNDLE__
-     );
-   }
-   function CE5() {
-     return "npm";
-   }
-   bZ8.getSDKSource = CE5;
-   bZ8.isBrowserBundle = kE5;
- });

--- Removed Nx1 (pretty-v2.1.26.js:63448-63475)
- var Nx1 = k((xZ8, BaA) => {
-   Object.defineProperty(xZ8, "__esModule", { value: !0 });
-   var yE5 = fx1();
-   function IE5() {
-     return (
-       !yE5.isBrowserBundle() &&
-       Object.prototype.toString.call(typeof process < "u" ? process : 0) ===
-         "[object process]"
-     );
-   }
-   function uaA(A, K) {
-     return A.require(K);
-   }
-   function SE5(A) {
-     let K;
-     try {
-       K = uaA(BaA, A);
-     } catch (q) {}
-     try {
-       let { cwd: q } = uaA(BaA, "process");
-       K = uaA(BaA, `${q()}/node_modules/${A}`);
-     } catch (q) {}
-     return K;
-   }
-   xZ8.dynamicRequire = uaA;
-   xZ8.isNodeEnv = IE5;
-   xZ8.loadModule = SE5;
- });

--- Removed mZ8 (pretty-v2.1.26.js:63476-63490)
- var mZ8 = k((BZ8) => {
-   Object.defineProperty(BZ8, "__esModule", { value: !0 });
-   var uE5 = Nx1(),
-     uZ8 = tW();
-   function BE5() {
-     return typeof window < "u" && (!uE5.isNodeEnv() || mE5());
-   }
-   function mE5() {
-     return (
-       uZ8.GLOBAL_OBJ.process !== void 0 &&
-       uZ8.GLOBAL_OBJ.process.type === "renderer"
-     );
-   }
-   BZ8.isBrowser = BE5;
- });

--- Removed Tx1 (pretty-v2.1.26.js:63491-63516)
- var Tx1 = k((gZ8) => {
-   Object.defineProperty(gZ8, "__esModule", { value: !0 });
-   function FE5() {
-     let A = typeof WeakSet === "function",
-       K = A ? new WeakSet() : [];
-     function q(z) {
-       if (A) {
-         if (K.has(z)) return !0;
-         return (K.add(z), !1);
-       }
-       for (let w = 0; w < K.length; w++) if (K[w] === z) return !0;
-       return (K.push(z), !1);
-     }
-     function Y(z) {
-       if (A) K.delete(z);
-       else
-         for (let w = 0; w < K.length; w++)
-           if (K[w] === z) {
-             K.splice(w, 1);
-             break;
-           }
-     }
-     return [q, Y];
-   }
-   gZ8.memoBuilder = FE5;
- });

--- Removed mTA (pretty-v2.1.26.js:63517-63617)
- var mTA = k((UZ8) => {
-   Object.defineProperty(UZ8, "__esModule", { value: !0 });
-   var vx1 = LE(),
-     UE5 = Tx1(),
-     pE5 = RE(),
-     dE5 = vaA();
-   function FZ8(A, K = 100, q = 1 / 0) {
-     try {
-       return maA("", A, K, q);
-     } catch (Y) {
-       return { ERROR: `**non-serializable** (${Y})` };
-     }
-   }
-   function QZ8(A, K = 3, q = 102400) {
-     let Y = FZ8(A, K);
-     if (nE5(Y) > q) return QZ8(A, K - 1, q);
-     return Y;
-   }
-   function maA(A, K, q = 1 / 0, Y = 1 / 0, z = UE5.memoBuilder()) {
-     let [w, H] = z;
-     if (
-       K == null ||
-       (["number", "boolean", "string"].includes(typeof K) && !vx1.isNaN(K))
-     )
-       return K;
-     let J = cE5(A, K);
-     if (!J.startsWith("[object ")) return J;
-     if (K.__sentry_skip_normalization__) return K;
-     let O =
-       typeof K.__sentry_override_normalization_depth__ === "number"
-         ? K.__sentry_override_normalization_depth__
-         : q;
-     if (O === 0) return J.replace("object ", "");
-     if (w(K)) return "[Circular ~]";
-     let X = K;
-     if (X && typeof X.toJSON === "function")
-       try {
-         let Z = X.toJSON();
-         return maA("", Z, O - 1, Y, z);
-       } catch (Z) {}
-     let $ = Array.isArray(K) ? [] : {},
-       _ = 0,
-       G = pE5.convertToPlainObject(K);
-     for (let Z in G) {
-       if (!Object.prototype.hasOwnProperty.call(G, Z)) continue;
-       if (_ >= Y) {
-         $[Z] = "[MaxProperties ~]";
-         break;
-       }
-       let W = G[Z];
-       (($[Z] = maA(Z, W, O - 1, Y, z)), _++);
-     }
-     return (H(K), $);
-   }
-   function cE5(A, K) {
-     try {
-       if (A === "domain" && K && typeof K === "object" && K._events)
-         return "[Domain]";
-       if (A === "domainEmitter") return "[DomainEmitter]";
-       if (typeof global < "u" && K === global) return "[Global]";
-       if (typeof window < "u" && K === window) return "[Window]";
-       if (typeof document < "u" && K === document) return "[Document]";
-       if (vx1.isVueViewModel(K)) return "[VueViewModel]";
-       if (vx1.isSyntheticEvent(K)) return "[SyntheticEvent]";
-       if (typeof K === "number" && K !== K) return "[NaN]";
-       if (typeof K === "function")
-         return `[Function: ${dE5.getFunctionName(K)}]`;
-       if (typeof K === "symbol") return `[${String(K)}]`;
-       if (typeof K === "bigint") return `[BigInt: ${String(K)}]`;
-       let q = lE5(K);
-       if (/^HTML(\w*)Element$/.test(q)) return `[HTMLElement: ${q}]`;
-       return `[object ${q}]`;
-     } catch (q) {
-       return `**non-serializable** (${q})`;
-     }
-   }
-   function lE5(A) {
-     let K = Object.getPrototypeOf(A);
-     return K ? K.constructor.name : "null prototype";
-   }
-   function iE5(A) {
-     return ~-encodeURI(A).split(/%..|./).length;
-   }
-   function nE5(A) {
-     return iE5(JSON.stringify(A));
-   }
-   function rE5(A, K) {
-     let q = K.replace(/\\/g, "/").replace(/[|\\{}()[\]^$+*?.]/g, "\\$&"),
-       Y = A;
-     try {
-       Y = decodeURI(A);
-     } catch (z) {}
-     return Y.replace(/\\/g, "/")
-       .replace(/webpack:\/?/g, "")
-       .replace(new RegExp(`(file://)?/*${q}/*`, "ig"), "app:///");
-   }
-   UZ8.normalize = FZ8;
-   UZ8.normalizeToSize = QZ8;
-   UZ8.normalizeUrlToBase = rE5;
-   UZ8.walk = maA;
- });

--- Removed rZ8 (pretty-v2.1.26.js:63618-63714)
- var rZ8 = k((nZ8) => {
-   Object.defineProperty(nZ8, "__esModule", { value: !0 });
-   function dZ8(A, K) {
-     let q = 0;
-     for (let Y = A.length - 1; Y >= 0; Y--) {
-       let z = A[Y];
-       if (z === ".") A.splice(Y, 1);
-       else if (z === "..") (A.splice(Y, 1), q++);
-       else if (q) (A.splice(Y, 1), q--);
-     }
-     if (K) for (; q--; q) A.unshift("..");
-     return A;
-   }
-   var eE5 =
-     /^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;
-   function cZ8(A) {
-     let K = A.length > 1024 ? `<truncated>${A.slice(-1024)}` : A,
-       q = eE5.exec(K);
-     return q ? q.slice(1) : [];
-   }
-   function Ex1(...A) {
-     let K = "",
-       q = !1;
-     for (let Y = A.length - 1; Y >= -1 && !q; Y--) {
-       let z = Y >= 0 ? A[Y] : "/";
-       if (!z) continue;
-       ((K = `${z}/${K}`), (q = z.charAt(0) === "/"));
-     }
-     return (
-       (K = dZ8(
-         K.split("/").filter((Y) => !!Y),
-         !q,
-       ).join("/")),
-       (q ? "/" : "") + K || "."
-     );
-   }
-   function pZ8(A) {
-     let K = 0;
-     for (; K < A.length; K++) if (A[K] !== "") break;
-     let q = A.length - 1;
-     for (; q >= 0; q--) if (A[q] !== "") break;
-     if (K > q) return [];
-     return A.slice(K, q - K + 1);
-   }
-   function Ak5(A, K) {
-     ((A = Ex1(A).slice(1)), (K = Ex1(K).slice(1)));
-     let q = pZ8(A.split("/")),
-       Y = pZ8(K.split("/")),
-       z = Math.min(q.length, Y.length),
-       w = z;
-     for (let J = 0; J < z; J++)
-       if (q[J] !== Y[J]) {
-         w = J;
-         break;
-       }
-     let H = [];
-     for (let J = w; J < q.length; J++) H.push("..");
-     return ((H = H.concat(Y.slice(w))), H.join("/"));
-   }
-   function lZ8(A) {
-     let K = iZ8(A),
-       q = A.slice(-1) === "/",
-       Y = dZ8(
-         A.split("/").filter((z) => !!z),
-         !K,
-       ).join("/");
-     if (!Y && !K) Y = ".";
-     if (Y && q) Y += "/";
-     return (K ? "/" : "") + Y;
-   }
-   function iZ8(A) {
-     return A.charAt(0) === "/";
-   }
-   function Kk5(...A) {
-     return lZ8(A.join("/"));
-   }
-   function qk5(A) {
-     let K = cZ8(A),
-       q = K[0],
-       Y = K[1];
-     if (!q && !Y) return ".";
-     if (Y) Y = Y.slice(0, Y.length - 1);
-     return q + Y;
-   }
-   function Yk5(A, K) {
-     let q = cZ8(A)[2];
-     if (K && q.slice(K.length * -1) === K) q = q.slice(0, q.length - K.length);
-     return q;
-   }
-   nZ8.basename = Yk5;
-   nZ8.dirname = qk5;
-   nZ8.isAbsolute = iZ8;
-   nZ8.join = Kk5;
-   nZ8.normalizePath = lZ8;
-   nZ8.relative = Ak5;
-   nZ8.resolve = Ex1;
- });

--- Removed kx1 (pretty-v2.1.26.js:63715-63835)
- var kx1 = k((oZ8) => {
-   Object.defineProperty(oZ8, "__esModule", { value: !0 });
-   var _k5 = LE(),
-     cg;
-   (function (A) {
-     A[(A.PENDING = 0)] = "PENDING";
-     let q = 1;
-     A[(A.RESOLVED = q)] = "RESOLVED";
-     let Y = 2;
-     A[(A.REJECTED = Y)] = "REJECTED";
-   })(cg || (cg = {}));
-   function Gk5(A) {
-     return new _b((K) => {
-       K(A);
-     });
-   }
-   function Zk5(A) {
-     return new _b((K, q) => {
-       q(A);
-     });
-   }
-   class _b {
-     constructor(A) {
-       (_b.prototype.__init.call(this),
-         _b.prototype.__init2.call(this),
-         _b.prototype.__init3.call(this),
-         _b.prototype.__init4.call(this),
-         (this._state = cg.PENDING),
-         (this._handlers = []));
-       try {
-         A(this._resolve, this._reject);
-       } catch (K) {
-         this._reject(K);
-       }
-     }
-     then(A, K) {
-       return new _b((q, Y) => {
-         (this._handlers.push([
-           !1,
-           (z) => {
-             if (!A) q(z);
-             else
-               try {
-                 q(A(z));
-               } catch (w) {
-                 Y(w);
-               }
-           },
-           (z) => {
-             if (!K) Y(z);
-             else
-               try {
-                 q(K(z));
-               } catch (w) {
-                 Y(w);
-               }
-           },
-         ]),
-           this._executeHandlers());
-       });
-     }
-     catch(A) {
-       return this.then((K) => K, A);
-     }
-     finally(A) {
-       return new _b((K, q) => {
-         let Y, z;
-         return this.then(
-           (w) => {
-             if (((z = !1), (Y = w), A)) A();
-           },
-           (w) => {
-             if (((z = !0), (Y = w), A)) A();
-           },
-         ).then(() => {
-           if (z) {
-             q(Y);
-             return;
-           }
-           K(Y);
-         });
-       });
-     }
-     __init() {
-       this._resolve = (A) => {
-         this._setResult(cg.RESOLVED, A);
-       };
-     }
-     __init2() {
-       this._reject = (A) => {
-         this._setResult(cg.REJECTED, A);
-       };
-     }
-     __init3() {
-       this._setResult = (A, K) => {
-         if (this._state !== cg.PENDING) return;
-         if (_k5.isThenable(K)) {
-           K.then(this._resolve, this._reject);
-           return;
-         }
-         ((this._state = A), (this._value = K), this._executeHandlers());
-       };
-     }
-     __init4() {
-       this._executeHandlers = () => {
-         if (this._state === cg.PENDING) return;
-         let A = this._handlers.slice();
-         ((this._handlers = []),
-           A.forEach((K) => {
-             if (K[0]) return;
-             if (this._state === cg.RESOLVED) K[1](this._value);
-             if (this._state === cg.REJECTED) K[2](this._value);
-             K[0] = !0;
-           }));
-       };
-     }
-   }
-   oZ8.SyncPromise = _b;
-   oZ8.rejectedSyncPromise = Zk5;
-   oZ8.resolvedSyncPromise = Gk5;
- });

--- Removed sZ8 (pretty-v2.1.26.js:63836-63879)
- var sZ8 = k((aZ8) => {
-   Object.defineProperty(aZ8, "__esModule", { value: !0 });
-   var Mk5 = rb1(),
-     Cx1 = kx1();
-   function Pk5(A) {
-     let K = [];
-     function q() {
-       return A === void 0 || K.length < A;
-     }
-     function Y(H) {
-       return K.splice(K.indexOf(H), 1)[0];
-     }
-     function z(H) {
-       if (!q())
-         return Cx1.rejectedSyncPromise(
-           new Mk5.SentryError(
-             "Not adding Promise because buffer limit was reached.",
-           ),
-         );
-       let J = H();
-       if (K.indexOf(J) === -1) K.push(J);
-       return (
-         J.then(() => Y(J)).then(null, () => Y(J).then(null, () => {})),
-         J
-       );
-     }
-     function w(H) {
-       return new Cx1.SyncPromise((J, O) => {
-         let X = K.length;
-         if (!X) return J(!0);
-         let $ = setTimeout(() => {
-           if (H && H > 0) J(!1);
-         }, H);
-         K.forEach((_) => {
-           Cx1.resolvedSyncPromise(_).then(() => {
-             if (!--X) (clearTimeout($), J(!0));
-           }, O);
-         });
-       });
-     }
-     return { $: K, add: z, drain: w };
-   }
-   aZ8.makePromiseBuffer = Pk5;
- });

--- Removed eZ8 (pretty-v2.1.26.js:63880-63909)
- var eZ8 = k((tZ8) => {
-   Object.defineProperty(tZ8, "__esModule", { value: !0 });
-   function fk5(A) {
-     let K = {},
-       q = 0;
-     while (q < A.length) {
-       let Y = A.indexOf("=", q);
-       if (Y === -1) break;
-       let z = A.indexOf(";", q);
-       if (z === -1) z = A.length;
-       else if (z < Y) {
-         q = A.lastIndexOf(";", Y - 1) + 1;
-         continue;
-       }
-       let w = A.slice(q, Y).trim();
-       if (K[w] === void 0) {
-         let H = A.slice(Y + 1, z).trim();
-         if (H.charCodeAt(0) === 34) H = H.slice(1, -1);
-         try {
-           K[w] = H.indexOf("%") !== -1 ? decodeURIComponent(H) : H;
-         } catch (J) {
-           K[w] = H;
-         }
-       }
-       q = z + 1;
-     }
-     return K;
-   }
-   tZ8.parseCookie = fk5;
- });

--- Removed Lx1 (pretty-v2.1.26.js:63910-63950)
- var Lx1 = k((AW8) => {
-   Object.defineProperty(AW8, "__esModule", { value: !0 });
-   function Tk5(A) {
-     if (!A) return {};
-     let K = A.match(
-       /^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
-     );
-     if (!K) return {};
-     let q = K[6] || "",
-       Y = K[8] || "";
-     return {
-       host: K[4],
-       path: K[5],
-       protocol: K[2],
-       search: q,
-       hash: Y,
-       relative: K[5] + q + Y,
-     };
-   }
-   function vk5(A) {
-     return A.split(/[\?#]/, 1)[0];
-   }
-   function Ek5(A) {
-     return A.split(/\\?\//).filter((K) => K.length > 0 && K !== ",").length;
-   }
-   function kk5(A) {
-     let { protocol: K, host: q, path: Y } = A,
-       z =
-         (q &&
-           q
-             .replace(/^.*@/, "[filtered]:[filtered]@")
-             .replace(/(:80)$/, "")
-             .replace(/(:443)$/, "")) ||
-         "";
-     return `${K ? `${K}://` : ""}${z}${Y}`;
-   }
-   AW8.getNumberOfUrlSegments = Ek5;
-   AW8.getSanitizedUrlString = kk5;
-   AW8.parseUrl = Tk5;
-   AW8.stripUrlQueryAndFragment = vk5;
- });

--- Removed HW8 (pretty-v2.1.26.js:63951-64126)
- var HW8 = k((wW8) => {
-   Object.defineProperty(wW8, "__esModule", { value: !0 });
-   var Ik5 = eZ8(),
-     Sk5 = $b(),
-     KW8 = LE(),
-     hk5 = hR(),
-     bk5 = mTA(),
-     xk5 = Lx1(),
-     uk5 = { ip: !1, request: !0, transaction: !0, user: !0 },
-     Bk5 = ["cookies", "data", "headers", "method", "query_string", "url"],
-     qW8 = ["id", "username", "email"];
-   function mk5(A, K, q) {
-     if (!A) return;
-     if (!A.metadata.source || A.metadata.source === "url") {
-       let [Y, z] = gaA(K, { path: !0, method: !0 });
-       (A.updateName(Y), A.setMetadata({ source: z }));
-     }
-     if ((A.setAttribute("url", K.originalUrl || K.url), K.baseUrl))
-       A.setAttribute("baseUrl", K.baseUrl);
-     A.setData("query", YW8(K, q));
-   }
-   function gaA(A, K = {}) {
-     let q = A.method && A.method.toUpperCase(),
-       Y = "",
-       z = "url";
-     if (K.customRoute || A.route)
-       ((Y = K.customRoute || `${A.baseUrl || ""}${A.route && A.route.path}`),
-         (z = "route"));
-     else if (A.originalUrl || A.url)
-       Y = xk5.stripUrlQueryAndFragment(A.originalUrl || A.url || "");
-     let w = "";
-     if (K.method && q) w += q;
-     if (K.method && K.path) w += " ";
-     if (K.path && Y) w += Y;
-     return [w, z];
-   }
-   function gk5(A, K) {
-     switch (K) {
-       case "path":
-         return gaA(A, { path: !0 })[0];
-       case "handler":
-         return (
-           (A.route &&
-             A.route.stack &&
-             A.route.stack[0] &&
-             A.route.stack[0].name) ||
-           "<anonymous>"
-         );
-       case "methodPath":
-       default: {
-         let q = A._reconstructedRoute ? A._reconstructedRoute : void 0;
-         return gaA(A, { path: !0, method: !0, customRoute: q })[0];
-       }
-     }
-   }
-   function Fk5(A, K) {
-     let q = {};
-     return (
-       (Array.isArray(K) ? K : qW8).forEach((z) => {
-         if (A && z in A) q[z] = A[z];
-       }),
-       q
-     );
-   }
-   function Rx1(A, K) {
-     let { include: q = Bk5, deps: Y } = K || {},
-       z = {},
-       w = A.headers || {},
-       H = A.method,
-       J = w.host || A.hostname || A.host || "<no host>",
-       O =
-         A.protocol === "https" || (A.socket && A.socket.encrypted)
-           ? "https"
-           : "http",
-       X = A.originalUrl || A.url || "",
-       $ = X.startsWith(O) ? X : `${O}://${J}${X}`;
-     return (
-       q.forEach((_) => {
-         switch (_) {
-           case "headers": {
-             if (((z.headers = w), !q.includes("cookies")))
-               delete z.headers.cookie;
-             break;
-           }
-           case "method": {
-             z.method = H;
-             break;
-           }
-           case "url": {
-             z.url = $;
-             break;
-           }
-           case "cookies": {
-             z.cookies =
-               A.cookies || (w.cookie && Ik5.parseCookie(w.cookie)) || {};
-             break;
-           }
-           case "query_string": {
-             z.query_string = YW8(A, Y);
-             break;
-           }
-           case "data": {
-             if (H === "GET" || H === "HEAD") break;
-             if (A.body !== void 0)
-               z.data = KW8.isString(A.body)
-                 ? A.body
-                 : JSON.stringify(bk5.normalize(A.body));
-             break;
-           }
-           default:
-             if ({}.hasOwnProperty.call(A, _)) z[_] = A[_];
-         }
-       }),
-       z
-     );
-   }
-   function Qk5(A, K, q) {
-     let Y = { ...uk5, ...(q && q.include) };
-     if (Y.request) {
-       let z = Array.isArray(Y.request)
-         ? Rx1(K, { include: Y.request, deps: q && q.deps })
-         : Rx1(K, { deps: q && q.deps });
-       A.request = { ...A.request, ...z };
-     }
-     if (Y.user) {
-       let z = K.user && KW8.isPlainObject(K.user) ? Fk5(K.user, Y.user) : {};
-       if (Object.keys(z).length) A.user = { ...A.user, ...z };
-     }
-     if (Y.ip) {
-       let z = K.ip || (K.socket && K.socket.remoteAddress);
-       if (z) A.user = { ...A.user, ip_address: z };
-     }
-     if (Y.transaction && !A.transaction) A.transaction = gk5(K, Y.transaction);
-     return A;
-   }
-   function YW8(A, K) {
-     let q = A.originalUrl || A.url || "";
-     if (!q) return;
-     if (q.startsWith("/")) q = `http://dogs.are.great${q}`;
-     try {
-       return (
-         A.query ||
-         (typeof URL < "u" && new URL(q).search.slice(1)) ||
-         (K && K.url && K.url.parse(q).query) ||
-         void 0
-       );
-     } catch (Y) {
-       return;
-     }
-   }
-   function zW8(A) {
-     let K = {};
-     try {
-       A.forEach((q, Y) => {
-         if (typeof q === "string") K[Y] = q;
-       });
-     } catch (q) {
-       Sk5.DEBUG_BUILD &&
-         hk5.logger.warn(
-           "Sentry failed extracting headers from a request object. If you see this, please file an issue.",
-         );
-     }
-     return K;
-   }
-   function Uk5(A) {
-     let K = zW8(A.headers);
-     return { method: A.method, url: A.url, headers: K };
-   }
-   wW8.DEFAULT_USER_INCLUDES = qW8;
-   wW8.addRequestDataToEvent = Qk5;
-   wW8.addRequestDataToTransaction = mk5;
-   wW8.extractPathForTransaction = gaA;
-   wW8.extractRequestData = Rx1;
-   wW8.winterCGHeadersToDict = zW8;
-   wW8.winterCGRequestToRequestData = Uk5;
- });

--- Removed $W8 (pretty-v2.1.26.js:64127-64139)
- var $W8 = k((XW8) => {
-   Object.defineProperty(XW8, "__esModule", { value: !0 });
-   var JW8 = ["fatal", "error", "warning", "log", "info", "debug"];
-   function ok5(A) {
-     return OW8(A);
-   }
-   function OW8(A) {
-     return A === "warn" ? "warning" : JW8.includes(A) ? A : "log";
-   }
-   XW8.severityFromString = ok5;
-   XW8.severityLevelFromString = OW8;
-   XW8.validSeverityLevels = JW8;
- });

--- Removed yx1 (pretty-v2.1.26.js:64140-64187)
- var yx1 = k((DW8) => {
-   Object.defineProperty(DW8, "__esModule", { value: !0 });
-   var _W8 = tW(),
-     GW8 = 1000;
-   function ZW8() {
-     return Date.now() / GW8;
-   }
-   function ek5() {
-     let { performance: A } = _W8.GLOBAL_OBJ;
-     if (!A || !A.now) return ZW8;
-     let K = Date.now() - A.now(),
-       q = A.timeOrigin == null ? K : A.timeOrigin;
-     return () => {
-       return (q + A.now()) / GW8;
-     };
-   }
-   var WW8 = ek5(),
-     AC5 = WW8;
-   DW8._browserPerformanceTimeOriginMode = void 0;
-   var KC5 = (() => {
-     let { performance: A } = _W8.GLOBAL_OBJ;
-     if (!A || !A.now) {
-       DW8._browserPerformanceTimeOriginMode = "none";
-       return;
-     }
-     let K = 3600000,
-       q = A.now(),
-       Y = Date.now(),
-       z = A.timeOrigin ? Math.abs(A.timeOrigin + q - Y) : K,
-       w = z < K,
-       H = A.timing && A.timing.navigationStart,
-       O = typeof H === "number" ? Math.abs(H + q - Y) : K,
-       X = O < K;
-     if (w || X)
-       if (z <= O)
-         return (
-           (DW8._browserPerformanceTimeOriginMode = "timeOrigin"),
-           A.timeOrigin
-         );
-       else
-         return ((DW8._browserPerformanceTimeOriginMode = "navigationStart"), H);
-     return ((DW8._browserPerformanceTimeOriginMode = "dateNow"), Y);
-   })();
-   DW8.browserPerformanceTimeOrigin = KC5;
-   DW8.dateTimestampInSeconds = ZW8;
-   DW8.timestampInSeconds = WW8;
-   DW8.timestampWithMs = AC5;
- });

--- Removed Sx1 (pretty-v2.1.26.js:64188-64257)
- var Sx1 = k((VW8) => {
-   Object.defineProperty(VW8, "__esModule", { value: !0 });
-   var HC5 = $b(),
-     JC5 = LE(),
-     OC5 = hR(),
-     XC5 = "baggage",
-     Ix1 = "sentry-",
-     MW8 = /^sentry-/,
-     PW8 = 8192;
-   function $C5(A) {
-     if (!JC5.isString(A) && !Array.isArray(A)) return;
-     let K = {};
-     if (Array.isArray(A))
-       K = A.reduce((Y, z) => {
-         let w = jW8(z);
-         for (let H of Object.keys(w)) Y[H] = w[H];
-         return Y;
-       }, {});
-     else {
-       if (!A) return;
-       K = jW8(A);
-     }
-     let q = Object.entries(K).reduce((Y, [z, w]) => {
-       if (z.match(MW8)) {
-         let H = z.slice(Ix1.length);
-         Y[H] = w;
-       }
-       return Y;
-     }, {});
-     if (Object.keys(q).length > 0) return q;
-     else return;
-   }
-   function _C5(A) {
-     if (!A) return;
-     let K = Object.entries(A).reduce((q, [Y, z]) => {
-       if (z) q[`${Ix1}${Y}`] = z;
-       return q;
-     }, {});
-     return GC5(K);
-   }
-   function jW8(A) {
-     return A.split(",")
-       .map((K) => K.split("=").map((q) => decodeURIComponent(q.trim())))
-       .reduce((K, [q, Y]) => {
-         return ((K[q] = Y), K);
-       }, {});
-   }
-   function GC5(A) {
-     if (Object.keys(A).length === 0) return;
-     return Object.entries(A).reduce((K, [q, Y], z) => {
-       let w = `${encodeURIComponent(q)}=${encodeURIComponent(Y)}`,
-         H = z === 0 ? w : `${K},${w}`;
-       if (H.length > PW8)
-         return (
-           HC5.DEBUG_BUILD &&
-             OC5.logger.warn(
-               `Not adding key: ${q} with val: ${Y} to baggage header due to exceeding baggage size limits.`,
-             ),
-           K
-         );
-       else return H;
-     }, "");
-   }
-   VW8.BAGGAGE_HEADER_NAME = XC5;
-   VW8.MAX_BAGGAGE_STRING_LENGTH = PW8;
-   VW8.SENTRY_BAGGAGE_KEY_PREFIX = Ix1;
-   VW8.SENTRY_BAGGAGE_KEY_PREFIX_REGEX = MW8;
-   VW8.baggageHeaderToDynamicSamplingContext = $C5;
-   VW8.dynamicSamplingContextToSentryBaggageHeader = _C5;
- });

--- Removed vW8 (pretty-v2.1.26.js:64258-64325)
- var vW8 = k((TW8) => {
-   Object.defineProperty(TW8, "__esModule", { value: !0 });
-   var fW8 = Sx1(),
-     yE = bTA(),
-     NW8 = new RegExp(
-       "^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$",
-     );
-   function hx1(A) {
-     if (!A) return;
-     let K = A.match(NW8);
-     if (!K) return;
-     let q;
-     if (K[3] === "1") q = !0;
-     else if (K[3] === "0") q = !1;
-     return { traceId: K[1], parentSampled: q, parentSpanId: K[2] };
-   }
-   function VC5(A, K) {
-     let q = hx1(A),
-       Y = fW8.baggageHeaderToDynamicSamplingContext(K),
-       { traceId: z, parentSpanId: w, parentSampled: H } = q || {};
-     if (!q)
-       return {
-         traceparentData: q,
-         dynamicSamplingContext: void 0,
-         propagationContext: {
-           traceId: z || yE.uuid4(),
-           spanId: yE.uuid4().substring(16),
-         },
-       };
-     else
-       return {
-         traceparentData: q,
-         dynamicSamplingContext: Y || {},
-         propagationContext: {
-           traceId: z || yE.uuid4(),
-           parentSpanId: w || yE.uuid4().substring(16),
-           spanId: yE.uuid4().substring(16),
-           sampled: H,
-           dsc: Y || {},
-         },
-       };
-   }
-   function fC5(A, K) {
-     let q = hx1(A),
-       Y = fW8.baggageHeaderToDynamicSamplingContext(K),
-       { traceId: z, parentSpanId: w, parentSampled: H } = q || {};
-     if (!q)
-       return { traceId: z || yE.uuid4(), spanId: yE.uuid4().substring(16) };
-     else
-       return {
-         traceId: z || yE.uuid4(),
-         parentSpanId: w || yE.uuid4().substring(16),
-         spanId: yE.uuid4().substring(16),
-         sampled: H,
-         dsc: Y || {},
-       };
-   }
-   function NC5(A = yE.uuid4(), K = yE.uuid4().substring(16), q) {
-     let Y = "";
-     if (q !== void 0) Y = q ? "-1" : "-0";
-     return `${A}-${K}${Y}`;
-   }
-   TW8.TRACEPARENT_REGEXP = NW8;
-   TW8.extractTraceparentData = hx1;
-   TW8.generateSentryTraceHeader = NC5;
-   TW8.propagationContextFromHeaders = fC5;
-   TW8.tracingContextFromHeaders = VC5;
- });

--- Removed xx1 (pretty-v2.1.26.js:64326-64466)
- var xx1 = k((CW8) => {
-   Object.defineProperty(CW8, "__esModule", { value: !0 });
-   var LC5 = nb1(),
-     RC5 = mTA(),
-     EW8 = RE();
-   function yC5(A, K = []) {
-     return [A, K];
-   }
-   function IC5(A, K) {
-     let [q, Y] = A;
-     return [q, [...Y, K]];
-   }
-   function kW8(A, K) {
-     let q = A[1];
-     for (let Y of q) {
-       let z = Y[0].type;
-       if (K(Y, z)) return !0;
-     }
-     return !1;
-   }
-   function SC5(A, K) {
-     return kW8(A, (q, Y) => K.includes(Y));
-   }
-   function bx1(A, K) {
-     return (K || new TextEncoder()).encode(A);
-   }
-   function hC5(A, K) {
-     let [q, Y] = A,
-       z = JSON.stringify(q);
-     function w(H) {
-       if (typeof z === "string")
-         z = typeof H === "string" ? z + H : [bx1(z, K), H];
-       else z.push(typeof H === "string" ? bx1(H, K) : H);
-     }
-     for (let H of Y) {
-       let [J, O] = H;
-       if (
-         (w(`
- ${JSON.stringify(J)}
- `),
-         typeof O === "string" || O instanceof Uint8Array)
-       )
-         w(O);
-       else {
-         let X;
-         try {
-           X = JSON.stringify(O);
-         } catch ($) {
-           X = JSON.stringify(RC5.normalize(O));
-         }
-         w(X);
-       }
-     }
-     return typeof z === "string" ? z : bC5(z);
-   }
-   function bC5(A) {
-     let K = A.reduce((z, w) => z + w.length, 0),
-       q = new Uint8Array(K),
-       Y = 0;
-     for (let z of A) (q.set(z, Y), (Y += z.length));
-     return q;
-   }
-   function xC5(A, K, q) {
-     let Y = typeof A === "string" ? K.encode(A) : A;
-     function z(O) {
-       let X = Y.subarray(0, O);
-       return ((Y = Y.subarray(O + 1)), X);
-     }
-     function w() {
-       let O = Y.indexOf(10);
-       if (O < 0) O = Y.length;
-       return JSON.parse(q.decode(z(O)));
-     }
-     let H = w(),
-       J = [];
-     while (Y.length) {
-       let O = w(),
-         X = typeof O.length === "number" ? O.length : void 0;
-       J.push([O, X ? z(X) : w()]);
-     }
-     return [H, J];
-   }
-   function uC5(A, K) {
-     let q = typeof A.data === "string" ? bx1(A.data, K) : A.data;
-     return [
-       EW8.dropUndefinedKeys({
-         type: "attachment",
-         length: q.length,
-         filename: A.filename,
-         content_type: A.contentType,
-         attachment_type: A.attachmentType,
-       }),
-       q,
-     ];
-   }
-   var BC5 = {
-     session: "session",
-     sessions: "session",
-     attachment: "attachment",
-     transaction: "transaction",
-     event: "error",
-     client_report: "internal",
-     user_report: "default",
-     profile: "profile",
-     replay_event: "replay",
-     replay_recording: "replay",
-     check_in: "monitor",
-     feedback: "feedback",
-     span: "span",
-     statsd: "metric_bucket",
-   };
-   function mC5(A) {
-     return BC5[A];
-   }
-   function gC5(A) {
-     if (!A || !A.sdk) return;
-     let { name: K, version: q } = A.sdk;
-     return { name: K, version: q };
-   }
-   function FC5(A, K, q, Y) {
-     let z =
-       A.sdkProcessingMetadata && A.sdkProcessingMetadata.dynamicSamplingContext;
-     return {
-       event_id: A.event_id,
-       sent_at: new Date().toISOString(),
-       ...(K && { sdk: K }),
-       ...(!!q && Y && { dsn: LC5.dsnToString(Y) }),
-       ...(z && { trace: EW8.dropUndefinedKeys({ ...z }) }),
-     };
-   }
-   CW8.addItemToEnvelope = IC5;
-   CW8.createAttachmentEnvelopeItem = uC5;
-   CW8.createEnvelope = yC5;
-   CW8.createEventEnvelopeHeaders = FC5;
-   CW8.envelopeContainsItemType = SC5;
-   CW8.envelopeItemTypeToDataCategory = mC5;
-   CW8.forEachEnvelopeItem = kW8;
-   CW8.getSdkMetadataForEnvelopeHeader = gC5;
-   CW8.parseEnvelope = xC5;
-   CW8.serializeEnvelope = hC5;
- });

--- Removed RW8 (pretty-v2.1.26.js:64467-64479)
- var RW8 = k((LW8) => {
-   Object.defineProperty(LW8, "__esModule", { value: !0 });
-   var aC5 = xx1(),
-     sC5 = yx1();
-   function tC5(A, K, q) {
-     let Y = [
-       { type: "client_report" },
-       { timestamp: q || sC5.dateTimestampInSeconds(), discarded_events: A },
-     ];
-     return aC5.createEnvelope(K ? { dsn: K } : {}, [Y]);
-   }
-   LW8.createClientReportEnvelope = tC5;
- });

--- Removed bW8 (pretty-v2.1.26.js:64480-64521)
- var bW8 = k((hW8) => {
-   Object.defineProperty(hW8, "__esModule", { value: !0 });
-   var yW8 = 60000;
-   function IW8(A, K = Date.now()) {
-     let q = parseInt(`${A}`, 10);
-     if (!isNaN(q)) return q * 1000;
-     let Y = Date.parse(`${A}`);
-     if (!isNaN(Y)) return Y - K;
-     return yW8;
-   }
-   function SW8(A, K) {
-     return A[K] || A.all || 0;
-   }
-   function AL5(A, K, q = Date.now()) {
-     return SW8(A, K) > q;
-   }
-   function KL5(A, { statusCode: K, headers: q }, Y = Date.now()) {
-     let z = { ...A },
-       w = q && q["x-sentry-rate-limits"],
-       H = q && q["retry-after"];
-     if (w)
-       for (let J of w.trim().split(",")) {
-         let [O, X, , , $] = J.split(":", 5),
-           _ = parseInt(O, 10),
-           G = (!isNaN(_) ? _ : 60) * 1000;
-         if (!X) z.all = Y + G;
-         else
-           for (let Z of X.split(";"))
-             if (Z === "metric_bucket") {
-               if (!$ || $.split(";").includes("custom")) z[Z] = Y + G;
-             } else z[Z] = Y + G;
-       }
-     else if (H) z.all = Y + IW8(H, Y);
-     else if (K === 429) z.all = Y + 60000;
-     return z;
-   }
-   hW8.DEFAULT_RETRY_AFTER = yW8;
-   hW8.disabledUntil = SW8;
-   hW8.isRateLimited = AL5;
-   hW8.parseRetryAfterHeader = IW8;
-   hW8.updateRateLimits = KL5;
- });

--- Removed mW8 (pretty-v2.1.26.js:64522-64553)
- var mW8 = k((BW8) => {
-   Object.defineProperty(BW8, "__esModule", { value: !0 });
-   function xW8(A, K, q) {
-     let Y = K.match(/([a-z_]+)\.(.*)/i);
-     if (Y === null) A[K] = q;
-     else {
-       let z = A[Y[1]];
-       xW8(z, Y[2], q);
-     }
-   }
-   function JL5(A, K, q = {}) {
-     return Array.isArray(K) ? uW8(A, K, q) : OL5(A, K, q);
-   }
-   function uW8(A, K, q) {
-     let Y = K.find((z) => z.name === A.name);
-     if (Y) {
-       for (let [z, w] of Object.entries(q)) xW8(Y, z, w);
-       return K;
-     }
-     return [...K, A];
-   }
-   function OL5(A, K, q) {
-     return (z) => {
-       let w = K(z);
-       if (A.allowExclusionByUser) {
-         if (!w.find((J) => J.name === A.name)) return w;
-       }
-       return uW8(A, w, q);
-     };
-   }
-   BW8.addOrUpdateIntegration = JL5;
- });

--- Removed FW8 (pretty-v2.1.26.js:64554-64590)
- var FW8 = k((gW8) => {
-   Object.defineProperty(gW8, "__esModule", { value: !0 });
-   function $L5(A) {
-     let K = [],
-       q = {};
-     return {
-       add(Y, z) {
-         while (K.length >= A) {
-           let w = K.shift();
-           if (w !== void 0) delete q[w];
-         }
-         if (q[Y]) this.delete(Y);
-         (K.push(Y), (q[Y] = z));
-       },
-       clear() {
-         ((q = {}), (K = []));
-       },
-       get(Y) {
-         return q[Y];
-       },
-       size() {
-         return K.length;
-       },
-       delete(Y) {
-         if (!q[Y]) return !1;
-         delete q[Y];
-         for (let z = 0; z < K.length; z++)
-           if (K[z] === Y) {
-             K.splice(z, 1);
-             break;
-           }
-         return !0;
-       },
-     };
-   }
-   gW8.makeFifoCache = $L5;
- });

--- Removed dW8 (pretty-v2.1.26.js:64591-64656)
- var dW8 = k((pW8) => {
-   Object.defineProperty(pW8, "__esModule", { value: !0 });
-   var ux1 = LE(),
-     QW8 = bTA(),
-     GL5 = mTA(),
-     ZL5 = RE();
-   function Bx1(A, K) {
-     return A(K.stack || "", 1);
-   }
-   function UW8(A, K) {
-     let q = { type: K.name || K.constructor.name, value: K.message },
-       Y = Bx1(A, K);
-     if (Y.length) q.stacktrace = { frames: Y };
-     return q;
-   }
-   function WL5(A) {
-     if ("name" in A && typeof A.name === "string") {
-       let K = `'${A.name}' captured as exception`;
-       if ("message" in A && typeof A.message === "string")
-         K += ` with message '${A.message}'`;
-       return K;
-     } else if ("message" in A && typeof A.message === "string")
-       return A.message;
-     else
-       return `Object captured as exception with keys: ${ZL5.extractExceptionKeysForMessage(A)}`;
-   }
-   function DL5(A, K, q, Y) {
-     let z = typeof A === "function" ? A().getClient() : A,
-       w = q,
-       J = (Y && Y.data && Y.data.mechanism) || { handled: !0, type: "generic" },
-       O;
-     if (!ux1.isError(q)) {
-       if (ux1.isPlainObject(q)) {
-         let $ = z && z.getOptions().normalizeDepth;
-         O = { ["__serialized__"]: GL5.normalizeToSize(q, $) };
-         let _ = WL5(q);
-         ((w = (Y && Y.syntheticException) || Error(_)), (w.message = _));
-       } else ((w = (Y && Y.syntheticException) || Error(q)), (w.message = q));
-       J.synthetic = !0;
-     }
-     let X = { exception: { values: [UW8(K, w)] } };
-     if (O) X.extra = O;
-     return (
-       QW8.addExceptionTypeValue(X, void 0, void 0),
-       QW8.addExceptionMechanism(X, J),
-       { ...X, event_id: Y && Y.event_id }
-     );
-   }
-   function jL5(A, K, q = "info", Y, z) {
-     let w = { event_id: Y && Y.event_id, level: q };
-     if (z && Y && Y.syntheticException) {
-       let H = Bx1(A, Y.syntheticException);
-       if (H.length)
-         w.exception = { values: [{ value: K, stacktrace: { frames: H } }] };
-     }
-     if (ux1.isParameterizedString(K)) {
-       let { __sentry_template_string__: H, __sentry_template_values__: J } = K;
-       return ((w.logentry = { message: H, params: J }), w);
-     }
-     return ((w.message = K), w);
-   }
-   pW8.eventFromMessage = jL5;
-   pW8.eventFromUnknownInput = DL5;
-   pW8.exceptionFromError = UW8;
-   pW8.parseStackFrames = Bx1;
- });

--- Removed lW8 (pretty-v2.1.26.js:64657-64698)
- var lW8 = k((cW8) => {
-   Object.defineProperty(cW8, "__esModule", { value: !0 });
-   var NL5 = RE(),
-     TL5 = TaA();
-   function vL5(A, K, q, Y) {
-     let z = A(),
-       w = !1,
-       H = !0;
-     return (
-       setInterval(() => {
-         let J = z.getTimeMs();
-         if (w === !1 && J > K + q) {
-           if (((w = !0), H)) Y();
-         }
-         if (J < K + q) w = !1;
-       }, 20),
-       {
-         poll: () => {
-           z.reset();
-         },
-         enabled: (J) => {
-           H = J;
-         },
-       }
-     );
-   }
-   function EL5(A, K, q) {
-     let Y = K ? K.replace(/^file:\/\//, "") : void 0,
-       z = A.location.columnNumber ? A.location.columnNumber + 1 : void 0,
-       w = A.location.lineNumber ? A.location.lineNumber + 1 : void 0;
-     return NL5.dropUndefinedKeys({
-       filename: Y,
-       module: q(Y),
-       function: A.functionName || "?",
-       colno: z,
-       lineno: w,
-       in_app: Y ? TL5.filenameIsInApp(Y) : void 0,
-     });
-   }
-   cW8.callFrameToStackFrame = EL5;
-   cW8.watchdogTimer = vL5;
- });

--- Removed rW8 (pretty-v2.1.26.js:64699-64735)
- var rW8 = k((nW8) => {
-   Object.defineProperty(nW8, "__esModule", { value: !0 });
-   class iW8 {
-     constructor(A) {
-       ((this._maxSize = A), (this._cache = new Map()));
-     }
-     get size() {
-       return this._cache.size;
-     }
-     get(A) {
-       let K = this._cache.get(A);
-       if (K === void 0) return;
-       return (this._cache.delete(A), this._cache.set(A, K), K);
-     }
-     set(A, K) {
-       if (this._cache.size >= this._maxSize)
-         this._cache.delete(this._cache.keys().next().value);
-       this._cache.set(A, K);
-     }
-     remove(A) {
-       let K = this._cache.get(A);
-       if (K) this._cache.delete(A);
-       return K;
-     }
-     clear() {
-       this._cache.clear();
-     }
-     keys() {
-       return Array.from(this._cache.keys());
-     }
-     values() {
-       let A = [];
-       return (this._cache.forEach((K) => A.push(K)), A);
-     }
-   }
-   nW8.LRUMap = iW8;
- });

--- Removed mx1 (pretty-v2.1.26.js:64736-64742)
- var mx1 = k((oW8) => {
-   Object.defineProperty(oW8, "__esModule", { value: !0 });
-   function RL5(A, K) {
-     return A != null ? A : K();
-   }
-   oW8._nullishCoalesce = RL5;
- });

--- Removed sW8 (pretty-v2.1.26.js:64743-64750)
- var sW8 = k((aW8) => {
-   Object.defineProperty(aW8, "__esModule", { value: !0 });
-   var IL5 = mx1();
-   async function SL5(A, K) {
-     return IL5._nullishCoalesce(A, K);
-   }
-   aW8._asyncNullishCoalesce = SL5;
- });

--- Removed gx1 (pretty-v2.1.26.js:64751-64772)
- var gx1 = k((tW8) => {
-   Object.defineProperty(tW8, "__esModule", { value: !0 });
-   async function bL5(A) {
-     let K = void 0,
-       q = A[0],
-       Y = 1;
-     while (Y < A.length) {
-       let z = A[Y],
-         w = A[Y + 1];
-       if (
-         ((Y += 2),
-         (z === "optionalAccess" || z === "optionalCall") && q == null)
-       )
-         return;
-       if (z === "access" || z === "optionalAccess") ((K = q), (q = await w(q)));
-       else if (z === "call" || z === "optionalCall")
-         ((q = await w((...H) => q.call(K, ...H))), (K = void 0));
-     }
-     return q;
-   }
-   tW8._asyncOptionalChain = bL5;
- });

--- Removed AD8 (pretty-v2.1.26.js:64773-64781)
- var AD8 = k((eW8) => {
-   Object.defineProperty(eW8, "__esModule", { value: !0 });
-   var uL5 = gx1();
-   async function BL5(A) {
-     let K = await uL5._asyncOptionalChain(A);
-     return K == null ? !0 : K;
-   }
-   eW8._asyncOptionalChainDelete = BL5;
- });

--- Removed Fx1 (pretty-v2.1.26.js:64782-64803)
- var Fx1 = k((KD8) => {
-   Object.defineProperty(KD8, "__esModule", { value: !0 });
-   function gL5(A) {
-     let K = void 0,
-       q = A[0],
-       Y = 1;
-     while (Y < A.length) {
-       let z = A[Y],
-         w = A[Y + 1];
-       if (
-         ((Y += 2),
-         (z === "optionalAccess" || z === "optionalCall") && q == null)
-       )
-         return;
-       if (z === "access" || z === "optionalAccess") ((K = q), (q = w(q)));
-       else if (z === "call" || z === "optionalCall")
-         ((q = w((...H) => q.call(K, ...H))), (K = void 0));
-     }
-     return q;
-   }
-   KD8._optionalChain = gL5;
- });

--- Removed YD8 (pretty-v2.1.26.js:64804-64812)
- var YD8 = k((qD8) => {
-   Object.defineProperty(qD8, "__esModule", { value: !0 });
-   var QL5 = Fx1();
-   function UL5(A) {
-     let K = QL5._optionalChain(A);
-     return K == null ? !0 : K;
-   }
-   qD8._optionalChainDelete = UL5;
- });

--- Removed wD8 (pretty-v2.1.26.js:64813-64819)
- var wD8 = k((zD8) => {
-   Object.defineProperty(zD8, "__esModule", { value: !0 });
-   function dL5(A) {
-     return A.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d");
-   }
-   zD8.escapeStringForRegex = dL5;
- });

--- Removed H8 (pretty-v2.1.26.js:64820-65045)
- var H8 = k((lx1) => {
-   Object.defineProperty(lx1, "__esModule", { value: !0 });
-   var lL5 = SG8(),
-     FaA = db1(),
-     Qx1 = nb1(),
-     iL5 = rb1(),
-     Ux1 = tW(),
-     nL5 = hZ8(),
-     eW = LE(),
-     rL5 = mZ8(),
-     QaA = hR(),
-     oL5 = Tx1(),
-     Ai = bTA(),
-     px1 = Nx1(),
-     UaA = mTA(),
-     lg = RE(),
-     y1A = rZ8(),
-     aL5 = sZ8(),
-     I1A = HW8(),
-     dx1 = $W8(),
-     FTA = vaA(),
-     QTA = STA(),
-     Ki = Jx1(),
-     cx1 = kx1(),
-     UTA = yx1(),
-     pTA = vW8(),
-     HD8 = fx1(),
-     Gb = xx1(),
-     sL5 = RW8(),
-     dTA = bW8(),
-     QwA = Sx1(),
-     paA = Lx1(),
-     tL5 = mW8(),
-     eL5 = FW8(),
-     daA = dW8(),
-     JD8 = lW8(),
-     AR5 = rW8(),
-     KR5 = sW8(),
-     qR5 = gx1(),
-     YR5 = AD8(),
-     zR5 = mx1(),
-     wR5 = Fx1(),
-     HR5 = YD8(),
-     JR5 = eb1(),
-     OR5 = zx1(),
-     OD8 = Px1(),
-     XR5 = Xx1(),
-     $R5 = Mx1(),
-     _R5 = Gx1(),
-     GR5 = Dx1(),
-     ZR5 = dg(),
-     WR5 = TaA(),
-     DR5 = wD8(),
-     jR5 = jx1();
-   lx1.applyAggregateErrorsToEvent = lL5.applyAggregateErrorsToEvent;
-   lx1.getComponentName = FaA.getComponentName;
-   lx1.getDomElement = FaA.getDomElement;
-   lx1.getLocationHref = FaA.getLocationHref;
-   lx1.htmlTreeAsString = FaA.htmlTreeAsString;
-   lx1.dsnFromString = Qx1.dsnFromString;
-   lx1.dsnToString = Qx1.dsnToString;
-   lx1.makeDsn = Qx1.makeDsn;
-   lx1.SentryError = iL5.SentryError;
-   lx1.GLOBAL_OBJ = Ux1.GLOBAL_OBJ;
-   lx1.getGlobalObject = Ux1.getGlobalObject;
-   lx1.getGlobalSingleton = Ux1.getGlobalSingleton;
-   lx1.addInstrumentationHandler = nL5.addInstrumentationHandler;
-   lx1.isDOMError = eW.isDOMError;
-   lx1.isDOMException = eW.isDOMException;
-   lx1.isElement = eW.isElement;
-   lx1.isError = eW.isError;
-   lx1.isErrorEvent = eW.isErrorEvent;
-   lx1.isEvent = eW.isEvent;
-   lx1.isInstanceOf = eW.isInstanceOf;
-   lx1.isNaN = eW.isNaN;
-   lx1.isParameterizedString = eW.isParameterizedString;
-   lx1.isPlainObject = eW.isPlainObject;
-   lx1.isPrimitive = eW.isPrimitive;
-   lx1.isRegExp = eW.isRegExp;
-   lx1.isString = eW.isString;
-   lx1.isSyntheticEvent = eW.isSyntheticEvent;
-   lx1.isThenable = eW.isThenable;
-   lx1.isVueViewModel = eW.isVueViewModel;
-   lx1.isBrowser = rL5.isBrowser;
-   lx1.CONSOLE_LEVELS = QaA.CONSOLE_LEVELS;
-   lx1.consoleSandbox = QaA.consoleSandbox;
-   lx1.logger = QaA.logger;
-   lx1.originalConsoleMethods = QaA.originalConsoleMethods;
-   lx1.memoBuilder = oL5.memoBuilder;
-   lx1.addContextToFrame = Ai.addContextToFrame;
-   lx1.addExceptionMechanism = Ai.addExceptionMechanism;
-   lx1.addExceptionTypeValue = Ai.addExceptionTypeValue;
-   lx1.arrayify = Ai.arrayify;
-   lx1.checkOrSetAlreadyCaught = Ai.checkOrSetAlreadyCaught;
-   lx1.getEventDescription = Ai.getEventDescription;
-   lx1.parseSemver = Ai.parseSemver;
-   lx1.uuid4 = Ai.uuid4;
-   lx1.dynamicRequire = px1.dynamicRequire;
-   lx1.isNodeEnv = px1.isNodeEnv;
-   lx1.loadModule = px1.loadModule;
-   lx1.normalize = UaA.normalize;
-   lx1.normalizeToSize = UaA.normalizeToSize;
-   lx1.normalizeUrlToBase = UaA.normalizeUrlToBase;
-   lx1.walk = UaA.walk;
-   lx1.addNonEnumerableProperty = lg.addNonEnumerableProperty;
-   lx1.convertToPlainObject = lg.convertToPlainObject;
-   lx1.dropUndefinedKeys = lg.dropUndefinedKeys;
-   lx1.extractExceptionKeysForMessage = lg.extractExceptionKeysForMessage;
-   lx1.fill = lg.fill;
-   lx1.getOriginalFunction = lg.getOriginalFunction;
-   lx1.markFunctionWrapped = lg.markFunctionWrapped;
-   lx1.objectify = lg.objectify;
-   lx1.urlEncode = lg.urlEncode;
-   lx1.basename = y1A.basename;
-   lx1.dirname = y1A.dirname;
-   lx1.isAbsolute = y1A.isAbsolute;
-   lx1.join = y1A.join;
-   lx1.normalizePath = y1A.normalizePath;
-   lx1.relative = y1A.relative;
-   lx1.resolve = y1A.resolve;
-   lx1.makePromiseBuffer = aL5.makePromiseBuffer;
-   lx1.DEFAULT_USER_INCLUDES = I1A.DEFAULT_USER_INCLUDES;
-   lx1.addRequestDataToEvent = I1A.addRequestDataToEvent;
-   lx1.addRequestDataToTransaction = I1A.addRequestDataToTransaction;
-   lx1.extractPathForTransaction = I1A.extractPathForTransaction;
-   lx1.extractRequestData = I1A.extractRequestData;
-   lx1.winterCGHeadersToDict = I1A.winterCGHeadersToDict;
-   lx1.winterCGRequestToRequestData = I1A.winterCGRequestToRequestData;
-   lx1.severityFromString = dx1.severityFromString;
-   lx1.severityLevelFromString = dx1.severityLevelFromString;
-   lx1.validSeverityLevels = dx1.validSeverityLevels;
-   lx1.createStackParser = FTA.createStackParser;
-   lx1.getFunctionName = FTA.getFunctionName;
-   lx1.nodeStackLineParser = FTA.nodeStackLineParser;
-   lx1.stackParserFromStackParserOptions = FTA.stackParserFromStackParserOptions;
-   lx1.stripSentryFramesAndReverse = FTA.stripSentryFramesAndReverse;
-   lx1.isMatchingPattern = QTA.isMatchingPattern;
-   lx1.safeJoin = QTA.safeJoin;
-   lx1.snipLine = QTA.snipLine;
-   lx1.stringMatchesSomePattern = QTA.stringMatchesSomePattern;
-   lx1.truncate = QTA.truncate;
-   lx1.isNativeFetch = Ki.isNativeFetch;
-   lx1.supportsDOMError = Ki.supportsDOMError;
-   lx1.supportsDOMException = Ki.supportsDOMException;
-   lx1.supportsErrorEvent = Ki.supportsErrorEvent;
-   lx1.supportsFetch = Ki.supportsFetch;
-   lx1.supportsNativeFetch = Ki.supportsNativeFetch;
-   lx1.supportsReferrerPolicy = Ki.supportsReferrerPolicy;
-   lx1.supportsReportingObserver = Ki.supportsReportingObserver;
-   lx1.SyncPromise = cx1.SyncPromise;
-   lx1.rejectedSyncPromise = cx1.rejectedSyncPromise;
-   lx1.resolvedSyncPromise = cx1.resolvedSyncPromise;
-   Object.defineProperty(lx1, "_browserPerformanceTimeOriginMode", {
-     enumerable: !0,
-     get: () => UTA._browserPerformanceTimeOriginMode,
-   });
-   lx1.browserPerformanceTimeOrigin = UTA.browserPerformanceTimeOrigin;
-   lx1.dateTimestampInSeconds = UTA.dateTimestampInSeconds;
-   lx1.timestampInSeconds = UTA.timestampInSeconds;
-   lx1.timestampWithMs = UTA.timestampWithMs;
-   lx1.TRACEPARENT_REGEXP = pTA.TRACEPARENT_REGEXP;
-   lx1.extractTraceparentData = pTA.extractTraceparentData;
-   lx1.generateSentryTraceHeader = pTA.generateSentryTraceHeader;
-   lx1.propagationContextFromHeaders = pTA.propagationContextFromHeaders;
-   lx1.tracingContextFromHeaders = pTA.tracingContextFromHeaders;
-   lx1.getSDKSource = HD8.getSDKSource;
-   lx1.isBrowserBundle = HD8.isBrowserBundle;
-   lx1.addItemToEnvelope = Gb.addItemToEnvelope;
-   lx1.createAttachmentEnvelopeItem = Gb.createAttachmentEnvelopeItem;
-   lx1.createEnvelope = Gb.createEnvelope;
-   lx1.createEventEnvelopeHeaders = Gb.createEventEnvelopeHeaders;
-   lx1.envelopeContainsItemType = Gb.envelopeContainsItemType;
-   lx1.envelopeItemTypeToDataCategory = Gb.envelopeItemTypeToDataCategory;
-   lx1.forEachEnvelopeItem = Gb.forEachEnvelopeItem;
-   lx1.getSdkMetadataForEnvelopeHeader = Gb.getSdkMetadataForEnvelopeHeader;
-   lx1.parseEnvelope = Gb.parseEnvelope;
-   lx1.serializeEnvelope = Gb.serializeEnvelope;
-   lx1.createClientReportEnvelope = sL5.createClientReportEnvelope;
-   lx1.DEFAULT_RETRY_AFTER = dTA.DEFAULT_RETRY_AFTER;
-   lx1.disabledUntil = dTA.disabledUntil;
-   lx1.isRateLimited = dTA.isRateLimited;
-   lx1.parseRetryAfterHeader = dTA.parseRetryAfterHeader;
-   lx1.updateRateLimits = dTA.updateRateLimits;
-   lx1.BAGGAGE_HEADER_NAME = QwA.BAGGAGE_HEADER_NAME;
-   lx1.MAX_BAGGAGE_STRING_LENGTH = QwA.MAX_BAGGAGE_STRING_LENGTH;
-   lx1.SENTRY_BAGGAGE_KEY_PREFIX = QwA.SENTRY_BAGGAGE_KEY_PREFIX;
-   lx1.SENTRY_BAGGAGE_KEY_PREFIX_REGEX = QwA.SENTRY_BAGGAGE_KEY_PREFIX_REGEX;
-   lx1.baggageHeaderToDynamicSamplingContext =
-     QwA.baggageHeaderToDynamicSamplingContext;
-   lx1.dynamicSamplingContextToSentryBaggageHeader =
-     QwA.dynamicSamplingContextToSentryBaggageHeader;
-   lx1.getNumberOfUrlSegments = paA.getNumberOfUrlSegments;
-   lx1.getSanitizedUrlString = paA.getSanitizedUrlString;
-   lx1.parseUrl = paA.parseUrl;
-   lx1.stripUrlQueryAndFragment = paA.stripUrlQueryAndFragment;
-   lx1.addOrUpdateIntegration = tL5.addOrUpdateIntegration;
-   lx1.makeFifoCache = eL5.makeFifoCache;
-   lx1.eventFromMessage = daA.eventFromMessage;
-   lx1.eventFromUnknownInput = daA.eventFromUnknownInput;
-   lx1.exceptionFromError = daA.exceptionFromError;
-   lx1.parseStackFrames = daA.parseStackFrames;
-   lx1.callFrameToStackFrame = JD8.callFrameToStackFrame;
-   lx1.watchdogTimer = JD8.watchdogTimer;
-   lx1.LRUMap = AR5.LRUMap;
-   lx1._asyncNullishCoalesce = KR5._asyncNullishCoalesce;
-   lx1._asyncOptionalChain = qR5._asyncOptionalChain;
-   lx1._asyncOptionalChainDelete = YR5._asyncOptionalChainDelete;
-   lx1._nullishCoalesce = zR5._nullishCoalesce;
-   lx1._optionalChain = wR5._optionalChain;
-   lx1._optionalChainDelete = HR5._optionalChainDelete;
-   lx1.addConsoleInstrumentationHandler = JR5.addConsoleInstrumentationHandler;
-   lx1.addClickKeypressInstrumentationHandler =
-     OR5.addClickKeypressInstrumentationHandler;
-   lx1.SENTRY_XHR_DATA_KEY = OD8.SENTRY_XHR_DATA_KEY;
-   lx1.addXhrInstrumentationHandler = OD8.addXhrInstrumentationHandler;
-   lx1.addFetchInstrumentationHandler = XR5.addFetchInstrumentationHandler;
-   lx1.addHistoryInstrumentationHandler = $R5.addHistoryInstrumentationHandler;
-   lx1.addGlobalErrorInstrumentationHandler =
-     _R5.addGlobalErrorInstrumentationHandler;
-   lx1.addGlobalUnhandledRejectionInstrumentationHandler =
-     GR5.addGlobalUnhandledRejectionInstrumentationHandler;
-   lx1.resetInstrumentationHandlers = ZR5.resetInstrumentationHandlers;
-   lx1.filenameIsInApp = WR5.filenameIsInApp;
-   lx1.escapeStringForRegex = DR5.escapeStringForRegex;
-   lx1.supportsHistory = jR5.supportsHistory;
- });

--- Removed mX (pretty-v2.1.26.js:65046-65050)
- var mX = k((XD8) => {
-   Object.defineProperty(XD8, "__esModule", { value: !0 });
-   var MS5 = typeof __SENTRY_DEBUG__ > "u" || __SENTRY_DEBUG__;
-   XD8.DEBUG_BUILD = MS5;
- });

--- Removed UwA (pretty-v2.1.26.js:65051-65055)
- var UwA = k(($D8) => {
-   Object.defineProperty($D8, "__esModule", { value: !0 });
-   var VS5 = "production";
-   $D8.DEFAULT_ENVIRONMENT = VS5;
- });

--- Removed cTA (pretty-v2.1.26.js:65056-65090)
- var cTA = k((GD8) => {
-   Object.defineProperty(GD8, "__esModule", { value: !0 });
-   var caA = H8(),
-     NS5 = mX();
-   function _D8() {
-     return caA.getGlobalSingleton("globalEventProcessors", () => []);
-   }
-   function TS5(A) {
-     _D8().push(A);
-   }
-   function ix1(A, K, q, Y = 0) {
-     return new caA.SyncPromise((z, w) => {
-       let H = A[Y];
-       if (K === null || typeof H !== "function") z(K);
-       else {
-         let J = H({ ...K }, q);
-         if (
-           (NS5.DEBUG_BUILD &&
-             H.id &&
-             J === null &&
-             caA.logger.log(`Event processor "${H.id}" dropped event`),
-           caA.isThenable(J))
-         )
-           J.then((O) => ix1(A, O, q, Y + 1).then(z)).then(null, w);
-         else
-           ix1(A, J, q, Y + 1)
-             .then(z)
-             .then(null, w);
-       }
-     });
-   }
-   GD8.addGlobalEventProcessor = TS5;
-   GD8.getGlobalEventProcessors = _D8;
-   GD8.notifyEventProcessors = ix1;
- });

--- Removed pwA (pretty-v2.1.26.js:65091-65170)
- var pwA = k((ZD8) => {
-   Object.defineProperty(ZD8, "__esModule", { value: !0 });
-   var lTA = H8();
-   function CS5(A) {
-     let K = lTA.timestampInSeconds(),
-       q = {
-         sid: lTA.uuid4(),
-         init: !0,
-         timestamp: K,
-         started: K,
-         duration: 0,
-         status: "ok",
-         errors: 0,
-         ignoreDuration: !1,
-         toJSON: () => RS5(q),
-       };
-     if (A) nx1(q, A);
-     return q;
-   }
-   function nx1(A, K = {}) {
-     if (K.user) {
-       if (!A.ipAddress && K.user.ip_address) A.ipAddress = K.user.ip_address;
-       if (!A.did && !K.did)
-         A.did = K.user.id || K.user.email || K.user.username;
-     }
-     if (
-       ((A.timestamp = K.timestamp || lTA.timestampInSeconds()),
-       K.abnormal_mechanism)
-     )
-       A.abnormal_mechanism = K.abnormal_mechanism;
-     if (K.ignoreDuration) A.ignoreDuration = K.ignoreDuration;
-     if (K.sid) A.sid = K.sid.length === 32 ? K.sid : lTA.uuid4();
-     if (K.init !== void 0) A.init = K.init;
-     if (!A.did && K.did) A.did = `${K.did}`;
-     if (typeof K.started === "number") A.started = K.started;
-     if (A.ignoreDuration) A.duration = void 0;
-     else if (typeof K.duration === "number") A.duration = K.duration;
-     else {
-       let q = A.timestamp - A.started;
-       A.duration = q >= 0 ? q : 0;
-     }
-     if (K.release) A.release = K.release;
-     if (K.environment) A.environment = K.environment;
-     if (!A.ipAddress && K.ipAddress) A.ipAddress = K.ipAddress;
-     if (!A.userAgent && K.userAgent) A.userAgent = K.userAgent;
-     if (typeof K.errors === "number") A.errors = K.errors;
-     if (K.status) A.status = K.status;
-   }
-   function LS5(A, K) {
-     let q = {};
-     if (K) q = { status: K };
-     else if (A.status === "ok") q = { status: "exited" };
-     nx1(A, q);
-   }
-   function RS5(A) {
-     return lTA.dropUndefinedKeys({
-       sid: `${A.sid}`,
-       init: A.init,
-       started: new Date(A.started * 1000).toISOString(),
-       timestamp: new Date(A.timestamp * 1000).toISOString(),
-       status: A.status,
-       errors: A.errors,
-       did:
-         typeof A.did === "number" || typeof A.did === "string"
-           ? `${A.did}`
-           : void 0,
-       duration: A.duration,
-       abnormal_mechanism: A.abnormal_mechanism,
-       attrs: {
-         release: A.release,
-         environment: A.environment,
-         ip_address: A.ipAddress,
-         user_agent: A.userAgent,
-       },
-     });
-   }
-   ZD8.closeSession = LS5;
-   ZD8.makeSession = CS5;
-   ZD8.updateSession = nx1;
- });

--- Removed KV (pretty-v2.1.26.js:65171-65230)
- var KV = k((PD8) => {
-   Object.defineProperty(PD8, "__esModule", { value: !0 });
-   var rx1 = H8(),
-     hS5 = 0,
-     DD8 = 1;
-   function bS5(A) {
-     let { spanId: K, traceId: q } = A.spanContext(),
-       {
-         data: Y,
-         op: z,
-         parent_span_id: w,
-         status: H,
-         tags: J,
-         origin: O,
-       } = jD8(A);
-     return rx1.dropUndefinedKeys({
-       data: Y,
-       op: z,
-       parent_span_id: w,
-       span_id: K,
-       status: H,
-       tags: J,
-       trace_id: q,
-       origin: O,
-     });
-   }
-   function xS5(A) {
-     let { traceId: K, spanId: q } = A.spanContext(),
-       Y = MD8(A);
-     return rx1.generateSentryTraceHeader(K, q, Y);
-   }
-   function uS5(A) {
-     if (typeof A === "number") return WD8(A);
-     if (Array.isArray(A)) return A[0] + A[1] / 1e9;
-     if (A instanceof Date) return WD8(A.getTime());
-     return rx1.timestampInSeconds();
-   }
-   function WD8(A) {
-     return A > 9999999999 ? A / 1000 : A;
-   }
-   function jD8(A) {
-     if (BS5(A)) return A.getSpanJSON();
-     if (typeof A.toJSON === "function") return A.toJSON();
-     return {};
-   }
-   function BS5(A) {
-     return typeof A.getSpanJSON === "function";
-   }
-   function MD8(A) {
-     let { traceFlags: K } = A.spanContext();
-     return Boolean(K & DD8);
-   }
-   PD8.TRACE_FLAG_NONE = hS5;
-   PD8.TRACE_FLAG_SAMPLED = DD8;
-   PD8.spanIsSampled = MD8;
-   PD8.spanTimeInputToSeconds = uS5;
-   PD8.spanToJSON = jD8;
-   PD8.spanToTraceContext = bS5;
-   PD8.spanToTraceHeader = xS5;
- });

--- Removed laA (pretty-v2.1.26.js:65231-65395)
- var laA = k((vD8) => {
-   Object.defineProperty(vD8, "__esModule", { value: !0 });
-   var FN = H8(),
-     cS5 = UwA(),
-     VD8 = cTA(),
-     ax1 = naA(),
-     ox1 = iaA(),
-     lS5 = KV();
-   function iS5(A, K, q, Y, z, w) {
-     let { normalizeDepth: H = 3, normalizeMaxBreadth: J = 1000 } = A,
-       O = {
-         ...K,
-         event_id: K.event_id || q.event_id || FN.uuid4(),
-         timestamp: K.timestamp || FN.dateTimestampInSeconds(),
-       },
-       X = q.integrations || A.integrations.map((j) => j.name);
-     if ((nS5(O, A), rS5(O, X), K.type === void 0)) ND8(O, A.stackParser);
-     let $ = aS5(Y, q.captureContext);
-     if (q.mechanism) FN.addExceptionMechanism(O, q.mechanism);
-     let _ = z && z.getEventProcessors ? z.getEventProcessors() : [],
-       G = ax1.getGlobalScope().getScopeData();
-     if (w) {
-       let j = w.getScopeData();
-       ox1.mergeScopeData(G, j);
-     }
-     if ($) {
-       let j = $.getScopeData();
-       ox1.mergeScopeData(G, j);
-     }
-     let Z = [...(q.attachments || []), ...G.attachments];
-     if (Z.length) q.attachments = Z;
-     ox1.applyScopeDataToEvent(O, G);
-     let W = [..._, ...VD8.getGlobalEventProcessors(), ...G.eventProcessors];
-     return VD8.notifyEventProcessors(W, O, q).then((j) => {
-       if (j) TD8(j);
-       if (typeof H === "number" && H > 0) return oS5(j, H, J);
-       return j;
-     });
-   }
-   function nS5(A, K) {
-     let { environment: q, release: Y, dist: z, maxValueLength: w = 250 } = K;
-     if (!("environment" in A))
-       A.environment = "environment" in K ? q : cS5.DEFAULT_ENVIRONMENT;
-     if (A.release === void 0 && Y !== void 0) A.release = Y;
-     if (A.dist === void 0 && z !== void 0) A.dist = z;
-     if (A.message) A.message = FN.truncate(A.message, w);
-     let H = A.exception && A.exception.values && A.exception.values[0];
-     if (H && H.value) H.value = FN.truncate(H.value, w);
-     let J = A.request;
-     if (J && J.url) J.url = FN.truncate(J.url, w);
-   }
-   var fD8 = new WeakMap();
-   function ND8(A, K) {
-     let q = FN.GLOBAL_OBJ._sentryDebugIds;
-     if (!q) return;
-     let Y,
-       z = fD8.get(K);
-     if (z) Y = z;
-     else ((Y = new Map()), fD8.set(K, Y));
-     let w = Object.keys(q).reduce((H, J) => {
-       let O,
-         X = Y.get(J);
-       if (X) O = X;
-       else ((O = K(J)), Y.set(J, O));
-       for (let $ = O.length - 1; $ >= 0; $--) {
-         let _ = O[$];
-         if (_.filename) {
-           H[_.filename] = q[J];
-           break;
-         }
-       }
-       return H;
-     }, {});
-     try {
-       A.exception.values.forEach((H) => {
-         H.stacktrace.frames.forEach((J) => {
-           if (J.filename) J.debug_id = w[J.filename];
-         });
-       });
-     } catch (H) {}
-   }
-   function TD8(A) {
-     let K = {};
-     try {
-       A.exception.values.forEach((Y) => {
-         Y.stacktrace.frames.forEach((z) => {
-           if (z.debug_id) {
-             if (z.abs_path) K[z.abs_path] = z.debug_id;
-             else if (z.filename) K[z.filename] = z.debug_id;
-             delete z.debug_id;
-           }
-         });
-       });
-     } catch (Y) {}
-     if (Object.keys(K).length === 0) return;
-     ((A.debug_meta = A.debug_meta || {}),
-       (A.debug_meta.images = A.debug_meta.images || []));
-     let q = A.debug_meta.images;
-     Object.keys(K).forEach((Y) => {
-       q.push({ type: "sourcemap", code_file: Y, debug_id: K[Y] });
-     });
-   }
-   function rS5(A, K) {
-     if (K.length > 0)
-       ((A.sdk = A.sdk || {}),
-         (A.sdk.integrations = [...(A.sdk.integrations || []), ...K]));
-   }
-   function oS5(A, K, q) {
-     if (!A) return null;
-     let Y = {
-       ...A,
-       ...(A.breadcrumbs && {
-         breadcrumbs: A.breadcrumbs.map((z) => ({
-           ...z,
-           ...(z.data && { data: FN.normalize(z.data, K, q) }),
-         })),
-       }),
-       ...(A.user && { user: FN.normalize(A.user, K, q) }),
-       ...(A.contexts && { contexts: FN.normalize(A.contexts, K, q) }),
-       ...(A.extra && { extra: FN.normalize(A.extra, K, q) }),
-     };
-     if (A.contexts && A.contexts.trace && Y.contexts) {
-       if (((Y.contexts.trace = A.contexts.trace), A.contexts.trace.data))
-         Y.contexts.trace.data = FN.normalize(A.contexts.trace.data, K, q);
-     }
-     if (A.spans)
-       Y.spans = A.spans.map((z) => {
-         let w = lS5.spanToJSON(z).data;
-         if (w) z.data = FN.normalize(w, K, q);
-         return z;
-       });
-     return Y;
-   }
-   function aS5(A, K) {
-     if (!K) return A;
-     let q = A ? A.clone() : new ax1.Scope();
-     return (q.update(K), q);
-   }
-   function sS5(A) {
-     if (!A) return;
-     if (tS5(A)) return { captureContext: A };
-     if (Ah5(A)) return { captureContext: A };
-     return A;
-   }
-   function tS5(A) {
-     return A instanceof ax1.Scope || typeof A === "function";
-   }
-   var eS5 = [
-     "user",
-     "level",
-     "extra",
-     "contexts",
-     "tags",
-     "fingerprint",
-     "requestSession",
-     "propagationContext",
-   ];
-   function Ah5(A) {
-     return Object.keys(A).some((K) => eS5.includes(K));
-   }
-   vD8.applyDebugIds = ND8;
-   vD8.applyDebugMeta = TD8;
-   vD8.parseEventHintOrCaptureContext = sS5;
-   vD8.prepareEvent = iS5;
- });

--- Removed IE (pretty-v2.1.26.js:65396-65606)
- var IE = k((CD8) => {
-   Object.defineProperty(CD8, "__esModule", { value: !0 });
-   var ig = H8(),
-     wh5 = UwA(),
-     raA = mX(),
-     B0 = Zb(),
-     sx1 = pwA(),
-     Hh5 = laA();
-   function Jh5(A, K) {
-     return B0.getCurrentHub().captureException(
-       A,
-       Hh5.parseEventHintOrCaptureContext(K),
-     );
-   }
-   function Oh5(A, K) {
-     let q = typeof K === "string" ? K : void 0,
-       Y = typeof K !== "string" ? { captureContext: K } : void 0;
-     return B0.getCurrentHub().captureMessage(A, q, Y);
-   }
-   function Xh5(A, K) {
-     return B0.getCurrentHub().captureEvent(A, K);
-   }
-   function $h5(A) {
-     B0.getCurrentHub().configureScope(A);
-   }
-   function _h5(A, K) {
-     B0.getCurrentHub().addBreadcrumb(A, K);
-   }
-   function Gh5(A, K) {
-     B0.getCurrentHub().setContext(A, K);
-   }
-   function Zh5(A) {
-     B0.getCurrentHub().setExtras(A);
-   }
-   function Wh5(A, K) {
-     B0.getCurrentHub().setExtra(A, K);
-   }
-   function Dh5(A) {
-     B0.getCurrentHub().setTags(A);
-   }
-   function jh5(A, K) {
-     B0.getCurrentHub().setTag(A, K);
-   }
-   function Mh5(A) {
-     B0.getCurrentHub().setUser(A);
-   }
-   function ED8(...A) {
-     let K = B0.getCurrentHub();
-     if (A.length === 2) {
-       let [q, Y] = A;
-       if (!q) return K.withScope(Y);
-       return K.withScope(() => {
-         return ((K.getStackTop().scope = q), Y(q));
-       });
-     }
-     return K.withScope(A[0]);
-   }
-   function Ph5(A) {
-     return B0.runWithAsyncContext(() => {
-       return A(B0.getIsolationScope());
-     });
-   }
-   function Vh5(A, K) {
-     return ED8((q) => {
-       return (q.setSpan(A), K(q));
-     });
-   }
-   function fh5(A, K) {
-     return B0.getCurrentHub().startTransaction({ ...A }, K);
-   }
-   function tx1(A, K) {
-     let q = iTA(),
-       Y = S1A();
-     if (!Y)
-       raA.DEBUG_BUILD &&
-         ig.logger.warn("Cannot capture check-in. No client defined.");
-     else if (!Y.captureCheckIn)
-       raA.DEBUG_BUILD &&
-         ig.logger.warn(
-           "Cannot capture check-in. Client does not support sending check-ins.",
-         );
-     else return Y.captureCheckIn(A, K, q);
-     return ig.uuid4();
-   }
-   function Nh5(A, K, q) {
-     let Y = tx1({ monitorSlug: A, status: "in_progress" }, q),
-       z = ig.timestampInSeconds();
-     function w(J) {
-       tx1({
-         monitorSlug: A,
-         status: J,
-         checkInId: Y,
-         duration: ig.timestampInSeconds() - z,
-       });
-     }
-     let H;
-     try {
-       H = K();
-     } catch (J) {
-       throw (w("error"), J);
-     }
-     if (ig.isThenable(H))
-       Promise.resolve(H).then(
-         () => {
-           w("ok");
-         },
-         () => {
-           w("error");
-         },
-       );
-     else w("ok");
-     return H;
-   }
-   async function Th5(A) {
-     let K = S1A();
-     if (K) return K.flush(A);
-     return (
-       raA.DEBUG_BUILD &&
-         ig.logger.warn("Cannot flush events. No client defined."),
-       Promise.resolve(!1)
-     );
-   }
-   async function vh5(A) {
-     let K = S1A();
-     if (K) return K.close(A);
-     return (
-       raA.DEBUG_BUILD &&
-         ig.logger.warn(
-           "Cannot flush events and disable SDK. No client defined.",
-         ),
-       Promise.resolve(!1)
-     );
-   }
-   function Eh5() {
-     return B0.getCurrentHub().lastEventId();
-   }
-   function S1A() {
-     return B0.getCurrentHub().getClient();
-   }
-   function kh5() {
-     return !!S1A();
-   }
-   function iTA() {
-     return B0.getCurrentHub().getScope();
-   }
-   function Ch5(A) {
-     let K = S1A(),
-       q = B0.getIsolationScope(),
-       Y = iTA(),
-       { release: z, environment: w = wh5.DEFAULT_ENVIRONMENT } =
-         (K && K.getOptions()) || {},
-       { userAgent: H } = ig.GLOBAL_OBJ.navigator || {},
-       J = sx1.makeSession({
-         release: z,
-         environment: w,
-         user: Y.getUser() || q.getUser(),
-         ...(H && { userAgent: H }),
-         ...A,
-       }),
-       O = q.getSession();
-     if (O && O.status === "ok") sx1.updateSession(O, { status: "exited" });
-     return (ex1(), q.setSession(J), Y.setSession(J), J);
-   }
-   function ex1() {
-     let A = B0.getIsolationScope(),
-       K = iTA(),
-       q = K.getSession() || A.getSession();
-     if (q) sx1.closeSession(q);
-     (kD8(), A.setSession(), K.setSession());
-   }
-   function kD8() {
-     let A = B0.getIsolationScope(),
-       K = iTA(),
-       q = S1A(),
-       Y = K.getSession() || A.getSession();
-     if (Y && q && q.captureSession) q.captureSession(Y);
-   }
-   function Lh5(A = !1) {
-     if (A) {
-       ex1();
-       return;
-     }
-     kD8();
-   }
-   CD8.addBreadcrumb = _h5;
-   CD8.captureCheckIn = tx1;
-   CD8.captureEvent = Xh5;
-   CD8.captureException = Jh5;
-   CD8.captureMessage = Oh5;
-   CD8.captureSession = Lh5;
-   CD8.close = vh5;
-   CD8.configureScope = $h5;
-   CD8.endSession = ex1;
-   CD8.flush = Th5;
-   CD8.getClient = S1A;
-   CD8.getCurrentScope = iTA;
-   CD8.isInitialized = kh5;
-   CD8.lastEventId = Eh5;
-   CD8.setContext = Gh5;
-   CD8.setExtra = Wh5;
-   CD8.setExtras = Zh5;
-   CD8.setTag = jh5;
-   CD8.setTags = Dh5;
-   CD8.setUser = Mh5;
-   CD8.startSession = Ch5;
-   CD8.startTransaction = fh5;
-   CD8.withActiveSpan = Vh5;
-   CD8.withIsolationScope = Ph5;
-   CD8.withMonitor = Nh5;
-   CD8.withScope = ED8;
- });

--- Removed dwA (pretty-v2.1.26.js:65607-65613)
- var dwA = k((LD8) => {
-   Object.defineProperty(LD8, "__esModule", { value: !0 });
-   function Ab5(A) {
-     return A.transaction;
-   }
-   LD8.getRootSpan = Ab5;
- });

--- Removed h1A (pretty-v2.1.26.js:65614-65654)
- var h1A = k((ID8) => {
-   Object.defineProperty(ID8, "__esModule", { value: !0 });
-   var qb5 = H8(),
-     Yb5 = UwA(),
-     RD8 = IE(),
-     zb5 = dwA(),
-     Au1 = KV();
-   function yD8(A, K, q) {
-     let Y = K.getOptions(),
-       { publicKey: z } = K.getDsn() || {},
-       { segment: w } = (q && q.getUser()) || {},
-       H = qb5.dropUndefinedKeys({
-         environment: Y.environment || Yb5.DEFAULT_ENVIRONMENT,
-         release: Y.release,
-         user_segment: w,
-         public_key: z,
-         trace_id: A,
-       });
-     return (K.emit && K.emit("createDsc", H), H);
-   }
-   function wb5(A) {
-     let K = RD8.getClient();
-     if (!K) return {};
-     let q = yD8(Au1.spanToJSON(A).trace_id || "", K, RD8.getCurrentScope()),
-       Y = zb5.getRootSpan(A);
-     if (!Y) return q;
-     let z = Y && Y._frozenDynamicSamplingContext;
-     if (z) return z;
-     let { sampleRate: w, source: H } = Y.metadata;
-     if (w != null) q.sample_rate = `${w}`;
-     let J = Au1.spanToJSON(Y);
-     if (H && H !== "url") q.transaction = J.description;
-     return (
-       (q.sampled = String(Au1.spanIsSampled(Y))),
-       K.emit && K.emit("createDsc", q),
-       q
-     );
-   }
-   ID8.getDynamicSamplingContextFromClient = yD8;
-   ID8.getDynamicSamplingContextFromSpan = wb5;
- });

--- Removed iaA (pretty-v2.1.26.js:65655-65758)
- var iaA = k((hD8) => {
-   Object.defineProperty(hD8, "__esModule", { value: !0 });
-   var nTA = H8(),
-     Ob5 = h1A(),
-     Xb5 = dwA(),
-     SD8 = KV();
-   function $b5(A, K) {
-     let {
-       fingerprint: q,
-       span: Y,
-       breadcrumbs: z,
-       sdkProcessingMetadata: w,
-     } = K;
-     if ((Gb5(A, K), Y)) Db5(A, Y);
-     (jb5(A, q), Zb5(A, z), Wb5(A, w));
-   }
-   function _b5(A, K) {
-     let {
-       extra: q,
-       tags: Y,
-       user: z,
-       contexts: w,
-       level: H,
-       sdkProcessingMetadata: J,
-       breadcrumbs: O,
-       fingerprint: X,
-       eventProcessors: $,
-       attachments: _,
-       propagationContext: G,
-       transactionName: Z,
-       span: W,
-     } = K;
-     if (
-       (cwA(A, "extra", q),
-       cwA(A, "tags", Y),
-       cwA(A, "user", z),
-       cwA(A, "contexts", w),
-       cwA(A, "sdkProcessingMetadata", J),
-       H)
-     )
-       A.level = H;
-     if (Z) A.transactionName = Z;
-     if (W) A.span = W;
-     if (O.length) A.breadcrumbs = [...A.breadcrumbs, ...O];
-     if (X.length) A.fingerprint = [...A.fingerprint, ...X];
-     if ($.length) A.eventProcessors = [...A.eventProcessors, ...$];
-     if (_.length) A.attachments = [...A.attachments, ..._];
-     A.propagationContext = { ...A.propagationContext, ...G };
-   }
-   function cwA(A, K, q) {
-     if (q && Object.keys(q).length) {
-       A[K] = { ...A[K] };
-       for (let Y in q)
-         if (Object.prototype.hasOwnProperty.call(q, Y)) A[K][Y] = q[Y];
-     }
-   }
-   function Gb5(A, K) {
-     let {
-         extra: q,
-         tags: Y,
-         user: z,
-         contexts: w,
-         level: H,
-         transactionName: J,
-       } = K,
-       O = nTA.dropUndefinedKeys(q);
-     if (O && Object.keys(O).length) A.extra = { ...O, ...A.extra };
-     let X = nTA.dropUndefinedKeys(Y);
-     if (X && Object.keys(X).length) A.tags = { ...X, ...A.tags };
-     let $ = nTA.dropUndefinedKeys(z);
-     if ($ && Object.keys($).length) A.user = { ...$, ...A.user };
-     let _ = nTA.dropUndefinedKeys(w);
-     if (_ && Object.keys(_).length) A.contexts = { ..._, ...A.contexts };
-     if (H) A.level = H;
-     if (J) A.transaction = J;
-   }
-   function Zb5(A, K) {
-     let q = [...(A.breadcrumbs || []), ...K];
-     A.breadcrumbs = q.length ? q : void 0;
-   }
-   function Wb5(A, K) {
-     A.sdkProcessingMetadata = { ...A.sdkProcessingMetadata, ...K };
-   }
-   function Db5(A, K) {
-     A.contexts = { trace: SD8.spanToTraceContext(K), ...A.contexts };
-     let q = Xb5.getRootSpan(K);
-     if (q) {
-       A.sdkProcessingMetadata = {
-         dynamicSamplingContext: Ob5.getDynamicSamplingContextFromSpan(K),
-         ...A.sdkProcessingMetadata,
-       };
-       let Y = SD8.spanToJSON(q).description;
-       if (Y) A.tags = { transaction: Y, ...A.tags };
-     }
-   }
-   function jb5(A, K) {
-     if (((A.fingerprint = A.fingerprint ? nTA.arrayify(A.fingerprint) : []), K))
-       A.fingerprint = A.fingerprint.concat(K);
-     if (A.fingerprint && !A.fingerprint.length) delete A.fingerprint;
-   }
-   hD8.applyScopeDataToEvent = $b5;
-   hD8.mergeAndOverwriteScopeData = cwA;
-   hD8.mergeScopeData = _b5;
- });

--- Removed naA (pretty-v2.1.26.js:65759-66109)
- var naA = k((uD8) => {
-   Object.defineProperty(uD8, "__esModule", { value: !0 });
-   var Wb = H8(),
-     bD8 = cTA(),
-     fb5 = pwA(),
-     Nb5 = iaA(),
-     Tb5 = 100,
-     oaA;
-   class lwA {
-     constructor() {
-       ((this._notifyingListeners = !1),
-         (this._scopeListeners = []),
-         (this._eventProcessors = []),
-         (this._breadcrumbs = []),
-         (this._attachments = []),
-         (this._user = {}),
-         (this._tags = {}),
-         (this._extra = {}),
-         (this._contexts = {}),
-         (this._sdkProcessingMetadata = {}),
-         (this._propagationContext = xD8()));
-     }
-     static clone(A) {
-       return A ? A.clone() : new lwA();
-     }
-     clone() {
-       let A = new lwA();
-       return (
-         (A._breadcrumbs = [...this._breadcrumbs]),
-         (A._tags = { ...this._tags }),
-         (A._extra = { ...this._extra }),
-         (A._contexts = { ...this._contexts }),
-         (A._user = this._user),
-         (A._level = this._level),
-         (A._span = this._span),
-         (A._session = this._session),
-         (A._transactionName = this._transactionName),
-         (A._fingerprint = this._fingerprint),
-         (A._eventProcessors = [...this._eventProcessors]),
-         (A._requestSession = this._requestSession),
-         (A._attachments = [...this._attachments]),
-         (A._sdkProcessingMetadata = { ...this._sdkProcessingMetadata }),
-         (A._propagationContext = { ...this._propagationContext }),
-         (A._client = this._client),
-         A
-       );
-     }
-     setClient(A) {
-       this._client = A;
-     }
-     getClient() {
-       return this._client;
-     }
-     addScopeListener(A) {
-       this._scopeListeners.push(A);
-     }
-     addEventProcessor(A) {
-       return (this._eventProcessors.push(A), this);
-     }
-     setUser(A) {
-       if (
-         ((this._user = A || {
-           email: void 0,
-           id: void 0,
-           ip_address: void 0,
-           segment: void 0,
-           username: void 0,
-         }),
-         this._session)
-       )
-         fb5.updateSession(this._session, { user: A });
-       return (this._notifyScopeListeners(), this);
-     }
-     getUser() {
-       return this._user;
-     }
-     getRequestSession() {
-       return this._requestSession;
-     }
-     setRequestSession(A) {
-       return ((this._requestSession = A), this);
-     }
-     setTags(A) {
-       return (
-         (this._tags = { ...this._tags, ...A }),
-         this._notifyScopeListeners(),
-         this
-       );
-     }
-     setTag(A, K) {
-       return (
-         (this._tags = { ...this._tags, [A]: K }),
-         this._notifyScopeListeners(),
-         this
-       );
-     }
-     setExtras(A) {
-       return (
-         (this._extra = { ...this._extra, ...A }),
-         this._notifyScopeListeners(),
-         this
-       );
-     }
-     setExtra(A, K) {
-       return (
-         (this._extra = { ...this._extra, [A]: K }),
-         this._notifyScopeListeners(),
-         this
-       );
-     }
-     setFingerprint(A) {
-       return ((this._fingerprint = A), this._notifyScopeListeners(), this);
-     }
-     setLevel(A) {
-       return ((this._level = A), this._notifyScopeListeners(), this);
-     }
-     setTransactionName(A) {
-       return ((this._transactionName = A), this._notifyScopeListeners(), this);
-     }
-     setContext(A, K) {
-       if (K === null) delete this._contexts[A];
-       else this._contexts[A] = K;
-       return (this._notifyScopeListeners(), this);
-     }
-     setSpan(A) {
-       return ((this._span = A), this._notifyScopeListeners(), this);
-     }
-     getSpan() {
-       return this._span;
-     }
-     getTransaction() {
-       let A = this._span;
-       return A && A.transaction;
-     }
-     setSession(A) {
-       if (!A) delete this._session;
-       else this._session = A;
-       return (this._notifyScopeListeners(), this);
-     }
-     getSession() {
-       return this._session;
-     }
-     update(A) {
-       if (!A) return this;
-       let K = typeof A === "function" ? A(this) : A;
-       if (K instanceof lwA) {
-         let q = K.getScopeData();
-         if (
-           ((this._tags = { ...this._tags, ...q.tags }),
-           (this._extra = { ...this._extra, ...q.extra }),
-           (this._contexts = { ...this._contexts, ...q.contexts }),
-           q.user && Object.keys(q.user).length)
-         )
-           this._user = q.user;
-         if (q.level) this._level = q.level;
-         if (q.fingerprint.length) this._fingerprint = q.fingerprint;
-         if (K.getRequestSession()) this._requestSession = K.getRequestSession();
-         if (q.propagationContext)
-           this._propagationContext = q.propagationContext;
-       } else if (Wb.isPlainObject(K)) {
-         let q = A;
-         if (
-           ((this._tags = { ...this._tags, ...q.tags }),
-           (this._extra = { ...this._extra, ...q.extra }),
-           (this._contexts = { ...this._contexts, ...q.contexts }),
-           q.user)
-         )
-           this._user = q.user;
-         if (q.level) this._level = q.level;
-         if (q.fingerprint) this._fingerprint = q.fingerprint;
-         if (q.requestSession) this._requestSession = q.requestSession;
-         if (q.propagationContext)
-           this._propagationContext = q.propagationContext;
-       }
-       return this;
-     }
-     clear() {
-       return (
-         (this._breadcrumbs = []),
-         (this._tags = {}),
-         (this._extra = {}),
-         (this._user = {}),
-         (this._contexts = {}),
-         (this._level = void 0),
-         (this._transactionName = void 0),
-         (this._fingerprint = void 0),
-         (this._requestSession = void 0),
-         (this._span = void 0),
-         (this._session = void 0),
-         this._notifyScopeListeners(),
-         (this._attachments = []),
-         (this._propagationContext = xD8()),
-         this
-       );
-     }
-     addBreadcrumb(A, K) {
-       let q = typeof K === "number" ? K : Tb5;
-       if (q <= 0) return this;
-       let Y = { timestamp: Wb.dateTimestampInSeconds(), ...A },
-         z = this._breadcrumbs;
-       return (
-         z.push(Y),
-         (this._breadcrumbs = z.length > q ? z.slice(-q) : z),
-         this._notifyScopeListeners(),
-         this
-       );
-     }
-     getLastBreadcrumb() {
-       return this._breadcrumbs[this._breadcrumbs.length - 1];
-     }
-     clearBreadcrumbs() {
-       return ((this._breadcrumbs = []), this._notifyScopeListeners(), this);
-     }
-     addAttachment(A) {
-       return (this._attachments.push(A), this);
-     }
-     getAttachments() {
-       return this.getScopeData().attachments;
-     }
-     clearAttachments() {
-       return ((this._attachments = []), this);
-     }
-     getScopeData() {
-       let {
-         _breadcrumbs: A,
-         _attachments: K,
-         _contexts: q,
-         _tags: Y,
-         _extra: z,
-         _user: w,
-         _level: H,
-         _fingerprint: J,
-         _eventProcessors: O,
-         _propagationContext: X,
-         _sdkProcessingMetadata: $,
-         _transactionName: _,
-         _span: G,
-       } = this;
-       return {
-         breadcrumbs: A,
-         attachments: K,
-         contexts: q,
-         tags: Y,
-         extra: z,
-         user: w,
-         level: H,
-         fingerprint: J || [],
-         eventProcessors: O,
-         propagationContext: X,
-         sdkProcessingMetadata: $,
-         transactionName: _,
-         span: G,
-       };
-     }
-     applyToEvent(A, K = {}, q = []) {
-       Nb5.applyScopeDataToEvent(A, this.getScopeData());
-       let Y = [
-         ...q,
-         ...bD8.getGlobalEventProcessors(),
-         ...this._eventProcessors,
-       ];
-       return bD8.notifyEventProcessors(Y, A, K);
-     }
-     setSDKProcessingMetadata(A) {
-       return (
-         (this._sdkProcessingMetadata = {
-           ...this._sdkProcessingMetadata,
-           ...A,
-         }),
-         this
-       );
-     }
-     setPropagationContext(A) {
-       return ((this._propagationContext = A), this);
-     }
-     getPropagationContext() {
-       return this._propagationContext;
-     }
-     captureException(A, K) {
-       let q = K && K.event_id ? K.event_id : Wb.uuid4();
-       if (!this._client)
-         return (
-           Wb.logger.warn(
-             "No client configured on scope - will not capture exception!",
-           ),
-           q
-         );
-       let Y = Error("Sentry syntheticException");
-       return (
-         this._client.captureException(
-           A,
-           { originalException: A, syntheticException: Y, ...K, event_id: q },
-           this,
-         ),
-         q
-       );
-     }
-     captureMessage(A, K, q) {
-       let Y = q && q.event_id ? q.event_id : Wb.uuid4();
-       if (!this._client)
-         return (
-           Wb.logger.warn(
-             "No client configured on scope - will not capture message!",
-           ),
-           Y
-         );
-       let z = Error(A);
-       return (
-         this._client.captureMessage(
-           A,
-           K,
-           { originalException: A, syntheticException: z, ...q, event_id: Y },
-           this,
-         ),
-         Y
-       );
-     }
-     captureEvent(A, K) {
-       let q = K && K.event_id ? K.event_id : Wb.uuid4();
-       if (!this._client)
-         return (
-           Wb.logger.warn(
-             "No client configured on scope - will not capture event!",
-           ),
-           q
-         );
-       return (this._client.captureEvent(A, { ...K, event_id: q }, this), q);
-     }
-     _notifyScopeListeners() {
-       if (!this._notifyingListeners)
-         ((this._notifyingListeners = !0),
-           this._scopeListeners.forEach((A) => {
-             A(this);
-           }),
-           (this._notifyingListeners = !1));
-     }
-   }
-   function vb5() {
-     if (!oaA) oaA = new lwA();
-     return oaA;
-   }
-   function Eb5(A) {
-     oaA = A;
-   }
-   function xD8() {
-     return { traceId: Wb.uuid4(), spanId: Wb.uuid4().substring(16) };
-   }
-   uD8.Scope = lwA;
-   uD8.getGlobalScope = vb5;
-   uD8.setGlobalScope = Eb5;
- });

--- Removed aaA (pretty-v2.1.26.js:66110-66114)
- var aaA = k((BD8) => {
-   Object.defineProperty(BD8, "__esModule", { value: !0 });
-   var Rb5 = "7.120.3";
-   BD8.SDK_VERSION = Rb5;
- });

--- Removed Zb (pretty-v2.1.26.js:66115-66412)
- var Zb = k((UD8) => {
-   Object.defineProperty(UD8, "__esModule", { value: !0 });
-   var gj = H8(),
-     Ib5 = UwA(),
-     Ku1 = mX(),
-     mD8 = naA(),
-     qu1 = pwA(),
-     Sb5 = aaA(),
-     saA = parseFloat(Sb5.SDK_VERSION),
-     hb5 = 100;
-   class oTA {
-     constructor(A, K, q, Y = saA) {
-       this._version = Y;
-       let z;
-       if (!K) ((z = new mD8.Scope()), z.setClient(A));
-       else z = K;
-       let w;
-       if (!q) ((w = new mD8.Scope()), w.setClient(A));
-       else w = q;
-       if (((this._stack = [{ scope: z }]), A)) this.bindClient(A);
-       this._isolationScope = w;
-     }
-     isOlderThan(A) {
-       return this._version < A;
-     }
-     bindClient(A) {
-       let K = this.getStackTop();
-       if (((K.client = A), K.scope.setClient(A), A && A.setupIntegrations))
-         A.setupIntegrations();
-     }
-     pushScope() {
-       let A = this.getScope().clone();
-       return (this.getStack().push({ client: this.getClient(), scope: A }), A);
-     }
-     popScope() {
-       if (this.getStack().length <= 1) return !1;
-       return !!this.getStack().pop();
-     }
-     withScope(A) {
-       let K = this.pushScope(),
-         q;
-       try {
-         q = A(K);
-       } catch (Y) {
-         throw (this.popScope(), Y);
-       }
-       if (gj.isThenable(q))
-         return q.then(
-           (Y) => {
-             return (this.popScope(), Y);
-           },
-           (Y) => {
-             throw (this.popScope(), Y);
-           },
-         );
-       return (this.popScope(), q);
-     }
-     getClient() {
-       return this.getStackTop().client;
-     }
-     getScope() {
-       return this.getStackTop().scope;
-     }
-     getIsolationScope() {
-       return this._isolationScope;
-     }
-     getStack() {
-       return this._stack;
-     }
-     getStackTop() {
-       return this._stack[this._stack.length - 1];
-     }
-     captureException(A, K) {
-       let q = (this._lastEventId = K && K.event_id ? K.event_id : gj.uuid4()),
-         Y = Error("Sentry syntheticException");
-       return (
-         this.getScope().captureException(A, {
-           originalException: A,
-           syntheticException: Y,
-           ...K,
-           event_id: q,
-         }),
-         q
-       );
-     }
-     captureMessage(A, K, q) {
-       let Y = (this._lastEventId = q && q.event_id ? q.event_id : gj.uuid4()),
-         z = Error(A);
-       return (
-         this.getScope().captureMessage(A, K, {
-           originalException: A,
-           syntheticException: z,
-           ...q,
-           event_id: Y,
-         }),
-         Y
-       );
-     }
-     captureEvent(A, K) {
-       let q = K && K.event_id ? K.event_id : gj.uuid4();
-       if (!A.type) this._lastEventId = q;
-       return (this.getScope().captureEvent(A, { ...K, event_id: q }), q);
-     }
-     lastEventId() {
-       return this._lastEventId;
-     }
-     addBreadcrumb(A, K) {
-       let { scope: q, client: Y } = this.getStackTop();
-       if (!Y) return;
-       let { beforeBreadcrumb: z = null, maxBreadcrumbs: w = hb5 } =
-         (Y.getOptions && Y.getOptions()) || {};
-       if (w <= 0) return;
-       let J = { timestamp: gj.dateTimestampInSeconds(), ...A },
-         O = z ? gj.consoleSandbox(() => z(J, K)) : J;
-       if (O === null) return;
-       if (Y.emit) Y.emit("beforeAddBreadcrumb", O, K);
-       q.addBreadcrumb(O, w);
-     }
-     setUser(A) {
-       (this.getScope().setUser(A), this.getIsolationScope().setUser(A));
-     }
-     setTags(A) {
-       (this.getScope().setTags(A), this.getIsolationScope().setTags(A));
-     }
-     setExtras(A) {
-       (this.getScope().setExtras(A), this.getIsolationScope().setExtras(A));
-     }
-     setTag(A, K) {
-       (this.getScope().setTag(A, K), this.getIsolationScope().setTag(A, K));
-     }
-     setExtra(A, K) {
-       (this.getScope().setExtra(A, K), this.getIsolationScope().setExtra(A, K));
-     }
-     setContext(A, K) {
-       (this.getScope().setContext(A, K),
-         this.getIsolationScope().setContext(A, K));
-     }
-     configureScope(A) {
-       let { scope: K, client: q } = this.getStackTop();
-       if (q) A(K);
-     }
-     run(A) {
-       let K = Yu1(this);
-       try {
-         A(this);
-       } finally {
-         Yu1(K);
-       }
-     }
-     getIntegration(A) {
-       let K = this.getClient();
-       if (!K) return null;
-       try {
-         return K.getIntegration(A);
-       } catch (q) {
-         return (
-           Ku1.DEBUG_BUILD &&
-             gj.logger.warn(
-               `Cannot retrieve integration ${A.id} from the current Hub`,
-             ),
-           null
-         );
-       }
-     }
-     startTransaction(A, K) {
-       let q = this._callExtensionMethod("startTransaction", A, K);
-       if (Ku1.DEBUG_BUILD && !q)
-         if (!this.getClient())
-           gj.logger.warn(
-             "Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'",
-           );
-         else
-           gj.logger
-             .warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
- Sentry.addTracingExtensions();
- Sentry.init({...});
- `);
-       return q;
-     }
-     traceHeaders() {
-       return this._callExtensionMethod("traceHeaders");
-     }
-     captureSession(A = !1) {
-       if (A) return this.endSession();
-       this._sendSessionUpdate();
-     }
-     endSession() {
-       let K = this.getStackTop().scope,
-         q = K.getSession();
-       if (q) qu1.closeSession(q);
-       (this._sendSessionUpdate(), K.setSession());
-     }
-     startSession(A) {
-       let { scope: K, client: q } = this.getStackTop(),
-         { release: Y, environment: z = Ib5.DEFAULT_ENVIRONMENT } =
-           (q && q.getOptions()) || {},
-         { userAgent: w } = gj.GLOBAL_OBJ.navigator || {},
-         H = qu1.makeSession({
-           release: Y,
-           environment: z,
-           user: K.getUser(),
-           ...(w && { userAgent: w }),
-           ...A,
-         }),
-         J = K.getSession && K.getSession();
-       if (J && J.status === "ok") qu1.updateSession(J, { status: "exited" });
-       return (this.endSession(), K.setSession(H), H);
-     }
-     shouldSendDefaultPii() {
-       let A = this.getClient(),
-         K = A && A.getOptions();
-       return Boolean(K && K.sendDefaultPii);
-     }
-     _sendSessionUpdate() {
-       let { scope: A, client: K } = this.getStackTop(),
-         q = A.getSession();
-       if (q && K && K.captureSession) K.captureSession(q);
-     }
-     _callExtensionMethod(A, ...K) {
-       let Y = b1A().__SENTRY__;
-       if (Y && Y.extensions && typeof Y.extensions[A] === "function")
-         return Y.extensions[A].apply(this, K);
-       Ku1.DEBUG_BUILD &&
-         gj.logger.warn(
-           `Extension method ${A} couldn't be found, doing nothing.`,
-         );
-     }
-   }
-   function b1A() {
-     return (
-       (gj.GLOBAL_OBJ.__SENTRY__ = gj.GLOBAL_OBJ.__SENTRY__ || {
-         extensions: {},
-         hub: void 0,
-       }),
-       gj.GLOBAL_OBJ
-     );
-   }
-   function Yu1(A) {
-     let K = b1A(),
-       q = rTA(K);
-     return (taA(K, A), q);
-   }
-   function gD8() {
-     let A = b1A();
-     if (A.__SENTRY__ && A.__SENTRY__.acs) {
-       let K = A.__SENTRY__.acs.getCurrentHub();
-       if (K) return K;
-     }
-     return FD8(A);
-   }
-   function bb5() {
-     return gD8().getIsolationScope();
-   }
-   function FD8(A = b1A()) {
-     if (!QD8(A) || rTA(A).isOlderThan(saA)) taA(A, new oTA());
-     return rTA(A);
-   }
-   function xb5(A, K = FD8()) {
-     if (!QD8(A) || rTA(A).isOlderThan(saA)) {
-       let q = K.getClient(),
-         Y = K.getScope(),
-         z = K.getIsolationScope();
-       taA(A, new oTA(q, Y.clone(), z.clone()));
-     }
-   }
-   function ub5(A) {
-     let K = b1A();
-     ((K.__SENTRY__ = K.__SENTRY__ || {}), (K.__SENTRY__.acs = A));
-   }
-   function Bb5(A, K = {}) {
-     let q = b1A();
-     if (q.__SENTRY__ && q.__SENTRY__.acs)
-       return q.__SENTRY__.acs.runWithAsyncContext(A, K);
-     return A();
-   }
-   function QD8(A) {
-     return !!(A && A.__SENTRY__ && A.__SENTRY__.hub);
-   }
-   function rTA(A) {
-     return gj.getGlobalSingleton("hub", () => new oTA(), A);
-   }
-   function taA(A, K) {
-     if (!A) return !1;
-     let q = (A.__SENTRY__ = A.__SENTRY__ || {});
-     return ((q.hub = K), !0);
-   }
-   UD8.API_VERSION = saA;
-   UD8.Hub = oTA;
-   UD8.ensureHubOnCarrier = xb5;
-   UD8.getCurrentHub = gD8;
-   UD8.getHubFromCarrier = rTA;
-   UD8.getIsolationScope = bb5;
-   UD8.getMainCarrier = b1A;
-   UD8.makeMain = Yu1;
-   UD8.runWithAsyncContext = Bb5;
-   UD8.setAsyncContextStrategy = ub5;
-   UD8.setHubOnCarrier = taA;
- });

--- Removed eaA (pretty-v2.1.26.js:66413-66424)
- var eaA = k((dD8) => {
-   Object.defineProperty(dD8, "__esModule", { value: !0 });
-   var pD8 = H8(),
-     rb5 = Zb();
-   function ob5(A) {
-     return (A || rb5.getCurrentHub()).getScope().getTransaction();
-   }
-   var ab5 = pD8.extractTraceparentData;
-   dD8.stripUrlQueryAndFragment = pD8.stripUrlQueryAndFragment;
-   dD8.extractTraceparentData = ab5;
-   dD8.getActiveTransaction = ob5;
- });

--- Removed AsA (pretty-v2.1.26.js:66425-66448)
- var AsA = k((lD8) => {
-   Object.defineProperty(lD8, "__esModule", { value: !0 });
-   var zu1 = H8(),
-     Ax5 = mX(),
-     Kx5 = eaA(),
-     cD8 = !1;
-   function qx5() {
-     if (cD8) return;
-     ((cD8 = !0),
-       zu1.addGlobalErrorInstrumentationHandler(wu1),
-       zu1.addGlobalUnhandledRejectionInstrumentationHandler(wu1));
-   }
-   function wu1() {
-     let A = Kx5.getActiveTransaction();
-     if (A)
-       (Ax5.DEBUG_BUILD &&
-         zu1.logger.log(
-           "[Tracing] Transaction: internal_error -> Global error occured",
-         ),
-         A.setStatus("internal_error"));
-   }
-   wu1.tag = "sentry_tracingErrorCallback";
-   lD8.registerErrorInstrumentation = qx5;
- });

--- Removed iwA (pretty-v2.1.26.js:66449-66529)
- var iwA = k((iD8) => {
-   Object.defineProperty(iD8, "__esModule", { value: !0 });
-   iD8.SpanStatus = void 0;
-   (function (A) {
-     A.Ok = "ok";
-     let q = "deadline_exceeded";
-     A.DeadlineExceeded = q;
-     let Y = "unauthenticated";
-     A.Unauthenticated = Y;
-     let z = "permission_denied";
-     A.PermissionDenied = z;
-     let w = "not_found";
-     A.NotFound = w;
-     let H = "resource_exhausted";
-     A.ResourceExhausted = H;
-     let J = "invalid_argument";
-     A.InvalidArgument = J;
-     let O = "unimplemented";
-     A.Unimplemented = O;
-     let X = "unavailable";
-     A.Unavailable = X;
-     let $ = "internal_error";
-     A.InternalError = $;
-     let _ = "unknown_error";
-     A.UnknownError = _;
-     let G = "cancelled";
-     A.Cancelled = G;
-     let Z = "already_exists";
-     A.AlreadyExists = Z;
-     let W = "failed_precondition";
-     A.FailedPrecondition = W;
-     let D = "aborted";
-     A.Aborted = D;
-     let j = "out_of_range";
-     A.OutOfRange = j;
-     let M = "data_loss";
-     A.DataLoss = M;
-   })(iD8.SpanStatus || (iD8.SpanStatus = {}));
-   function Ju1(A) {
-     if (A < 400 && A >= 100) return "ok";
-     if (A >= 400 && A < 500)
-       switch (A) {
-         case 401:
-           return "unauthenticated";
-         case 403:
-           return "permission_denied";
-         case 404:
-           return "not_found";
-         case 409:
-           return "already_exists";
-         case 413:
-           return "failed_precondition";
-         case 429:
-           return "resource_exhausted";
-         default:
-           return "invalid_argument";
-       }
-     if (A >= 500 && A < 600)
-       switch (A) {
-         case 501:
-           return "unimplemented";
-         case 503:
-           return "unavailable";
-         case 504:
-           return "deadline_exceeded";
-         default:
-           return "internal_error";
-       }
-     return "unknown_error";
-   }
-   var zx5 = Ju1;
-   function wx5(A, K) {
-     (A.setTag("http.status_code", String(K)),
-       A.setData("http.response.status_code", K));
-     let q = Ju1(K);
-     if (q !== "unknown_error") A.setStatus(q);
-   }
-   iD8.getSpanStatusFromHttpCode = Ju1;
-   iD8.setHttpStatus = wx5;
-   iD8.spanStatusfromHttpCode = zx5;
- });

--- Removed Ou1 (pretty-v2.1.26.js:66530-66555)
- var Ou1 = k((nD8) => {
-   Object.defineProperty(nD8, "__esModule", { value: !0 });
-   var Xx5 = H8();
-   function $x5(A, K, q = () => {}) {
-     let Y;
-     try {
-       Y = A();
-     } catch (z) {
-       throw (K(z), q(), z);
-     }
-     return _x5(Y, K, q);
-   }
-   function _x5(A, K, q) {
-     if (Xx5.isThenable(A))
-       return A.then(
-         (Y) => {
-           return (q(), Y);
-         },
-         (Y) => {
-           throw (K(Y), q(), Y);
-         },
-       );
-     return (q(), A);
-   }
-   nD8.handleCallbackErrors = $x5;
- });

--- Removed KsA (pretty-v2.1.26.js:66556-66570)
- var KsA = k((rD8) => {
-   Object.defineProperty(rD8, "__esModule", { value: !0 });
-   var Zx5 = IE();
-   function Wx5(A) {
-     if (typeof __SENTRY_TRACING__ === "boolean" && !__SENTRY_TRACING__)
-       return !1;
-     let K = Zx5.getClient(),
-       q = A || (K && K.getOptions());
-     return (
-       !!q &&
-       (q.enableTracing || "tracesSampleRate" in q || "tracesSampler" in q)
-     );
-   }
-   rD8.hasTracingEnabled = Wx5;
- });

--- Removed wsA (pretty-v2.1.26.js:66571-66766)
- var wsA = k((Aj8) => {
-   Object.defineProperty(Aj8, "__esModule", { value: !0 });
-   var aTA = H8(),
-     jx5 = mX(),
-     qi = Zb(),
-     qsA = KV();
-   AsA();
-   iwA();
-   var Mx5 = h1A(),
-     nwA = IE(),
-     Xu1 = Ou1(),
-     oD8 = KsA();
-   function Px5(A, K, q = () => {}, Y = () => {}) {
-     let z = qi.getCurrentHub(),
-       w = nwA.getCurrentScope(),
-       H = w.getSpan(),
-       J = zsA(A),
-       O = YsA(z, {
-         parentSpan: H,
-         spanContext: J,
-         forceTransaction: !1,
-         scope: w,
-       });
-     return (
-       w.setSpan(O),
-       Xu1.handleCallbackErrors(
-         () => K(O),
-         (X) => {
-           (O && O.setStatus("internal_error"), q(X, O));
-         },
-         () => {
-           (O && O.end(), w.setSpan(H), Y());
-         },
-       )
-     );
-   }
-   function aD8(A, K) {
-     let q = zsA(A);
-     return qi.runWithAsyncContext(() => {
-       return nwA.withScope(A.scope, (Y) => {
-         let z = qi.getCurrentHub(),
-           w = Y.getSpan(),
-           J =
-             A.onlyIfParent && !w
-               ? void 0
-               : YsA(z, {
-                   parentSpan: w,
-                   spanContext: q,
-                   forceTransaction: A.forceTransaction,
-                   scope: Y,
-                 });
-         return Xu1.handleCallbackErrors(
-           () => K(J),
-           () => {
-             if (J) {
-               let { status: O } = qsA.spanToJSON(J);
-               if (!O || O === "ok") J.setStatus("internal_error");
-             }
-           },
-           () => J && J.end(),
-         );
-       });
-     });
-   }
-   var Vx5 = aD8;
-   function fx5(A, K) {
-     let q = zsA(A);
-     return qi.runWithAsyncContext(() => {
-       return nwA.withScope(A.scope, (Y) => {
-         let z = qi.getCurrentHub(),
-           w = Y.getSpan(),
-           J =
-             A.onlyIfParent && !w
-               ? void 0
-               : YsA(z, {
-                   parentSpan: w,
-                   spanContext: q,
-                   forceTransaction: A.forceTransaction,
-                   scope: Y,
-                 });
-         function O() {
-           J && J.end();
-         }
-         return Xu1.handleCallbackErrors(
-           () => K(J, O),
-           () => {
-             if (J && J.isRecording()) {
-               let { status: X } = qsA.spanToJSON(J);
-               if (!X || X === "ok") J.setStatus("internal_error");
-             }
-           },
-         );
-       });
-     });
-   }
-   function Nx5(A) {
-     if (!oD8.hasTracingEnabled()) return;
-     let K = zsA(A),
-       q = qi.getCurrentHub(),
-       Y = A.scope ? A.scope.getSpan() : sD8();
-     if (A.onlyIfParent && !Y) return;
-     let H = (A.scope || nwA.getCurrentScope()).clone();
-     return YsA(q, {
-       parentSpan: Y,
-       spanContext: K,
-       forceTransaction: A.forceTransaction,
-       scope: H,
-     });
-   }
-   function sD8() {
-     return nwA.getCurrentScope().getSpan();
-   }
-   var Tx5 = ({ sentryTrace: A, baggage: K }, q) => {
-     let Y = nwA.getCurrentScope(),
-       {
-         traceparentData: z,
-         dynamicSamplingContext: w,
-         propagationContext: H,
-       } = aTA.tracingContextFromHeaders(A, K);
-     if ((Y.setPropagationContext(H), jx5.DEBUG_BUILD && z))
-       aTA.logger.log(`[Tracing] Continuing trace ${z.traceId}.`);
-     let J = {
-       ...z,
-       metadata: aTA.dropUndefinedKeys({ dynamicSamplingContext: w }),
-     };
-     if (!q) return J;
-     return qi.runWithAsyncContext(() => {
-       return q(J);
-     });
-   };
-   function YsA(
-     A,
-     { parentSpan: K, spanContext: q, forceTransaction: Y, scope: z },
-   ) {
-     if (!oD8.hasTracingEnabled()) return;
-     let w = qi.getIsolationScope(),
-       H;
-     if (K && !Y) H = K.startChild(q);
-     else if (K) {
-       let J = Mx5.getDynamicSamplingContextFromSpan(K),
-         { traceId: O, spanId: X } = K.spanContext(),
-         $ = qsA.spanIsSampled(K);
-       H = A.startTransaction({
-         traceId: O,
-         parentSpanId: X,
-         parentSampled: $,
-         ...q,
-         metadata: { dynamicSamplingContext: J, ...q.metadata },
-       });
-     } else {
-       let {
-         traceId: J,
-         dsc: O,
-         parentSpanId: X,
-         sampled: $,
-       } = { ...w.getPropagationContext(), ...z.getPropagationContext() };
-       H = A.startTransaction({
-         traceId: J,
-         parentSpanId: X,
-         parentSampled: $,
-         ...q,
-         metadata: { dynamicSamplingContext: O, ...q.metadata },
-       });
-     }
-     return (z.setSpan(H), vx5(H, z, w), H);
-   }
-   function zsA(A) {
-     if (A.startTime) {
-       let K = { ...A };
-       return (
-         (K.startTimestamp = qsA.spanTimeInputToSeconds(A.startTime)),
-         delete K.startTime,
-         K
-       );
-     }
-     return A;
-   }
-   var tD8 = "_sentryScope",
-     eD8 = "_sentryIsolationScope";
-   function vx5(A, K, q) {
-     if (A)
-       (aTA.addNonEnumerableProperty(A, eD8, q),
-         aTA.addNonEnumerableProperty(A, tD8, K));
-   }
-   function Ex5(A) {
-     return { scope: A[tD8], isolationScope: A[eD8] };
-   }
-   Aj8.continueTrace = Tx5;
-   Aj8.getActiveSpan = sD8;
-   Aj8.getCapturedScopesOnSpan = Ex5;
-   Aj8.startActiveSpan = Vx5;
-   Aj8.startInactiveSpan = Nx5;
-   Aj8.startSpan = aD8;
-   Aj8.startSpanManual = fx5;
-   Aj8.trace = Px5;
- });

--- Removed tTA (pretty-v2.1.26.js:66767-66813)
- var tTA = k((qj8) => {
-   Object.defineProperty(qj8, "__esModule", { value: !0 });
-   var bx5 = H8();
-   mX();
-   AsA();
-   iwA();
-   var xx5 = wsA(),
-     sTA;
-   function Kj8(A) {
-     return sTA ? sTA.get(A) : void 0;
-   }
-   function ux5(A) {
-     let K = Kj8(A);
-     if (!K) return;
-     let q = {};
-     for (let [, [Y, z]] of K) {
-       if (!q[Y]) q[Y] = [];
-       q[Y].push(bx5.dropUndefinedKeys(z));
-     }
-     return q;
-   }
-   function Bx5(A, K, q, Y, z, w) {
-     let H = xx5.getActiveSpan();
-     if (H) {
-       let J = Kj8(H) || new Map(),
-         O = `${A}:${K}@${Y}`,
-         X = J.get(w);
-       if (X) {
-         let [, $] = X;
-         J.set(w, [
-           O,
-           {
-             min: Math.min($.min, q),
-             max: Math.max($.max, q),
-             count: ($.count += 1),
-             sum: ($.sum += q),
-             tags: $.tags,
-           },
-         ]);
-       } else J.set(w, [O, { min: q, max: q, count: 1, sum: q, tags: z }]);
-       if (!sTA) sTA = new WeakMap();
-       sTA.set(H, J);
-     }
-   }
-   qj8.getMetricSummaryJsonForSpan = ux5;
-   qj8.updateMetricSummaryOnActiveSpan = Bx5;
- });

--- Removed eTA (pretty-v2.1.26.js:66814-66826)
- var eTA = k((Yj8) => {
-   Object.defineProperty(Yj8, "__esModule", { value: !0 });
-   var Fx5 = "sentry.source",
-     Qx5 = "sentry.sample_rate",
-     Ux5 = "sentry.op",
-     px5 = "sentry.origin",
-     dx5 = "profile_id";
-   Yj8.SEMANTIC_ATTRIBUTE_PROFILE_ID = dx5;
-   Yj8.SEMANTIC_ATTRIBUTE_SENTRY_OP = Ux5;
-   Yj8.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN = px5;
-   Yj8.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE = Qx5;
-   Yj8.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE = Fx5;
- });

--- Removed HsA (pretty-v2.1.26.js:66827-67085)
- var HsA = k((Jj8) => {
-   Object.defineProperty(Jj8, "__esModule", { value: !0 });
-   var x1A = H8(),
-     zj8 = mX(),
-     ox5 = tTA(),
-     ng = eTA(),
-     wj8 = dwA(),
-     rwA = KV(),
-     ax5 = iwA();
-   class Hj8 {
-     constructor(A = 1000) {
-       ((this._maxlen = A), (this.spans = []));
-     }
-     add(A) {
-       if (this.spans.length > this._maxlen) A.spanRecorder = void 0;
-       else this.spans.push(A);
-     }
-   }
-   class $u1 {
-     constructor(A = {}) {
-       if (
-         ((this._traceId = A.traceId || x1A.uuid4()),
-         (this._spanId = A.spanId || x1A.uuid4().substring(16)),
-         (this._startTime = A.startTimestamp || x1A.timestampInSeconds()),
-         (this.tags = A.tags ? { ...A.tags } : {}),
-         (this.data = A.data ? { ...A.data } : {}),
-         (this.instrumenter = A.instrumenter || "sentry"),
-         (this._attributes = {}),
-         this.setAttributes({
-           [ng.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: A.origin || "manual",
-           [ng.SEMANTIC_ATTRIBUTE_SENTRY_OP]: A.op,
-           ...A.attributes,
-         }),
-         (this._name = A.name || A.description),
-         A.parentSpanId)
-       )
-         this._parentSpanId = A.parentSpanId;
-       if ("sampled" in A) this._sampled = A.sampled;
-       if (A.status) this._status = A.status;
-       if (A.endTimestamp) this._endTime = A.endTimestamp;
-       if (A.exclusiveTime !== void 0) this._exclusiveTime = A.exclusiveTime;
-       this._measurements = A.measurements ? { ...A.measurements } : {};
-     }
-     get name() {
-       return this._name || "";
-     }
-     set name(A) {
-       this.updateName(A);
-     }
-     get description() {
-       return this._name;
-     }
-     set description(A) {
-       this._name = A;
-     }
-     get traceId() {
-       return this._traceId;
-     }
-     set traceId(A) {
-       this._traceId = A;
-     }
-     get spanId() {
-       return this._spanId;
-     }
-     set spanId(A) {
-       this._spanId = A;
-     }
-     set parentSpanId(A) {
-       this._parentSpanId = A;
-     }
-     get parentSpanId() {
-       return this._parentSpanId;
-     }
-     get sampled() {
-       return this._sampled;
-     }
-     set sampled(A) {
-       this._sampled = A;
-     }
-     get attributes() {
-       return this._attributes;
-     }
-     set attributes(A) {
-       this._attributes = A;
-     }
-     get startTimestamp() {
-       return this._startTime;
-     }
-     set startTimestamp(A) {
-       this._startTime = A;
-     }
-     get endTimestamp() {
-       return this._endTime;
-     }
-     set endTimestamp(A) {
-       this._endTime = A;
-     }
-     get status() {
-       return this._status;
-     }
-     set status(A) {
-       this._status = A;
-     }
-     get op() {
-       return this._attributes[ng.SEMANTIC_ATTRIBUTE_SENTRY_OP];
-     }
-     set op(A) {
-       this.setAttribute(ng.SEMANTIC_ATTRIBUTE_SENTRY_OP, A);
-     }
-     get origin() {
-       return this._attributes[ng.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN];
-     }
-     set origin(A) {
-       this.setAttribute(ng.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, A);
-     }
-     spanContext() {
-       let { _spanId: A, _traceId: K, _sampled: q } = this;
-       return {
-         spanId: A,
-         traceId: K,
-         traceFlags: q ? rwA.TRACE_FLAG_SAMPLED : rwA.TRACE_FLAG_NONE,
-       };
-     }
-     startChild(A) {
-       let K = new $u1({
-         ...A,
-         parentSpanId: this._spanId,
-         sampled: this._sampled,
-         traceId: this._traceId,
-       });
-       if (((K.spanRecorder = this.spanRecorder), K.spanRecorder))
-         K.spanRecorder.add(K);
-       let q = wj8.getRootSpan(this);
-       if (((K.transaction = q), zj8.DEBUG_BUILD && q)) {
-         let Y = (A && A.op) || "< unknown op >",
-           z = rwA.spanToJSON(K).description || "< unknown name >",
-           w = q.spanContext().spanId,
-           H = `[Tracing] Starting '${Y}' span on transaction '${z}' (${w}).`;
-         (x1A.logger.log(H), (this._logMessage = H));
-       }
-       return K;
-     }
-     setTag(A, K) {
-       return ((this.tags = { ...this.tags, [A]: K }), this);
-     }
-     setData(A, K) {
-       return ((this.data = { ...this.data, [A]: K }), this);
-     }
-     setAttribute(A, K) {
-       if (K === void 0) delete this._attributes[A];
-       else this._attributes[A] = K;
-     }
-     setAttributes(A) {
-       Object.keys(A).forEach((K) => this.setAttribute(K, A[K]));
-     }
-     setStatus(A) {
-       return ((this._status = A), this);
-     }
-     setHttpStatus(A) {
-       return (ax5.setHttpStatus(this, A), this);
-     }
-     setName(A) {
-       this.updateName(A);
-     }
-     updateName(A) {
-       return ((this._name = A), this);
-     }
-     isSuccess() {
-       return this._status === "ok";
-     }
-     finish(A) {
-       return this.end(A);
-     }
-     end(A) {
-       if (this._endTime) return;
-       let K = wj8.getRootSpan(this);
-       if (zj8.DEBUG_BUILD && K && K.spanContext().spanId !== this._spanId) {
-         let q = this._logMessage;
-         if (q) x1A.logger.log(q.replace("Starting", "Finishing"));
-       }
-       this._endTime = rwA.spanTimeInputToSeconds(A);
-     }
-     toTraceparent() {
-       return rwA.spanToTraceHeader(this);
-     }
-     toContext() {
-       return x1A.dropUndefinedKeys({
-         data: this._getData(),
-         description: this._name,
-         endTimestamp: this._endTime,
-         op: this.op,
-         parentSpanId: this._parentSpanId,
-         sampled: this._sampled,
-         spanId: this._spanId,
-         startTimestamp: this._startTime,
-         status: this._status,
-         tags: this.tags,
-         traceId: this._traceId,
-       });
-     }
-     updateWithContext(A) {
-       return (
-         (this.data = A.data || {}),
-         (this._name = A.name || A.description),
-         (this._endTime = A.endTimestamp),
-         (this.op = A.op),
-         (this._parentSpanId = A.parentSpanId),
-         (this._sampled = A.sampled),
-         (this._spanId = A.spanId || this._spanId),
-         (this._startTime = A.startTimestamp || this._startTime),
-         (this._status = A.status),
-         (this.tags = A.tags || {}),
-         (this._traceId = A.traceId || this._traceId),
-         this
-       );
-     }
-     getTraceContext() {
-       return rwA.spanToTraceContext(this);
-     }
-     getSpanJSON() {
-       return x1A.dropUndefinedKeys({
-         data: this._getData(),
-         description: this._name,
-         op: this._attributes[ng.SEMANTIC_ATTRIBUTE_SENTRY_OP],
-         parent_span_id: this._parentSpanId,
-         span_id: this._spanId,
-         start_timestamp: this._startTime,
-         status: this._status,
-         tags: Object.keys(this.tags).length > 0 ? this.tags : void 0,
-         timestamp: this._endTime,
-         trace_id: this._traceId,
-         origin: this._attributes[ng.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],
-         _metrics_summary: ox5.getMetricSummaryJsonForSpan(this),
-         profile_id: this._attributes[ng.SEMANTIC_ATTRIBUTE_PROFILE_ID],
-         exclusive_time: this._exclusiveTime,
-         measurements:
-           Object.keys(this._measurements).length > 0
-             ? this._measurements
-             : void 0,
-       });
-     }
-     isRecording() {
-       return !this._endTime && !!this._sampled;
-     }
-     toJSON() {
-       return this.getSpanJSON();
-     }
-     _getData() {
-       let { data: A, _attributes: K } = this,
-         q = Object.keys(A).length > 0,
-         Y = Object.keys(K).length > 0;
-       if (!q && !Y) return;
-       if (q && Y) return { ...A, ...K };
-       return q ? A : K;
-     }
-   }
-   Jj8.Span = $u1;
-   Jj8.SpanRecorder = Hj8;
- });

--- Removed XsA (pretty-v2.1.26.js:67086-67259)
- var XsA = k((_j8) => {
-   Object.defineProperty(_j8, "__esModule", { value: !0 });
-   var owA = H8(),
-     JsA = mX(),
-     ex5 = Zb(),
-     Au5 = tTA(),
-     AvA = eTA(),
-     OsA = KV(),
-     Oj8 = h1A(),
-     Xj8 = HsA(),
-     Ku5 = wsA();
-   class $j8 extends Xj8.Span {
-     constructor(A, K) {
-       super(A);
-       ((this._contexts = {}),
-         (this._hub = K || ex5.getCurrentHub()),
-         (this._name = A.name || ""),
-         (this._metadata = { ...A.metadata }),
-         (this._trimEnd = A.trimEnd),
-         (this.transaction = this));
-       let q = this._metadata.dynamicSamplingContext;
-       if (q) this._frozenDynamicSamplingContext = { ...q };
-     }
-     get name() {
-       return this._name;
-     }
-     set name(A) {
-       this.setName(A);
-     }
-     get metadata() {
-       return {
-         source: "custom",
-         spanMetadata: {},
-         ...this._metadata,
-         ...(this._attributes[AvA.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] && {
-           source: this._attributes[AvA.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],
-         }),
-         ...(this._attributes[AvA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE] && {
-           sampleRate:
-             this._attributes[AvA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],
-         }),
-       };
-     }
-     set metadata(A) {
-       this._metadata = A;
-     }
-     setName(A, K = "custom") {
-       ((this._name = A),
-         this.setAttribute(AvA.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE, K));
-     }
-     updateName(A) {
-       return ((this._name = A), this);
-     }
-     initSpanRecorder(A = 1000) {
-       if (!this.spanRecorder) this.spanRecorder = new Xj8.SpanRecorder(A);
-       this.spanRecorder.add(this);
-     }
-     setContext(A, K) {
-       if (K === null) delete this._contexts[A];
-       else this._contexts[A] = K;
-     }
-     setMeasurement(A, K, q = "") {
-       this._measurements[A] = { value: K, unit: q };
-     }
-     setMetadata(A) {
-       this._metadata = { ...this._metadata, ...A };
-     }
-     end(A) {
-       let K = OsA.spanTimeInputToSeconds(A),
-         q = this._finishTransaction(K);
-       if (!q) return;
-       return this._hub.captureEvent(q);
-     }
-     toContext() {
-       let A = super.toContext();
-       return owA.dropUndefinedKeys({
-         ...A,
-         name: this._name,
-         trimEnd: this._trimEnd,
-       });
-     }
-     updateWithContext(A) {
-       return (
-         super.updateWithContext(A),
-         (this._name = A.name || ""),
-         (this._trimEnd = A.trimEnd),
-         this
-       );
-     }
-     getDynamicSamplingContext() {
-       return Oj8.getDynamicSamplingContextFromSpan(this);
-     }
-     setHub(A) {
-       this._hub = A;
-     }
-     getProfileId() {
-       if (this._contexts !== void 0 && this._contexts.profile !== void 0)
-         return this._contexts.profile.profile_id;
-       return;
-     }
-     _finishTransaction(A) {
-       if (this._endTime !== void 0) return;
-       if (!this._name)
-         (JsA.DEBUG_BUILD &&
-           owA.logger.warn(
-             "Transaction has no name, falling back to `<unlabeled transaction>`.",
-           ),
-           (this._name = "<unlabeled transaction>"));
-       super.end(A);
-       let K = this._hub.getClient();
-       if (K && K.emit) K.emit("finishTransaction", this);
-       if (this._sampled !== !0) {
-         if (
-           (JsA.DEBUG_BUILD &&
-             owA.logger.log(
-               "[Tracing] Discarding transaction because its trace was not chosen to be sampled.",
-             ),
-           K)
-         )
-           K.recordDroppedEvent("sample_rate", "transaction");
-         return;
-       }
-       let q = this.spanRecorder
-         ? this.spanRecorder.spans.filter(
-             (X) => X !== this && OsA.spanToJSON(X).timestamp,
-           )
-         : [];
-       if (this._trimEnd && q.length > 0) {
-         let X = q.map(($) => OsA.spanToJSON($).timestamp).filter(Boolean);
-         this._endTime = X.reduce(($, _) => {
-           return $ > _ ? $ : _;
-         });
-       }
-       let { scope: Y, isolationScope: z } = Ku5.getCapturedScopesOnSpan(this),
-         { metadata: w } = this,
-         { source: H } = w,
-         J = {
-           contexts: { ...this._contexts, trace: OsA.spanToTraceContext(this) },
-           spans: q,
-           start_timestamp: this._startTime,
-           tags: this.tags,
-           timestamp: this._endTime,
-           transaction: this._name,
-           type: "transaction",
-           sdkProcessingMetadata: {
-             ...w,
-             capturedSpanScope: Y,
-             capturedSpanIsolationScope: z,
-             ...owA.dropUndefinedKeys({
-               dynamicSamplingContext:
-                 Oj8.getDynamicSamplingContextFromSpan(this),
-             }),
-           },
-           _metrics_summary: Au5.getMetricSummaryJsonForSpan(this),
-           ...(H && { transaction_info: { source: H } }),
-         };
-       if (Object.keys(this._measurements).length > 0)
-         (JsA.DEBUG_BUILD &&
-           owA.logger.log(
-             "[Measurements] Adding measurements to transaction",
-             JSON.stringify(this._measurements, void 0, 2),
-           ),
-           (J.measurements = this._measurements));
-       return (
-         JsA.DEBUG_BUILD &&
-           owA.logger.log(
-             `[Tracing] Finishing ${this.op} transaction: ${this._name}.`,
-           ),
-         J
-       );
-     }
-   }
-   _j8.Transaction = $j8;
- });

--- Removed Gu1 (pretty-v2.1.26.js:67260-67504)
- var Gu1 = k((Zj8) => {
-   Object.defineProperty(Zj8, "__esModule", { value: !0 });
-   var AD = H8(),
-     qV = mX(),
-     $sA = KV(),
-     Yu5 = HsA(),
-     zu5 = XsA(),
-     _sA = { idleTimeout: 1000, finalTimeout: 30000, heartbeatInterval: 5000 },
-     wu5 = "finishReason",
-     awA = [
-       "heartbeatFailed",
-       "idleTimeout",
-       "documentHidden",
-       "finalTimeout",
-       "externalFinish",
-       "cancelled",
-     ];
-   class _u1 extends Yu5.SpanRecorder {
-     constructor(A, K, q, Y) {
-       super(Y);
-       ((this._pushActivity = A),
-         (this._popActivity = K),
-         (this.transactionSpanId = q));
-     }
-     add(A) {
-       if (A.spanContext().spanId !== this.transactionSpanId) {
-         let K = A.end;
-         if (
-           ((A.end = (...q) => {
-             return (this._popActivity(A.spanContext().spanId), K.apply(A, q));
-           }),
-           $sA.spanToJSON(A).timestamp === void 0)
-         )
-           this._pushActivity(A.spanContext().spanId);
-       }
-       super.add(A);
-     }
-   }
-   class Gj8 extends zu5.Transaction {
-     constructor(
-       A,
-       K,
-       q = _sA.idleTimeout,
-       Y = _sA.finalTimeout,
-       z = _sA.heartbeatInterval,
-       w = !1,
-       H = !1,
-     ) {
-       super(A, K);
-       if (
-         ((this._idleHub = K),
-         (this._idleTimeout = q),
-         (this._finalTimeout = Y),
-         (this._heartbeatInterval = z),
-         (this._onScope = w),
-         (this.activities = {}),
-         (this._heartbeatCounter = 0),
-         (this._finished = !1),
-         (this._idleTimeoutCanceledPermanently = !1),
-         (this._beforeFinishCallbacks = []),
-         (this._finishReason = awA[4]),
-         (this._autoFinishAllowed = !H),
-         w)
-       )
-         (qV.DEBUG_BUILD &&
-           AD.logger.log(
-             `Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`,
-           ),
-           K.getScope().setSpan(this));
-       if (!H) this._restartIdleTimeout();
-       setTimeout(() => {
-         if (!this._finished)
-           (this.setStatus("deadline_exceeded"),
-             (this._finishReason = awA[3]),
-             this.end());
-       }, this._finalTimeout);
-     }
-     end(A) {
-       let K = $sA.spanTimeInputToSeconds(A);
-       if (
-         ((this._finished = !0),
-         (this.activities = {}),
-         this.op === "ui.action.click")
-       )
-         this.setAttribute(wu5, this._finishReason);
-       if (this.spanRecorder) {
-         qV.DEBUG_BUILD &&
-           AD.logger.log(
-             "[Tracing] finishing IdleTransaction",
-             new Date(K * 1000).toISOString(),
-             this.op,
-           );
-         for (let q of this._beforeFinishCallbacks) q(this, K);
-         ((this.spanRecorder.spans = this.spanRecorder.spans.filter((q) => {
-           if (q.spanContext().spanId === this.spanContext().spanId) return !0;
-           if (!$sA.spanToJSON(q).timestamp)
-             (q.setStatus("cancelled"),
-               q.end(K),
-               qV.DEBUG_BUILD &&
-                 AD.logger.log(
-                   "[Tracing] cancelling span since transaction ended early",
-                   JSON.stringify(q, void 0, 2),
-                 ));
-           let { start_timestamp: Y, timestamp: z } = $sA.spanToJSON(q),
-             w = Y && Y < K,
-             H = (this._finalTimeout + this._idleTimeout) / 1000,
-             J = z && Y && z - Y < H;
-           if (qV.DEBUG_BUILD) {
-             let O = JSON.stringify(q, void 0, 2);
-             if (!w)
-               AD.logger.log(
-                 "[Tracing] discarding Span since it happened after Transaction was finished",
-                 O,
-               );
-             else if (!J)
-               AD.logger.log(
-                 "[Tracing] discarding Span since it finished after Transaction final timeout",
-                 O,
-               );
-           }
-           return w && J;
-         })),
-           qV.DEBUG_BUILD &&
-             AD.logger.log("[Tracing] flushing IdleTransaction"));
-       } else
-         qV.DEBUG_BUILD && AD.logger.log("[Tracing] No active IdleTransaction");
-       if (this._onScope) {
-         let q = this._idleHub.getScope();
-         if (q.getTransaction() === this) q.setSpan(void 0);
-       }
-       return super.end(A);
-     }
-     registerBeforeFinishCallback(A) {
-       this._beforeFinishCallbacks.push(A);
-     }
-     initSpanRecorder(A) {
-       if (!this.spanRecorder) {
-         let K = (Y) => {
-             if (this._finished) return;
-             this._pushActivity(Y);
-           },
-           q = (Y) => {
-             if (this._finished) return;
-             this._popActivity(Y);
-           };
-         ((this.spanRecorder = new _u1(K, q, this.spanContext().spanId, A)),
-           qV.DEBUG_BUILD && AD.logger.log("Starting heartbeat"),
-           this._pingHeartbeat());
-       }
-       this.spanRecorder.add(this);
-     }
-     cancelIdleTimeout(
-       A,
-       { restartOnChildSpanChange: K } = { restartOnChildSpanChange: !0 },
-     ) {
-       if (
-         ((this._idleTimeoutCanceledPermanently = K === !1), this._idleTimeoutID)
-       ) {
-         if (
-           (clearTimeout(this._idleTimeoutID),
-           (this._idleTimeoutID = void 0),
-           Object.keys(this.activities).length === 0 &&
-             this._idleTimeoutCanceledPermanently)
-         )
-           ((this._finishReason = awA[5]), this.end(A));
-       }
-     }
-     setFinishReason(A) {
-       this._finishReason = A;
-     }
-     sendAutoFinishSignal() {
-       if (!this._autoFinishAllowed)
-         (qV.DEBUG_BUILD &&
-           AD.logger.log(
-             "[Tracing] Received finish signal for idle transaction.",
-           ),
-           this._restartIdleTimeout(),
-           (this._autoFinishAllowed = !0));
-     }
-     _restartIdleTimeout(A) {
-       (this.cancelIdleTimeout(),
-         (this._idleTimeoutID = setTimeout(() => {
-           if (!this._finished && Object.keys(this.activities).length === 0)
-             ((this._finishReason = awA[1]), this.end(A));
-         }, this._idleTimeout)));
-     }
-     _pushActivity(A) {
-       (this.cancelIdleTimeout(void 0, {
-         restartOnChildSpanChange: !this._idleTimeoutCanceledPermanently,
-       }),
-         qV.DEBUG_BUILD && AD.logger.log(`[Tracing] pushActivity: ${A}`),
-         (this.activities[A] = !0),
-         qV.DEBUG_BUILD &&
-           AD.logger.log(
-             "[Tracing] new activities count",
-             Object.keys(this.activities).length,
-           ));
-     }
-     _popActivity(A) {
-       if (this.activities[A])
-         (qV.DEBUG_BUILD && AD.logger.log(`[Tracing] popActivity ${A}`),
-           delete this.activities[A],
-           qV.DEBUG_BUILD &&
-             AD.logger.log(
-               "[Tracing] new activities count",
-               Object.keys(this.activities).length,
-             ));
-       if (Object.keys(this.activities).length === 0) {
-         let K = AD.timestampInSeconds();
-         if (this._idleTimeoutCanceledPermanently) {
-           if (this._autoFinishAllowed)
-             ((this._finishReason = awA[5]), this.end(K));
-         } else this._restartIdleTimeout(K + this._idleTimeout / 1000);
-       }
-     }
-     _beat() {
-       if (this._finished) return;
-       let A = Object.keys(this.activities).join("");
-       if (A === this._prevHeartbeatString) this._heartbeatCounter++;
-       else this._heartbeatCounter = 1;
-       if (((this._prevHeartbeatString = A), this._heartbeatCounter >= 3)) {
-         if (this._autoFinishAllowed)
-           (qV.DEBUG_BUILD &&
-             AD.logger.log(
-               "[Tracing] Transaction finished because of no change for 3 heart beats",
-             ),
-             this.setStatus("deadline_exceeded"),
-             (this._finishReason = awA[0]),
-             this.end());
-       } else this._pingHeartbeat();
-     }
-     _pingHeartbeat() {
-       (qV.DEBUG_BUILD &&
-         AD.logger.log(
-           `pinging Heartbeat -> current counter: ${this._heartbeatCounter}`,
-         ),
-         setTimeout(() => {
-           this._beat();
-         }, this._heartbeatInterval));
-     }
-   }
-   Zj8.IdleTransaction = Gj8;
-   Zj8.IdleTransactionSpanRecorder = _u1;
-   Zj8.TRACING_DEFAULTS = _sA;
- });

--- Removed Zu1 (pretty-v2.1.26.js:67505-67587)
- var Zu1 = k((Dj8) => {
-   Object.defineProperty(Dj8, "__esModule", { value: !0 });
-   var u1A = H8(),
-     swA = mX(),
-     GsA = eTA(),
-     Xu5 = KsA(),
-     $u5 = KV();
-   function _u5(A, K, q) {
-     if (!Xu5.hasTracingEnabled(K)) return ((A.sampled = !1), A);
-     if (A.sampled !== void 0)
-       return (
-         A.setAttribute(
-           GsA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,
-           Number(A.sampled),
-         ),
-         A
-       );
-     let Y;
-     if (typeof K.tracesSampler === "function")
-       ((Y = K.tracesSampler(q)),
-         A.setAttribute(GsA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE, Number(Y)));
-     else if (q.parentSampled !== void 0) Y = q.parentSampled;
-     else if (typeof K.tracesSampleRate < "u")
-       ((Y = K.tracesSampleRate),
-         A.setAttribute(GsA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE, Number(Y)));
-     else
-       ((Y = 1), A.setAttribute(GsA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE, Y));
-     if (!Wj8(Y))
-       return (
-         swA.DEBUG_BUILD &&
-           u1A.logger.warn(
-             "[Tracing] Discarding transaction because of invalid sample rate.",
-           ),
-         (A.sampled = !1),
-         A
-       );
-     if (!Y)
-       return (
-         swA.DEBUG_BUILD &&
-           u1A.logger.log(
-             `[Tracing] Discarding transaction because ${typeof K.tracesSampler === "function" ? "tracesSampler returned 0 or false" : "a negative sampling decision was inherited or tracesSampleRate is set to 0"}`,
-           ),
-         (A.sampled = !1),
-         A
-       );
-     if (((A.sampled = Math.random() < Y), !A.sampled))
-       return (
-         swA.DEBUG_BUILD &&
-           u1A.logger.log(
-             `[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(Y)})`,
-           ),
-         A
-       );
-     return (
-       swA.DEBUG_BUILD &&
-         u1A.logger.log(
-           `[Tracing] starting ${A.op} transaction - ${$u5.spanToJSON(A).description}`,
-         ),
-       A
-     );
-   }
-   function Wj8(A) {
-     if (u1A.isNaN(A) || !(typeof A === "number" || typeof A === "boolean"))
-       return (
-         swA.DEBUG_BUILD &&
-           u1A.logger.warn(
-             `[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(A)} of type ${JSON.stringify(typeof A)}.`,
-           ),
-         !1
-       );
-     if (A < 0 || A > 1)
-       return (
-         swA.DEBUG_BUILD &&
-           u1A.logger.warn(
-             `[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${A}.`,
-           ),
-         !1
-       );
-     return !0;
-   }
-   Dj8.isValidSampleRate = Wj8;
-   Dj8.sampleTransaction = _u5;
- });

--- Removed Wu1 (pretty-v2.1.26.js:67588-67660)
- var Wu1 = k((Mj8) => {
-   Object.defineProperty(Mj8, "__esModule", { value: !0 });
-   var Wu5 = H8(),
-     Du5 = mX(),
-     ju5 = Zb(),
-     Mu5 = KV(),
-     Pu5 = AsA(),
-     Vu5 = Gu1(),
-     jj8 = Zu1(),
-     fu5 = XsA();
-   function Nu5() {
-     let K = this.getScope().getSpan();
-     return K ? { "sentry-trace": Mu5.spanToTraceHeader(K) } : {};
-   }
-   function Tu5(A, K) {
-     let q = this.getClient(),
-       Y = (q && q.getOptions()) || {},
-       z = Y.instrumenter || "sentry",
-       w = A.instrumenter || "sentry";
-     if (z !== w)
-       (Du5.DEBUG_BUILD &&
-         Wu5.logger
-           .error(`A transaction was started with instrumenter=\`${w}\`, but the SDK is configured with the \`${z}\` instrumenter.
- The transaction will not be sampled. Please use the ${z} instrumentation to start transactions.`),
-         (A.sampled = !1));
-     let H = new fu5.Transaction(A, this);
-     if (
-       ((H = jj8.sampleTransaction(H, Y, {
-         name: A.name,
-         parentSampled: A.parentSampled,
-         transactionContext: A,
-         attributes: { ...A.data, ...A.attributes },
-         ...K,
-       })),
-       H.isRecording())
-     )
-       H.initSpanRecorder(Y._experiments && Y._experiments.maxSpans);
-     if (q && q.emit) q.emit("startTransaction", H);
-     return H;
-   }
-   function vu5(A, K, q, Y, z, w, H, J = !1) {
-     let O = A.getClient(),
-       X = (O && O.getOptions()) || {},
-       $ = new Vu5.IdleTransaction(K, A, q, Y, H, z, J);
-     if (
-       (($ = jj8.sampleTransaction($, X, {
-         name: K.name,
-         parentSampled: K.parentSampled,
-         transactionContext: K,
-         attributes: { ...K.data, ...K.attributes },
-         ...w,
-       })),
-       $.isRecording())
-     )
-       $.initSpanRecorder(X._experiments && X._experiments.maxSpans);
-     if (O && O.emit) O.emit("startTransaction", $);
-     return $;
-   }
-   function Eu5() {
-     let A = ju5.getMainCarrier();
-     if (!A.__SENTRY__) return;
-     if (
-       ((A.__SENTRY__.extensions = A.__SENTRY__.extensions || {}),
-       !A.__SENTRY__.extensions.startTransaction)
-     )
-       A.__SENTRY__.extensions.startTransaction = Tu5;
-     if (!A.__SENTRY__.extensions.traceHeaders)
-       A.__SENTRY__.extensions.traceHeaders = Nu5;
-     Pu5.registerErrorInstrumentation();
-   }
-   Mj8.addTracingExtensions = Eu5;
-   Mj8.startIdleTransaction = vu5;
- });

--- Removed Vj8 (pretty-v2.1.26.js:67661-67669)
- var Vj8 = k((Pj8) => {
-   Object.defineProperty(Pj8, "__esModule", { value: !0 });
-   var Lu5 = eaA();
-   function Ru5(A, K, q) {
-     let Y = Lu5.getActiveTransaction();
-     if (Y) Y.setMeasurement(A, K, q);
-   }
-   Pj8.setMeasurement = Ru5;
- });

--- Removed Du1 (pretty-v2.1.26.js:67670-67711)
- var Du1 = k((fj8) => {
-   Object.defineProperty(fj8, "__esModule", { value: !0 });
-   var twA = H8();
-   function Iu5(A, K) {
-     if (!K) return A;
-     return (
-       (A.sdk = A.sdk || {}),
-       (A.sdk.name = A.sdk.name || K.name),
-       (A.sdk.version = A.sdk.version || K.version),
-       (A.sdk.integrations = [
-         ...(A.sdk.integrations || []),
-         ...(K.integrations || []),
-       ]),
-       (A.sdk.packages = [...(A.sdk.packages || []), ...(K.packages || [])]),
-       A
-     );
-   }
-   function Su5(A, K, q, Y) {
-     let z = twA.getSdkMetadataForEnvelopeHeader(q),
-       w = {
-         sent_at: new Date().toISOString(),
-         ...(z && { sdk: z }),
-         ...(!!Y && K && { dsn: twA.dsnToString(K) }),
-       },
-       H =
-         "aggregates" in A
-           ? [{ type: "sessions" }, A]
-           : [{ type: "session" }, A.toJSON()];
-     return twA.createEnvelope(w, [H]);
-   }
-   function hu5(A, K, q, Y) {
-     let z = twA.getSdkMetadataForEnvelopeHeader(q),
-       w = A.type && A.type !== "replay_event" ? A.type : "event";
-     Iu5(A, q && q.sdk);
-     let H = twA.createEventEnvelopeHeaders(A, z, Y, K);
-     delete A.sdkProcessingMetadata;
-     let J = [{ type: w }, A];
-     return twA.createEnvelope(H, [J]);
-   }
-   fj8.createEventEnvelope = hu5;
-   fj8.createSessionEnvelope = Su5;
- });

--- Removed ju1 (pretty-v2.1.26.js:67712-67771)
- var ju1 = k((Tj8) => {
-   Object.defineProperty(Tj8, "__esModule", { value: !0 });
-   var uu5 = H8(),
-     Bu5 = IE();
-   class Nj8 {
-     constructor(A, K) {
-       if (
-         ((this._client = A),
-         (this.flushTimeout = 60),
-         (this._pendingAggregates = {}),
-         (this._isEnabled = !0),
-         (this._intervalId = setInterval(
-           () => this.flush(),
-           this.flushTimeout * 1000,
-         )),
-         this._intervalId.unref)
-       )
-         this._intervalId.unref();
-       this._sessionAttrs = K;
-     }
-     flush() {
-       let A = this.getSessionAggregates();
-       if (A.aggregates.length === 0) return;
-       ((this._pendingAggregates = {}), this._client.sendSession(A));
-     }
-     getSessionAggregates() {
-       let A = Object.keys(this._pendingAggregates).map((q) => {
-           return this._pendingAggregates[parseInt(q)];
-         }),
-         K = { attrs: this._sessionAttrs, aggregates: A };
-       return uu5.dropUndefinedKeys(K);
-     }
-     close() {
-       (clearInterval(this._intervalId), (this._isEnabled = !1), this.flush());
-     }
-     incrementSessionStatusCount() {
-       if (!this._isEnabled) return;
-       let A = Bu5.getCurrentScope(),
-         K = A.getRequestSession();
-       if (K && K.status)
-         (this._incrementSessionStatusCount(K.status, new Date()),
-           A.setRequestSession(void 0));
-     }
-     _incrementSessionStatusCount(A, K) {
-       let q = new Date(K).setSeconds(0, 0);
-       this._pendingAggregates[q] = this._pendingAggregates[q] || {};
-       let Y = this._pendingAggregates[q];
-       if (!Y.started) Y.started = new Date(q).toISOString();
-       switch (A) {
-         case "errored":
-           return ((Y.errored = (Y.errored || 0) + 1), Y.errored);
-         case "ok":
-           return ((Y.exited = (Y.exited || 0) + 1), Y.exited);
-         default:
-           return ((Y.crashed = (Y.crashed || 0) + 1), Y.crashed);
-       }
-     }
-   }
-   Tj8.SessionFlusher = Nj8;
- });

--- Removed ZsA (pretty-v2.1.26.js:67772-67815)
- var ZsA = k((Ej8) => {
-   Object.defineProperty(Ej8, "__esModule", { value: !0 });
-   var Mu1 = H8(),
-     gu5 = "7";
-   function vj8(A) {
-     let K = A.protocol ? `${A.protocol}:` : "",
-       q = A.port ? `:${A.port}` : "";
-     return `${K}//${A.host}${q}${A.path ? `/${A.path}` : ""}/api/`;
-   }
-   function Fu5(A) {
-     return `${vj8(A)}${A.projectId}/envelope/`;
-   }
-   function Qu5(A, K) {
-     return Mu1.urlEncode({
-       sentry_key: A.publicKey,
-       sentry_version: gu5,
-       ...(K && { sentry_client: `${K.name}/${K.version}` }),
-     });
-   }
-   function Uu5(A, K = {}) {
-     let q = typeof K === "string" ? K : K.tunnel,
-       Y = typeof K === "string" || !K._metadata ? void 0 : K._metadata.sdk;
-     return q ? q : `${Fu5(A)}?${Qu5(A, Y)}`;
-   }
-   function pu5(A, K) {
-     let q = Mu1.makeDsn(A);
-     if (!q) return "";
-     let Y = `${vj8(q)}embed/error-page/`,
-       z = `dsn=${Mu1.dsnToString(q)}`;
-     for (let w in K) {
-       if (w === "dsn") continue;
-       if (w === "onClose") continue;
-       if (w === "user") {
-         let H = K.user;
-         if (!H) continue;
-         if (H.name) z += `&name=${encodeURIComponent(H.name)}`;
-         if (H.email) z += `&email=${encodeURIComponent(H.email)}`;
-       } else z += `&${encodeURIComponent(w)}=${encodeURIComponent(K[w])}`;
-     }
-     return `${Y}?${z}`;
-   }
-   Ej8.getEnvelopeEndpointWithUrlEncodedAuth = Uu5;
-   Ej8.getReportDialogEndpoint = pu5;
- });

--- Removed rg (pretty-v2.1.26.js:67816-67923)
- var rg = k((Cj8) => {
-   Object.defineProperty(Cj8, "__esModule", { value: !0 });
-   var WsA = H8(),
-     Pu1 = mX(),
-     lu5 = cTA(),
-     iu5 = IE(),
-     nu5 = Zb(),
-     Vu1 = [];
-   function ru5(A) {
-     let K = {};
-     return (
-       A.forEach((q) => {
-         let { name: Y } = q,
-           z = K[Y];
-         if (z && !z.isDefaultInstance && q.isDefaultInstance) return;
-         K[Y] = q;
-       }),
-       Object.keys(K).map((q) => K[q])
-     );
-   }
-   function ou5(A) {
-     let K = A.defaultIntegrations || [],
-       q = A.integrations;
-     K.forEach((H) => {
-       H.isDefaultInstance = !0;
-     });
-     let Y;
-     if (Array.isArray(q)) Y = [...K, ...q];
-     else if (typeof q === "function") Y = WsA.arrayify(q(K));
-     else Y = K;
-     let z = ru5(Y),
-       w = eu5(z, (H) => H.name === "Debug");
-     if (w !== -1) {
-       let [H] = z.splice(w, 1);
-       z.push(H);
-     }
-     return z;
-   }
-   function au5(A, K) {
-     let q = {};
-     return (
-       K.forEach((Y) => {
-         if (Y) kj8(A, Y, q);
-       }),
-       q
-     );
-   }
-   function su5(A, K) {
-     for (let q of K) if (q && q.afterAllSetup) q.afterAllSetup(A);
-   }
-   function kj8(A, K, q) {
-     if (q[K.name]) {
-       Pu1.DEBUG_BUILD &&
-         WsA.logger.log(
-           `Integration skipped because it was already installed: ${K.name}`,
-         );
-       return;
-     }
-     if (((q[K.name] = K), Vu1.indexOf(K.name) === -1))
-       (K.setupOnce(lu5.addGlobalEventProcessor, nu5.getCurrentHub),
-         Vu1.push(K.name));
-     if (K.setup && typeof K.setup === "function") K.setup(A);
-     if (A.on && typeof K.preprocessEvent === "function") {
-       let Y = K.preprocessEvent.bind(K);
-       A.on("preprocessEvent", (z, w) => Y(z, w, A));
-     }
-     if (A.addEventProcessor && typeof K.processEvent === "function") {
-       let Y = K.processEvent.bind(K),
-         z = Object.assign((w, H) => Y(w, H, A), { id: K.name });
-       A.addEventProcessor(z);
-     }
-     Pu1.DEBUG_BUILD && WsA.logger.log(`Integration installed: ${K.name}`);
-   }
-   function tu5(A) {
-     let K = iu5.getClient();
-     if (!K || !K.addIntegration) {
-       Pu1.DEBUG_BUILD &&
-         WsA.logger.warn(
-           `Cannot add integration "${A.name}" because no SDK Client is available.`,
-         );
-       return;
-     }
-     K.addIntegration(A);
-   }
-   function eu5(A, K) {
-     for (let q = 0; q < A.length; q++) if (K(A[q]) === !0) return q;
-     return -1;
-   }
-   function AB5(A, K) {
-     return Object.assign(
-       function (...Y) {
-         return K(...Y);
-       },
-       { id: A },
-     );
-   }
-   function KB5(A) {
-     return A;
-   }
-   Cj8.addIntegration = tu5;
-   Cj8.afterSetupIntegrations = su5;
-   Cj8.convertIntegrationFnToClass = AB5;
-   Cj8.defineIntegration = KB5;
-   Cj8.getIntegrationsToSetup = ou5;
-   Cj8.installedIntegrations = Vu1;
-   Cj8.setupIntegration = kj8;
-   Cj8.setupIntegrations = au5;
- });

--- Removed KvA (pretty-v2.1.26.js:67924-67994)
- var KvA = k((Lj8) => {
-   Object.defineProperty(Lj8, "__esModule", { value: !0 });
-   var $B5 = H8();
-   function _B5(A, K, q, Y) {
-     let z = Object.entries($B5.dropUndefinedKeys(Y)).sort((w, H) =>
-       w[0].localeCompare(H[0]),
-     );
-     return `${A}${K}${q}${z}`;
-   }
-   function GB5(A) {
-     let K = 0;
-     for (let q = 0; q < A.length; q++) {
-       let Y = A.charCodeAt(q);
-       ((K = (K << 5) - K + Y), (K &= K));
-     }
-     return K >>> 0;
-   }
-   function ZB5(A) {
-     let K = "";
-     for (let q of A) {
-       let Y = Object.entries(q.tags),
-         z = Y.length > 0 ? `|#${Y.map(([w, H]) => `${w}:${H}`).join(",")}` : "";
-       K += `${q.name}@${q.unit}:${q.metric}|${q.metricType}${z}|T${q.timestamp}
- `;
-     }
-     return K;
-   }
-   function WB5(A) {
-     return A.replace(/[^\w]+/gi, "_");
-   }
-   function DB5(A) {
-     return A.replace(/[^\w\-.]+/gi, "_");
-   }
-   function jB5(A) {
-     return A.replace(/[^\w\-./]+/gi, "");
-   }
-   var MB5 = [
-     [
-       `
- `,
-       "\\n",
-     ],
-     ["\r", "\\r"],
-     ["\t", "\\t"],
-     ["\\", "\\\\"],
-     ["|", "\\u{7c}"],
-     [",", "\\u{2c}"],
-   ];
-   function PB5(A) {
-     for (let [K, q] of MB5) if (A === K) return q;
-     return A;
-   }
-   function VB5(A) {
-     return [...A].reduce((K, q) => K + PB5(q), "");
-   }
-   function fB5(A) {
-     let K = {};
-     for (let q in A)
-       if (Object.prototype.hasOwnProperty.call(A, q)) {
-         let Y = jB5(q);
-         K[Y] = VB5(String(A[q]));
-       }
-     return K;
-   }
-   Lj8.getBucketKey = _B5;
-   Lj8.sanitizeMetricKey = DB5;
-   Lj8.sanitizeTags = fB5;
-   Lj8.sanitizeUnit = WB5;
-   Lj8.serializeMetricBuckets = ZB5;
-   Lj8.simpleHash = GB5;
- });

--- Removed Ij8 (pretty-v2.1.26.js:67995-68011)
- var Ij8 = k((yj8) => {
-   Object.defineProperty(yj8, "__esModule", { value: !0 });
-   var Rj8 = H8(),
-     LB5 = KvA();
-   function RB5(A, K, q, Y) {
-     let z = { sent_at: new Date().toISOString() };
-     if (q && q.sdk) z.sdk = { name: q.sdk.name, version: q.sdk.version };
-     if (!!Y && K) z.dsn = Rj8.dsnToString(K);
-     let w = yB5(A);
-     return Rj8.createEnvelope(z, [w]);
-   }
-   function yB5(A) {
-     let K = LB5.serializeMetricBuckets(A);
-     return [{ type: "statsd", length: K.length }, K];
-   }
-   yj8.createMetricEnvelope = RB5;
- });

--- Removed fu1 (pretty-v2.1.26.js:68012-68470)
- var fu1 = k((mj8) => {
-   Object.defineProperty(mj8, "__esModule", { value: !0 });
-   var pY = H8(),
-     SB5 = ZsA(),
-     Db = mX(),
-     Sj8 = Du1(),
-     hB5 = IE(),
-     bB5 = Zb(),
-     DsA = rg(),
-     xB5 = Ij8(),
-     hj8 = pwA(),
-     uB5 = h1A(),
-     BB5 = laA(),
-     bj8 = "Not capturing exception because it's already been captured.";
-   class xj8 {
-     constructor(A) {
-       if (
-         ((this._options = A),
-         (this._integrations = {}),
-         (this._integrationsInitialized = !1),
-         (this._numProcessing = 0),
-         (this._outcomes = {}),
-         (this._hooks = {}),
-         (this._eventProcessors = []),
-         A.dsn)
-       )
-         this._dsn = pY.makeDsn(A.dsn);
-       else
-         Db.DEBUG_BUILD &&
-           pY.logger.warn("No DSN provided, client will not send events.");
-       if (this._dsn) {
-         let K = SB5.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn, A);
-         this._transport = A.transport({
-           tunnel: this._options.tunnel,
-           recordDroppedEvent: this.recordDroppedEvent.bind(this),
-           ...A.transportOptions,
-           url: K,
-         });
-       }
-     }
-     captureException(A, K, q) {
-       if (pY.checkOrSetAlreadyCaught(A)) {
-         Db.DEBUG_BUILD && pY.logger.log(bj8);
-         return;
-       }
-       let Y = K && K.event_id;
-       return (
-         this._process(
-           this.eventFromException(A, K)
-             .then((z) => this._captureEvent(z, K, q))
-             .then((z) => {
-               Y = z;
-             }),
-         ),
-         Y
-       );
-     }
-     captureMessage(A, K, q, Y) {
-       let z = q && q.event_id,
-         w = pY.isParameterizedString(A) ? A : String(A),
-         H = pY.isPrimitive(A)
-           ? this.eventFromMessage(w, K, q)
-           : this.eventFromException(A, q);
-       return (
-         this._process(
-           H.then((J) => this._captureEvent(J, q, Y)).then((J) => {
-             z = J;
-           }),
-         ),
-         z
-       );
-     }
-     captureEvent(A, K, q) {
-       if (
-         K &&
-         K.originalException &&
-         pY.checkOrSetAlreadyCaught(K.originalException)
-       ) {
-         Db.DEBUG_BUILD && pY.logger.log(bj8);
-         return;
-       }
-       let Y = K && K.event_id,
-         w = (A.sdkProcessingMetadata || {}).capturedSpanScope;
-       return (
-         this._process(
-           this._captureEvent(A, K, w || q).then((H) => {
-             Y = H;
-           }),
-         ),
-         Y
-       );
-     }
-     captureSession(A) {
-       if (typeof A.release !== "string")
-         Db.DEBUG_BUILD &&
-           pY.logger.warn(
-             "Discarded session because of missing or non-string release",
-           );
-       else (this.sendSession(A), hj8.updateSession(A, { init: !1 }));
-     }
-     getDsn() {
-       return this._dsn;
-     }
-     getOptions() {
-       return this._options;
-     }
-     getSdkMetadata() {
-       return this._options._metadata;
-     }
-     getTransport() {
-       return this._transport;
-     }
-     flush(A) {
-       let K = this._transport;
-       if (K) {
-         if (this.metricsAggregator) this.metricsAggregator.flush();
-         return this._isClientDoneProcessing(A).then((q) => {
-           return K.flush(A).then((Y) => q && Y);
-         });
-       } else return pY.resolvedSyncPromise(!0);
-     }
-     close(A) {
-       return this.flush(A).then((K) => {
-         if (((this.getOptions().enabled = !1), this.metricsAggregator))
-           this.metricsAggregator.close();
-         return K;
-       });
-     }
-     getEventProcessors() {
-       return this._eventProcessors;
-     }
-     addEventProcessor(A) {
-       this._eventProcessors.push(A);
-     }
-     setupIntegrations(A) {
-       if (
-         (A && !this._integrationsInitialized) ||
-         (this._isEnabled() && !this._integrationsInitialized)
-       )
-         this._setupIntegrations();
-     }
-     init() {
-       if (this._isEnabled()) this._setupIntegrations();
-     }
-     getIntegrationById(A) {
-       return this.getIntegrationByName(A);
-     }
-     getIntegrationByName(A) {
-       return this._integrations[A];
-     }
-     getIntegration(A) {
-       try {
-         return this._integrations[A.id] || null;
-       } catch (K) {
-         return (
-           Db.DEBUG_BUILD &&
-             pY.logger.warn(
-               `Cannot retrieve integration ${A.id} from the current Client`,
-             ),
-           null
-         );
-       }
-     }
-     addIntegration(A) {
-       let K = this._integrations[A.name];
-       if ((DsA.setupIntegration(this, A, this._integrations), !K))
-         DsA.afterSetupIntegrations(this, [A]);
-     }
-     sendEvent(A, K = {}) {
-       this.emit("beforeSendEvent", A, K);
-       let q = Sj8.createEventEnvelope(
-         A,
-         this._dsn,
-         this._options._metadata,
-         this._options.tunnel,
-       );
-       for (let z of K.attachments || [])
-         q = pY.addItemToEnvelope(
-           q,
-           pY.createAttachmentEnvelopeItem(
-             z,
-             this._options.transportOptions &&
-               this._options.transportOptions.textEncoder,
-           ),
-         );
-       let Y = this._sendEnvelope(q);
-       if (Y) Y.then((z) => this.emit("afterSendEvent", A, z), null);
-     }
-     sendSession(A) {
-       let K = Sj8.createSessionEnvelope(
-         A,
-         this._dsn,
-         this._options._metadata,
-         this._options.tunnel,
-       );
-       this._sendEnvelope(K);
-     }
-     recordDroppedEvent(A, K, q) {
-       if (this._options.sendClientReports) {
-         let Y = typeof q === "number" ? q : 1,
-           z = `${A}:${K}`;
-         (Db.DEBUG_BUILD &&
-           pY.logger.log(
-             `Recording outcome: "${z}"${Y > 1 ? ` (${Y} times)` : ""}`,
-           ),
-           (this._outcomes[z] = (this._outcomes[z] || 0) + Y));
-       }
-     }
-     captureAggregateMetrics(A) {
-       Db.DEBUG_BUILD &&
-         pY.logger.log(
-           `Flushing aggregated metrics, number of metrics: ${A.length}`,
-         );
-       let K = xB5.createMetricEnvelope(
-         A,
-         this._dsn,
-         this._options._metadata,
-         this._options.tunnel,
-       );
-       this._sendEnvelope(K);
-     }
-     on(A, K) {
-       if (!this._hooks[A]) this._hooks[A] = [];
-       this._hooks[A].push(K);
-     }
-     emit(A, ...K) {
-       if (this._hooks[A]) this._hooks[A].forEach((q) => q(...K));
-     }
-     _setupIntegrations() {
-       let { integrations: A } = this._options;
-       ((this._integrations = DsA.setupIntegrations(this, A)),
-         DsA.afterSetupIntegrations(this, A),
-         (this._integrationsInitialized = !0));
-     }
-     _updateSessionFromEvent(A, K) {
-       let q = !1,
-         Y = !1,
-         z = K.exception && K.exception.values;
-       if (z) {
-         Y = !0;
-         for (let J of z) {
-           let O = J.mechanism;
-           if (O && O.handled === !1) {
-             q = !0;
-             break;
-           }
-         }
-       }
-       let w = A.status === "ok";
-       if ((w && A.errors === 0) || (w && q))
-         (hj8.updateSession(A, {
-           ...(q && { status: "crashed" }),
-           errors: A.errors || Number(Y || q),
-         }),
-           this.captureSession(A));
-     }
-     _isClientDoneProcessing(A) {
-       return new pY.SyncPromise((K) => {
-         let q = 0,
-           Y = 1,
-           z = setInterval(() => {
-             if (this._numProcessing == 0) (clearInterval(z), K(!0));
-             else if (((q += Y), A && q >= A)) (clearInterval(z), K(!1));
-           }, Y);
-       });
-     }
-     _isEnabled() {
-       return this.getOptions().enabled !== !1 && this._transport !== void 0;
-     }
-     _prepareEvent(A, K, q, Y = bB5.getIsolationScope()) {
-       let z = this.getOptions(),
-         w = Object.keys(this._integrations);
-       if (!K.integrations && w.length > 0) K.integrations = w;
-       return (
-         this.emit("preprocessEvent", A, K),
-         BB5.prepareEvent(z, A, K, q, this, Y).then((H) => {
-           if (H === null) return H;
-           let J = {
-             ...Y.getPropagationContext(),
-             ...(q ? q.getPropagationContext() : void 0),
-           };
-           if (!(H.contexts && H.contexts.trace) && J) {
-             let { traceId: X, spanId: $, parentSpanId: _, dsc: G } = J;
-             H.contexts = {
-               trace: { trace_id: X, span_id: $, parent_span_id: _ },
-               ...H.contexts,
-             };
-             let Z = G ? G : uB5.getDynamicSamplingContextFromClient(X, this, q);
-             H.sdkProcessingMetadata = {
-               dynamicSamplingContext: Z,
-               ...H.sdkProcessingMetadata,
-             };
-           }
-           return H;
-         })
-       );
-     }
-     _captureEvent(A, K = {}, q) {
-       return this._processEvent(A, K, q).then(
-         (Y) => {
-           return Y.event_id;
-         },
-         (Y) => {
-           if (Db.DEBUG_BUILD) {
-             let z = Y;
-             if (z.logLevel === "log") pY.logger.log(z.message);
-             else pY.logger.warn(z);
-           }
-           return;
-         },
-       );
-     }
-     _processEvent(A, K, q) {
-       let Y = this.getOptions(),
-         { sampleRate: z } = Y,
-         w = Bj8(A),
-         H = uj8(A),
-         J = A.type || "error",
-         O = `before send for type \`${J}\``;
-       if (H && typeof z === "number" && Math.random() > z)
-         return (
-           this.recordDroppedEvent("sample_rate", "error", A),
-           pY.rejectedSyncPromise(
-             new pY.SentryError(
-               `Discarding event because it's not included in the random sample (sampling rate = ${z})`,
-               "log",
-             ),
-           )
-         );
-       let X = J === "replay_event" ? "replay" : J,
-         _ = (A.sdkProcessingMetadata || {}).capturedSpanIsolationScope;
-       return this._prepareEvent(A, K, q, _)
-         .then((G) => {
-           if (G === null)
-             throw (
-               this.recordDroppedEvent("event_processor", X, A),
-               new pY.SentryError(
-                 "An event processor returned `null`, will not send event.",
-                 "log",
-               )
-             );
-           if (K.data && K.data.__sentry__ === !0) return G;
-           let W = gB5(Y, G, K);
-           return mB5(W, O);
-         })
-         .then((G) => {
-           if (G === null) {
-             if ((this.recordDroppedEvent("before_send", X, A), w)) {
-               let j = 1 + (A.spans || []).length;
-               this.recordDroppedEvent("before_send", "span", j);
-             }
-             throw new pY.SentryError(
-               `${O} returned \`null\`, will not send event.`,
-               "log",
-             );
-           }
-           let Z = q && q.getSession();
-           if (!w && Z) this._updateSessionFromEvent(Z, G);
-           if (w) {
-             let D =
-                 (G.sdkProcessingMetadata &&
-                   G.sdkProcessingMetadata.spanCountBeforeProcessing) ||
-                 0,
-               j = G.spans ? G.spans.length : 0,
-               M = D - j;
-             if (M > 0) this.recordDroppedEvent("before_send", "span", M);
-           }
-           let W = G.transaction_info;
-           if (w && W && G.transaction !== A.transaction)
-             G.transaction_info = { ...W, source: "custom" };
-           return (this.sendEvent(G, K), G);
-         })
-         .then(null, (G) => {
-           if (G instanceof pY.SentryError) throw G;
-           throw (
-             this.captureException(G, {
-               data: { __sentry__: !0 },
-               originalException: G,
-             }),
-             new pY.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
- Reason: ${G}`)
-           );
-         });
-     }
-     _process(A) {
-       (this._numProcessing++,
-         A.then(
-           (K) => {
-             return (this._numProcessing--, K);
-           },
-           (K) => {
-             return (this._numProcessing--, K);
-           },
-         ));
-     }
-     _sendEnvelope(A) {
-       if (
-         (this.emit("beforeEnvelope", A), this._isEnabled() && this._transport)
-       )
-         return this._transport.send(A).then(null, (K) => {
-           Db.DEBUG_BUILD && pY.logger.error("Error while sending event:", K);
-         });
-       else Db.DEBUG_BUILD && pY.logger.error("Transport disabled");
-     }
-     _clearOutcomes() {
-       let A = this._outcomes;
-       return (
-         (this._outcomes = {}),
-         Object.keys(A).map((K) => {
-           let [q, Y] = K.split(":");
-           return { reason: q, category: Y, quantity: A[K] };
-         })
-       );
-     }
-   }
-   function mB5(A, K) {
-     let q = `${K} must return \`null\` or a valid event.`;
-     if (pY.isThenable(A))
-       return A.then(
-         (Y) => {
-           if (!pY.isPlainObject(Y) && Y !== null) throw new pY.SentryError(q);
-           return Y;
-         },
-         (Y) => {
-           throw new pY.SentryError(`${K} rejected with ${Y}`);
-         },
-       );
-     else if (!pY.isPlainObject(A) && A !== null) throw new pY.SentryError(q);
-     return A;
-   }
-   function gB5(A, K, q) {
-     let { beforeSend: Y, beforeSendTransaction: z } = A;
-     if (uj8(K) && Y) return Y(K, q);
-     if (Bj8(K) && z) {
-       if (K.spans) {
-         let w = K.spans.length;
-         K.sdkProcessingMetadata = {
-           ...K.sdkProcessingMetadata,
-           spanCountBeforeProcessing: w,
-         };
-       }
-       return z(K, q);
-     }
-     return K;
-   }
-   function uj8(A) {
-     return A.type === void 0;
-   }
-   function Bj8(A) {
-     return A.type === "transaction";
-   }
-   function FB5(A) {
-     let K = hB5.getClient();
-     if (!K || !K.addEventProcessor) return;
-     K.addEventProcessor(A);
-   }
-   mj8.BaseClient = xj8;
-   mj8.addEventProcessor = FB5;
- });

--- Removed Tu1 (pretty-v2.1.26.js:68471-68486)
- var Tu1 = k((gj8) => {
-   Object.defineProperty(gj8, "__esModule", { value: !0 });
-   var Nu1 = H8();
-   function pB5(A, K, q, Y, z) {
-     let w = { sent_at: new Date().toISOString() };
-     if (q && q.sdk) w.sdk = { name: q.sdk.name, version: q.sdk.version };
-     if (!!Y && !!z) w.dsn = Nu1.dsnToString(z);
-     if (K) w.trace = Nu1.dropUndefinedKeys(K);
-     let H = dB5(A);
-     return Nu1.createEnvelope(w, [H]);
-   }
-   function dB5(A) {
-     return [{ type: "check_in" }, A];
-   }
-   gj8.createCheckInEnvelope = pB5;
- });

--- Removed qvA (pretty-v2.1.26.js:68487-68503)
- var qvA = k((Fj8) => {
-   Object.defineProperty(Fj8, "__esModule", { value: !0 });
-   var lB5 = "c",
-     iB5 = "g",
-     nB5 = "s",
-     rB5 = "d",
-     oB5 = 5000,
-     aB5 = 1e4,
-     sB5 = 1e4;
-   Fj8.COUNTER_METRIC_TYPE = lB5;
-   Fj8.DEFAULT_BROWSER_FLUSH_INTERVAL = oB5;
-   Fj8.DEFAULT_FLUSH_INTERVAL = aB5;
-   Fj8.DISTRIBUTION_METRIC_TYPE = rB5;
-   Fj8.GAUGE_METRIC_TYPE = iB5;
-   Fj8.MAX_WEIGHT = sB5;
-   Fj8.SET_METRIC_TYPE = nB5;
- });

--- Removed Lu1 (pretty-v2.1.26.js:68504-68583)
- var Lu1 = k((Qj8) => {
-   Object.defineProperty(Qj8, "__esModule", { value: !0 });
-   var jsA = qvA(),
-     wm5 = KvA();
-   class vu1 {
-     constructor(A) {
-       this._value = A;
-     }
-     get weight() {
-       return 1;
-     }
-     add(A) {
-       this._value += A;
-     }
-     toString() {
-       return `${this._value}`;
-     }
-   }
-   class Eu1 {
-     constructor(A) {
-       ((this._last = A),
-         (this._min = A),
-         (this._max = A),
-         (this._sum = A),
-         (this._count = 1));
-     }
-     get weight() {
-       return 5;
-     }
-     add(A) {
-       if (((this._last = A), A < this._min)) this._min = A;
-       if (A > this._max) this._max = A;
-       ((this._sum += A), this._count++);
-     }
-     toString() {
-       return `${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`;
-     }
-   }
-   class ku1 {
-     constructor(A) {
-       this._value = [A];
-     }
-     get weight() {
-       return this._value.length;
-     }
-     add(A) {
-       this._value.push(A);
-     }
-     toString() {
-       return this._value.join(":");
-     }
-   }
-   class Cu1 {
-     constructor(A) {
-       ((this.first = A), (this._value = new Set([A])));
-     }
-     get weight() {
-       return this._value.size;
-     }
-     add(A) {
-       this._value.add(A);
-     }
-     toString() {
-       return Array.from(this._value)
-         .map((A) => (typeof A === "string" ? wm5.simpleHash(A) : A))
-         .join(":");
-     }
-   }
-   var Hm5 = {
-     [jsA.COUNTER_METRIC_TYPE]: vu1,
-     [jsA.GAUGE_METRIC_TYPE]: Eu1,
-     [jsA.DISTRIBUTION_METRIC_TYPE]: ku1,
-     [jsA.SET_METRIC_TYPE]: Cu1,
-   };
-   Qj8.CounterMetric = vu1;
-   Qj8.DistributionMetric = ku1;
-   Qj8.GaugeMetric = Eu1;
-   Qj8.METRIC_MAP = Hm5;
-   Qj8.SetMetric = Cu1;
- });

--- Removed cj8 (pretty-v2.1.26.js:68584-68670)
- var cj8 = k((dj8) => {
-   Object.defineProperty(dj8, "__esModule", { value: !0 });
-   var Uj8 = H8(),
-     YvA = qvA(),
-     Gm5 = Lu1(),
-     Zm5 = tTA(),
-     MsA = KvA();
-   class pj8 {
-     constructor(A) {
-       if (
-         ((this._client = A),
-         (this._buckets = new Map()),
-         (this._bucketsTotalWeight = 0),
-         (this._interval = setInterval(
-           () => this._flush(),
-           YvA.DEFAULT_FLUSH_INTERVAL,
-         )),
-         this._interval.unref)
-       )
-         this._interval.unref();
-       ((this._flushShift = Math.floor(
-         (Math.random() * YvA.DEFAULT_FLUSH_INTERVAL) / 1000,
-       )),
-         (this._forceFlush = !1));
-     }
-     add(A, K, q, Y = "none", z = {}, w = Uj8.timestampInSeconds()) {
-       let H = Math.floor(w),
-         J = MsA.sanitizeMetricKey(K),
-         O = MsA.sanitizeTags(z),
-         X = MsA.sanitizeUnit(Y),
-         $ = MsA.getBucketKey(A, J, X, O),
-         _ = this._buckets.get($),
-         G = _ && A === YvA.SET_METRIC_TYPE ? _.metric.weight : 0;
-       if (_) {
-         if ((_.metric.add(q), _.timestamp < H)) _.timestamp = H;
-       } else
-         ((_ = {
-           metric: new Gm5.METRIC_MAP[A](q),
-           timestamp: H,
-           metricType: A,
-           name: J,
-           unit: X,
-           tags: O,
-         }),
-           this._buckets.set($, _));
-       let Z = typeof q === "string" ? _.metric.weight - G : q;
-       if (
-         (Zm5.updateMetricSummaryOnActiveSpan(A, J, Z, X, z, $),
-         (this._bucketsTotalWeight += _.metric.weight),
-         this._bucketsTotalWeight >= YvA.MAX_WEIGHT)
-       )
-         this.flush();
-     }
-     flush() {
-       ((this._forceFlush = !0), this._flush());
-     }
-     close() {
-       ((this._forceFlush = !0), clearInterval(this._interval), this._flush());
-     }
-     _flush() {
-       if (this._forceFlush) {
-         ((this._forceFlush = !1),
-           (this._bucketsTotalWeight = 0),
-           this._captureMetrics(this._buckets),
-           this._buckets.clear());
-         return;
-       }
-       let A =
-           Math.floor(Uj8.timestampInSeconds()) -
-           YvA.DEFAULT_FLUSH_INTERVAL / 1000 -
-           this._flushShift,
-         K = new Map();
-       for (let [q, Y] of this._buckets)
-         if (Y.timestamp <= A)
-           (K.set(q, Y), (this._bucketsTotalWeight -= Y.metric.weight));
-       for (let [q] of K) this._buckets.delete(q);
-       this._captureMetrics(K);
-     }
-     _captureMetrics(A) {
-       if (A.size > 0 && this._client.captureAggregateMetrics) {
-         let K = Array.from(A).map(([, q]) => q);
-         this._client.captureAggregateMetrics(K);
-       }
-     }
-   }
-   dj8.MetricsAggregator = pj8;
- });

--- Removed rj8 (pretty-v2.1.26.js:68671-68834)
- var rj8 = k((nj8) => {
-   Object.defineProperty(nj8, "__esModule", { value: !0 });
-   var og = H8(),
-     Dm5 = fu1(),
-     jm5 = Tu1(),
-     PsA = mX(),
-     Mm5 = IE(),
-     Pm5 = cj8(),
-     Vm5 = ju1(),
-     fm5 = Wu1(),
-     Nm5 = KV(),
-     Tm5 = dwA();
-   iwA();
-   var lj8 = h1A();
-   class ij8 extends Dm5.BaseClient {
-     constructor(A) {
-       fm5.addTracingExtensions();
-       super(A);
-       if (A._experiments && A._experiments.metricsAggregator)
-         this.metricsAggregator = new Pm5.MetricsAggregator(this);
-     }
-     eventFromException(A, K) {
-       return og.resolvedSyncPromise(
-         og.eventFromUnknownInput(
-           Mm5.getClient(),
-           this._options.stackParser,
-           A,
-           K,
-         ),
-       );
-     }
-     eventFromMessage(A, K = "info", q) {
-       return og.resolvedSyncPromise(
-         og.eventFromMessage(
-           this._options.stackParser,
-           A,
-           K,
-           q,
-           this._options.attachStacktrace,
-         ),
-       );
-     }
-     captureException(A, K, q) {
-       if (this._options.autoSessionTracking && this._sessionFlusher && q) {
-         let Y = q.getRequestSession();
-         if (Y && Y.status === "ok") Y.status = "errored";
-       }
-       return super.captureException(A, K, q);
-     }
-     captureEvent(A, K, q) {
-       if (this._options.autoSessionTracking && this._sessionFlusher && q) {
-         if (
-           (A.type || "exception") === "exception" &&
-           A.exception &&
-           A.exception.values &&
-           A.exception.values.length > 0
-         ) {
-           let w = q.getRequestSession();
-           if (w && w.status === "ok") w.status = "errored";
-         }
-       }
-       return super.captureEvent(A, K, q);
-     }
-     close(A) {
-       if (this._sessionFlusher) this._sessionFlusher.close();
-       return super.close(A);
-     }
-     initSessionFlusher() {
-       let { release: A, environment: K } = this._options;
-       if (!A)
-         PsA.DEBUG_BUILD &&
-           og.logger.warn(
-             "Cannot initialise an instance of SessionFlusher if no release is provided!",
-           );
-       else
-         this._sessionFlusher = new Vm5.SessionFlusher(this, {
-           release: A,
-           environment: K,
-         });
-     }
-     captureCheckIn(A, K, q) {
-       let Y = "checkInId" in A && A.checkInId ? A.checkInId : og.uuid4();
-       if (!this._isEnabled())
-         return (
-           PsA.DEBUG_BUILD &&
-             og.logger.warn("SDK not enabled, will not capture checkin."),
-           Y
-         );
-       let z = this.getOptions(),
-         { release: w, environment: H, tunnel: J } = z,
-         O = {
-           check_in_id: Y,
-           monitor_slug: A.monitorSlug,
-           status: A.status,
-           release: w,
-           environment: H,
-         };
-       if ("duration" in A) O.duration = A.duration;
-       if (K)
-         O.monitor_config = {
-           schedule: K.schedule,
-           checkin_margin: K.checkinMargin,
-           max_runtime: K.maxRuntime,
-           timezone: K.timezone,
-         };
-       let [X, $] = this._getTraceInfoFromScope(q);
-       if ($) O.contexts = { trace: $ };
-       let _ = jm5.createCheckInEnvelope(
-         O,
-         X,
-         this.getSdkMetadata(),
-         J,
-         this.getDsn(),
-       );
-       return (
-         PsA.DEBUG_BUILD &&
-           og.logger.info("Sending checkin:", A.monitorSlug, A.status),
-         this._sendEnvelope(_),
-         Y
-       );
-     }
-     _captureRequestSession() {
-       if (!this._sessionFlusher)
-         PsA.DEBUG_BUILD &&
-           og.logger.warn(
-             "Discarded request mode session because autoSessionTracking option was disabled",
-           );
-       else this._sessionFlusher.incrementSessionStatusCount();
-     }
-     _prepareEvent(A, K, q, Y) {
-       if (this._options.platform)
-         A.platform = A.platform || this._options.platform;
-       if (this._options.runtime)
-         A.contexts = {
-           ...A.contexts,
-           runtime: (A.contexts || {}).runtime || this._options.runtime,
-         };
-       if (this._options.serverName)
-         A.server_name = A.server_name || this._options.serverName;
-       return super._prepareEvent(A, K, q, Y);
-     }
-     _getTraceInfoFromScope(A) {
-       if (!A) return [void 0, void 0];
-       let K = A.getSpan();
-       if (K)
-         return [
-           Tm5.getRootSpan(K)
-             ? lj8.getDynamicSamplingContextFromSpan(K)
-             : void 0,
-           Nm5.spanToTraceContext(K),
-         ];
-       let {
-           traceId: q,
-           spanId: Y,
-           parentSpanId: z,
-           dsc: w,
-         } = A.getPropagationContext(),
-         H = { trace_id: q, span_id: Y, parent_span_id: z };
-       if (w) return [w, H];
-       return [lj8.getDynamicSamplingContextFromClient(q, this, A), H];
-     }
-   }
-   nj8.ServerRuntimeClient = ij8;
- });

--- Removed tj8 (pretty-v2.1.26.js:68835-68864)
- var tj8 = k((sj8) => {
-   Object.defineProperty(sj8, "__esModule", { value: !0 });
-   var oj8 = H8(),
-     Em5 = mX(),
-     km5 = IE(),
-     Cm5 = Zb();
-   function Lm5(A, K) {
-     if (K.debug === !0)
-       if (Em5.DEBUG_BUILD) oj8.logger.enable();
-       else
-         oj8.consoleSandbox(() => {
-           console.warn(
-             "[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.",
-           );
-         });
-     km5.getCurrentScope().update(K.initialScope);
-     let Y = new A(K);
-     (aj8(Y), Rm5(Y));
-   }
-   function aj8(A) {
-     let q = Cm5.getCurrentHub().getStackTop();
-     ((q.client = A), q.scope.setClient(A));
-   }
-   function Rm5(A) {
-     if (A.init) A.init();
-     else if (A.setupIntegrations) A.setupIntegrations();
-   }
-   sj8.initAndBind = Lm5;
-   sj8.setCurrentClient = aj8;
- });

--- Removed YM8 (pretty-v2.1.26.js:68865-68934)
- var YM8 = k((qM8) => {
-   Object.defineProperty(qM8, "__esModule", { value: !0 });
-   var YV = H8(),
-     ej8 = mX(),
-     KM8 = 30;
-   function Sm5(A, K, q = YV.makePromiseBuffer(A.bufferSize || KM8)) {
-     let Y = {},
-       z = (H) => q.drain(H);
-     function w(H) {
-       let J = [];
-       if (
-         (YV.forEachEnvelopeItem(H, (_, G) => {
-           let Z = YV.envelopeItemTypeToDataCategory(G);
-           if (YV.isRateLimited(Y, Z)) {
-             let W = AM8(_, G);
-             A.recordDroppedEvent("ratelimit_backoff", Z, W);
-           } else J.push(_);
-         }),
-         J.length === 0)
-       )
-         return YV.resolvedSyncPromise();
-       let O = YV.createEnvelope(H[0], J),
-         X = (_) => {
-           YV.forEachEnvelopeItem(O, (G, Z) => {
-             let W = AM8(G, Z);
-             A.recordDroppedEvent(_, YV.envelopeItemTypeToDataCategory(Z), W);
-           });
-         },
-         $ = () =>
-           K({ body: YV.serializeEnvelope(O, A.textEncoder) }).then(
-             (_) => {
-               if (
-                 _.statusCode !== void 0 &&
-                 (_.statusCode < 200 || _.statusCode >= 300)
-               )
-                 ej8.DEBUG_BUILD &&
-                   YV.logger.warn(
-                     `Sentry responded with status code ${_.statusCode} to sent event.`,
-                   );
-               return ((Y = YV.updateRateLimits(Y, _)), _);
-             },
-             (_) => {
-               throw (X("network_error"), _);
-             },
-           );
-       return q.add($).then(
-         (_) => _,
-         (_) => {
-           if (_ instanceof YV.SentryError)
-             return (
-               ej8.DEBUG_BUILD &&
-                 YV.logger.error(
-                   "Skipped sending event because buffer is full.",
-                 ),
-               X("queue_overflow"),
-               YV.resolvedSyncPromise()
-             );
-           else throw _;
-         },
-       );
-     }
-     return ((w.__sentry__baseTransport__ = !0), { send: w, flush: z });
-   }
-   function AM8(A, K) {
-     if (K !== "event" && K !== "transaction") return;
-     return Array.isArray(A) ? A[1] : void 0;
-   }
-   qM8.DEFAULT_TRANSPORT_BUFFER_SIZE = KM8;
-   qM8.createTransport = Sm5;
- });

--- Removed HM8 (pretty-v2.1.26.js:68935-69012)
- var HM8 = k((wM8) => {
-   Object.defineProperty(wM8, "__esModule", { value: !0 });
-   var yu1 = H8(),
-     xm5 = mX(),
-     zM8 = 100,
-     Iu1 = 5000,
-     um5 = 3600000;
-   function Ru1(A, K) {
-     xm5.DEBUG_BUILD && yu1.logger.info(`[Offline]: ${A}`, K);
-   }
-   function Bm5(A) {
-     return (K) => {
-       let q = A(K),
-         Y = K.createStore ? K.createStore(K) : void 0,
-         z = Iu1,
-         w;
-       function H($, _, G) {
-         if (
-           yu1.envelopeContainsItemType($, [
-             "replay_event",
-             "replay_recording",
-             "client_report",
-           ])
-         )
-           return !1;
-         if (K.shouldStore) return K.shouldStore($, _, G);
-         return !0;
-       }
-       function J($) {
-         if (!Y) return;
-         if (w) clearTimeout(w);
-         if (
-           ((w = setTimeout(async () => {
-             w = void 0;
-             let _ = await Y.pop();
-             if (_)
-               (Ru1("Attempting to send previously queued event"),
-                 X(_).catch((G) => {
-                   Ru1("Failed to retry sending", G);
-                 }));
-           }, $)),
-           typeof w !== "number" && w.unref)
-         )
-           w.unref();
-       }
-       function O() {
-         if (w) return;
-         (J(z), (z = Math.min(z * 2, um5)));
-       }
-       async function X($) {
-         try {
-           let _ = await q.send($),
-             G = zM8;
-           if (_) {
-             if (_.headers && _.headers["retry-after"])
-               G = yu1.parseRetryAfterHeader(_.headers["retry-after"]);
-             else if ((_.statusCode || 0) >= 400) return _;
-           }
-           return (J(G), (z = Iu1), _);
-         } catch (_) {
-           if (Y && (await H($, _, z)))
-             return (
-               await Y.insert($),
-               O(),
-               Ru1("Error sending. Event queued", _),
-               {}
-             );
-           else throw _;
-         }
-       }
-       if (K.flushAtStartup) O();
-       return { send: X, flush: ($) => q.flush($) };
-     };
-   }
-   wM8.MIN_DELAY = zM8;
-   wM8.START_DELAY = Iu1;
-   wM8.makeOfflineTransport = Bm5;
- });

--- Removed OM8 (pretty-v2.1.26.js:69013-69083)
- var OM8 = k((JM8) => {
-   Object.defineProperty(JM8, "__esModule", { value: !0 });
-   var Su1 = H8(),
-     Qm5 = ZsA();
-   function hu1(A, K) {
-     let q;
-     return (
-       Su1.forEachEnvelopeItem(A, (Y, z) => {
-         if (K.includes(z)) q = Array.isArray(Y) ? Y[1] : void 0;
-         return !!q;
-       }),
-       q
-     );
-   }
-   function Um5(A, K) {
-     return (q) => {
-       let Y = A(q);
-       return {
-         ...Y,
-         send: async (z) => {
-           let w = hu1(z, ["event", "transaction", "profile", "replay_event"]);
-           if (w) w.release = K;
-           return Y.send(z);
-         },
-       };
-     };
-   }
-   function pm5(A, K) {
-     return Su1.createEnvelope(K ? { ...A[0], dsn: K } : A[0], A[1]);
-   }
-   function dm5(A, K) {
-     return (q) => {
-       let Y = A(q),
-         z = new Map();
-       function w(O, X) {
-         let $ = X ? `${O}:${X}` : O,
-           _ = z.get($);
-         if (!_) {
-           let G = Su1.dsnFromString(O);
-           if (!G) return;
-           let Z = Qm5.getEnvelopeEndpointWithUrlEncodedAuth(G, q.tunnel);
-           ((_ = X ? Um5(A, X)({ ...q, url: Z }) : A({ ...q, url: Z })),
-             z.set($, _));
-         }
-         return [O, _];
-       }
-       async function H(O) {
-         function X(G) {
-           let Z = G && G.length ? G : ["event"];
-           return hu1(O, Z);
-         }
-         let $ = K({ envelope: O, getEvent: X })
-           .map((G) => {
-             if (typeof G === "string") return w(G, void 0);
-             else return w(G.dsn, G.release);
-           })
-           .filter((G) => !!G);
-         if ($.length === 0) $.push(["", Y]);
-         return (await Promise.all($.map(([G, Z]) => Z.send(pm5(O, G)))))[0];
-       }
-       async function J(O) {
-         let X = [await Y.flush(O)];
-         for (let [, $] of z) X.push(await $.flush(O));
-         return X.every(($) => $);
-       }
-       return { send: H, flush: J };
-     };
-   }
-   JM8.eventFromEnvelope = hu1;
-   JM8.makeMultiplexedTransport = dm5;
- });

--- Removed _M8 (pretty-v2.1.26.js:69084-69097)
- var _M8 = k(($M8) => {
-   Object.defineProperty($M8, "__esModule", { value: !0 });
-   var XM8 = H8();
-   function im5(A, K) {
-     let q = { sent_at: new Date().toISOString() };
-     if (K) q.dsn = XM8.dsnToString(K);
-     let Y = A.map(nm5);
-     return XM8.createEnvelope(q, Y);
-   }
-   function nm5(A) {
-     return [{ type: "span" }, A];
-   }
-   $M8.createSpanEnvelope = im5;
- });

--- Removed WM8 (pretty-v2.1.26.js:69098-69120)
- var WM8 = k((ZM8) => {
-   Object.defineProperty(ZM8, "__esModule", { value: !0 });
-   function om5(A, K) {
-     let q = K && tm5(K) ? K.getClient() : K,
-       Y = q && q.getDsn(),
-       z = q && q.getOptions().tunnel;
-     return sm5(A, Y) || am5(A, z);
-   }
-   function am5(A, K) {
-     if (!K) return !1;
-     return GM8(A) === GM8(K);
-   }
-   function sm5(A, K) {
-     return K ? A.includes(K.host) : !1;
-   }
-   function GM8(A) {
-     return A[A.length - 1] === "/" ? A.slice(0, -1) : A;
-   }
-   function tm5(A) {
-     return A.getClient !== void 0;
-   }
-   ZM8.isSentryRequestUrl = om5;
- });

--- Removed jM8 (pretty-v2.1.26.js:69121-69134)
- var jM8 = k((DM8) => {
-   Object.defineProperty(DM8, "__esModule", { value: !0 });
-   function Ag5(A, ...K) {
-     let q = new String(String.raw(A, ...K));
-     return (
-       (q.__sentry_template_string__ = A.join("\x00")
-         .replace(/%/g, "%%")
-         .replace(/\0/g, "%s")),
-       (q.__sentry_template_values__ = K),
-       q
-     );
-   }
-   DM8.parameterize = Ag5;
- });

--- Removed VM8 (pretty-v2.1.26.js:69135-69152)
- var VM8 = k((PM8) => {
-   Object.defineProperty(PM8, "__esModule", { value: !0 });
-   var MM8 = aaA();
-   function qg5(A, K, q = [K], Y = "npm") {
-     let z = A._metadata || {};
-     if (!z.sdk)
-       z.sdk = {
-         name: `sentry.javascript.${K}`,
-         packages: q.map((w) => ({
-           name: `${Y}:@sentry/${w}`,
-           version: MM8.SDK_VERSION,
-         })),
-         version: MM8.SDK_VERSION,
-       };
-     A._metadata = z;
-   }
-   PM8.applySdkMetadata = qg5;
- });

--- Removed EM8 (pretty-v2.1.26.js:69153-69198)
- var EM8 = k((vM8) => {
-   Object.defineProperty(vM8, "__esModule", { value: !0 });
-   var bu1 = H8(),
-     NM8 = new Map(),
-     fM8 = new Set();
-   function zg5(A) {
-     if (!bu1.GLOBAL_OBJ._sentryModuleMetadata) return;
-     for (let K of Object.keys(bu1.GLOBAL_OBJ._sentryModuleMetadata)) {
-       let q = bu1.GLOBAL_OBJ._sentryModuleMetadata[K];
-       if (fM8.has(K)) continue;
-       fM8.add(K);
-       let Y = A(K);
-       for (let z of Y.reverse())
-         if (z.filename) {
-           NM8.set(z.filename, q);
-           break;
-         }
-     }
-   }
-   function TM8(A, K) {
-     return (zg5(A), NM8.get(K));
-   }
-   function wg5(A, K) {
-     try {
-       K.exception.values.forEach((q) => {
-         if (!q.stacktrace) return;
-         for (let Y of q.stacktrace.frames || []) {
-           if (!Y.filename) continue;
-           let z = TM8(A, Y.filename);
-           if (z) Y.module_metadata = z;
-         }
-       });
-     } catch (q) {}
-   }
-   function Hg5(A) {
-     try {
-       A.exception.values.forEach((K) => {
-         if (!K.stacktrace) return;
-         for (let q of K.stacktrace.frames || []) delete q.module_metadata;
-       });
-     } catch (K) {}
-   }
-   vM8.addMetadataToStackFrames = wg5;
-   vM8.getMetadataForUrl = TM8;
-   vM8.stripMetadataFromStackFrames = Hg5;
- });

--- Removed IM8 (pretty-v2.1.26.js:69199-69230)
- var IM8 = k((yM8) => {
-   Object.defineProperty(yM8, "__esModule", { value: !0 });
-   var $g5 = H8(),
-     CM8 = rg(),
-     kM8 = EM8(),
-     LM8 = "ModuleMetadata",
-     _g5 = () => {
-       return {
-         name: LM8,
-         setupOnce() {},
-         setup(A) {
-           if (typeof A.on !== "function") return;
-           A.on("beforeEnvelope", (K) => {
-             $g5.forEachEnvelopeItem(K, (q, Y) => {
-               if (Y === "event") {
-                 let z = Array.isArray(q) ? q[1] : void 0;
-                 if (z) (kM8.stripMetadataFromStackFrames(z), (q[1] = z));
-               }
-             });
-           });
-         },
-         processEvent(A, K, q) {
-           let Y = q.getOptions().stackParser;
-           return (kM8.addMetadataToStackFrames(Y, A), A);
-         },
-       };
-     },
-     RM8 = CM8.defineIntegration(_g5),
-     Gg5 = CM8.convertIntegrationFnToClass(LM8, RM8);
-   yM8.ModuleMetadata = Gg5;
-   yM8.moduleMetadataIntegration = RM8;
- });

--- Removed BM8 (pretty-v2.1.26.js:69231-69331)
- var BM8 = k((uM8) => {
-   Object.defineProperty(uM8, "__esModule", { value: !0 });
-   var SM8 = H8(),
-     hM8 = rg(),
-     Dg5 = KV(),
-     xu1 = {
-       include: {
-         cookies: !0,
-         data: !0,
-         headers: !0,
-         ip: !1,
-         query_string: !0,
-         url: !0,
-         user: { id: !0, username: !0, email: !0 },
-       },
-       transactionNamingScheme: "methodPath",
-     },
-     bM8 = "RequestData",
-     jg5 = (A = {}) => {
-       let K = SM8.addRequestDataToEvent,
-         q = {
-           ...xu1,
-           ...A,
-           include: {
-             method: !0,
-             ...xu1.include,
-             ...A.include,
-             user:
-               A.include && typeof A.include.user === "boolean"
-                 ? A.include.user
-                 : { ...xu1.include.user, ...(A.include || {}).user },
-           },
-         };
-       return {
-         name: bM8,
-         setupOnce() {},
-         processEvent(Y, z, w) {
-           let { transactionNamingScheme: H } = q,
-             { sdkProcessingMetadata: J = {} } = Y,
-             O = J.request;
-           if (!O) return Y;
-           let X =
-               J.requestDataOptionsFromExpressHandler ||
-               J.requestDataOptionsFromGCPWrapper ||
-               Pg5(q),
-             $ = K(Y, O, X);
-           if (Y.type === "transaction" || H === "handler") return $;
-           let G = O._sentryTransaction;
-           if (G) {
-             let Z = Dg5.spanToJSON(G).description || "",
-               W =
-                 Vg5(w) === "sentry.javascript.nextjs"
-                   ? Z.startsWith("/api")
-                   : H !== "path",
-               [D] = SM8.extractPathForTransaction(O, {
-                 path: !0,
-                 method: W,
-                 customRoute: Z,
-               });
-             $.transaction = D;
-           }
-           return $;
-         },
-       };
-     },
-     xM8 = hM8.defineIntegration(jg5),
-     Mg5 = hM8.convertIntegrationFnToClass(bM8, xM8);
-   function Pg5(A) {
-     let {
-         transactionNamingScheme: K,
-         include: { ip: q, user: Y, ...z },
-       } = A,
-       w = [];
-     for (let [J, O] of Object.entries(z)) if (O) w.push(J);
-     let H;
-     if (Y === void 0) H = !0;
-     else if (typeof Y === "boolean") H = Y;
-     else {
-       let J = [];
-       for (let [O, X] of Object.entries(Y)) if (X) J.push(O);
-       H = J;
-     }
-     return {
-       include: {
-         ip: q,
-         user: H,
-         request: w.length !== 0 ? w : void 0,
-         transaction: K,
-       },
-     };
-   }
-   function Vg5(A) {
-     try {
-       return A.getOptions()._metadata.sdk.name;
-     } catch (K) {
-       return;
-     }
-   }
-   uM8.RequestData = Mg5;
-   uM8.requestDataIntegration = xM8;
- });

--- Removed uu1 (pretty-v2.1.26.js:69332-69497)
- var uu1 = k((QM8) => {
-   Object.defineProperty(QM8, "__esModule", { value: !0 });
-   var U_ = H8(),
-     B1A = mX(),
-     mM8 = rg(),
-     Tg5 = [
-       /^Script error\.?$/,
-       /^Javascript error: Script error\.? on line 0$/,
-       /^ResizeObserver loop completed with undelivered notifications.$/,
-       /^Cannot redefine property: googletag$/,
-     ],
-     vg5 = [
-       /^.*\/healthcheck$/,
-       /^.*\/healthy$/,
-       /^.*\/live$/,
-       /^.*\/ready$/,
-       /^.*\/heartbeat$/,
-       /^.*\/health$/,
-       /^.*\/healthz$/,
-     ],
-     gM8 = "InboundFilters",
-     Eg5 = (A = {}) => {
-       return {
-         name: gM8,
-         setupOnce() {},
-         processEvent(K, q, Y) {
-           let z = Y.getOptions(),
-             w = Cg5(A, z);
-           return Lg5(K, w) ? null : K;
-         },
-       };
-     },
-     FM8 = mM8.defineIntegration(Eg5),
-     kg5 = mM8.convertIntegrationFnToClass(gM8, FM8);
-   function Cg5(A = {}, K = {}) {
-     return {
-       allowUrls: [...(A.allowUrls || []), ...(K.allowUrls || [])],
-       denyUrls: [...(A.denyUrls || []), ...(K.denyUrls || [])],
-       ignoreErrors: [
-         ...(A.ignoreErrors || []),
-         ...(K.ignoreErrors || []),
-         ...(A.disableErrorDefaults ? [] : Tg5),
-       ],
-       ignoreTransactions: [
-         ...(A.ignoreTransactions || []),
-         ...(K.ignoreTransactions || []),
-         ...(A.disableTransactionDefaults ? [] : vg5),
-       ],
-       ignoreInternal: A.ignoreInternal !== void 0 ? A.ignoreInternal : !0,
-     };
-   }
-   function Lg5(A, K) {
-     if (K.ignoreInternal && bg5(A))
-       return (
-         B1A.DEBUG_BUILD &&
-           U_.logger.warn(`Event dropped due to being internal Sentry Error.
- Event: ${U_.getEventDescription(A)}`),
-         !0
-       );
-     if (Rg5(A, K.ignoreErrors))
-       return (
-         B1A.DEBUG_BUILD &&
-           U_.logger
-             .warn(`Event dropped due to being matched by \`ignoreErrors\` option.
- Event: ${U_.getEventDescription(A)}`),
-         !0
-       );
-     if (yg5(A, K.ignoreTransactions))
-       return (
-         B1A.DEBUG_BUILD &&
-           U_.logger
-             .warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
- Event: ${U_.getEventDescription(A)}`),
-         !0
-       );
-     if (Ig5(A, K.denyUrls))
-       return (
-         B1A.DEBUG_BUILD &&
-           U_.logger
-             .warn(`Event dropped due to being matched by \`denyUrls\` option.
- Event: ${U_.getEventDescription(A)}.
- Url: ${VsA(A)}`),
-         !0
-       );
-     if (!Sg5(A, K.allowUrls))
-       return (
-         B1A.DEBUG_BUILD &&
-           U_.logger
-             .warn(`Event dropped due to not being matched by \`allowUrls\` option.
- Event: ${U_.getEventDescription(A)}.
- Url: ${VsA(A)}`),
-         !0
-       );
-     return !1;
-   }
-   function Rg5(A, K) {
-     if (A.type || !K || !K.length) return !1;
-     return hg5(A).some((q) => U_.stringMatchesSomePattern(q, K));
-   }
-   function yg5(A, K) {
-     if (A.type !== "transaction" || !K || !K.length) return !1;
-     let q = A.transaction;
-     return q ? U_.stringMatchesSomePattern(q, K) : !1;
-   }
-   function Ig5(A, K) {
-     if (!K || !K.length) return !1;
-     let q = VsA(A);
-     return !q ? !1 : U_.stringMatchesSomePattern(q, K);
-   }
-   function Sg5(A, K) {
-     if (!K || !K.length) return !0;
-     let q = VsA(A);
-     return !q ? !0 : U_.stringMatchesSomePattern(q, K);
-   }
-   function hg5(A) {
-     let K = [];
-     if (A.message) K.push(A.message);
-     let q;
-     try {
-       q = A.exception.values[A.exception.values.length - 1];
-     } catch (Y) {}
-     if (q) {
-       if (q.value) {
-         if ((K.push(q.value), q.type)) K.push(`${q.type}: ${q.value}`);
-       }
-     }
-     if (B1A.DEBUG_BUILD && K.length === 0)
-       U_.logger.error(
-         `Could not extract message for event ${U_.getEventDescription(A)}`,
-       );
-     return K;
-   }
-   function bg5(A) {
-     try {
-       return A.exception.values[0].type === "SentryError";
-     } catch (K) {}
-     return !1;
-   }
-   function xg5(A = []) {
-     for (let K = A.length - 1; K >= 0; K--) {
-       let q = A[K];
-       if (q && q.filename !== "<anonymous>" && q.filename !== "[native code]")
-         return q.filename || null;
-     }
-     return null;
-   }
-   function VsA(A) {
-     try {
-       let K;
-       try {
-         K = A.exception.values[0].stacktrace.frames;
-       } catch (q) {}
-       return K ? xg5(K) : null;
-     } catch (K) {
-       return (
-         B1A.DEBUG_BUILD &&
-           U_.logger.error(
-             `Cannot extract url for event ${U_.getEventDescription(A)}`,
-           ),
-         null
-       );
-     }
-   }
-   QM8.InboundFilters = kg5;
-   QM8.inboundFiltersIntegration = FM8;
- });

--- Removed Bu1 (pretty-v2.1.26.js:69498-69528)
- var Bu1 = k((iM8) => {
-   Object.defineProperty(iM8, "__esModule", { value: !0 });
-   var mg5 = H8(),
-     gg5 = IE(),
-     dM8 = rg(),
-     UM8,
-     cM8 = "FunctionToString",
-     pM8 = new WeakMap(),
-     Fg5 = () => {
-       return {
-         name: cM8,
-         setupOnce() {
-           UM8 = Function.prototype.toString;
-           try {
-             Function.prototype.toString = function (...A) {
-               let K = mg5.getOriginalFunction(this),
-                 q = pM8.has(gg5.getClient()) && K !== void 0 ? K : this;
-               return UM8.apply(q, A);
-             };
-           } catch (A) {}
-         },
-         setup(A) {
-           pM8.set(A, !0);
-         },
-       };
-     },
-     lM8 = dM8.defineIntegration(Fg5),
-     Qg5 = dM8.convertIntegrationFnToClass(cM8, lM8);
-   iM8.FunctionToString = Qg5;
-   iM8.functionToStringIntegration = lM8;
- });

--- Removed mu1 (pretty-v2.1.26.js:69529-69560)
- var mu1 = k((sM8) => {
-   Object.defineProperty(sM8, "__esModule", { value: !0 });
-   var nM8 = H8(),
-     rM8 = rg(),
-     dg5 = "cause",
-     cg5 = 5,
-     oM8 = "LinkedErrors",
-     lg5 = (A = {}) => {
-       let K = A.limit || cg5,
-         q = A.key || dg5;
-       return {
-         name: oM8,
-         setupOnce() {},
-         preprocessEvent(Y, z, w) {
-           let H = w.getOptions();
-           nM8.applyAggregateErrorsToEvent(
-             nM8.exceptionFromError,
-             H.stackParser,
-             H.maxValueLength,
-             q,
-             K,
-             Y,
-             z,
-           );
-         },
-       };
-     },
-     aM8 = rM8.defineIntegration(lg5),
-     ig5 = rM8.convertIntegrationFnToClass(oM8, aM8);
-   sM8.LinkedErrors = ig5;
-   sM8.linkedErrorsIntegration = aM8;
- });

--- Removed eM8 (pretty-v2.1.26.js:69561-69569)
- var eM8 = k((tM8) => {
-   Object.defineProperty(tM8, "__esModule", { value: !0 });
-   var og5 = Bu1(),
-     ag5 = uu1(),
-     sg5 = mu1();
-   tM8.FunctionToString = og5.FunctionToString;
-   tM8.InboundFilters = ag5.InboundFilters;
-   tM8.LinkedErrors = sg5.LinkedErrors;
- });

--- Removed YP8 (pretty-v2.1.26.js:69570-69622)
- var YP8 = k((qP8) => {
-   Object.defineProperty(qP8, "__esModule", { value: !0 });
-   var KF5 = H8(),
-     AP8 = qvA(),
-     qF5 = Lu1(),
-     YF5 = tTA(),
-     fsA = KvA();
-   class KP8 {
-     constructor(A) {
-       ((this._client = A),
-         (this._buckets = new Map()),
-         (this._interval = setInterval(
-           () => this.flush(),
-           AP8.DEFAULT_BROWSER_FLUSH_INTERVAL,
-         )));
-     }
-     add(A, K, q, Y = "none", z = {}, w = KF5.timestampInSeconds()) {
-       let H = Math.floor(w),
-         J = fsA.sanitizeMetricKey(K),
-         O = fsA.sanitizeTags(z),
-         X = fsA.sanitizeUnit(Y),
-         $ = fsA.getBucketKey(A, J, X, O),
-         _ = this._buckets.get($),
-         G = _ && A === AP8.SET_METRIC_TYPE ? _.metric.weight : 0;
-       if (_) {
-         if ((_.metric.add(q), _.timestamp < H)) _.timestamp = H;
-       } else
-         ((_ = {
-           metric: new qF5.METRIC_MAP[A](q),
-           timestamp: H,
-           metricType: A,
-           name: J,
-           unit: X,
-           tags: O,
-         }),
-           this._buckets.set($, _));
-       let Z = typeof q === "string" ? _.metric.weight - G : q;
-       YF5.updateMetricSummaryOnActiveSpan(A, J, Z, X, z, $);
-     }
-     flush() {
-       if (this._buckets.size === 0) return;
-       if (this._client.captureAggregateMetrics) {
-         let A = Array.from(this._buckets).map(([, K]) => K);
-         this._client.captureAggregateMetrics(A);
-       }
-       this._buckets.clear();
-     }
-     close() {
-       (clearInterval(this._interval), this.flush());
-     }
-   }
-   qP8.BrowserMetricsAggregator = KP8;
- });

--- Removed OP8 (pretty-v2.1.26.js:69623-69641)
- var OP8 = k((JP8) => {
-   Object.defineProperty(JP8, "__esModule", { value: !0 });
-   var zP8 = rg(),
-     wF5 = YP8(),
-     wP8 = "MetricsAggregator",
-     HF5 = () => {
-       return {
-         name: wP8,
-         setupOnce() {},
-         setup(A) {
-           A.metricsAggregator = new wF5.BrowserMetricsAggregator(A);
-         },
-       };
-     },
-     HP8 = zP8.defineIntegration(HF5),
-     JF5 = zP8.convertIntegrationFnToClass(wP8, HP8);
-   JP8.MetricsAggregator = JF5;
-   JP8.metricsAggregatorIntegration = HP8;
- });

--- Removed PP8 (pretty-v2.1.26.js:69642-69698)
- var PP8 = k((MP8) => {
-   Object.defineProperty(MP8, "__esModule", { value: !0 });
-   var XP8 = H8(),
-     $P8 = mX(),
-     _P8 = IE(),
-     $F5 = KV(),
-     NsA = qvA(),
-     GP8 = OP8();
-   function TsA(A, K, q, Y = {}) {
-     let z = _P8.getClient(),
-       w = _P8.getCurrentScope();
-     if (z) {
-       if (!z.metricsAggregator) {
-         $P8.DEBUG_BUILD &&
-           XP8.logger.warn(
-             "No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs",
-           );
-         return;
-       }
-       let { unit: H, tags: J, timestamp: O } = Y,
-         { release: X, environment: $ } = z.getOptions(),
-         _ = w.getTransaction(),
-         G = {};
-       if (X) G.release = X;
-       if ($) G.environment = $;
-       if (_) G.transaction = $F5.spanToJSON(_).description || "";
-       ($P8.DEBUG_BUILD &&
-         XP8.logger.log(`Adding value of ${q} to ${A} metric ${K}`),
-         z.metricsAggregator.add(A, K, q, H, { ...G, ...J }, O));
-     }
-   }
-   function ZP8(A, K = 1, q) {
-     TsA(NsA.COUNTER_METRIC_TYPE, A, K, q);
-   }
-   function WP8(A, K, q) {
-     TsA(NsA.DISTRIBUTION_METRIC_TYPE, A, K, q);
-   }
-   function DP8(A, K, q) {
-     TsA(NsA.SET_METRIC_TYPE, A, K, q);
-   }
-   function jP8(A, K, q) {
-     TsA(NsA.GAUGE_METRIC_TYPE, A, K, q);
-   }
-   var _F5 = {
-     increment: ZP8,
-     distribution: WP8,
-     set: DP8,
-     gauge: jP8,
-     MetricsAggregator: GP8.MetricsAggregator,
-     metricsAggregatorIntegration: GP8.metricsAggregatorIntegration,
-   };
-   MP8.distribution = WP8;
-   MP8.gauge = jP8;
-   MP8.increment = ZP8;
-   MP8.metrics = _F5;
-   MP8.set = DP8;
- });

--- Removed a5 (pretty-v2.1.26.js:69699-69872)
- var a5 = k((Qu1) => {
-   Object.defineProperty(Qu1, "__esModule", { value: !0 });
-   var VP8 = Wu1(),
-     fP8 = Gu1(),
-     MF5 = HsA(),
-     PF5 = XsA(),
-     NP8 = eaA(),
-     vsA = iwA(),
-     m1A = wsA(),
-     TP8 = h1A(),
-     VF5 = Vj8(),
-     fF5 = Zu1(),
-     zvA = eTA(),
-     vP8 = Du1(),
-     lw = IE(),
-     jb = Zb(),
-     gu1 = pwA(),
-     NF5 = ju1(),
-     Fu1 = naA(),
-     EP8 = cTA(),
-     kP8 = ZsA(),
-     CP8 = fu1(),
-     TF5 = rj8(),
-     LP8 = tj8(),
-     vF5 = YM8(),
-     EF5 = HM8(),
-     kF5 = OM8(),
-     CF5 = aaA(),
-     EsA = rg(),
-     RP8 = iaA(),
-     LF5 = laA(),
-     RF5 = Tu1(),
-     yF5 = _M8(),
-     IF5 = KsA(),
-     SF5 = WM8(),
-     hF5 = Ou1(),
-     bF5 = jM8(),
-     ksA = KV(),
-     xF5 = dwA(),
-     uF5 = VM8(),
-     BF5 = UwA(),
-     yP8 = IM8(),
-     IP8 = BM8(),
-     SP8 = uu1(),
-     hP8 = Bu1(),
-     bP8 = mu1(),
-     mF5 = eM8(),
-     gF5 = PP8(),
-     FF5 = mF5;
-   Qu1.addTracingExtensions = VP8.addTracingExtensions;
-   Qu1.startIdleTransaction = VP8.startIdleTransaction;
-   Qu1.IdleTransaction = fP8.IdleTransaction;
-   Qu1.TRACING_DEFAULTS = fP8.TRACING_DEFAULTS;
-   Qu1.Span = MF5.Span;
-   Qu1.Transaction = PF5.Transaction;
-   Qu1.extractTraceparentData = NP8.extractTraceparentData;
-   Qu1.getActiveTransaction = NP8.getActiveTransaction;
-   Object.defineProperty(Qu1, "SpanStatus", {
-     enumerable: !0,
-     get: () => vsA.SpanStatus,
-   });
-   Qu1.getSpanStatusFromHttpCode = vsA.getSpanStatusFromHttpCode;
-   Qu1.setHttpStatus = vsA.setHttpStatus;
-   Qu1.spanStatusfromHttpCode = vsA.spanStatusfromHttpCode;
-   Qu1.continueTrace = m1A.continueTrace;
-   Qu1.getActiveSpan = m1A.getActiveSpan;
-   Qu1.startActiveSpan = m1A.startActiveSpan;
-   Qu1.startInactiveSpan = m1A.startInactiveSpan;
-   Qu1.startSpan = m1A.startSpan;
-   Qu1.startSpanManual = m1A.startSpanManual;
-   Qu1.trace = m1A.trace;
-   Qu1.getDynamicSamplingContextFromClient =
-     TP8.getDynamicSamplingContextFromClient;
-   Qu1.getDynamicSamplingContextFromSpan = TP8.getDynamicSamplingContextFromSpan;
-   Qu1.setMeasurement = VF5.setMeasurement;
-   Qu1.isValidSampleRate = fF5.isValidSampleRate;
-   Qu1.SEMANTIC_ATTRIBUTE_PROFILE_ID = zvA.SEMANTIC_ATTRIBUTE_PROFILE_ID;
-   Qu1.SEMANTIC_ATTRIBUTE_SENTRY_OP = zvA.SEMANTIC_ATTRIBUTE_SENTRY_OP;
-   Qu1.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN = zvA.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN;
-   Qu1.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE =
-     zvA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE;
-   Qu1.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE = zvA.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE;
-   Qu1.createEventEnvelope = vP8.createEventEnvelope;
-   Qu1.createSessionEnvelope = vP8.createSessionEnvelope;
-   Qu1.addBreadcrumb = lw.addBreadcrumb;
-   Qu1.captureCheckIn = lw.captureCheckIn;
-   Qu1.captureEvent = lw.captureEvent;
-   Qu1.captureException = lw.captureException;
-   Qu1.captureMessage = lw.captureMessage;
-   Qu1.captureSession = lw.captureSession;
-   Qu1.close = lw.close;
-   Qu1.configureScope = lw.configureScope;
-   Qu1.endSession = lw.endSession;
-   Qu1.flush = lw.flush;
-   Qu1.getClient = lw.getClient;
-   Qu1.getCurrentScope = lw.getCurrentScope;
-   Qu1.isInitialized = lw.isInitialized;
-   Qu1.lastEventId = lw.lastEventId;
-   Qu1.setContext = lw.setContext;
-   Qu1.setExtra = lw.setExtra;
-   Qu1.setExtras = lw.setExtras;
-   Qu1.setTag = lw.setTag;
-   Qu1.setTags = lw.setTags;
-   Qu1.setUser = lw.setUser;
-   Qu1.startSession = lw.startSession;
-   Qu1.startTransaction = lw.startTransaction;
-   Qu1.withActiveSpan = lw.withActiveSpan;
-   Qu1.withIsolationScope = lw.withIsolationScope;
-   Qu1.withMonitor = lw.withMonitor;
-   Qu1.withScope = lw.withScope;
-   Qu1.Hub = jb.Hub;
-   Qu1.ensureHubOnCarrier = jb.ensureHubOnCarrier;
-   Qu1.getCurrentHub = jb.getCurrentHub;
-   Qu1.getHubFromCarrier = jb.getHubFromCarrier;
-   Qu1.getIsolationScope = jb.getIsolationScope;
-   Qu1.getMainCarrier = jb.getMainCarrier;
-   Qu1.makeMain = jb.makeMain;
-   Qu1.runWithAsyncContext = jb.runWithAsyncContext;
-   Qu1.setAsyncContextStrategy = jb.setAsyncContextStrategy;
-   Qu1.setHubOnCarrier = jb.setHubOnCarrier;
-   Qu1.closeSession = gu1.closeSession;
-   Qu1.makeSession = gu1.makeSession;
-   Qu1.updateSession = gu1.updateSession;
-   Qu1.SessionFlusher = NF5.SessionFlusher;
-   Qu1.Scope = Fu1.Scope;
-   Qu1.getGlobalScope = Fu1.getGlobalScope;
-   Qu1.setGlobalScope = Fu1.setGlobalScope;
-   Qu1.addGlobalEventProcessor = EP8.addGlobalEventProcessor;
-   Qu1.notifyEventProcessors = EP8.notifyEventProcessors;
-   Qu1.getEnvelopeEndpointWithUrlEncodedAuth =
-     kP8.getEnvelopeEndpointWithUrlEncodedAuth;
-   Qu1.getReportDialogEndpoint = kP8.getReportDialogEndpoint;
-   Qu1.BaseClient = CP8.BaseClient;
-   Qu1.addEventProcessor = CP8.addEventProcessor;
-   Qu1.ServerRuntimeClient = TF5.ServerRuntimeClient;
-   Qu1.initAndBind = LP8.initAndBind;
-   Qu1.setCurrentClient = LP8.setCurrentClient;
-   Qu1.createTransport = vF5.createTransport;
-   Qu1.makeOfflineTransport = EF5.makeOfflineTransport;
-   Qu1.makeMultiplexedTransport = kF5.makeMultiplexedTransport;
-   Qu1.SDK_VERSION = CF5.SDK_VERSION;
-   Qu1.addIntegration = EsA.addIntegration;
-   Qu1.convertIntegrationFnToClass = EsA.convertIntegrationFnToClass;
-   Qu1.defineIntegration = EsA.defineIntegration;
-   Qu1.getIntegrationsToSetup = EsA.getIntegrationsToSetup;
-   Qu1.applyScopeDataToEvent = RP8.applyScopeDataToEvent;
-   Qu1.mergeScopeData = RP8.mergeScopeData;
-   Qu1.prepareEvent = LF5.prepareEvent;
-   Qu1.createCheckInEnvelope = RF5.createCheckInEnvelope;
-   Qu1.createSpanEnvelope = yF5.createSpanEnvelope;
-   Qu1.hasTracingEnabled = IF5.hasTracingEnabled;
-   Qu1.isSentryRequestUrl = SF5.isSentryRequestUrl;
-   Qu1.handleCallbackErrors = hF5.handleCallbackErrors;
-   Qu1.parameterize = bF5.parameterize;
-   Qu1.spanIsSampled = ksA.spanIsSampled;
-   Qu1.spanToJSON = ksA.spanToJSON;
-   Qu1.spanToTraceContext = ksA.spanToTraceContext;
-   Qu1.spanToTraceHeader = ksA.spanToTraceHeader;
-   Qu1.getRootSpan = xF5.getRootSpan;
-   Qu1.applySdkMetadata = uF5.applySdkMetadata;
-   Qu1.DEFAULT_ENVIRONMENT = BF5.DEFAULT_ENVIRONMENT;
-   Qu1.ModuleMetadata = yP8.ModuleMetadata;
-   Qu1.moduleMetadataIntegration = yP8.moduleMetadataIntegration;
-   Qu1.RequestData = IP8.RequestData;
-   Qu1.requestDataIntegration = IP8.requestDataIntegration;
-   Qu1.InboundFilters = SP8.InboundFilters;
-   Qu1.inboundFiltersIntegration = SP8.inboundFiltersIntegration;
-   Qu1.FunctionToString = hP8.FunctionToString;
-   Qu1.functionToStringIntegration = hP8.functionToStringIntegration;
-   Qu1.LinkedErrors = bP8.LinkedErrors;
-   Qu1.linkedErrorsIntegration = bP8.linkedErrorsIntegration;
-   Qu1.metrics = gF5.metrics;
-   Qu1.Integrations = FF5;
- });

--- Removed zV (pretty-v2.1.26.js:69873-69877)
- var zV = k((xP8) => {
-   Object.defineProperty(xP8, "__esModule", { value: !0 });
-   var oU5 = typeof __SENTRY_DEBUG__ > "u" || __SENTRY_DEBUG__;
-   xP8.DEBUG_BUILD = oU5;
- });

--- Removed Yi (pretty-v2.1.26.js:69878-69901)
- var Yi = k((BP8) => {
-   var { _optionalChain: uP8 } = H8();
-   Object.defineProperty(BP8, "__esModule", { value: !0 });
-   function sU5(A) {
-     let K = uP8([
-       A,
-       "call",
-       (Y) => Y(),
-       "access",
-       (Y) => Y.getClient,
-       "call",
-       (Y) => Y(),
-       "optionalAccess",
-       (Y) => Y.getOptions,
-       "call",
-       (Y) => Y(),
-     ]);
-     return (
-       (uP8([K, "optionalAccess", (Y) => Y.instrumenter]) || "sentry") !==
-       "sentry"
-     );
-   }
-   BP8.shouldDisableAutoInstrumentation = sU5;
- });

--- Removed UP8 (pretty-v2.1.26.js:69902-70194)
- var UP8 = k((QP8) => {
-   var { _optionalChain: bR } = H8();
-   Object.defineProperty(QP8, "__esModule", { value: !0 });
-   var Uu1 = a5(),
-     wV = H8(),
-     CsA = zV(),
-     eU5 = Yi();
-   class LsA {
-     static __initStatic() {
-       this.id = "Express";
-     }
-     constructor(A = {}) {
-       ((this.name = LsA.id),
-         (this._router = A.router || A.app),
-         (this._methods = (Array.isArray(A.methods) ? A.methods : []).concat(
-           "use",
-         )));
-     }
-     setupOnce(A, K) {
-       if (!this._router) {
-         CsA.DEBUG_BUILD &&
-           wV.logger.error("ExpressIntegration is missing an Express instance");
-         return;
-       }
-       if (eU5.shouldDisableAutoInstrumentation(K)) {
-         CsA.DEBUG_BUILD &&
-           wV.logger.log(
-             "Express Integration is skipped because of instrumenter configuration.",
-           );
-         return;
-       }
-       (qp5(this._router, this._methods), Yp5(this._router));
-     }
-   }
-   LsA.__initStatic();
-   function mP8(A, K) {
-     let q = A.length;
-     switch (q) {
-       case 2:
-         return function (Y, z) {
-           let w = z.__sentry_transaction;
-           if (w) {
-             let H = w.startChild({
-               description: A.name,
-               op: `middleware.express.${K}`,
-               origin: "auto.middleware.express",
-             });
-             z.once("finish", () => {
-               H.end();
-             });
-           }
-           return A.call(this, Y, z);
-         };
-       case 3:
-         return function (Y, z, w) {
-           let H = z.__sentry_transaction,
-             J = bR([
-               H,
-               "optionalAccess",
-               (O) => O.startChild,
-               "call",
-               (O) =>
-                 O({
-                   description: A.name,
-                   op: `middleware.express.${K}`,
-                   origin: "auto.middleware.express",
-                 }),
-             ]);
-           A.call(this, Y, z, function (...O) {
-             (bR([J, "optionalAccess", (X) => X.end, "call", (X) => X()]),
-               w.call(this, ...O));
-           });
-         };
-       case 4:
-         return function (Y, z, w, H) {
-           let J = w.__sentry_transaction,
-             O = bR([
-               J,
-               "optionalAccess",
-               (X) => X.startChild,
-               "call",
-               (X) =>
-                 X({
-                   description: A.name,
-                   op: `middleware.express.${K}`,
-                   origin: "auto.middleware.express",
-                 }),
-             ]);
-           A.call(this, Y, z, w, function (...X) {
-             (bR([O, "optionalAccess", ($) => $.end, "call", ($) => $()]),
-               H.call(this, ...X));
-           });
-         };
-       default:
-         throw Error(`Express middleware takes 2-4 arguments. Got: ${q}`);
-     }
-   }
-   function Ap5(A, K) {
-     return A.map((q) => {
-       if (typeof q === "function") return mP8(q, K);
-       if (Array.isArray(q))
-         return q.map((Y) => {
-           if (typeof Y === "function") return mP8(Y, K);
-           return Y;
-         });
-       return q;
-     });
-   }
-   function Kp5(A, K) {
-     let q = A[K];
-     return (
-       (A[K] = function (...Y) {
-         return q.call(this, ...Ap5(Y, K));
-       }),
-       A
-     );
-   }
-   function qp5(A, K = []) {
-     K.forEach((q) => Kp5(A, q));
-   }
-   function Yp5(A) {
-     let K = "settings" in A;
-     if (K && A._router === void 0 && A.lazyrouter) A.lazyrouter();
-     let q = K ? A._router : A;
-     if (!q) {
-       (CsA.DEBUG_BUILD &&
-         wV.logger.debug(
-           "Cannot instrument router for URL Parameterization (did not find a valid router).",
-         ),
-         CsA.DEBUG_BUILD &&
-           wV.logger.debug(
-             "Routing instrumentation is currently only supported in Express 4.",
-           ));
-       return;
-     }
-     let Y = Object.getPrototypeOf(q),
-       z = Y.process_params;
-     Y.process_params = function (H, J, O, X, $) {
-       if (!O._reconstructedRoute) O._reconstructedRoute = "";
-       let {
-         layerRoutePath: _,
-         isRegex: G,
-         isArray: Z,
-         numExtraSegments: W,
-       } = zp5(H);
-       if (_ || G || Z) O._hasParameters = !0;
-       let D;
-       if (_) D = _;
-       else D = FP8(O.originalUrl, O._reconstructedRoute, H.path) || "";
-       let j = D.split("/")
-         .filter((f) => f.length > 0 && (G || Z || !f.includes("*")))
-         .join("/");
-       if (j && j.length > 0) O._reconstructedRoute += `/${j}${G ? "/" : ""}`;
-       let M =
-           wV.getNumberOfUrlSegments(
-             wV.stripUrlQueryAndFragment(O.originalUrl || ""),
-           ) + W,
-         P = wV.getNumberOfUrlSegments(O._reconstructedRoute);
-       if (M === P) {
-         if (!O._hasParameters) {
-           if (O._reconstructedRoute !== O.originalUrl)
-             O._reconstructedRoute = O.originalUrl
-               ? wV.stripUrlQueryAndFragment(O.originalUrl)
-               : O.originalUrl;
-         }
-         let f = X.__sentry_transaction,
-           N = (f && Uu1.spanToJSON(f).data) || {};
-         if (f && N[Uu1.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] !== "custom") {
-           let T = O._reconstructedRoute || "/",
-             [C, R] = wV.extractPathForTransaction(O, {
-               path: !0,
-               method: !0,
-               customRoute: T,
-             });
-           (f.updateName(C),
-             f.setAttribute(Uu1.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE, R));
-         }
-       }
-       return z.call(this, H, J, O, X, $);
-     };
-   }
-   var gP8 = (A, K, q) => {
-     if (
-       !A ||
-       !K ||
-       !q ||
-       Object.keys(q).length === 0 ||
-       bR([q, "access", (X) => X[0], "optionalAccess", (X) => X.offset]) ===
-         void 0 ||
-       bR([q, "access", (X) => X[0], "optionalAccess", (X) => X.offset]) === null
-     )
-       return;
-     let Y = q.sort((X, $) => X.offset - $.offset),
-       w = new RegExp(K, `${K.flags}d`).exec(A);
-     if (!w || !w.indices) return;
-     let [, ...H] = w.indices;
-     if (H.length !== Y.length) return;
-     let J = A,
-       O = 0;
-     return (
-       H.forEach((X, $) => {
-         if (X) {
-           let [_, G] = X,
-             Z = J.substring(0, _ - O),
-             W = `:${Y[$].name}`,
-             D = J.substring(G - O);
-           ((J = Z + W + D), (O = O + (G - _ - W.length)));
-         }
-       }),
-       J
-     );
-   };
-   function zp5(A) {
-     let K = bR([A, "access", (H) => H.route, "optionalAccess", (H) => H.path]),
-       q = wV.isRegExp(K),
-       Y = Array.isArray(K);
-     if (!K) {
-       let [H] = wV.GLOBAL_OBJ.process.versions.node.split(".").map(Number);
-       if (H >= 16) K = gP8(A.path, A.regexp, A.keys);
-     }
-     if (!K) return { isRegex: q, isArray: Y, numExtraSegments: 0 };
-     let z = Y
-       ? Math.max(wp5(K) - wV.getNumberOfUrlSegments(A.path || ""), 0)
-       : 0;
-     return {
-       layerRoutePath: Hp5(Y, K),
-       isRegex: q,
-       isArray: Y,
-       numExtraSegments: z,
-     };
-   }
-   function wp5(A) {
-     return A.reduce((K, q) => {
-       return K + wV.getNumberOfUrlSegments(q.toString());
-     }, 0);
-   }
-   function Hp5(A, K) {
-     if (A) return K.map((q) => q.toString()).join(",");
-     return K && K.toString();
-   }
-   function FP8(A, K, q) {
-     let Y = wV.stripUrlQueryAndFragment(A || ""),
-       z = bR([
-         Y,
-         "optionalAccess",
-         (O) => O.split,
-         "call",
-         (O) => O("/"),
-         "access",
-         (O) => O.filter,
-         "call",
-         (O) => O((X) => !!X),
-       ]),
-       w = 0,
-       H =
-         bR([
-           K,
-           "optionalAccess",
-           (O) => O.split,
-           "call",
-           (O) => O("/"),
-           "access",
-           (O) => O.filter,
-           "call",
-           (O) => O((X) => !!X),
-           "access",
-           (O) => O.length,
-         ]) || 0;
-     return bR([
-       q,
-       "optionalAccess",
-       (O) => O.split,
-       "call",
-       (O) => O("/"),
-       "access",
-       (O) => O.filter,
-       "call",
-       (O) =>
-         O((X) => {
-           if (bR([z, "optionalAccess", ($) => $[H + w]]) === X)
-             return ((w += 1), !0);
-           return !1;
-         }),
-       "access",
-       (O) => O.join,
-       "call",
-       (O) => O("/"),
-     ]);
-   }
-   QP8.Express = LsA;
-   QP8.extractOriginalRoute = gP8;
-   QP8.preventDuplicateSegments = FP8;
- });

--- Removed dP8 (pretty-v2.1.26.js:70195-70290)
- var dP8 = k((pP8) => {
-   var { _optionalChain: ewA } = H8();
-   Object.defineProperty(pP8, "__esModule", { value: !0 });
-   var AHA = H8(),
-     pu1 = zV(),
-     $p5 = Yi();
-   class RsA {
-     static __initStatic() {
-       this.id = "Postgres";
-     }
-     constructor(A = {}) {
-       ((this.name = RsA.id),
-         (this._usePgNative = !!A.usePgNative),
-         (this._module = A.module));
-     }
-     loadDependency() {
-       return (this._module = this._module || AHA.loadModule("pg"));
-     }
-     setupOnce(A, K) {
-       if ($p5.shouldDisableAutoInstrumentation(K)) {
-         pu1.DEBUG_BUILD &&
-           AHA.logger.log(
-             "Postgres Integration is skipped because of instrumenter configuration.",
-           );
-         return;
-       }
-       let q = this.loadDependency();
-       if (!q) {
-         pu1.DEBUG_BUILD &&
-           AHA.logger.error(
-             "Postgres Integration was unable to require `pg` package.",
-           );
-         return;
-       }
-       let Y = this._usePgNative
-         ? ewA([q, "access", (z) => z.native, "optionalAccess", (z) => z.Client])
-         : q.Client;
-       if (!Y) {
-         pu1.DEBUG_BUILD &&
-           AHA.logger.error(
-             "Postgres Integration was unable to access 'pg-native' bindings.",
-           );
-         return;
-       }
-       AHA.fill(Y.prototype, "query", function (z) {
-         return function (w, H, J) {
-           let X = K().getScope().getSpan(),
-             $ = { "db.system": "postgresql" };
-           try {
-             if (this.database) $["db.name"] = this.database;
-             if (this.host) $["server.address"] = this.host;
-             if (this.port) $["server.port"] = this.port;
-             if (this.user) $["db.user"] = this.user;
-           } catch (Z) {}
-           let _ = ewA([
-             X,
-             "optionalAccess",
-             (Z) => Z.startChild,
-             "call",
-             (Z) =>
-               Z({
-                 description: typeof w === "string" ? w : w.text,
-                 op: "db",
-                 origin: "auto.db.postgres",
-                 data: $,
-               }),
-           ]);
-           if (typeof J === "function")
-             return z.call(this, w, H, function (Z, W) {
-               (ewA([_, "optionalAccess", (D) => D.end, "call", (D) => D()]),
-                 J(Z, W));
-             });
-           if (typeof H === "function")
-             return z.call(this, w, function (Z, W) {
-               (ewA([_, "optionalAccess", (D) => D.end, "call", (D) => D()]),
-                 H(Z, W));
-             });
-           let G = typeof H < "u" ? z.call(this, w, H) : z.call(this, w);
-           if (AHA.isThenable(G))
-             return G.then((Z) => {
-               return (
-                 ewA([_, "optionalAccess", (W) => W.end, "call", (W) => W()]),
-                 Z
-               );
-             });
-           return (
-             ewA([_, "optionalAccess", (Z) => Z.end, "call", (Z) => Z()]),
-             G
-           );
-         };
-       });
-     }
-   }
-   RsA.__initStatic();
-   pP8.Postgres = RsA;
- });

--- Removed lP8 (pretty-v2.1.26.js:70291-70391)
- var lP8 = k((cP8) => {
-   var { _optionalChain: Gp5 } = H8();
-   Object.defineProperty(cP8, "__esModule", { value: !0 });
-   var wvA = H8(),
-     du1 = zV(),
-     Zp5 = Yi();
-   class ysA {
-     static __initStatic() {
-       this.id = "Mysql";
-     }
-     constructor() {
-       this.name = ysA.id;
-     }
-     loadDependency() {
-       return (this._module =
-         this._module || wvA.loadModule("mysql/lib/Connection.js"));
-     }
-     setupOnce(A, K) {
-       if (Zp5.shouldDisableAutoInstrumentation(K)) {
-         du1.DEBUG_BUILD &&
-           wvA.logger.log(
-             "Mysql Integration is skipped because of instrumenter configuration.",
-           );
-         return;
-       }
-       let q = this.loadDependency();
-       if (!q) {
-         du1.DEBUG_BUILD &&
-           wvA.logger.error(
-             "Mysql Integration was unable to require `mysql` package.",
-           );
-         return;
-       }
-       let Y = void 0;
-       try {
-         q.prototype.connect = new Proxy(q.prototype.connect, {
-           apply(H, J, O) {
-             if (!Y) Y = J.config;
-             return H.apply(J, O);
-           },
-         });
-       } catch (H) {
-         du1.DEBUG_BUILD &&
-           wvA.logger.error(
-             "Mysql Integration was unable to instrument `mysql` config.",
-           );
-       }
-       function z() {
-         if (!Y) return {};
-         return {
-           "server.address": Y.host,
-           "server.port": Y.port,
-           "db.user": Y.user,
-         };
-       }
-       function w(H) {
-         if (!H) return;
-         let J = z();
-         (Object.keys(J).forEach((O) => {
-           H.setAttribute(O, J[O]);
-         }),
-           H.end());
-       }
-       wvA.fill(q, "createQuery", function (H) {
-         return function (J, O, X) {
-           let _ = K().getScope().getSpan(),
-             G = Gp5([
-               _,
-               "optionalAccess",
-               (W) => W.startChild,
-               "call",
-               (W) =>
-                 W({
-                   description: typeof J === "string" ? J : J.sql,
-                   op: "db",
-                   origin: "auto.db.mysql",
-                   data: { "db.system": "mysql" },
-                 }),
-             ]);
-           if (typeof X === "function")
-             return H.call(this, J, O, function (W, D, j) {
-               (w(G), X(W, D, j));
-             });
-           if (typeof O === "function")
-             return H.call(this, J, function (W, D, j) {
-               (w(G), O(W, D, j));
-             });
-           let Z = H.call(this, J, O);
-           return (
-             Z.on("end", () => {
-               w(G);
-             }),
-             Z
-           );
-         };
-       });
-     }
-   }
-   ysA.__initStatic();
-   cP8.Mysql = ysA;
- });

--- Removed rP8 (pretty-v2.1.26.js:70392-70590)
- var rP8 = k((nP8) => {
-   var { _optionalChain: zi } = H8();
-   Object.defineProperty(nP8, "__esModule", { value: !0 });
-   var HvA = H8(),
-     iP8 = zV(),
-     Dp5 = Yi(),
-     jp5 = [
-       "aggregate",
-       "bulkWrite",
-       "countDocuments",
-       "createIndex",
-       "createIndexes",
-       "deleteMany",
-       "deleteOne",
-       "distinct",
-       "drop",
-       "dropIndex",
-       "dropIndexes",
-       "estimatedDocumentCount",
-       "find",
-       "findOne",
-       "findOneAndDelete",
-       "findOneAndReplace",
-       "findOneAndUpdate",
-       "indexes",
-       "indexExists",
-       "indexInformation",
-       "initializeOrderedBulkOp",
-       "insertMany",
-       "insertOne",
-       "isCapped",
-       "mapReduce",
-       "options",
-       "parallelCollectionScan",
-       "rename",
-       "replaceOne",
-       "stats",
-       "updateMany",
-       "updateOne",
-     ],
-     Mp5 = {
-       bulkWrite: ["operations"],
-       countDocuments: ["query"],
-       createIndex: ["fieldOrSpec"],
-       createIndexes: ["indexSpecs"],
-       deleteMany: ["filter"],
-       deleteOne: ["filter"],
-       distinct: ["key", "query"],
-       dropIndex: ["indexName"],
-       find: ["query"],
-       findOne: ["query"],
-       findOneAndDelete: ["filter"],
-       findOneAndReplace: ["filter", "replacement"],
-       findOneAndUpdate: ["filter", "update"],
-       indexExists: ["indexes"],
-       insertMany: ["docs"],
-       insertOne: ["doc"],
-       mapReduce: ["map", "reduce"],
-       rename: ["newName"],
-       replaceOne: ["filter", "doc"],
-       updateMany: ["filter", "update"],
-       updateOne: ["filter", "update"],
-     };
-   function Pp5(A) {
-     return A && typeof A === "object" && A.once && typeof A.once === "function";
-   }
-   class IsA {
-     static __initStatic() {
-       this.id = "Mongo";
-     }
-     constructor(A = {}) {
-       ((this.name = IsA.id),
-         (this._operations = Array.isArray(A.operations) ? A.operations : jp5),
-         (this._describeOperations =
-           "describeOperations" in A ? A.describeOperations : !0),
-         (this._useMongoose = !!A.useMongoose));
-     }
-     loadDependency() {
-       let A = this._useMongoose ? "mongoose" : "mongodb";
-       return (this._module = this._module || HvA.loadModule(A));
-     }
-     setupOnce(A, K) {
-       if (Dp5.shouldDisableAutoInstrumentation(K)) {
-         iP8.DEBUG_BUILD &&
-           HvA.logger.log(
-             "Mongo Integration is skipped because of instrumenter configuration.",
-           );
-         return;
-       }
-       let q = this.loadDependency();
-       if (!q) {
-         let Y = this._useMongoose ? "mongoose" : "mongodb";
-         iP8.DEBUG_BUILD &&
-           HvA.logger.error(
-             `Mongo Integration was unable to require \`${Y}\` package.`,
-           );
-         return;
-       }
-       this._instrumentOperations(q.Collection, this._operations, K);
-     }
-     _instrumentOperations(A, K, q) {
-       K.forEach((Y) => this._patchOperation(A, Y, q));
-     }
-     _patchOperation(A, K, q) {
-       if (!(K in A.prototype)) return;
-       let Y = this._getSpanContextFromOperationArguments.bind(this);
-       HvA.fill(A.prototype, K, function (z) {
-         return function (...w) {
-           let H = w[w.length - 1],
-             J = q(),
-             O = J.getScope(),
-             X = J.getClient(),
-             $ = O.getSpan(),
-             _ = zi([
-               X,
-               "optionalAccess",
-               (Z) => Z.getOptions,
-               "call",
-               (Z) => Z(),
-               "access",
-               (Z) => Z.sendDefaultPii,
-             ]);
-           if (
-             typeof H !== "function" ||
-             (K === "mapReduce" && w.length === 2)
-           ) {
-             let Z = zi([
-                 $,
-                 "optionalAccess",
-                 (D) => D.startChild,
-                 "call",
-                 (D) => D(Y(this, K, w, _)),
-               ]),
-               W = z.call(this, ...w);
-             if (HvA.isThenable(W))
-               return W.then((D) => {
-                 return (
-                   zi([Z, "optionalAccess", (j) => j.end, "call", (j) => j()]),
-                   D
-                 );
-               });
-             else if (Pp5(W)) {
-               let D = W;
-               try {
-                 D.once("close", () => {
-                   zi([Z, "optionalAccess", (j) => j.end, "call", (j) => j()]);
-                 });
-               } catch (j) {
-                 zi([Z, "optionalAccess", (M) => M.end, "call", (M) => M()]);
-               }
-               return D;
-             } else
-               return (
-                 zi([Z, "optionalAccess", (D) => D.end, "call", (D) => D()]),
-                 W
-               );
-           }
-           let G = zi([
-             $,
-             "optionalAccess",
-             (Z) => Z.startChild,
-             "call",
-             (Z) => Z(Y(this, K, w.slice(0, -1))),
-           ]);
-           return z.call(this, ...w.slice(0, -1), function (Z, W) {
-             (zi([G, "optionalAccess", (D) => D.end, "call", (D) => D()]),
-               H(Z, W));
-           });
-         };
-       });
-     }
-     _getSpanContextFromOperationArguments(A, K, q, Y = !1) {
-       let z = {
-           "db.system": "mongodb",
-           "db.name": A.dbName,
-           "db.operation": K,
-           "db.mongodb.collection": A.collectionName,
-         },
-         w = { op: "db", origin: "auto.db.mongo", description: K, data: z },
-         H = Mp5[K],
-         J = Array.isArray(this._describeOperations)
-           ? this._describeOperations.includes(K)
-           : this._describeOperations;
-       if (!H || !J || !Y) return w;
-       try {
-         if (K === "mapReduce") {
-           let [O, X] = q;
-           ((z[H[0]] = typeof O === "string" ? O : O.name || "<anonymous>"),
-             (z[H[1]] = typeof X === "string" ? X : X.name || "<anonymous>"));
-         } else
-           for (let O = 0; O < H.length; O++)
-             z[`db.mongodb.${H[O]}`] = JSON.stringify(q[O]);
-       } catch (O) {}
-       return w;
-     }
-   }
-   IsA.__initStatic();
-   nP8.Mongo = IsA;
- });

--- Removed sP8 (pretty-v2.1.26.js:70591-70646)
- var sP8 = k((aP8) => {
-   Object.defineProperty(aP8, "__esModule", { value: !0 });
-   var cu1 = a5(),
-     oP8 = H8(),
-     fp5 = zV(),
-     Np5 = Yi();
-   function Tp5(A) {
-     return !!A && !!A.$use;
-   }
-   class SsA {
-     static __initStatic() {
-       this.id = "Prisma";
-     }
-     constructor(A = {}) {
-       if (
-         ((this.name = SsA.id), Tp5(A.client) && !A.client._sentryInstrumented)
-       ) {
-         oP8.addNonEnumerableProperty(A.client, "_sentryInstrumented", !0);
-         let K = {};
-         try {
-           let q = A.client._engineConfig;
-           if (q) {
-             let { activeProvider: Y, clientVersion: z } = q;
-             if (Y) K["db.system"] = Y;
-             if (z) K["db.prisma.version"] = z;
-           }
-         } catch (q) {}
-         A.client.$use((q, Y) => {
-           if (Np5.shouldDisableAutoInstrumentation(cu1.getCurrentHub))
-             return Y(q);
-           let { action: z, model: w } = q;
-           return cu1.startSpan(
-             {
-               name: w ? `${w} ${z}` : z,
-               onlyIfParent: !0,
-               op: "db.prisma",
-               attributes: {
-                 [cu1.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: "auto.db.prisma",
-               },
-               data: { ...K, "db.operation": z },
-             },
-             () => Y(q),
-           );
-         });
-       } else
-         fp5.DEBUG_BUILD &&
-           oP8.logger.warn(
-             "Unsupported Prisma client provided to PrismaIntegration. Provided client:",
-             A.client,
-           );
-     }
-     setupOnce() {}
-   }
-   SsA.__initStatic();
-   aP8.Prisma = SsA;
- });

--- Removed AV8 (pretty-v2.1.26.js:70647-70723)
- var AV8 = k((eP8) => {
-   var { _optionalChain: KHA } = H8();
-   Object.defineProperty(eP8, "__esModule", { value: !0 });
-   var JvA = H8(),
-     tP8 = zV(),
-     Ep5 = Yi();
-   class hsA {
-     static __initStatic() {
-       this.id = "GraphQL";
-     }
-     constructor() {
-       this.name = hsA.id;
-     }
-     loadDependency() {
-       return (this._module =
-         this._module || JvA.loadModule("graphql/execution/execute.js"));
-     }
-     setupOnce(A, K) {
-       if (Ep5.shouldDisableAutoInstrumentation(K)) {
-         tP8.DEBUG_BUILD &&
-           JvA.logger.log(
-             "GraphQL Integration is skipped because of instrumenter configuration.",
-           );
-         return;
-       }
-       let q = this.loadDependency();
-       if (!q) {
-         tP8.DEBUG_BUILD &&
-           JvA.logger.error(
-             "GraphQL Integration was unable to require graphql/execution package.",
-           );
-         return;
-       }
-       JvA.fill(q, "execute", function (Y) {
-         return function (...z) {
-           let w = K().getScope(),
-             H = w.getSpan(),
-             J = KHA([
-               H,
-               "optionalAccess",
-               (X) => X.startChild,
-               "call",
-               (X) =>
-                 X({
-                   description: "execute",
-                   op: "graphql.execute",
-                   origin: "auto.graphql.graphql",
-                 }),
-             ]);
-           KHA([w, "optionalAccess", (X) => X.setSpan, "call", (X) => X(J)]);
-           let O = Y.call(this, ...z);
-           if (JvA.isThenable(O))
-             return O.then((X) => {
-               return (
-                 KHA([J, "optionalAccess", ($) => $.end, "call", ($) => $()]),
-                 KHA([
-                   w,
-                   "optionalAccess",
-                   ($) => $.setSpan,
-                   "call",
-                   ($) => $(H),
-                 ]),
-                 X
-               );
-             });
-           return (
-             KHA([J, "optionalAccess", (X) => X.end, "call", (X) => X()]),
-             KHA([w, "optionalAccess", (X) => X.setSpan, "call", (X) => X(H)]),
-             O
-           );
-         };
-       });
-     }
-   }
-   hsA.__initStatic();
-   eP8.GraphQL = hsA;
- });

--- Removed YV8 (pretty-v2.1.26.js:70724-70854)
- var YV8 = k((qV8) => {
-   var { _optionalChain: lu1 } = H8();
-   Object.defineProperty(qV8, "__esModule", { value: !0 });
-   var KD = H8(),
-     bsA = zV(),
-     Cp5 = Yi();
-   class xsA {
-     static __initStatic() {
-       this.id = "Apollo";
-     }
-     constructor(A = { useNestjs: !1 }) {
-       ((this.name = xsA.id), (this._useNest = !!A.useNestjs));
-     }
-     loadDependency() {
-       if (this._useNest)
-         this._module = this._module || KD.loadModule("@nestjs/graphql");
-       else this._module = this._module || KD.loadModule("apollo-server-core");
-       return this._module;
-     }
-     setupOnce(A, K) {
-       if (Cp5.shouldDisableAutoInstrumentation(K)) {
-         bsA.DEBUG_BUILD &&
-           KD.logger.log(
-             "Apollo Integration is skipped because of instrumenter configuration.",
-           );
-         return;
-       }
-       if (this._useNest) {
-         let q = this.loadDependency();
-         if (!q) {
-           bsA.DEBUG_BUILD &&
-             KD.logger.error(
-               "Apollo-NestJS Integration was unable to require @nestjs/graphql package.",
-             );
-           return;
-         }
-         KD.fill(q.GraphQLFactory.prototype, "mergeWithSchema", function (Y) {
-           return function (...z) {
-             return (
-               KD.fill(this.resolversExplorerService, "explore", function (w) {
-                 return function () {
-                   let H = KD.arrayify(w.call(this));
-                   return KV8(H, K);
-                 };
-               }),
-               Y.call(this, ...z)
-             );
-           };
-         });
-       } else {
-         let q = this.loadDependency();
-         if (!q) {
-           bsA.DEBUG_BUILD &&
-             KD.logger.error(
-               "Apollo Integration was unable to require apollo-server-core package.",
-             );
-           return;
-         }
-         KD.fill(q.ApolloServerBase.prototype, "constructSchema", function (Y) {
-           return function () {
-             if (!this.config.resolvers) {
-               if (bsA.DEBUG_BUILD) {
-                 if (this.config.schema)
-                   (KD.logger.warn(
-                     "Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead.",
-                   ),
-                     KD.logger.warn());
-                 else if (this.config.modules)
-                   KD.logger.warn(
-                     "Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property.",
-                   );
-                 KD.logger.error(
-                   "Skipping tracing as no resolvers found on the `ApolloServer` instance.",
-                 );
-               }
-               return Y.call(this);
-             }
-             let z = KD.arrayify(this.config.resolvers);
-             return ((this.config.resolvers = KV8(z, K)), Y.call(this));
-           };
-         });
-       }
-     }
-   }
-   xsA.__initStatic();
-   function KV8(A, K) {
-     return A.map((q) => {
-       return (
-         Object.keys(q).forEach((Y) => {
-           Object.keys(q[Y]).forEach((z) => {
-             if (typeof q[Y][z] !== "function") return;
-             Lp5(q, Y, z, K);
-           });
-         }),
-         q
-       );
-     });
-   }
-   function Lp5(A, K, q, Y) {
-     KD.fill(A[K], q, function (z) {
-       return function (...w) {
-         let J = Y().getScope().getSpan(),
-           O = lu1([
-             J,
-             "optionalAccess",
-             ($) => $.startChild,
-             "call",
-             ($) =>
-               $({
-                 description: `${K}.${q}`,
-                 op: "graphql.resolve",
-                 origin: "auto.graphql.apollo",
-               }),
-           ]),
-           X = z.call(this, ...w);
-         if (KD.isThenable(X))
-           return X.then(($) => {
-             return (
-               lu1([O, "optionalAccess", (_) => _.end, "call", (_) => _()]),
-               $
-             );
-           });
-         return (
-           lu1([O, "optionalAccess", ($) => $.end, "call", ($) => $()]),
-           X
-         );
-       };
-     });
-   }
-   qV8.Apollo = xsA;
- });

--- Removed wV8 (pretty-v2.1.26.js:70855-70884)
- var wV8 = k((zV8, wi) => {
-   Object.defineProperty(zV8, "__esModule", { value: !0 });
-   var g1A = H8(),
-     yp5 = [
-       () => {
-         return new (g1A.dynamicRequire(wi, "./apollo").Apollo)();
-       },
-       () => {
-         return new (g1A.dynamicRequire(wi, "./apollo").Apollo)({
-           useNestjs: !0,
-         });
-       },
-       () => {
-         return new (g1A.dynamicRequire(wi, "./graphql").GraphQL)();
-       },
-       () => {
-         return new (g1A.dynamicRequire(wi, "./mongo").Mongo)();
-       },
-       () => {
-         return new (g1A.dynamicRequire(wi, "./mongo").Mongo)({ mongoose: !0 });
-       },
-       () => {
-         return new (g1A.dynamicRequire(wi, "./mysql").Mysql)();
-       },
-       () => {
-         return new (g1A.dynamicRequire(wi, "./postgres").Postgres)();
-       },
-     ];
-   zV8.lazyLoadedNodePerformanceMonitoringIntegrations = yp5;
- });

--- Removed QN (pretty-v2.1.26.js:70885-70890)
- var QN = k((HV8) => {
-   Object.defineProperty(HV8, "__esModule", { value: !0 });
-   var Sp5 = H8(),
-     hp5 = Sp5.GLOBAL_OBJ;
-   HV8.WINDOW = hp5;
- });

--- Removed nu1 (pretty-v2.1.26.js:70891-70921)
- var nu1 = k(($V8) => {
-   Object.defineProperty($V8, "__esModule", { value: !0 });
-   var JV8 = a5(),
-     OV8 = H8(),
-     XV8 = zV(),
-     iu1 = QN();
-   function xp5() {
-     if (iu1.WINDOW.document)
-       iu1.WINDOW.document.addEventListener("visibilitychange", () => {
-         let A = JV8.getActiveTransaction();
-         if (iu1.WINDOW.document.hidden && A) {
-           let { op: q, status: Y } = JV8.spanToJSON(A);
-           if (
-             (XV8.DEBUG_BUILD &&
-               OV8.logger.log(
-                 `[Tracing] Transaction: cancelled -> since tab moved to the background, op: ${q}`,
-               ),
-             !Y)
-           )
-             A.setStatus("cancelled");
-           (A.setTag("visibilitychange", "document.hidden"), A.end());
-         }
-       });
-     else
-       XV8.DEBUG_BUILD &&
-         OV8.logger.warn(
-           "[Tracing] Could not set up background tab detection due to lack of global document",
-         );
-   }
-   $V8.registerBackgroundTabDetection = xp5;
- });

--- Removed qHA (pretty-v2.1.26.js:70922-70936)
- var qHA = k((_V8) => {
-   Object.defineProperty(_V8, "__esModule", { value: !0 });
-   var Bp5 = (A, K, q) => {
-     let Y, z;
-     return (w) => {
-       if (K.value >= 0) {
-         if (w || q) {
-           if (((z = K.value - (Y || 0)), z || Y === void 0))
-             ((Y = K.value), (K.delta = z), A(K));
-         }
-       }
-     };
-   };
-   _V8.bindReporter = Bp5;
- });

--- Removed ZV8 (pretty-v2.1.26.js:70937-70943)
- var ZV8 = k((GV8) => {
-   Object.defineProperty(GV8, "__esModule", { value: !0 });
-   var gp5 = () => {
-     return `v3-${Date.now()}-${Math.floor(Math.random() * 8999999999999) + 1000000000000}`;
-   };
-   GV8.generateUniqueID = gp5;
- });

--- Removed XvA (pretty-v2.1.26.js:70944-70976)
- var XvA = k((WV8) => {
-   Object.defineProperty(WV8, "__esModule", { value: !0 });
-   var OvA = QN(),
-     Qp5 = () => {
-       let A = OvA.WINDOW.performance.timing,
-         K = OvA.WINDOW.performance.navigation.type,
-         q = {
-           entryType: "navigation",
-           startTime: 0,
-           type: K == 2 ? "back_forward" : K === 1 ? "reload" : "navigate",
-         };
-       for (let Y in A)
-         if (Y !== "navigationStart" && Y !== "toJSON")
-           q[Y] = Math.max(A[Y] - A.navigationStart, 0);
-       return q;
-     },
-     Up5 = () => {
-       if (OvA.WINDOW.__WEB_VITALS_POLYFILL__)
-         return (
-           OvA.WINDOW.performance &&
-           ((performance.getEntriesByType &&
-             performance.getEntriesByType("navigation")[0]) ||
-             Qp5())
-         );
-       else
-         return (
-           OvA.WINDOW.performance &&
-           performance.getEntriesByType &&
-           performance.getEntriesByType("navigation")[0]
-         );
-     };
-   WV8.getNavigationEntry = Up5;
- });

--- Removed usA (pretty-v2.1.26.js:70977-70985)
- var usA = k((DV8) => {
-   Object.defineProperty(DV8, "__esModule", { value: !0 });
-   var dp5 = XvA(),
-     cp5 = () => {
-       let A = dp5.getNavigationEntry();
-       return (A && A.activationStart) || 0;
-     };
-   DV8.getActivationStart = cp5;
- });

--- Removed YHA (pretty-v2.1.26.js:70986-71013)
- var YHA = k((MV8) => {
-   Object.defineProperty(MV8, "__esModule", { value: !0 });
-   var jV8 = QN(),
-     ip5 = ZV8(),
-     np5 = usA(),
-     rp5 = XvA(),
-     op5 = (A, K) => {
-       let q = rp5.getNavigationEntry(),
-         Y = "navigate";
-       if (q)
-         if (
-           (jV8.WINDOW.document && jV8.WINDOW.document.prerendering) ||
-           np5.getActivationStart() > 0
-         )
-           Y = "prerender";
-         else Y = q.type.replace(/_/g, "-");
-       return {
-         name: A,
-         value: typeof K > "u" ? -1 : K,
-         rating: "good",
-         delta: 0,
-         entries: [],
-         id: ip5.generateUniqueID(),
-         navigationType: Y,
-       };
-     };
-   MV8.initMetric = op5;
- });

--- Removed F1A (pretty-v2.1.26.js:71014-71031)
- var F1A = k((PV8) => {
-   Object.defineProperty(PV8, "__esModule", { value: !0 });
-   var sp5 = (A, K, q) => {
-     try {
-       if (PerformanceObserver.supportedEntryTypes.includes(A)) {
-         let Y = new PerformanceObserver((z) => {
-           K(z.getEntries());
-         });
-         return (
-           Y.observe(Object.assign({ type: A, buffered: !0 }, q || {})),
-           Y
-         );
-       }
-     } catch (Y) {}
-     return;
-   };
-   PV8.observe = sp5;
- });

--- Removed zHA (pretty-v2.1.26.js:71032-71051)
- var zHA = k((fV8) => {
-   Object.defineProperty(fV8, "__esModule", { value: !0 });
-   var VV8 = QN(),
-     ep5 = (A, K) => {
-       let q = (Y) => {
-         if (
-           Y.type === "pagehide" ||
-           VV8.WINDOW.document.visibilityState === "hidden"
-         ) {
-           if ((A(Y), K))
-             (removeEventListener("visibilitychange", q, !0),
-               removeEventListener("pagehide", q, !0));
-         }
-       };
-       if (VV8.WINDOW.document)
-         (addEventListener("visibilitychange", q, !0),
-           addEventListener("pagehide", q, !0));
-     };
-   fV8.onHidden = ep5;
- });

--- Removed TV8 (pretty-v2.1.26.js:71052-71093)
- var TV8 = k((NV8) => {
-   Object.defineProperty(NV8, "__esModule", { value: !0 });
-   var Kd5 = qHA(),
-     qd5 = YHA(),
-     Yd5 = F1A(),
-     zd5 = zHA(),
-     wd5 = (A, K = {}) => {
-       let q = qd5.initMetric("CLS", 0),
-         Y,
-         z = 0,
-         w = [],
-         H = (O) => {
-           O.forEach((X) => {
-             if (!X.hadRecentInput) {
-               let $ = w[0],
-                 _ = w[w.length - 1];
-               if (
-                 z &&
-                 w.length !== 0 &&
-                 X.startTime - _.startTime < 1000 &&
-                 X.startTime - $.startTime < 5000
-               )
-                 ((z += X.value), w.push(X));
-               else ((z = X.value), (w = [X]));
-               if (z > q.value) {
-                 if (((q.value = z), (q.entries = w), Y)) Y();
-               }
-             }
-           });
-         },
-         J = Yd5.observe("layout-shift", H);
-       if (J) {
-         Y = Kd5.bindReporter(A, q, K.reportAllChanges);
-         let O = () => {
-           (H(J.takeRecords()), Y(!0));
-         };
-         return (zd5.onHidden(O), O);
-       }
-       return;
-     };
-   NV8.onCLS = wd5;
- });

--- Removed gsA (pretty-v2.1.26.js:71094-71121)
- var gsA = k((vV8) => {
-   Object.defineProperty(vV8, "__esModule", { value: !0 });
-   var BsA = QN(),
-     Jd5 = zHA(),
-     msA = -1,
-     Od5 = () => {
-       if (BsA.WINDOW.document && BsA.WINDOW.document.visibilityState)
-         msA =
-           BsA.WINDOW.document.visibilityState === "hidden" &&
-           !BsA.WINDOW.document.prerendering
-             ? 0
-             : 1 / 0;
-     },
-     Xd5 = () => {
-       Jd5.onHidden(({ timeStamp: A }) => {
-         msA = A;
-       }, !0);
-     },
-     $d5 = () => {
-       if (msA < 0) (Od5(), Xd5());
-       return {
-         get firstHiddenTime() {
-           return msA;
-         },
-       };
-     };
-   vV8.getVisibilityWatcher = $d5;
- });

--- Removed kV8 (pretty-v2.1.26.js:71122-71149)
- var kV8 = k((EV8) => {
-   Object.defineProperty(EV8, "__esModule", { value: !0 });
-   var Gd5 = qHA(),
-     Zd5 = gsA(),
-     Wd5 = YHA(),
-     Dd5 = F1A(),
-     jd5 = zHA(),
-     Md5 = (A) => {
-       let K = Zd5.getVisibilityWatcher(),
-         q = Wd5.initMetric("FID"),
-         Y,
-         z = (J) => {
-           if (J.startTime < K.firstHiddenTime)
-             ((q.value = J.processingStart - J.startTime),
-               q.entries.push(J),
-               Y(!0));
-         },
-         w = (J) => {
-           J.forEach(z);
-         },
-         H = Dd5.observe("first-input", w);
-       if (((Y = Gd5.bindReporter(A, q)), H))
-         jd5.onHidden(() => {
-           (w(H.takeRecords()), H.disconnect());
-         }, !0);
-     };
-   EV8.onFID = Md5;
- });

--- Removed RV8 (pretty-v2.1.26.js:71150-71178)
- var RV8 = k((LV8) => {
-   Object.defineProperty(LV8, "__esModule", { value: !0 });
-   var Vd5 = F1A(),
-     CV8 = 0,
-     ru1 = 1 / 0,
-     FsA = 0,
-     fd5 = (A) => {
-       A.forEach((K) => {
-         if (K.interactionId)
-           ((ru1 = Math.min(ru1, K.interactionId)),
-             (FsA = Math.max(FsA, K.interactionId)),
-             (CV8 = FsA ? (FsA - ru1) / 7 + 1 : 0));
-       });
-     },
-     ou1,
-     Nd5 = () => {
-       return ou1 ? CV8 : performance.interactionCount || 0;
-     },
-     Td5 = () => {
-       if ("interactionCount" in performance || ou1) return;
-       ou1 = Vd5.observe("event", fd5, {
-         type: "event",
-         buffered: !0,
-         durationThreshold: 0,
-       });
-     };
-   LV8.getInteractionCount = Nd5;
-   LV8.initInteractionCountPolyfill = Td5;
- });

--- Removed xV8 (pretty-v2.1.26.js:71179-71248)
- var xV8 = k((bV8) => {
-   Object.defineProperty(bV8, "__esModule", { value: !0 });
-   var kd5 = qHA(),
-     Cd5 = YHA(),
-     Ld5 = F1A(),
-     Rd5 = zHA(),
-     SV8 = RV8(),
-     hV8 = () => {
-       return SV8.getInteractionCount();
-     },
-     yV8 = 10,
-     ag = [],
-     au1 = {},
-     IV8 = (A) => {
-       let K = ag[ag.length - 1],
-         q = au1[A.interactionId];
-       if (q || ag.length < yV8 || A.duration > K.latency) {
-         if (q)
-           (q.entries.push(A), (q.latency = Math.max(q.latency, A.duration)));
-         else {
-           let Y = { id: A.interactionId, latency: A.duration, entries: [A] };
-           ((au1[Y.id] = Y), ag.push(Y));
-         }
-         (ag.sort((Y, z) => z.latency - Y.latency),
-           ag.splice(yV8).forEach((Y) => {
-             delete au1[Y.id];
-           }));
-       }
-     },
-     yd5 = () => {
-       let A = Math.min(ag.length - 1, Math.floor(hV8() / 50));
-       return ag[A];
-     },
-     Id5 = (A, K) => {
-       ((K = K || {}), SV8.initInteractionCountPolyfill());
-       let q = Cd5.initMetric("INP"),
-         Y,
-         z = (H) => {
-           H.forEach((O) => {
-             if (O.interactionId) IV8(O);
-             if (O.entryType === "first-input") {
-               if (
-                 !ag.some(($) => {
-                   return $.entries.some((_) => {
-                     return (
-                       O.duration === _.duration && O.startTime === _.startTime
-                     );
-                   });
-                 })
-               )
-                 IV8(O);
-             }
-           });
-           let J = yd5();
-           if (J && J.latency !== q.value)
-             ((q.value = J.latency), (q.entries = J.entries), Y());
-         },
-         w = Ld5.observe("event", z, {
-           durationThreshold: K.durationThreshold || 40,
-         });
-       if (((Y = kd5.bindReporter(A, q, K.reportAllChanges)), w))
-         (w.observe({ type: "first-input", buffered: !0 }),
-           Rd5.onHidden(() => {
-             if ((z(w.takeRecords()), q.value < 0 && hV8() > 0))
-               ((q.value = 0), (q.entries = []));
-             Y(!0);
-           }));
-     };
-   bV8.onINP = Id5;
- });

--- Removed mV8 (pretty-v2.1.26.js:71249-71289)
- var mV8 = k((BV8) => {
-   Object.defineProperty(BV8, "__esModule", { value: !0 });
-   var hd5 = QN(),
-     bd5 = qHA(),
-     xd5 = usA(),
-     ud5 = gsA(),
-     Bd5 = YHA(),
-     md5 = F1A(),
-     gd5 = zHA(),
-     uV8 = {},
-     Fd5 = (A) => {
-       let K = ud5.getVisibilityWatcher(),
-         q = Bd5.initMetric("LCP"),
-         Y,
-         z = (H) => {
-           let J = H[H.length - 1];
-           if (J) {
-             let O = Math.max(J.startTime - xd5.getActivationStart(), 0);
-             if (O < K.firstHiddenTime) ((q.value = O), (q.entries = [J]), Y());
-           }
-         },
-         w = md5.observe("largest-contentful-paint", z);
-       if (w) {
-         Y = bd5.bindReporter(A, q);
-         let H = () => {
-           if (!uV8[q.id])
-             (z(w.takeRecords()), w.disconnect(), (uV8[q.id] = !0), Y(!0));
-         };
-         return (
-           ["keydown", "click"].forEach((J) => {
-             if (hd5.WINDOW.document)
-               addEventListener(J, H, { once: !0, capture: !0 });
-           }),
-           gd5.onHidden(H, !0),
-           H
-         );
-       }
-       return;
-     };
-   BV8.onLCP = Fd5;
- });

--- Removed FV8 (pretty-v2.1.26.js:71290-71325)
- var FV8 = k((gV8) => {
-   Object.defineProperty(gV8, "__esModule", { value: !0 });
-   var su1 = QN(),
-     Ud5 = qHA(),
-     pd5 = usA(),
-     dd5 = XvA(),
-     cd5 = YHA(),
-     tu1 = (A) => {
-       if (!su1.WINDOW.document) return;
-       if (su1.WINDOW.document.prerendering)
-         addEventListener("prerenderingchange", () => tu1(A), !0);
-       else if (su1.WINDOW.document.readyState !== "complete")
-         addEventListener("load", () => tu1(A), !0);
-       else setTimeout(A, 0);
-     },
-     ld5 = (A, K) => {
-       K = K || {};
-       let q = cd5.initMetric("TTFB"),
-         Y = Ud5.bindReporter(A, q, K.reportAllChanges);
-       tu1(() => {
-         let z = dd5.getNavigationEntry();
-         if (z) {
-           if (
-             ((q.value = Math.max(
-               z.responseStart - pd5.getActivationStart(),
-               0,
-             )),
-             q.value < 0 || q.value > performance.now())
-           )
-             return;
-           ((q.entries = [z]), Y(!0));
-         }
-       });
-     };
-   gV8.onTTFB = ld5;
- });

--- Removed HHA (pretty-v2.1.26.js:71326-71443)
- var HHA = k((rV8) => {
-   Object.defineProperty(rV8, "__esModule", { value: !0 });
-   var QV8 = H8(),
-     nd5 = zV(),
-     rd5 = TV8(),
-     od5 = kV8(),
-     ad5 = xV8(),
-     sd5 = mV8(),
-     td5 = F1A(),
-     ed5 = FV8(),
-     $vA = {},
-     QsA = {},
-     UV8,
-     pV8,
-     dV8,
-     cV8,
-     lV8;
-   function Ac5(A, K = !1) {
-     return _vA("cls", A, Hc5, UV8, K);
-   }
-   function Kc5(A, K = !1) {
-     return _vA("lcp", A, Oc5, dV8, K);
-   }
-   function qc5(A) {
-     return _vA("ttfb", A, Xc5, cV8);
-   }
-   function Yc5(A) {
-     return _vA("fid", A, Jc5, pV8);
-   }
-   function zc5(A) {
-     return _vA("inp", A, $c5, lV8);
-   }
-   function wc5(A, K) {
-     if ((iV8(A, K), !QsA[A])) (_c5(A), (QsA[A] = !0));
-     return nV8(A, K);
-   }
-   function wHA(A, K) {
-     let q = $vA[A];
-     if (!q || !q.length) return;
-     for (let Y of q)
-       try {
-         Y(K);
-       } catch (z) {
-         nd5.DEBUG_BUILD &&
-           QV8.logger.error(
-             `Error while triggering instrumentation handler.
- Type: ${A}
- Name: ${QV8.getFunctionName(Y)}
- Error:`,
-             z,
-           );
-       }
-   }
-   function Hc5() {
-     return rd5.onCLS(
-       (A) => {
-         (wHA("cls", { metric: A }), (UV8 = A));
-       },
-       { reportAllChanges: !0 },
-     );
-   }
-   function Jc5() {
-     return od5.onFID((A) => {
-       (wHA("fid", { metric: A }), (pV8 = A));
-     });
-   }
-   function Oc5() {
-     return sd5.onLCP((A) => {
-       (wHA("lcp", { metric: A }), (dV8 = A));
-     });
-   }
-   function Xc5() {
-     return ed5.onTTFB((A) => {
-       (wHA("ttfb", { metric: A }), (cV8 = A));
-     });
-   }
-   function $c5() {
-     return ad5.onINP((A) => {
-       (wHA("inp", { metric: A }), (lV8 = A));
-     });
-   }
-   function _vA(A, K, q, Y, z = !1) {
-     iV8(A, K);
-     let w;
-     if (!QsA[A]) ((w = q()), (QsA[A] = !0));
-     if (Y) K({ metric: Y });
-     return nV8(A, K, z ? w : void 0);
-   }
-   function _c5(A) {
-     let K = {};
-     if (A === "event") K.durationThreshold = 0;
-     td5.observe(
-       A,
-       (q) => {
-         wHA(A, { entries: q });
-       },
-       K,
-     );
-   }
-   function iV8(A, K) {
-     (($vA[A] = $vA[A] || []), $vA[A].push(K));
-   }
-   function nV8(A, K, q) {
-     return () => {
-       if (q) q();
-       let Y = $vA[A];
-       if (!Y) return;
-       let z = Y.indexOf(K);
-       if (z !== -1) Y.splice(z, 1);
-     };
-   }
-   rV8.addClsInstrumentationHandler = Ac5;
-   rV8.addFidInstrumentationHandler = Yc5;
-   rV8.addInpInstrumentationHandler = zc5;
-   rV8.addLcpInstrumentationHandler = Kc5;
-   rV8.addPerformanceInstrumentationHandler = wc5;
-   rV8.addTtfbInstrumentationHandler = qc5;
- });

--- Removed aV8 (pretty-v2.1.26.js:71444-71455)
- var aV8 = k((oV8) => {
-   Object.defineProperty(oV8, "__esModule", { value: !0 });
-   function Pc5(A) {
-     return typeof A === "number" && isFinite(A);
-   }
-   function Vc5(A, { startTimestamp: K, ...q }) {
-     if (K && A.startTimestamp > K) A.startTimestamp = K;
-     return A.startChild({ startTimestamp: K, ...q });
-   }
-   oV8._startChild = Vc5;
-   oV8.isMeasurementValue = Pc5;
- });

--- Removed KB1 (pretty-v2.1.26.js:71456-71900)
- var KB1 = k((Kf8) => {
-   Object.defineProperty(Kf8, "__esModule", { value: !0 });
-   var sg = a5(),
-     Ow = H8(),
-     UN = zV(),
-     Q1A = HHA(),
-     tg = QN(),
-     Tc5 = gsA(),
-     eg = aV8(),
-     vc5 = XvA(),
-     Ec5 = 2147483647;
-   function n$(A) {
-     return A / 1000;
-   }
-   function AB1() {
-     return tg.WINDOW && tg.WINDOW.addEventListener && tg.WINDOW.performance;
-   }
-   var sV8 = 0,
-     uO = {},
-     Mb,
-     GvA;
-   function kc5() {
-     let A = AB1();
-     if (A && Ow.browserPerformanceTimeOrigin) {
-       if (A.mark) tg.WINDOW.performance.mark("sentry-tracing-init");
-       let K = Sc5(),
-         q = yc5(),
-         Y = Ic5(),
-         z = hc5();
-       return () => {
-         (K(), q(), Y(), z());
-       };
-     }
-     return () => {
-       return;
-     };
-   }
-   function Cc5() {
-     Q1A.addPerformanceInstrumentationHandler("longtask", ({ entries: A }) => {
-       for (let K of A) {
-         let q = sg.getActiveTransaction();
-         if (!q) return;
-         let Y = n$(Ow.browserPerformanceTimeOrigin + K.startTime),
-           z = n$(K.duration);
-         q.startChild({
-           description: "Main UI thread blocked",
-           op: "ui.long-task",
-           origin: "auto.ui.browser.metrics",
-           startTimestamp: Y,
-           endTimestamp: Y + z,
-         });
-       }
-     });
-   }
-   function Lc5() {
-     Q1A.addPerformanceInstrumentationHandler("event", ({ entries: A }) => {
-       for (let K of A) {
-         let q = sg.getActiveTransaction();
-         if (!q) return;
-         if (K.name === "click") {
-           let Y = n$(Ow.browserPerformanceTimeOrigin + K.startTime),
-             z = n$(K.duration),
-             w = {
-               description: Ow.htmlTreeAsString(K.target),
-               op: `ui.interaction.${K.name}`,
-               origin: "auto.ui.browser.metrics",
-               startTimestamp: Y,
-               endTimestamp: Y + z,
-             },
-             H = Ow.getComponentName(K.target);
-           if (H) w.attributes = { "ui.component_name": H };
-           q.startChild(w);
-         }
-       }
-     });
-   }
-   function Rc5(A, K) {
-     if (AB1() && Ow.browserPerformanceTimeOrigin) {
-       let Y = bc5(A, K);
-       return () => {
-         Y();
-       };
-     }
-     return () => {
-       return;
-     };
-   }
-   function yc5() {
-     return Q1A.addClsInstrumentationHandler(({ metric: A }) => {
-       let K = A.entries[A.entries.length - 1];
-       if (!K) return;
-       (UN.DEBUG_BUILD && Ow.logger.log("[Measurements] Adding CLS"),
-         (uO.cls = { value: A.value, unit: "" }),
-         (GvA = K));
-     }, !0);
-   }
-   function Ic5() {
-     return Q1A.addLcpInstrumentationHandler(({ metric: A }) => {
-       let K = A.entries[A.entries.length - 1];
-       if (!K) return;
-       (UN.DEBUG_BUILD && Ow.logger.log("[Measurements] Adding LCP"),
-         (uO.lcp = { value: A.value, unit: "millisecond" }),
-         (Mb = K));
-     }, !0);
-   }
-   function Sc5() {
-     return Q1A.addFidInstrumentationHandler(({ metric: A }) => {
-       let K = A.entries[A.entries.length - 1];
-       if (!K) return;
-       let q = n$(Ow.browserPerformanceTimeOrigin),
-         Y = n$(K.startTime);
-       (UN.DEBUG_BUILD && Ow.logger.log("[Measurements] Adding FID"),
-         (uO.fid = { value: A.value, unit: "millisecond" }),
-         (uO["mark.fid"] = { value: q + Y, unit: "second" }));
-     });
-   }
-   function hc5() {
-     return Q1A.addTtfbInstrumentationHandler(({ metric: A }) => {
-       if (!A.entries[A.entries.length - 1]) return;
-       (UN.DEBUG_BUILD && Ow.logger.log("[Measurements] Adding TTFB"),
-         (uO.ttfb = { value: A.value, unit: "millisecond" }));
-     });
-   }
-   var tV8 = {
-     click: "click",
-     pointerdown: "click",
-     pointerup: "click",
-     mousedown: "click",
-     mouseup: "click",
-     touchstart: "click",
-     touchend: "click",
-     mouseover: "hover",
-     mouseout: "hover",
-     mouseenter: "hover",
-     mouseleave: "hover",
-     pointerover: "hover",
-     pointerout: "hover",
-     pointerenter: "hover",
-     pointerleave: "hover",
-     dragstart: "drag",
-     dragend: "drag",
-     drag: "drag",
-     dragenter: "drag",
-     dragleave: "drag",
-     dragover: "drag",
-     drop: "drag",
-     keydown: "press",
-     keyup: "press",
-     keypress: "press",
-     input: "press",
-   };
-   function bc5(A, K) {
-     return Q1A.addInpInstrumentationHandler(({ metric: q }) => {
-       if (q.value === void 0) return;
-       let Y = q.entries.find(
-           (f) => f.duration === q.value && tV8[f.name] !== void 0,
-         ),
-         z = sg.getClient();
-       if (!Y || !z) return;
-       let w = tV8[Y.name],
-         H = z.getOptions(),
-         J = n$(Ow.browserPerformanceTimeOrigin + Y.startTime),
-         O = n$(q.value),
-         X = Y.interactionId !== void 0 ? A[Y.interactionId] : void 0;
-       if (X === void 0) return;
-       let {
-           routeName: $,
-           parentContext: _,
-           activeTransaction: G,
-           user: Z,
-           replayId: W,
-         } = X,
-         D = Z !== void 0 ? Z.email || Z.id || Z.ip_address : void 0,
-         j = G !== void 0 ? G.getProfileId() : void 0,
-         M = new sg.Span({
-           startTimestamp: J,
-           endTimestamp: J + O,
-           op: `ui.interaction.${w}`,
-           name: Ow.htmlTreeAsString(Y.target),
-           attributes: {
-             release: H.release,
-             environment: H.environment,
-             transaction: $,
-             ...(D !== void 0 && D !== "" ? { user: D } : {}),
-             ...(j !== void 0 ? { profile_id: j } : {}),
-             ...(W !== void 0 ? { replay_id: W } : {}),
-           },
-           exclusiveTime: q.value,
-           measurements: { inp: { value: q.value, unit: "millisecond" } },
-         }),
-         P = Qc5(_, H, K);
-       if (!P) return;
-       if (Math.random() < P) {
-         let f = M ? sg.createSpanEnvelope([M], z.getDsn()) : void 0,
-           N = z && z.getTransport();
-         if (N && f)
-           N.send(f).then(null, (T) => {
-             UN.DEBUG_BUILD &&
-               Ow.logger.error("Error while sending interaction:", T);
-           });
-         return;
-       }
-     });
-   }
-   function xc5(A) {
-     let K = AB1();
-     if (
-       !K ||
-       !tg.WINDOW.performance.getEntries ||
-       !Ow.browserPerformanceTimeOrigin
-     )
-       return;
-     UN.DEBUG_BUILD &&
-       Ow.logger.log("[Tracing] Adding & adjusting spans using Performance API");
-     let q = n$(Ow.browserPerformanceTimeOrigin),
-       Y = K.getEntries(),
-       { op: z, start_timestamp: w } = sg.spanToJSON(A);
-     if (
-       (Y.slice(sV8).forEach((H) => {
-         let J = n$(H.startTime),
-           O = n$(H.duration);
-         if (A.op === "navigation" && w && q + J < w) return;
-         switch (H.entryType) {
-           case "navigation": {
-             uc5(A, H, q);
-             break;
-           }
-           case "mark":
-           case "paint":
-           case "measure": {
-             eV8(A, H, J, O, q);
-             let X = Tc5.getVisibilityWatcher(),
-               $ = H.startTime < X.firstHiddenTime;
-             if (H.name === "first-paint" && $)
-               (UN.DEBUG_BUILD && Ow.logger.log("[Measurements] Adding FP"),
-                 (uO.fp = { value: H.startTime, unit: "millisecond" }));
-             if (H.name === "first-contentful-paint" && $)
-               (UN.DEBUG_BUILD && Ow.logger.log("[Measurements] Adding FCP"),
-                 (uO.fcp = { value: H.startTime, unit: "millisecond" }));
-             break;
-           }
-           case "resource": {
-             Af8(A, H, H.name, J, O, q);
-             break;
-           }
-         }
-       }),
-       (sV8 = Math.max(Y.length - 1, 0)),
-       mc5(A),
-       z === "pageload")
-     ) {
-       (Fc5(uO),
-         ["fcp", "fp", "lcp"].forEach((J) => {
-           if (!uO[J] || !w || q >= w) return;
-           let O = uO[J].value,
-             X = q + n$(O),
-             $ = Math.abs((X - w) * 1000),
-             _ = $ - O;
-           (UN.DEBUG_BUILD &&
-             Ow.logger.log(
-               `[Measurements] Normalized ${J} from ${O} to ${$} (${_})`,
-             ),
-             (uO[J].value = $));
-         }));
-       let H = uO["mark.fid"];
-       if (H && uO.fid)
-         (eg._startChild(A, {
-           description: "first input delay",
-           endTimestamp: H.value + n$(uO.fid.value),
-           op: "ui.action",
-           origin: "auto.ui.browser.metrics",
-           startTimestamp: H.value,
-         }),
-           delete uO["mark.fid"]);
-       if (!("fcp" in uO)) delete uO.cls;
-       (Object.keys(uO).forEach((J) => {
-         sg.setMeasurement(J, uO[J].value, uO[J].unit);
-       }),
-         gc5(A));
-     }
-     ((Mb = void 0), (GvA = void 0), (uO = {}));
-   }
-   function eV8(A, K, q, Y, z) {
-     let w = z + q,
-       H = w + Y;
-     return (
-       eg._startChild(A, {
-         description: K.name,
-         endTimestamp: H,
-         op: K.entryType,
-         origin: "auto.resource.browser.metrics",
-         startTimestamp: w,
-       }),
-       w
-     );
-   }
-   function uc5(A, K, q) {
-     ([
-       "unloadEvent",
-       "redirect",
-       "domContentLoadedEvent",
-       "loadEvent",
-       "connect",
-     ].forEach((Y) => {
-       UsA(A, K, Y, q);
-     }),
-       UsA(A, K, "secureConnection", q, "TLS/SSL", "connectEnd"),
-       UsA(A, K, "fetch", q, "cache", "domainLookupStart"),
-       UsA(A, K, "domainLookup", q, "DNS"),
-       Bc5(A, K, q));
-   }
-   function UsA(A, K, q, Y, z, w) {
-     let H = w ? K[w] : K[`${q}End`],
-       J = K[`${q}Start`];
-     if (!J || !H) return;
-     eg._startChild(A, {
-       op: "browser",
-       origin: "auto.browser.browser.metrics",
-       description: z || q,
-       startTimestamp: Y + n$(J),
-       endTimestamp: Y + n$(H),
-     });
-   }
-   function Bc5(A, K, q) {
-     if (K.responseEnd)
-       (eg._startChild(A, {
-         op: "browser",
-         origin: "auto.browser.browser.metrics",
-         description: "request",
-         startTimestamp: q + n$(K.requestStart),
-         endTimestamp: q + n$(K.responseEnd),
-       }),
-         eg._startChild(A, {
-           op: "browser",
-           origin: "auto.browser.browser.metrics",
-           description: "response",
-           startTimestamp: q + n$(K.responseStart),
-           endTimestamp: q + n$(K.responseEnd),
-         }));
-   }
-   function Af8(A, K, q, Y, z, w) {
-     if (K.initiatorType === "xmlhttprequest" || K.initiatorType === "fetch")
-       return;
-     let H = Ow.parseUrl(q),
-       J = {};
-     if (
-       (eu1(J, K, "transferSize", "http.response_transfer_size"),
-       eu1(J, K, "encodedBodySize", "http.response_content_length"),
-       eu1(J, K, "decodedBodySize", "http.decoded_response_content_length"),
-       "renderBlockingStatus" in K)
-     )
-       J["resource.render_blocking_status"] = K.renderBlockingStatus;
-     if (H.protocol) J["url.scheme"] = H.protocol.split(":").pop();
-     if (H.host) J["server.address"] = H.host;
-     J["url.same_origin"] = q.includes(tg.WINDOW.location.origin);
-     let O = w + Y,
-       X = O + z;
-     eg._startChild(A, {
-       description: q.replace(tg.WINDOW.location.origin, ""),
-       endTimestamp: X,
-       op: K.initiatorType ? `resource.${K.initiatorType}` : "resource.other",
-       origin: "auto.resource.browser.metrics",
-       startTimestamp: O,
-       data: J,
-     });
-   }
-   function mc5(A) {
-     let K = tg.WINDOW.navigator;
-     if (!K) return;
-     let q = K.connection;
-     if (q) {
-       if (q.effectiveType) A.setTag("effectiveConnectionType", q.effectiveType);
-       if (q.type) A.setTag("connectionType", q.type);
-       if (eg.isMeasurementValue(q.rtt))
-         uO["connection.rtt"] = { value: q.rtt, unit: "millisecond" };
-     }
-     if (eg.isMeasurementValue(K.deviceMemory))
-       A.setTag("deviceMemory", `${K.deviceMemory} GB`);
-     if (eg.isMeasurementValue(K.hardwareConcurrency))
-       A.setTag("hardwareConcurrency", String(K.hardwareConcurrency));
-   }
-   function gc5(A) {
-     if (Mb) {
-       if (
-         (UN.DEBUG_BUILD && Ow.logger.log("[Measurements] Adding LCP Data"),
-         Mb.element)
-       )
-         A.setTag("lcp.element", Ow.htmlTreeAsString(Mb.element));
-       if (Mb.id) A.setTag("lcp.id", Mb.id);
-       if (Mb.url) A.setTag("lcp.url", Mb.url.trim().slice(0, 200));
-       A.setTag("lcp.size", Mb.size);
-     }
-     if (GvA && GvA.sources)
-       (UN.DEBUG_BUILD && Ow.logger.log("[Measurements] Adding CLS Data"),
-         GvA.sources.forEach((K, q) =>
-           A.setTag(`cls.source.${q + 1}`, Ow.htmlTreeAsString(K.node)),
-         ));
-   }
-   function eu1(A, K, q, Y) {
-     let z = K[q];
-     if (z != null && z < Ec5) A[Y] = z;
-   }
-   function Fc5(A) {
-     let K = vc5.getNavigationEntry();
-     if (!K) return;
-     let { responseStart: q, requestStart: Y } = K;
-     if (Y <= q)
-       (UN.DEBUG_BUILD &&
-         Ow.logger.log("[Measurements] Adding TTFB Request Time"),
-         (A["ttfb.requestTime"] = { value: q - Y, unit: "millisecond" }));
-   }
-   function Qc5(A, K, q) {
-     if (!sg.hasTracingEnabled(K)) return !1;
-     let Y;
-     if (A !== void 0 && typeof K.tracesSampler === "function")
-       Y = K.tracesSampler({
-         transactionContext: A,
-         name: A.name,
-         parentSampled: A.parentSampled,
-         attributes: { ...A.data, ...A.attributes },
-         location: tg.WINDOW.location,
-       });
-     else if (A !== void 0 && A.sampled !== void 0) Y = A.sampled;
-     else if (typeof K.tracesSampleRate < "u") Y = K.tracesSampleRate;
-     else Y = 1;
-     if (!sg.isValidSampleRate(Y))
-       return (
-         UN.DEBUG_BUILD &&
-           Ow.logger.warn(
-             "[Tracing] Discarding interaction span because of invalid sample rate.",
-           ),
-         !1
-       );
-     if (Y === !0) return q;
-     else if (Y === !1) return 0;
-     return Y * q;
-   }
-   Kf8._addMeasureSpans = eV8;
-   Kf8._addResourceSpans = Af8;
-   Kf8.addPerformanceEntries = xc5;
-   Kf8.startTrackingINP = Rc5;
-   Kf8.startTrackingInteractions = Lc5;
-   Kf8.startTrackingLongTasks = Cc5;
-   Kf8.startTrackingWebVitals = kc5;
- });

--- Removed qB1 (pretty-v2.1.26.js:71901-72013)
- var qB1 = k((Yf8) => {
-   Object.defineProperty(Yf8, "__esModule", { value: !0 });
-   var Pb = a5(),
-     U1A = H8();
-   function rc5(A, K, q, Y, z = "auto.http.browser") {
-     if (!Pb.hasTracingEnabled() || !A.fetchData) return;
-     let w = K(A.fetchData.url);
-     if (A.endTimestamp && w) {
-       let Z = A.fetchData.__span;
-       if (!Z) return;
-       let W = Y[Z];
-       if (W) (ac5(W, A), delete Y[Z]);
-       return;
-     }
-     let H = Pb.getCurrentScope(),
-       J = Pb.getClient(),
-       { method: O, url: X } = A.fetchData,
-       $ = oc5(X),
-       _ = $ ? U1A.parseUrl($).host : void 0,
-       G = w
-         ? Pb.startInactiveSpan({
-             name: `${O} ${X}`,
-             onlyIfParent: !0,
-             attributes: {
-               url: X,
-               type: "fetch",
-               "http.method": O,
-               "http.url": $,
-               "server.address": _,
-               [Pb.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: z,
-             },
-             op: "http.client",
-           })
-         : void 0;
-     if (G)
-       ((A.fetchData.__span = G.spanContext().spanId),
-         (Y[G.spanContext().spanId] = G));
-     if (q(A.fetchData.url) && J) {
-       let Z = A.args[0];
-       A.args[1] = A.args[1] || {};
-       let W = A.args[1];
-       W.headers = qf8(Z, J, H, W, G);
-     }
-     return G;
-   }
-   function qf8(A, K, q, Y, z) {
-     let w = z || q.getSpan(),
-       H = Pb.getIsolationScope(),
-       {
-         traceId: J,
-         spanId: O,
-         sampled: X,
-         dsc: $,
-       } = { ...H.getPropagationContext(), ...q.getPropagationContext() },
-       _ = w ? Pb.spanToTraceHeader(w) : U1A.generateSentryTraceHeader(J, O, X),
-       G = U1A.dynamicSamplingContextToSentryBaggageHeader(
-         $ ||
-           (w
-             ? Pb.getDynamicSamplingContextFromSpan(w)
-             : Pb.getDynamicSamplingContextFromClient(J, K, q)),
-       ),
-       Z =
-         Y.headers ||
-         (typeof Request < "u" && U1A.isInstanceOf(A, Request)
-           ? A.headers
-           : void 0);
-     if (!Z) return { "sentry-trace": _, baggage: G };
-     else if (typeof Headers < "u" && U1A.isInstanceOf(Z, Headers)) {
-       let W = new Headers(Z);
-       if ((W.append("sentry-trace", _), G))
-         W.append(U1A.BAGGAGE_HEADER_NAME, G);
-       return W;
-     } else if (Array.isArray(Z)) {
-       let W = [...Z, ["sentry-trace", _]];
-       if (G) W.push([U1A.BAGGAGE_HEADER_NAME, G]);
-       return W;
-     } else {
-       let W = "baggage" in Z ? Z.baggage : void 0,
-         D = [];
-       if (Array.isArray(W)) D.push(...W);
-       else if (W) D.push(W);
-       if (G) D.push(G);
-       return {
-         ...Z,
-         "sentry-trace": _,
-         baggage: D.length > 0 ? D.join(",") : void 0,
-       };
-     }
-   }
-   function oc5(A) {
-     try {
-       return new URL(A).href;
-     } catch (K) {
-       return;
-     }
-   }
-   function ac5(A, K) {
-     if (K.response) {
-       Pb.setHttpStatus(A, K.response.status);
-       let q =
-         K.response &&
-         K.response.headers &&
-         K.response.headers.get("content-length");
-       if (q) {
-         let Y = parseInt(q);
-         if (Y > 0) A.setAttribute("http.response_content_length", Y);
-       }
-     } else if (K.error) A.setStatus("internal_error");
-     A.end();
-   }
-   Yf8.addTracingHeadersToFetchRequest = qf8;
-   Yf8.instrumentFetchRequest = rc5;
- });

--- Removed dsA (pretty-v2.1.26.js:72014-72199)
- var dsA = k((Xf8) => {
-   Object.defineProperty(Xf8, "__esModule", { value: !0 });
-   var xR = a5(),
-     uR = H8(),
-     ec5 = qB1(),
-     Al5 = HHA(),
-     Kl5 = QN(),
-     psA = ["localhost", /^\/(?!\/)/],
-     YB1 = {
-       traceFetch: !0,
-       traceXHR: !0,
-       enableHTTPTimings: !0,
-       tracingOrigins: psA,
-       tracePropagationTargets: psA,
-     };
-   function ql5(A) {
-     let {
-         traceFetch: K,
-         traceXHR: q,
-         tracePropagationTargets: Y,
-         tracingOrigins: z,
-         shouldCreateSpanForRequest: w,
-         enableHTTPTimings: H,
-       } = { traceFetch: YB1.traceFetch, traceXHR: YB1.traceXHR, ...A },
-       J = typeof w === "function" ? w : ($) => !0,
-       O = ($) => Hf8($, Y || z),
-       X = {};
-     if (K)
-       uR.addFetchInstrumentationHandler(($) => {
-         let _ = ec5.instrumentFetchRequest($, J, O, X);
-         if (_) {
-           let G = Of8($.fetchData.url),
-             Z = G ? uR.parseUrl(G).host : void 0;
-           _.setAttributes({ "http.url": G, "server.address": Z });
-         }
-         if (H && _) zf8(_);
-       });
-     if (q)
-       uR.addXhrInstrumentationHandler(($) => {
-         let _ = Jf8($, J, O, X);
-         if (H && _) zf8(_);
-       });
-   }
-   function Yl5(A) {
-     return (
-       A.entryType === "resource" &&
-       "initiatorType" in A &&
-       typeof A.nextHopProtocol === "string" &&
-       (A.initiatorType === "fetch" || A.initiatorType === "xmlhttprequest")
-     );
-   }
-   function zf8(A) {
-     let { url: K } = xR.spanToJSON(A).data || {};
-     if (!K || typeof K !== "string") return;
-     let q = Al5.addPerformanceInstrumentationHandler(
-       "resource",
-       ({ entries: Y }) => {
-         Y.forEach((z) => {
-           if (Yl5(z) && z.name.endsWith(K))
-             (zl5(z).forEach((H) => A.setAttribute(...H)), setTimeout(q));
-         });
-       },
-     );
-   }
-   function wf8(A) {
-     let K = "unknown",
-       q = "unknown",
-       Y = "";
-     for (let z of A) {
-       if (z === "/") {
-         [K, q] = A.split("/");
-         break;
-       }
-       if (!isNaN(Number(z))) {
-         ((K = Y === "h" ? "http" : Y), (q = A.split(Y)[1]));
-         break;
-       }
-       Y += z;
-     }
-     if (Y === A) K = Y;
-     return { name: K, version: q };
-   }
-   function Vb(A = 0) {
-     return (
-       ((uR.browserPerformanceTimeOrigin || performance.timeOrigin) + A) / 1000
-     );
-   }
-   function zl5(A) {
-     let { name: K, version: q } = wf8(A.nextHopProtocol),
-       Y = [];
-     if (
-       (Y.push(["network.protocol.version", q], ["network.protocol.name", K]),
-       !uR.browserPerformanceTimeOrigin)
-     )
-       return Y;
-     return [
-       ...Y,
-       ["http.request.redirect_start", Vb(A.redirectStart)],
-       ["http.request.fetch_start", Vb(A.fetchStart)],
-       ["http.request.domain_lookup_start", Vb(A.domainLookupStart)],
-       ["http.request.domain_lookup_end", Vb(A.domainLookupEnd)],
-       ["http.request.connect_start", Vb(A.connectStart)],
-       ["http.request.secure_connection_start", Vb(A.secureConnectionStart)],
-       ["http.request.connection_end", Vb(A.connectEnd)],
-       ["http.request.request_start", Vb(A.requestStart)],
-       ["http.request.response_start", Vb(A.responseStart)],
-       ["http.request.response_end", Vb(A.responseEnd)],
-     ];
-   }
-   function Hf8(A, K) {
-     return uR.stringMatchesSomePattern(A, K || psA);
-   }
-   function Jf8(A, K, q, Y) {
-     let z = A.xhr,
-       w = z && z[uR.SENTRY_XHR_DATA_KEY];
-     if (!xR.hasTracingEnabled() || !z || z.__sentry_own_request__ || !w) return;
-     let H = K(w.url);
-     if (A.endTimestamp && H) {
-       let Z = z.__sentry_xhr_span_id__;
-       if (!Z) return;
-       let W = Y[Z];
-       if (W && w.status_code !== void 0)
-         (xR.setHttpStatus(W, w.status_code), W.end(), delete Y[Z]);
-       return;
-     }
-     let J = xR.getCurrentScope(),
-       O = xR.getIsolationScope(),
-       X = Of8(w.url),
-       $ = X ? uR.parseUrl(X).host : void 0,
-       _ = H
-         ? xR.startInactiveSpan({
-             name: `${w.method} ${w.url}`,
-             onlyIfParent: !0,
-             attributes: {
-               type: "xhr",
-               "http.method": w.method,
-               "http.url": X,
-               url: w.url,
-               "server.address": $,
-               [xR.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: "auto.http.browser",
-             },
-             op: "http.client",
-           })
-         : void 0;
-     if (_)
-       ((z.__sentry_xhr_span_id__ = _.spanContext().spanId),
-         (Y[z.__sentry_xhr_span_id__] = _));
-     let G = xR.getClient();
-     if (z.setRequestHeader && q(w.url) && G) {
-       let {
-           traceId: Z,
-           spanId: W,
-           sampled: D,
-           dsc: j,
-         } = { ...O.getPropagationContext(), ...J.getPropagationContext() },
-         M = _ ? xR.spanToTraceHeader(_) : uR.generateSentryTraceHeader(Z, W, D),
-         P = uR.dynamicSamplingContextToSentryBaggageHeader(
-           j ||
-             (_
-               ? xR.getDynamicSamplingContextFromSpan(_)
-               : xR.getDynamicSamplingContextFromClient(Z, G, J)),
-         );
-       wl5(z, M, P);
-     }
-     return _;
-   }
-   function wl5(A, K, q) {
-     try {
-       if ((A.setRequestHeader("sentry-trace", K), q))
-         A.setRequestHeader(uR.BAGGAGE_HEADER_NAME, q);
-     } catch (Y) {}
-   }
-   function Of8(A) {
-     try {
-       return new URL(A, Kl5.WINDOW.location.origin).href;
-     } catch (K) {
-       return;
-     }
-   }
-   Xf8.DEFAULT_TRACE_PROPAGATION_TARGETS = psA;
-   Xf8.defaultRequestInstrumentationOptions = YB1;
-   Xf8.extractNetworkProtocol = wf8;
-   Xf8.instrumentOutgoingRequests = ql5;
-   Xf8.shouldAttachHeaders = Hf8;
-   Xf8.xhrCallback = Jf8;
- });

--- Removed Gf8 (pretty-v2.1.26.js:72200-72248)
- var Gf8 = k((_f8) => {
-   Object.defineProperty(_f8, "__esModule", { value: !0 });
-   var ZvA = H8(),
-     $f8 = zV(),
-     WvA = QN();
-   function Gl5(A, K = !0, q = !0) {
-     if (!WvA.WINDOW || !WvA.WINDOW.location) {
-       $f8.DEBUG_BUILD &&
-         ZvA.logger.warn(
-           "Could not initialize routing instrumentation due to invalid location",
-         );
-       return;
-     }
-     let Y = WvA.WINDOW.location.href,
-       z;
-     if (K)
-       z = A({
-         name: WvA.WINDOW.location.pathname,
-         startTimestamp: ZvA.browserPerformanceTimeOrigin
-           ? ZvA.browserPerformanceTimeOrigin / 1000
-           : void 0,
-         op: "pageload",
-         origin: "auto.pageload.browser",
-         metadata: { source: "url" },
-       });
-     if (q)
-       ZvA.addHistoryInstrumentationHandler(({ to: w, from: H }) => {
-         if (H === void 0 && Y && Y.indexOf(w) !== -1) {
-           Y = void 0;
-           return;
-         }
-         if (H !== w) {
-           if (((Y = void 0), z))
-             ($f8.DEBUG_BUILD &&
-               ZvA.logger.log(
-                 `[Tracing] Finishing current transaction with op: ${z.op}`,
-               ),
-               z.end());
-           z = A({
-             name: WvA.WINDOW.location.pathname,
-             op: "navigation",
-             origin: "auto.navigation.browser",
-             metadata: { source: "url" },
-           });
-         }
-       });
-   }
-   _f8.instrumentRoutingWithDefaults = Gl5;
- });

--- Removed Vf8 (pretty-v2.1.26.js:72249-72573)
- var Vf8 = k((Pf8) => {
-   Object.defineProperty(Pf8, "__esModule", { value: !0 });
-   var BR = a5(),
-     AF = H8(),
-     Hi = zV(),
-     Wl5 = nu1(),
-     Zf8 = HHA(),
-     DvA = KB1(),
-     Df8 = dsA(),
-     Dl5 = Gf8(),
-     p1A = QN(),
-     jf8 = "BrowserTracing",
-     jl5 = {
-       ...BR.TRACING_DEFAULTS,
-       markBackgroundTransactions: !0,
-       routingInstrumentation: Dl5.instrumentRoutingWithDefaults,
-       startTransactionOnLocationChange: !0,
-       startTransactionOnPageLoad: !0,
-       enableLongTask: !0,
-       enableInp: !1,
-       interactionsSampleRate: 1,
-       _experiments: {},
-       ...Df8.defaultRequestInstrumentationOptions,
-     },
-     Wf8 = 10;
-   class Mf8 {
-     constructor(A) {
-       if (
-         ((this.name = jf8),
-         (this._hasSetTracePropagationTargets = !1),
-         BR.addTracingExtensions(),
-         Hi.DEBUG_BUILD)
-       )
-         this._hasSetTracePropagationTargets = !!(
-           A &&
-           (A.tracePropagationTargets || A.tracingOrigins)
-         );
-       if (
-         ((this.options = { ...jl5, ...A }),
-         this.options._experiments.enableLongTask !== void 0)
-       )
-         this.options.enableLongTask = this.options._experiments.enableLongTask;
-       if (A && !A.tracePropagationTargets && A.tracingOrigins)
-         this.options.tracePropagationTargets = A.tracingOrigins;
-       if (
-         ((this._collectWebVitals = DvA.startTrackingWebVitals()),
-         (this._interactionIdToRouteNameMapping = {}),
-         this.options.enableInp)
-       )
-         DvA.startTrackingINP(
-           this._interactionIdToRouteNameMapping,
-           this.options.interactionsSampleRate,
-         );
-       if (this.options.enableLongTask) DvA.startTrackingLongTasks();
-       if (this.options._experiments.enableInteractions)
-         DvA.startTrackingInteractions();
-       this._latestRoute = { name: void 0, context: void 0 };
-     }
-     setupOnce(A, K) {
-       this._getCurrentHub = K;
-       let Y = K().getClient(),
-         z = Y && Y.getOptions(),
-         {
-           routingInstrumentation: w,
-           startTransactionOnLocationChange: H,
-           startTransactionOnPageLoad: J,
-           markBackgroundTransactions: O,
-           traceFetch: X,
-           traceXHR: $,
-           shouldCreateSpanForRequest: _,
-           enableHTTPTimings: G,
-           _experiments: Z,
-         } = this.options,
-         W = z && z.tracePropagationTargets,
-         D = W || this.options.tracePropagationTargets;
-       if (Hi.DEBUG_BUILD && this._hasSetTracePropagationTargets && W)
-         AF.logger.warn(
-           "[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.",
-         );
-       if (
-         (w(
-           (j) => {
-             let M = this._createRouteTransaction(j);
-             return (
-               this.options._experiments.onStartRouteTransaction &&
-                 this.options._experiments.onStartRouteTransaction(M, j, K),
-               M
-             );
-           },
-           J,
-           H,
-         ),
-         O)
-       )
-         Wl5.registerBackgroundTabDetection();
-       if (Z.enableInteractions) this._registerInteractionListener();
-       if (this.options.enableInp) this._registerInpInteractionListener();
-       Df8.instrumentOutgoingRequests({
-         traceFetch: X,
-         traceXHR: $,
-         tracePropagationTargets: D,
-         shouldCreateSpanForRequest: _,
-         enableHTTPTimings: G,
-       });
-     }
-     _createRouteTransaction(A) {
-       if (!this._getCurrentHub) {
-         Hi.DEBUG_BUILD &&
-           AF.logger.warn(
-             `[Tracing] Did not create ${A.op} transaction because _getCurrentHub is invalid.`,
-           );
-         return;
-       }
-       let K = this._getCurrentHub(),
-         {
-           beforeNavigate: q,
-           idleTimeout: Y,
-           finalTimeout: z,
-           heartbeatInterval: w,
-         } = this.options,
-         H = A.op === "pageload",
-         J;
-       if (H) {
-         let G = H ? zB1("sentry-trace") : "",
-           Z = H ? zB1("baggage") : void 0,
-           {
-             traceId: W,
-             dsc: D,
-             parentSpanId: j,
-             sampled: M,
-           } = AF.propagationContextFromHeaders(G, Z);
-         J = {
-           traceId: W,
-           parentSpanId: j,
-           parentSampled: M,
-           ...A,
-           metadata: { ...A.metadata, dynamicSamplingContext: D },
-           trimEnd: !0,
-         };
-       } else J = { trimEnd: !0, ...A };
-       let O = typeof q === "function" ? q(J) : J,
-         X = O === void 0 ? { ...J, sampled: !1 } : O;
-       if (
-         ((X.metadata =
-           X.name !== J.name ? { ...X.metadata, source: "custom" } : X.metadata),
-         (this._latestRoute.name = X.name),
-         (this._latestRoute.context = X),
-         X.sampled === !1)
-       )
-         Hi.DEBUG_BUILD &&
-           AF.logger.log(
-             `[Tracing] Will not send ${X.op} transaction because of beforeNavigate.`,
-           );
-       Hi.DEBUG_BUILD &&
-         AF.logger.log(`[Tracing] Starting ${X.op} transaction on scope`);
-       let { location: $ } = p1A.WINDOW,
-         _ = BR.startIdleTransaction(K, X, Y, z, !0, { location: $ }, w, H);
-       if (H) {
-         if (p1A.WINDOW.document) {
-           if (
-             (p1A.WINDOW.document.addEventListener("readystatechange", () => {
-               if (
-                 ["interactive", "complete"].includes(
-                   p1A.WINDOW.document.readyState,
-                 )
-               )
-                 _.sendAutoFinishSignal();
-             }),
-             ["interactive", "complete"].includes(
-               p1A.WINDOW.document.readyState,
-             ))
-           )
-             _.sendAutoFinishSignal();
-         }
-       }
-       return (
-         _.registerBeforeFinishCallback((G) => {
-           (this._collectWebVitals(), DvA.addPerformanceEntries(G));
-         }),
-         _
-       );
-     }
-     _registerInteractionListener() {
-       let A,
-         K = () => {
-           let {
-               idleTimeout: q,
-               finalTimeout: Y,
-               heartbeatInterval: z,
-             } = this.options,
-             w = "ui.action.click",
-             H = BR.getActiveTransaction();
-           if (H && H.op && ["navigation", "pageload"].includes(H.op)) {
-             Hi.DEBUG_BUILD &&
-               AF.logger.warn(
-                 "[Tracing] Did not create ui.action.click transaction because a pageload or navigation transaction is in progress.",
-               );
-             return;
-           }
-           if (A)
-             (A.setFinishReason("interactionInterrupted"),
-               A.end(),
-               (A = void 0));
-           if (!this._getCurrentHub) {
-             Hi.DEBUG_BUILD &&
-               AF.logger.warn(
-                 "[Tracing] Did not create ui.action.click transaction because _getCurrentHub is invalid.",
-               );
-             return;
-           }
-           if (!this._latestRoute.name) {
-             Hi.DEBUG_BUILD &&
-               AF.logger.warn(
-                 "[Tracing] Did not create ui.action.click transaction because _latestRouteName is missing.",
-               );
-             return;
-           }
-           let J = this._getCurrentHub(),
-             { location: O } = p1A.WINDOW,
-             X = {
-               name: this._latestRoute.name,
-               op: "ui.action.click",
-               trimEnd: !0,
-               data: {
-                 [BR.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: this._latestRoute.context
-                   ? Ml5(this._latestRoute.context)
-                   : "url",
-               },
-             };
-           A = BR.startIdleTransaction(J, X, q, Y, !0, { location: O }, z);
-         };
-       ["click"].forEach((q) => {
-         if (p1A.WINDOW.document)
-           addEventListener(q, K, { once: !1, capture: !0 });
-       });
-     }
-     _registerInpInteractionListener() {
-       let A = ({ entries: K }) => {
-         let q = BR.getClient(),
-           Y =
-             q !== void 0 && q.getIntegrationByName !== void 0
-               ? q.getIntegrationByName("Replay")
-               : void 0,
-           z = Y !== void 0 ? Y.getReplayId() : void 0,
-           w = BR.getActiveTransaction(),
-           H = BR.getCurrentScope(),
-           J = H !== void 0 ? H.getUser() : void 0;
-         K.forEach((O) => {
-           if (Pl5(O)) {
-             let X = O.interactionId;
-             if (X === void 0) return;
-             let $ = this._interactionIdToRouteNameMapping[X],
-               _ = O.duration,
-               G = O.startTime,
-               Z = Object.keys(this._interactionIdToRouteNameMapping),
-               W =
-                 Z.length > 0
-                   ? Z.reduce((D, j) => {
-                       return this._interactionIdToRouteNameMapping[D].duration <
-                         this._interactionIdToRouteNameMapping[j].duration
-                         ? D
-                         : j;
-                     })
-                   : void 0;
-             if (O.entryType === "first-input") {
-               if (
-                 Z.map((j) => this._interactionIdToRouteNameMapping[j]).some(
-                   (j) => {
-                     return j.duration === _ && j.startTime === G;
-                   },
-                 )
-               )
-                 return;
-             }
-             if (!X) return;
-             if ($) $.duration = Math.max($.duration, _);
-             else if (
-               Z.length < Wf8 ||
-               W === void 0 ||
-               _ > this._interactionIdToRouteNameMapping[W].duration
-             ) {
-               let D = this._latestRoute.name,
-                 j = this._latestRoute.context;
-               if (D && j) {
-                 if (
-                   W &&
-                   Object.keys(this._interactionIdToRouteNameMapping).length >=
-                     Wf8
-                 )
-                   delete this._interactionIdToRouteNameMapping[W];
-                 this._interactionIdToRouteNameMapping[X] = {
-                   routeName: D,
-                   duration: _,
-                   parentContext: j,
-                   user: J,
-                   activeTransaction: w,
-                   replayId: z,
-                   startTime: G,
-                 };
-               }
-             }
-           }
-         });
-       };
-       (Zf8.addPerformanceInstrumentationHandler("event", A),
-         Zf8.addPerformanceInstrumentationHandler("first-input", A));
-     }
-   }
-   function zB1(A) {
-     let K = AF.getDomElement(`meta[name=${A}]`);
-     return K ? K.getAttribute("content") : void 0;
-   }
-   function Ml5(A) {
-     let K = A.attributes && A.attributes[BR.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],
-       q = A.data && A.data[BR.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],
-       Y = A.metadata && A.metadata.source;
-     return K || q || Y;
-   }
-   function Pl5(A) {
-     return "duration" in A;
-   }
-   Pf8.BROWSER_TRACING_INTEGRATION_ID = jf8;
-   Pf8.BrowserTracing = Mf8;
-   Pf8.getMetaContent = zB1;
- });

--- Removed Lf8 (pretty-v2.1.26.js:72574-72894)
- var Lf8 = k((Cf8) => {
-   Object.defineProperty(Cf8, "__esModule", { value: !0 });
-   var m0 = a5(),
-     SE = H8(),
-     Ji = zV(),
-     Tl5 = nu1(),
-     ff8 = HHA(),
-     jvA = KB1(),
-     Tf8 = dsA(),
-     pN = QN(),
-     vf8 = "BrowserTracing",
-     vl5 = {
-       ...m0.TRACING_DEFAULTS,
-       instrumentNavigation: !0,
-       instrumentPageLoad: !0,
-       markBackgroundSpan: !0,
-       enableLongTask: !0,
-       enableInp: !1,
-       interactionsSampleRate: 1,
-       _experiments: {},
-       ...Tf8.defaultRequestInstrumentationOptions,
-     },
-     El5 = (A = {}) => {
-       let K = Ji.DEBUG_BUILD
-         ? !!(A.tracePropagationTargets || A.tracingOrigins)
-         : !1;
-       if (
-         (m0.addTracingExtensions(),
-         !A.tracePropagationTargets && A.tracingOrigins)
-       )
-         A.tracePropagationTargets = A.tracingOrigins;
-       let q = { ...vl5, ...A },
-         Y = jvA.startTrackingWebVitals(),
-         z = {};
-       if (q.enableInp) jvA.startTrackingINP(z, q.interactionsSampleRate);
-       if (q.enableLongTask) jvA.startTrackingLongTasks();
-       if (q._experiments.enableInteractions) jvA.startTrackingInteractions();
-       let w = { name: void 0, context: void 0 };
-       function H(J) {
-         let O = m0.getCurrentHub(),
-           {
-             beforeStartSpan: X,
-             idleTimeout: $,
-             finalTimeout: _,
-             heartbeatInterval: G,
-           } = q,
-           Z = J.op === "pageload",
-           W;
-         if (Z) {
-           let P = Z ? wB1("sentry-trace") : "",
-             f = Z ? wB1("baggage") : void 0,
-             {
-               traceId: N,
-               dsc: T,
-               parentSpanId: C,
-               sampled: R,
-             } = SE.propagationContextFromHeaders(P, f);
-           W = {
-             traceId: N,
-             parentSpanId: C,
-             parentSampled: R,
-             ...J,
-             metadata: { ...J.metadata, dynamicSamplingContext: T },
-             trimEnd: !0,
-           };
-         } else W = { trimEnd: !0, ...J };
-         let D = X ? X(W) : W;
-         if (
-           ((D.metadata =
-             D.name !== W.name
-               ? { ...D.metadata, source: "custom" }
-               : D.metadata),
-           (w.name = D.name),
-           (w.context = D),
-           D.sampled === !1)
-         )
-           Ji.DEBUG_BUILD &&
-             SE.logger.log(
-               `[Tracing] Will not send ${D.op} transaction because of beforeNavigate.`,
-             );
-         Ji.DEBUG_BUILD &&
-           SE.logger.log(`[Tracing] Starting ${D.op} transaction on scope`);
-         let { location: j } = pN.WINDOW,
-           M = m0.startIdleTransaction(O, D, $, _, !0, { location: j }, G, Z);
-         if (Z && pN.WINDOW.document) {
-           if (
-             (pN.WINDOW.document.addEventListener("readystatechange", () => {
-               if (
-                 ["interactive", "complete"].includes(
-                   pN.WINDOW.document.readyState,
-                 )
-               )
-                 M.sendAutoFinishSignal();
-             }),
-             ["interactive", "complete"].includes(pN.WINDOW.document.readyState))
-           )
-             M.sendAutoFinishSignal();
-         }
-         return (
-           M.registerBeforeFinishCallback((P) => {
-             (Y(), jvA.addPerformanceEntries(P));
-           }),
-           M
-         );
-       }
-       return {
-         name: vf8,
-         setupOnce: () => {},
-         afterAllSetup(J) {
-           let O = J.getOptions(),
-             {
-               markBackgroundSpan: X,
-               traceFetch: $,
-               traceXHR: _,
-               shouldCreateSpanForRequest: G,
-               enableHTTPTimings: Z,
-               _experiments: W,
-             } = q,
-             D = O && O.tracePropagationTargets,
-             j = D || q.tracePropagationTargets;
-           if (Ji.DEBUG_BUILD && K && D)
-             SE.logger.warn(
-               "[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.",
-             );
-           let M,
-             P = pN.WINDOW.location && pN.WINDOW.location.href;
-           if (J.on)
-             (J.on("startNavigationSpan", (f) => {
-               if (M)
-                 (Ji.DEBUG_BUILD &&
-                   SE.logger.log(
-                     `[Tracing] Finishing current transaction with op: ${m0.spanToJSON(M).op}`,
-                   ),
-                   M.end());
-               M = H({ op: "navigation", ...f });
-             }),
-               J.on("startPageLoadSpan", (f) => {
-                 if (M)
-                   (Ji.DEBUG_BUILD &&
-                     SE.logger.log(
-                       `[Tracing] Finishing current transaction with op: ${m0.spanToJSON(M).op}`,
-                     ),
-                     M.end());
-                 M = H({ op: "pageload", ...f });
-               }));
-           if (q.instrumentPageLoad && J.emit && pN.WINDOW.location) {
-             let f = {
-               name: pN.WINDOW.location.pathname,
-               startTimestamp: SE.browserPerformanceTimeOrigin
-                 ? SE.browserPerformanceTimeOrigin / 1000
-                 : void 0,
-               origin: "auto.pageload.browser",
-               attributes: { [m0.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: "url" },
-             };
-             Ef8(J, f);
-           }
-           if (q.instrumentNavigation && J.emit && pN.WINDOW.location)
-             SE.addHistoryInstrumentationHandler(({ to: f, from: N }) => {
-               if (N === void 0 && P && P.indexOf(f) !== -1) {
-                 P = void 0;
-                 return;
-               }
-               if (N !== f) {
-                 P = void 0;
-                 let T = {
-                   name: pN.WINDOW.location.pathname,
-                   origin: "auto.navigation.browser",
-                   attributes: { [m0.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: "url" },
-                 };
-                 kf8(J, T);
-               }
-             });
-           if (X) Tl5.registerBackgroundTabDetection();
-           if (W.enableInteractions) kl5(q, w);
-           if (q.enableInp) Ll5(z, w);
-           Tf8.instrumentOutgoingRequests({
-             traceFetch: $,
-             traceXHR: _,
-             tracePropagationTargets: j,
-             shouldCreateSpanForRequest: G,
-             enableHTTPTimings: Z,
-           });
-         },
-         options: q,
-       };
-     };
-   function Ef8(A, K) {
-     if (!A.emit) return;
-     A.emit("startPageLoadSpan", K);
-     let q = m0.getActiveSpan();
-     return (q && m0.spanToJSON(q).op) === "pageload" ? q : void 0;
-   }
-   function kf8(A, K) {
-     if (!A.emit) return;
-     A.emit("startNavigationSpan", K);
-     let q = m0.getActiveSpan();
-     return (q && m0.spanToJSON(q).op) === "navigation" ? q : void 0;
-   }
-   function wB1(A) {
-     let K = SE.getDomElement(`meta[name=${A}]`);
-     return K ? K.getAttribute("content") : void 0;
-   }
-   function kl5(A, K) {
-     let q,
-       Y = () => {
-         let { idleTimeout: z, finalTimeout: w, heartbeatInterval: H } = A,
-           J = "ui.action.click",
-           O = m0.getActiveTransaction();
-         if (O && O.op && ["navigation", "pageload"].includes(O.op)) {
-           Ji.DEBUG_BUILD &&
-             SE.logger.warn(
-               "[Tracing] Did not create ui.action.click transaction because a pageload or navigation transaction is in progress.",
-             );
-           return;
-         }
-         if (q)
-           (q.setFinishReason("interactionInterrupted"), q.end(), (q = void 0));
-         if (!K.name) {
-           Ji.DEBUG_BUILD &&
-             SE.logger.warn(
-               "[Tracing] Did not create ui.action.click transaction because _latestRouteName is missing.",
-             );
-           return;
-         }
-         let { location: X } = pN.WINDOW,
-           $ = {
-             name: K.name,
-             op: "ui.action.click",
-             trimEnd: !0,
-             data: {
-               [m0.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: K.context
-                 ? Rl5(K.context)
-                 : "url",
-             },
-           };
-         q = m0.startIdleTransaction(
-           m0.getCurrentHub(),
-           $,
-           z,
-           w,
-           !0,
-           { location: X },
-           H,
-         );
-       };
-     ["click"].forEach((z) => {
-       if (pN.WINDOW.document) addEventListener(z, Y, { once: !1, capture: !0 });
-     });
-   }
-   function Cl5(A) {
-     return "duration" in A;
-   }
-   var Nf8 = 10;
-   function Ll5(A, K) {
-     let q = ({ entries: Y }) => {
-       let z = m0.getClient(),
-         w =
-           z !== void 0 && z.getIntegrationByName !== void 0
-             ? z.getIntegrationByName("Replay")
-             : void 0,
-         H = w !== void 0 ? w.getReplayId() : void 0,
-         J = m0.getActiveTransaction(),
-         O = m0.getCurrentScope(),
-         X = O !== void 0 ? O.getUser() : void 0;
-       Y.forEach(($) => {
-         if (Cl5($)) {
-           let _ = $.interactionId;
-           if (_ === void 0) return;
-           let G = A[_],
-             Z = $.duration,
-             W = $.startTime,
-             D = Object.keys(A),
-             j =
-               D.length > 0
-                 ? D.reduce((M, P) => {
-                     return A[M].duration < A[P].duration ? M : P;
-                   })
-                 : void 0;
-           if ($.entryType === "first-input") {
-             if (
-               D.map((P) => A[P]).some((P) => {
-                 return P.duration === Z && P.startTime === W;
-               })
-             )
-               return;
-           }
-           if (!_) return;
-           if (G) G.duration = Math.max(G.duration, Z);
-           else if (D.length < Nf8 || j === void 0 || Z > A[j].duration) {
-             let { name: M, context: P } = K;
-             if (M && P) {
-               if (j && Object.keys(A).length >= Nf8) delete A[j];
-               A[_] = {
-                 routeName: M,
-                 duration: Z,
-                 parentContext: P,
-                 user: X,
-                 activeTransaction: J,
-                 replayId: H,
-                 startTime: W,
-               };
-             }
-           }
-         }
-       });
-     };
-     (ff8.addPerformanceInstrumentationHandler("event", q),
-       ff8.addPerformanceInstrumentationHandler("first-input", q));
-   }
-   function Rl5(A) {
-     let K = A.attributes && A.attributes[m0.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],
-       q = A.data && A.data[m0.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],
-       Y = A.metadata && A.metadata.source;
-     return K || q || Y;
-   }
-   Cf8.BROWSER_TRACING_INTEGRATION_ID = vf8;
-   Cf8.browserTracingIntegration = El5;
-   Cf8.getMetaContent = wB1;
-   Cf8.startBrowserTracingNavigationSpan = kf8;
-   Cf8.startBrowserTracingPageLoadSpan = Ef8;
- });

--- Removed If8 (pretty-v2.1.26.js:72895-72945)
- var If8 = k((yf8, MvA) => {
-   Object.defineProperty(yf8, "__esModule", { value: !0 });
-   var Rf8 = a5(),
-     JHA = H8();
-   function xl5() {
-     let A = Rf8.getMainCarrier();
-     if (!A.__SENTRY__) return;
-     let K = {
-         mongodb() {
-           return new (JHA.dynamicRequire(
-             MvA,
-             "./node/integrations/mongo",
-           ).Mongo)();
-         },
-         mongoose() {
-           return new (JHA.dynamicRequire(
-             MvA,
-             "./node/integrations/mongo",
-           ).Mongo)();
-         },
-         mysql() {
-           return new (JHA.dynamicRequire(
-             MvA,
-             "./node/integrations/mysql",
-           ).Mysql)();
-         },
-         pg() {
-           return new (JHA.dynamicRequire(
-             MvA,
-             "./node/integrations/postgres",
-           ).Postgres)();
-         },
-       },
-       q = Object.keys(K)
-         .filter((Y) => !!JHA.loadModule(Y))
-         .map((Y) => {
-           try {
-             return K[Y]();
-           } catch (z) {
-             return;
-           }
-         })
-         .filter((Y) => Y);
-     if (q.length > 0)
-       A.__SENTRY__.integrations = [...(A.__SENTRY__.integrations || []), ...q];
-   }
-   function ul5() {
-     if ((Rf8.addTracingExtensions(), JHA.isNodeEnv())) xl5();
-   }
-   yf8.addExtensionMethods = ul5;
- });

--- Removed JB1 (pretty-v2.1.26.js:72946-73000)
- var JB1 = k((uf8) => {
-   Object.defineProperty(uf8, "__esModule", { value: !0 });
-   var KF = a5(),
-     Sf8 = H8(),
-     ml5 = UP8(),
-     gl5 = dP8(),
-     Fl5 = lP8(),
-     Ql5 = rP8(),
-     Ul5 = sP8(),
-     pl5 = AV8(),
-     dl5 = YV8(),
-     cl5 = wV8(),
-     hf8 = Vf8(),
-     HB1 = Lf8(),
-     bf8 = dsA(),
-     csA = HHA(),
-     xf8 = qB1(),
-     ll5 = If8();
-   uf8.IdleTransaction = KF.IdleTransaction;
-   uf8.Span = KF.Span;
-   uf8.SpanStatus = KF.SpanStatus;
-   uf8.Transaction = KF.Transaction;
-   uf8.extractTraceparentData = KF.extractTraceparentData;
-   uf8.getActiveTransaction = KF.getActiveTransaction;
-   uf8.hasTracingEnabled = KF.hasTracingEnabled;
-   uf8.spanStatusfromHttpCode = KF.spanStatusfromHttpCode;
-   uf8.startIdleTransaction = KF.startIdleTransaction;
-   uf8.TRACEPARENT_REGEXP = Sf8.TRACEPARENT_REGEXP;
-   uf8.stripUrlQueryAndFragment = Sf8.stripUrlQueryAndFragment;
-   uf8.Express = ml5.Express;
-   uf8.Postgres = gl5.Postgres;
-   uf8.Mysql = Fl5.Mysql;
-   uf8.Mongo = Ql5.Mongo;
-   uf8.Prisma = Ul5.Prisma;
-   uf8.GraphQL = pl5.GraphQL;
-   uf8.Apollo = dl5.Apollo;
-   uf8.lazyLoadedNodePerformanceMonitoringIntegrations =
-     cl5.lazyLoadedNodePerformanceMonitoringIntegrations;
-   uf8.BROWSER_TRACING_INTEGRATION_ID = hf8.BROWSER_TRACING_INTEGRATION_ID;
-   uf8.BrowserTracing = hf8.BrowserTracing;
-   uf8.browserTracingIntegration = HB1.browserTracingIntegration;
-   uf8.startBrowserTracingNavigationSpan = HB1.startBrowserTracingNavigationSpan;
-   uf8.startBrowserTracingPageLoadSpan = HB1.startBrowserTracingPageLoadSpan;
-   uf8.defaultRequestInstrumentationOptions =
-     bf8.defaultRequestInstrumentationOptions;
-   uf8.instrumentOutgoingRequests = bf8.instrumentOutgoingRequests;
-   uf8.addClsInstrumentationHandler = csA.addClsInstrumentationHandler;
-   uf8.addFidInstrumentationHandler = csA.addFidInstrumentationHandler;
-   uf8.addLcpInstrumentationHandler = csA.addLcpInstrumentationHandler;
-   uf8.addPerformanceInstrumentationHandler =
-     csA.addPerformanceInstrumentationHandler;
-   uf8.addTracingHeadersToFetchRequest = xf8.addTracingHeadersToFetchRequest;
-   uf8.instrumentFetchRequest = xf8.instrumentFetchRequest;
-   uf8.addExtensionMethods = ll5.addExtensionMethods;
- });

--- Removed mf8 (pretty-v2.1.26.js:73001-73022)
- var mf8 = k((Bf8) => {
-   Object.defineProperty(Bf8, "__esModule", { value: !0 });
-   var ki5 = JB1(),
-     Ci5 = H8();
-   function Li5() {
-     let A = ki5.lazyLoadedNodePerformanceMonitoringIntegrations
-       .map((K) => {
-         try {
-           return K();
-         } catch (q) {
-           return;
-         }
-       })
-       .filter((K) => !!K);
-     if (A.length === 0)
-       Ci5.logger.warn(
-         "Performance monitoring integrations could not be automatically loaded.",
-       );
-     return A.filter((K) => !!K.loadDependency());
-   }
-   Bf8.autoDiscoverNodePerformanceMonitoringIntegrations = Li5;
- });

--- Removed OB1 (pretty-v2.1.26.js:73023-73046)
- var OB1 = k((Qf8) => {
-   Object.defineProperty(Qf8, "__esModule", { value: !0 });
-   var yi5 = CA("os"),
-     Ii5 = CA("util"),
-     gf8 = a5();
-   class Ff8 extends gf8.ServerRuntimeClient {
-     constructor(A) {
-       (gf8.applySdkMetadata(A, "node"),
-         (A.transportOptions = {
-           textEncoder: new Ii5.TextEncoder(),
-           ...A.transportOptions,
-         }));
-       let K = {
-         ...A,
-         platform: "node",
-         runtime: { name: "node", version: global.process.version },
-         serverName:
-           A.serverName || global.process.env.SENTRY_NAME || yi5.hostname(),
-       };
-       super(K);
-     }
-   }
-   Qf8.NodeClient = Ff8;
- });

--- Removed lf8 (pretty-v2.1.26.js:73047-73106)
- var lf8 = k((cf8) => {
-   var { _nullishCoalesce: Uf8 } = H8();
-   Object.defineProperty(cf8, "__esModule", { value: !0 });
-   var pf8 = CA("http");
-   CA("https");
-   var fb = Symbol("AgentBaseInternalState");
-   class df8 extends pf8.Agent {
-     constructor(A) {
-       super(A);
-       this[fb] = {};
-     }
-     isSecureEndpoint(A) {
-       if (A) {
-         if (typeof A.secureEndpoint === "boolean") return A.secureEndpoint;
-         if (typeof A.protocol === "string") return A.protocol === "https:";
-       }
-       let { stack: K } = Error();
-       if (typeof K !== "string") return !1;
-       return K.split(
-         `
- `,
-       ).some(
-         (q) =>
-           q.indexOf("(https.js:") !== -1 || q.indexOf("node:https:") !== -1,
-       );
-     }
-     createSocket(A, K, q) {
-       let Y = { ...K, secureEndpoint: this.isSecureEndpoint(K) };
-       Promise.resolve()
-         .then(() => this.connect(A, Y))
-         .then((z) => {
-           if (z instanceof pf8.Agent) return z.addRequest(A, Y);
-           ((this[fb].currentSocket = z), super.createSocket(A, K, q));
-         }, q);
-     }
-     createConnection() {
-       let A = this[fb].currentSocket;
-       if (((this[fb].currentSocket = void 0), !A))
-         throw Error("No socket was returned in the `connect()` function");
-       return A;
-     }
-     get defaultPort() {
-       return Uf8(this[fb].defaultPort, () =>
-         this.protocol === "https:" ? 443 : 80,
-       );
-     }
-     set defaultPort(A) {
-       if (this[fb]) this[fb].defaultPort = A;
-     }
-     get protocol() {
-       return Uf8(this[fb].protocol, () =>
-         this.isSecureEndpoint() ? "https:" : "http:",
-       );
-     }
-     set protocol(A) {
-       if (this[fb]) this[fb].protocol = A;
-     }
-   }
-   cf8.Agent = df8;
- });

--- Removed nf8 (pretty-v2.1.26.js:73107-73183)
- var nf8 = k((if8) => {
-   Object.defineProperty(if8, "__esModule", { value: !0 });
-   var bi5 = H8();
-   function lsA(...A) {
-     bi5.logger.log("[https-proxy-agent:parse-proxy-response]", ...A);
-   }
-   function xi5(A) {
-     return new Promise((K, q) => {
-       let Y = 0,
-         z = [];
-       function w() {
-         let $ = A.read();
-         if ($) X($);
-         else A.once("readable", w);
-       }
-       function H() {
-         (A.removeListener("end", J),
-           A.removeListener("error", O),
-           A.removeListener("readable", w));
-       }
-       function J() {
-         (H(),
-           lsA("onend"),
-           q(Error("Proxy connection ended before receiving CONNECT response")));
-       }
-       function O($) {
-         (H(), lsA("onerror %o", $), q($));
-       }
-       function X($) {
-         (z.push($), (Y += $.length));
-         let _ = Buffer.concat(z, Y),
-           G = _.indexOf(`\r
- \r
- `);
-         if (G === -1) {
-           (lsA("have not received end of HTTP headers yet..."), w());
-           return;
-         }
-         let Z = _.slice(0, G).toString("ascii").split(`\r
- `),
-           W = Z.shift();
-         if (!W)
-           return (
-             A.destroy(),
-             q(Error("No header received from proxy CONNECT response"))
-           );
-         let D = W.split(" "),
-           j = +D[1],
-           M = D.slice(2).join(" "),
-           P = {};
-         for (let f of Z) {
-           if (!f) continue;
-           let N = f.indexOf(":");
-           if (N === -1)
-             return (
-               A.destroy(),
-               q(Error(`Invalid header from proxy CONNECT response: "${f}"`))
-             );
-           let T = f.slice(0, N).toLowerCase(),
-             C = f.slice(N + 1).trimStart(),
-             R = P[T];
-           if (typeof R === "string") P[T] = [R, C];
-           else if (Array.isArray(R)) R.push(C);
-           else P[T] = C;
-         }
-         (lsA("got proxy server response: %o %o", W, P),
-           H(),
-           K({
-             connect: { statusCode: j, statusText: M, headers: P },
-             buffered: _,
-           }));
-       }
-       (A.on("error", O), A.on("end", J), w());
-     });
-   }
-   if8.parseProxyResponse = xi5;
- });

--- Removed sf8 (pretty-v2.1.26.js:73184-73296)
- var sf8 = k((af8) => {
-   var { _nullishCoalesce: Bi5, _optionalChain: mi5 } = H8();
-   Object.defineProperty(af8, "__esModule", { value: !0 });
-   var PvA = CA("net"),
-     rf8 = CA("tls"),
-     gi5 = CA("url"),
-     Fi5 = H8(),
-     Qi5 = lf8(),
-     Ui5 = nf8();
-   function VvA(...A) {
-     Fi5.logger.log("[https-proxy-agent]", ...A);
-   }
-   class XB1 extends Qi5.Agent {
-     static __initStatic() {
-       this.protocols = ["http", "https"];
-     }
-     constructor(A, K) {
-       super(K);
-       ((this.options = {}),
-         (this.proxy = typeof A === "string" ? new gi5.URL(A) : A),
-         (this.proxyHeaders = Bi5(
-           mi5([K, "optionalAccess", (z) => z.headers]),
-           () => ({}),
-         )),
-         VvA("Creating new HttpsProxyAgent instance: %o", this.proxy.href));
-       let q = (this.proxy.hostname || this.proxy.host).replace(/^\[|\]$/g, ""),
-         Y = this.proxy.port
-           ? parseInt(this.proxy.port, 10)
-           : this.proxy.protocol === "https:"
-             ? 443
-             : 80;
-       this.connectOpts = {
-         ALPNProtocols: ["http/1.1"],
-         ...(K ? of8(K, "headers") : null),
-         host: q,
-         port: Y,
-       };
-     }
-     async connect(A, K) {
-       let { proxy: q } = this;
-       if (!K.host) throw TypeError('No "host" provided');
-       let Y;
-       if (q.protocol === "https:") {
-         VvA("Creating `tls.Socket`: %o", this.connectOpts);
-         let _ = this.connectOpts.servername || this.connectOpts.host;
-         Y = rf8.connect({
-           ...this.connectOpts,
-           servername: _ && PvA.isIP(_) ? void 0 : _,
-         });
-       } else
-         (VvA("Creating `net.Socket`: %o", this.connectOpts),
-           (Y = PvA.connect(this.connectOpts)));
-       let z =
-           typeof this.proxyHeaders === "function"
-             ? this.proxyHeaders()
-             : { ...this.proxyHeaders },
-         w = PvA.isIPv6(K.host) ? `[${K.host}]` : K.host,
-         H = `CONNECT ${w}:${K.port} HTTP/1.1\r
- `;
-       if (q.username || q.password) {
-         let _ = `${decodeURIComponent(q.username)}:${decodeURIComponent(q.password)}`;
-         z["Proxy-Authorization"] = `Basic ${Buffer.from(_).toString("base64")}`;
-       }
-       if (((z.Host = `${w}:${K.port}`), !z["Proxy-Connection"]))
-         z["Proxy-Connection"] = this.keepAlive ? "Keep-Alive" : "close";
-       for (let _ of Object.keys(z))
-         H += `${_}: ${z[_]}\r
- `;
-       let J = Ui5.parseProxyResponse(Y);
-       Y.write(`${H}\r
- `);
-       let { connect: O, buffered: X } = await J;
-       if (
-         (A.emit("proxyConnect", O),
-         this.emit("proxyConnect", O, A),
-         O.statusCode === 200)
-       ) {
-         if ((A.once("socket", pi5), K.secureEndpoint)) {
-           VvA("Upgrading socket connection to TLS");
-           let _ = K.servername || K.host;
-           return rf8.connect({
-             ...of8(K, "host", "path", "port"),
-             socket: Y,
-             servername: PvA.isIP(_) ? void 0 : _,
-           });
-         }
-         return Y;
-       }
-       Y.destroy();
-       let $ = new PvA.Socket({ writable: !1 });
-       return (
-         ($.readable = !0),
-         A.once("socket", (_) => {
-           (VvA("Replaying proxy buffer for failed request"),
-             _.push(X),
-             _.push(null));
-         }),
-         $
-       );
-     }
-   }
-   XB1.__initStatic();
-   function pi5(A) {
-     A.resume();
-   }
-   function of8(A, ...K) {
-     let q = {},
-       Y;
-     for (Y in A) if (!K.includes(Y)) q[Y] = A[Y];
-     return q;
-   }
-   af8.HttpsProxyAgent = XB1;
- });

--- Removed _B1 (pretty-v2.1.26.js:73297-73403)
- var _B1 = k((AN8) => {
-   var { _nullishCoalesce: $B1 } = H8();
-   Object.defineProperty(AN8, "__esModule", { value: !0 });
-   var ci5 = CA("http"),
-     li5 = CA("https"),
-     ii5 = CA("stream"),
-     ef8 = CA("url"),
-     ni5 = CA("zlib"),
-     tf8 = a5(),
-     ri5 = H8(),
-     oi5 = sf8(),
-     ai5 = 32768;
-   function si5(A) {
-     return new ii5.Readable({
-       read() {
-         (this.push(A), this.push(null));
-       },
-     });
-   }
-   function ti5(A) {
-     let K;
-     try {
-       K = new ef8.URL(A.url);
-     } catch (O) {
-       return (
-         ri5.consoleSandbox(() => {
-           console.warn(
-             "[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.",
-           );
-         }),
-         tf8.createTransport(A, () => Promise.resolve({}))
-       );
-     }
-     let q = K.protocol === "https:",
-       Y = ei5(
-         K,
-         A.proxy ||
-           (q ? process.env.https_proxy : void 0) ||
-           process.env.http_proxy,
-       ),
-       z = q ? li5 : ci5,
-       w = A.keepAlive === void 0 ? !1 : A.keepAlive,
-       H = Y
-         ? new oi5.HttpsProxyAgent(Y)
-         : new z.Agent({ keepAlive: w, maxSockets: 30, timeout: 2000 }),
-       J = An5(
-         A,
-         $B1(A.httpModule, () => z),
-         H,
-       );
-     return tf8.createTransport(A, J);
-   }
-   function ei5(A, K) {
-     let { no_proxy: q } = process.env;
-     if (
-       q &&
-       q.split(",").some((z) => A.host.endsWith(z) || A.hostname.endsWith(z))
-     )
-       return;
-     else return K;
-   }
-   function An5(A, K, q) {
-     let {
-       hostname: Y,
-       pathname: z,
-       port: w,
-       protocol: H,
-       search: J,
-     } = new ef8.URL(A.url);
-     return function (X) {
-       return new Promise(($, _) => {
-         let G = si5(X.body),
-           Z = { ...A.headers };
-         if (X.body.length > ai5)
-           ((Z["content-encoding"] = "gzip"), (G = G.pipe(ni5.createGzip())));
-         let W = K.request(
-           {
-             method: "POST",
-             agent: q,
-             headers: Z,
-             hostname: Y,
-             path: `${z}${J}`,
-             port: w,
-             protocol: H,
-             ca: A.caCerts,
-           },
-           (D) => {
-             (D.on("data", () => {}),
-               D.on("end", () => {}),
-               D.setEncoding("utf8"));
-             let j = $B1(D.headers["retry-after"], () => null),
-               M = $B1(D.headers["x-sentry-rate-limits"], () => null);
-             $({
-               statusCode: D.statusCode,
-               headers: {
-                 "retry-after": j,
-                 "x-sentry-rate-limits": Array.isArray(M) ? M[0] : M,
-               },
-             });
-           },
-         );
-         (W.on("error", _), G.pipe(W));
-       });
-     };
-   }
-   AN8.makeNodeTransport = ti5;
- });

--- Removed d1A (pretty-v2.1.26.js:73404-73409)
- var d1A = k((KN8) => {
-   Object.defineProperty(KN8, "__esModule", { value: !0 });
-   var qn5 = H8(),
-     Yn5 = qn5.parseSemver(process.versions.node);
-   KN8.NODE_VERSION = Yn5;
- });

--- Removed wN8 (pretty-v2.1.26.js:73410-73447)
- var wN8 = k((zN8) => {
-   var { _optionalChain: wn5 } = H8();
-   Object.defineProperty(zN8, "__esModule", { value: !0 });
-   var qN8 = CA("domain"),
-     c1A = a5();
-   function YN8() {
-     return qN8.active;
-   }
-   function Hn5() {
-     let A = YN8();
-     if (!A) return;
-     return (c1A.ensureHubOnCarrier(A), c1A.getHubFromCarrier(A));
-   }
-   function Jn5(A) {
-     let K = {};
-     return (c1A.ensureHubOnCarrier(K, A), c1A.getHubFromCarrier(K));
-   }
-   function On5(A, K) {
-     let q = YN8();
-     if (q && wn5([K, "optionalAccess", (H) => H.reuseExisting])) return A();
-     let Y = qN8.create(),
-       z = q ? c1A.getHubFromCarrier(q) : void 0,
-       w = Jn5(z);
-     return (
-       c1A.setHubOnCarrier(Y, w),
-       Y.bind(() => {
-         return A();
-       })()
-     );
-   }
-   function Xn5() {
-     c1A.setAsyncContextStrategy({
-       getCurrentHub: Hn5,
-       runWithAsyncContext: On5,
-     });
-   }
-   zN8.setDomainAsyncContextStrategy = Xn5;
- });

--- Removed JN8 (pretty-v2.1.26.js:73448-73474)
- var JN8 = k((HN8) => {
-   var { _optionalChain: _n5 } = H8();
-   Object.defineProperty(HN8, "__esModule", { value: !0 });
-   var GB1 = a5(),
-     Gn5 = CA("async_hooks"),
-     isA;
-   function Zn5() {
-     if (!isA) isA = new Gn5.AsyncLocalStorage();
-     function A() {
-       return isA.getStore();
-     }
-     function K(Y) {
-       let z = {};
-       return (GB1.ensureHubOnCarrier(z, Y), GB1.getHubFromCarrier(z));
-     }
-     function q(Y, z) {
-       let w = A();
-       if (w && _n5([z, "optionalAccess", (J) => J.reuseExisting])) return Y();
-       let H = K(w);
-       return isA.run(H, () => {
-         return Y();
-       });
-     }
-     GB1.setAsyncContextStrategy({ getCurrentHub: A, runWithAsyncContext: q });
-   }
-   HN8.setHooksAsyncContextStrategy = Zn5;
- });

--- Removed XN8 (pretty-v2.1.26.js:73475-73485)
- var XN8 = k((ON8) => {
-   Object.defineProperty(ON8, "__esModule", { value: !0 });
-   var Dn5 = d1A(),
-     jn5 = wN8(),
-     Mn5 = JN8();
-   function Pn5() {
-     if (Dn5.NODE_VERSION.major >= 14) Mn5.setHooksAsyncContextStrategy();
-     else jn5.setDomainAsyncContextStrategy();
-   }
-   ON8.setNodeAsyncContextStrategy = Pn5;
- });

--- Removed rsA (pretty-v2.1.26.js:73486-73515)
- var rsA = k((ZN8) => {
-   Object.defineProperty(ZN8, "__esModule", { value: !0 });
-   var fn5 = CA("util"),
-     nsA = a5(),
-     $N8 = H8(),
-     _N8 = "Console",
-     Nn5 = () => {
-       return {
-         name: _N8,
-         setupOnce() {},
-         setup(A) {
-           $N8.addConsoleInstrumentationHandler(({ args: K, level: q }) => {
-             if (nsA.getClient() !== A) return;
-             nsA.addBreadcrumb(
-               {
-                 category: "console",
-                 level: $N8.severityLevelFromString(q),
-                 message: fn5.format.apply(void 0, K),
-               },
-               { input: [...K], level: q },
-             );
-           });
-         },
-       };
-     },
-     GN8 = nsA.defineIntegration(Nn5),
-     Tn5 = nsA.convertIntegrationFnToClass(_N8, GN8);
-   ZN8.Console = Tn5;
-   ZN8.consoleIntegration = GN8;
- });

--- Removed osA (pretty-v2.1.26.js:73516-73821)
- var osA = k((vN8) => {
-   var { _optionalChain: l1A } = H8();
-   Object.defineProperty(vN8, "__esModule", { value: !0 });
-   var kn5 = CA("child_process"),
-     DN8 = CA("fs"),
-     hE = CA("os"),
-     Cn5 = CA("path"),
-     jN8 = CA("util"),
-     MN8 = a5(),
-     PN8 = jN8.promisify(DN8.readFile),
-     VN8 = jN8.promisify(DN8.readdir),
-     fN8 = "Context",
-     Ln5 = (A = {}) => {
-       let K,
-         q = {
-           app: !0,
-           os: !0,
-           device: !0,
-           culture: !0,
-           cloudResource: !0,
-           ...A,
-         };
-       async function Y(w) {
-         if (K === void 0) K = z();
-         let H = yn5(await K);
-         return (
-           (w.contexts = {
-             ...w.contexts,
-             app: {
-               ...H.app,
-               ...l1A([
-                 w,
-                 "access",
-                 (J) => J.contexts,
-                 "optionalAccess",
-                 (J) => J.app,
-               ]),
-             },
-             os: {
-               ...H.os,
-               ...l1A([
-                 w,
-                 "access",
-                 (J) => J.contexts,
-                 "optionalAccess",
-                 (J) => J.os,
-               ]),
-             },
-             device: {
-               ...H.device,
-               ...l1A([
-                 w,
-                 "access",
-                 (J) => J.contexts,
-                 "optionalAccess",
-                 (J) => J.device,
-               ]),
-             },
-             culture: {
-               ...H.culture,
-               ...l1A([
-                 w,
-                 "access",
-                 (J) => J.contexts,
-                 "optionalAccess",
-                 (J) => J.culture,
-               ]),
-             },
-             cloud_resource: {
-               ...H.cloud_resource,
-               ...l1A([
-                 w,
-                 "access",
-                 (J) => J.contexts,
-                 "optionalAccess",
-                 (J) => J.cloud_resource,
-               ]),
-             },
-           }),
-           w
-         );
-       }
-       async function z() {
-         let w = {};
-         if (q.os) w.os = await In5();
-         if (q.app) w.app = hn5();
-         if (q.device) w.device = TN8(q.device);
-         if (q.culture) {
-           let H = Sn5();
-           if (H) w.culture = H;
-         }
-         if (q.cloudResource) w.cloud_resource = gn5();
-         return w;
-       }
-       return {
-         name: fN8,
-         setupOnce() {},
-         processEvent(w) {
-           return Y(w);
-         },
-       };
-     },
-     NN8 = MN8.defineIntegration(Ln5),
-     Rn5 = MN8.convertIntegrationFnToClass(fN8, NN8);
-   function yn5(A) {
-     if (
-       l1A([
-         A,
-         "optionalAccess",
-         (K) => K.app,
-         "optionalAccess",
-         (K) => K.app_memory,
-       ])
-     )
-       A.app.app_memory = process.memoryUsage().rss;
-     if (
-       l1A([
-         A,
-         "optionalAccess",
-         (K) => K.device,
-         "optionalAccess",
-         (K) => K.free_memory,
-       ])
-     )
-       A.device.free_memory = hE.freemem();
-     return A;
-   }
-   async function In5() {
-     let A = hE.platform();
-     switch (A) {
-       case "darwin":
-         return Bn5();
-       case "linux":
-         return mn5();
-       default:
-         return { name: bn5[A] || A, version: hE.release() };
-     }
-   }
-   function Sn5() {
-     try {
-       if (typeof process.versions.icu !== "string") return;
-       let A = new Date(900000000);
-       if (
-         new Intl.DateTimeFormat("es", { month: "long" }).format(A) === "enero"
-       ) {
-         let q = Intl.DateTimeFormat().resolvedOptions();
-         return { locale: q.locale, timezone: q.timeZone };
-       }
-     } catch (A) {}
-     return;
-   }
-   function hn5() {
-     let A = process.memoryUsage().rss;
-     return {
-       app_start_time: new Date(
-         Date.now() - process.uptime() * 1000,
-       ).toISOString(),
-       app_memory: A,
-     };
-   }
-   function TN8(A) {
-     let K = {},
-       q;
-     try {
-       q = hE.uptime && hE.uptime();
-     } catch (Y) {}
-     if (typeof q === "number")
-       K.boot_time = new Date(Date.now() - q * 1000).toISOString();
-     if (((K.arch = hE.arch()), A === !0 || A.memory))
-       ((K.memory_size = hE.totalmem()), (K.free_memory = hE.freemem()));
-     if (A === !0 || A.cpu) {
-       let Y = hE.cpus();
-       if (Y && Y.length) {
-         let z = Y[0];
-         ((K.processor_count = Y.length),
-           (K.cpu_description = z.model),
-           (K.processor_frequency = z.speed));
-       }
-     }
-     return K;
-   }
-   var bn5 = {
-       aix: "IBM AIX",
-       freebsd: "FreeBSD",
-       openbsd: "OpenBSD",
-       sunos: "SunOS",
-       win32: "Windows",
-     },
-     xn5 = [
-       { name: "fedora-release", distros: ["Fedora"] },
-       { name: "redhat-release", distros: ["Red Hat Linux", "Centos"] },
-       { name: "redhat_version", distros: ["Red Hat Linux"] },
-       { name: "SuSE-release", distros: ["SUSE Linux"] },
-       { name: "lsb-release", distros: ["Ubuntu Linux", "Arch Linux"] },
-       { name: "debian_version", distros: ["Debian"] },
-       { name: "debian_release", distros: ["Debian"] },
-       { name: "arch-release", distros: ["Arch Linux"] },
-       { name: "gentoo-release", distros: ["Gentoo Linux"] },
-       { name: "novell-release", distros: ["SUSE Linux"] },
-       { name: "alpine-release", distros: ["Alpine Linux"] },
-     ],
-     un5 = {
-       alpine: (A) => A,
-       arch: (A) => Nb(/distrib_release=(.*)/, A),
-       centos: (A) => Nb(/release ([^ ]+)/, A),
-       debian: (A) => A,
-       fedora: (A) => Nb(/release (..)/, A),
-       mint: (A) => Nb(/distrib_release=(.*)/, A),
-       red: (A) => Nb(/release ([^ ]+)/, A),
-       suse: (A) => Nb(/VERSION = (.*)\n/, A),
-       ubuntu: (A) => Nb(/distrib_release=(.*)/, A),
-     };
-   function Nb(A, K) {
-     let q = A.exec(K);
-     return q ? q[1] : void 0;
-   }
-   async function Bn5() {
-     let A = {
-       kernel_version: hE.release(),
-       name: "Mac OS X",
-       version: `10.${Number(hE.release().split(".")[0]) - 4}`,
-     };
-     try {
-       let K = await new Promise((q, Y) => {
-         kn5.execFile("/usr/bin/sw_vers", (z, w) => {
-           if (z) {
-             Y(z);
-             return;
-           }
-           q(w);
-         });
-       });
-       ((A.name = Nb(/^ProductName:\s+(.*)$/m, K)),
-         (A.version = Nb(/^ProductVersion:\s+(.*)$/m, K)),
-         (A.build = Nb(/^BuildVersion:\s+(.*)$/m, K)));
-     } catch (K) {}
-     return A;
-   }
-   function WN8(A) {
-     return A.split(" ")[0].toLowerCase();
-   }
-   async function mn5() {
-     let A = { kernel_version: hE.release(), name: "Linux" };
-     try {
-       let K = await VN8("/etc"),
-         q = xn5.find((J) => K.includes(J.name));
-       if (!q) return A;
-       let Y = Cn5.join("/etc", q.name),
-         z = (await PN8(Y, { encoding: "utf-8" })).toLowerCase(),
-         { distros: w } = q;
-       A.name = w.find((J) => z.indexOf(WN8(J)) >= 0) || w[0];
-       let H = WN8(A.name);
-       A.version = un5[H](z);
-     } catch (K) {}
-     return A;
-   }
-   function gn5() {
-     if (process.env.VERCEL)
-       return {
-         "cloud.provider": "vercel",
-         "cloud.region": process.env.VERCEL_REGION,
-       };
-     else if (process.env.AWS_REGION)
-       return {
-         "cloud.provider": "aws",
-         "cloud.region": process.env.AWS_REGION,
-         "cloud.platform": process.env.AWS_EXECUTION_ENV,
-       };
-     else if (process.env.GCP_PROJECT) return { "cloud.provider": "gcp" };
-     else if (process.env.ALIYUN_REGION_ID)
-       return {
-         "cloud.provider": "alibaba_cloud",
-         "cloud.region": process.env.ALIYUN_REGION_ID,
-       };
-     else if (process.env.WEBSITE_SITE_NAME && process.env.REGION_NAME)
-       return {
-         "cloud.provider": "azure",
-         "cloud.region": process.env.REGION_NAME,
-       };
-     else if (process.env.IBM_CLOUD_REGION)
-       return {
-         "cloud.provider": "ibm_cloud",
-         "cloud.region": process.env.IBM_CLOUD_REGION,
-       };
-     else if (process.env.TENCENTCLOUD_REGION)
-       return {
-         "cloud.provider": "tencent_cloud",
-         "cloud.region": process.env.TENCENTCLOUD_REGION,
-         "cloud.account.id": process.env.TENCENTCLOUD_APPID,
-         "cloud.availability_zone": process.env.TENCENTCLOUD_ZONE,
-       };
-     else if (process.env.NETLIFY) return { "cloud.provider": "netlify" };
-     else if (process.env.FLY_REGION)
-       return {
-         "cloud.provider": "fly.io",
-         "cloud.region": process.env.FLY_REGION,
-       };
-     else if (process.env.DYNO) return { "cloud.provider": "heroku" };
-     else return;
-   }
-   vN8.Context = Rn5;
-   vN8.getDeviceContext = TN8;
-   vN8.nodeContextIntegration = NN8;
-   vN8.readDirAsync = VN8;
-   vN8.readFileAsync = PN8;
- });

--- Removed ssA (pretty-v2.1.26.js:73822-73909)
- var ssA = k((RN8) => {
-   var { _optionalChain: ZB1 } = H8();
-   Object.defineProperty(RN8, "__esModule", { value: !0 });
-   var cn5 = CA("fs"),
-     EN8 = a5(),
-     kN8 = H8(),
-     asA = new kN8.LRUMap(100),
-     ln5 = 7,
-     CN8 = "ContextLines";
-   function in5(A) {
-     return new Promise((K, q) => {
-       cn5.readFile(A, "utf8", (Y, z) => {
-         if (Y) q(Y);
-         else K(z);
-       });
-     });
-   }
-   var nn5 = (A = {}) => {
-       let K = A.frameContextLines !== void 0 ? A.frameContextLines : ln5;
-       return {
-         name: CN8,
-         setupOnce() {},
-         processEvent(q) {
-           return on5(q, K);
-         },
-       };
-     },
-     LN8 = EN8.defineIntegration(nn5),
-     rn5 = EN8.convertIntegrationFnToClass(CN8, LN8);
-   async function on5(A, K) {
-     let q = {},
-       Y = [];
-     if (
-       K > 0 &&
-       ZB1([A, "access", (z) => z.exception, "optionalAccess", (z) => z.values])
-     )
-       for (let z of A.exception.values) {
-         if (
-           !ZB1([
-             z,
-             "access",
-             (w) => w.stacktrace,
-             "optionalAccess",
-             (w) => w.frames,
-           ])
-         )
-           continue;
-         for (let w = z.stacktrace.frames.length - 1; w >= 0; w--) {
-           let H = z.stacktrace.frames[w];
-           if (H.filename && !q[H.filename] && !asA.get(H.filename))
-             (Y.push(sn5(H.filename)), (q[H.filename] = 1));
-         }
-       }
-     if (Y.length > 0) await Promise.all(Y);
-     if (
-       K > 0 &&
-       ZB1([A, "access", (z) => z.exception, "optionalAccess", (z) => z.values])
-     ) {
-       for (let z of A.exception.values)
-         if (z.stacktrace && z.stacktrace.frames)
-           await an5(z.stacktrace.frames, K);
-     }
-     return A;
-   }
-   function an5(A, K) {
-     for (let q of A)
-       if (q.filename && q.context_line === void 0) {
-         let Y = asA.get(q.filename);
-         if (Y)
-           try {
-             kN8.addContextToFrame(Y, q, K);
-           } catch (z) {}
-       }
-   }
-   async function sn5(A) {
-     let K = asA.get(A);
-     if (K === null) return null;
-     if (K !== void 0) return K;
-     let q = null;
-     try {
-       q = (await in5(A)).split(`
- `);
-     } catch (Y) {}
-     return (asA.set(A, q), q);
-   }
-   RN8.ContextLines = rn5;
-   RN8.contextLinesIntegration = LN8;
- });

--- Removed fvA (pretty-v2.1.26.js:73910-73914)
- var fvA = k((yN8) => {
-   Object.defineProperty(yN8, "__esModule", { value: !0 });
-   var Ar5 = typeof __SENTRY_DEBUG__ > "u" || __SENTRY_DEBUG__;
-   yN8.DEBUG_BUILD = Ar5;
- });

--- Removed bN8 (pretty-v2.1.26.js:73915-74020)
- var bN8 = k((hN8) => {
-   var { _optionalChain: Tb } = H8();
-   Object.defineProperty(hN8, "__esModule", { value: !0 });
-   var WB1 = CA("url"),
-     qr5 = d1A();
-   function Yr5(A) {
-     let { protocol: K, hostname: q, port: Y } = SN8(A),
-       z = A.path ? A.path : "/";
-     return `${K}//${q}${Y}${z}`;
-   }
-   function IN8(A) {
-     let { protocol: K, hostname: q, port: Y } = SN8(A),
-       z = A.pathname || "/",
-       w = A.auth ? zr5(A.auth) : "";
-     return `${K}//${w}${q}${Y}${z}`;
-   }
-   function zr5(A) {
-     let [K, q] = A.split(":");
-     return `${K ? "[Filtered]" : ""}:${q ? "[Filtered]" : ""}@`;
-   }
-   function wr5(A, K, q) {
-     if (!A) return A;
-     let [Y, z] = A.split(" ");
-     if (K.host && !K.protocol)
-       ((K.protocol = Tb([
-         q,
-         "optionalAccess",
-         (w) => w.agent,
-         "optionalAccess",
-         (w) => w.protocol,
-       ])),
-         (z = IN8(K)));
-     if (Tb([z, "optionalAccess", (w) => w.startsWith, "call", (w) => w("///")]))
-       z = z.slice(2);
-     return `${Y} ${z}`;
-   }
-   function DB1(A) {
-     let K = {
-       protocol: A.protocol,
-       hostname:
-         typeof A.hostname === "string" && A.hostname.startsWith("[")
-           ? A.hostname.slice(1, -1)
-           : A.hostname,
-       hash: A.hash,
-       search: A.search,
-       pathname: A.pathname,
-       path: `${A.pathname || ""}${A.search || ""}`,
-       href: A.href,
-     };
-     if (A.port !== "") K.port = Number(A.port);
-     if (A.username || A.password) K.auth = `${A.username}:${A.password}`;
-     return K;
-   }
-   function Hr5(A, K) {
-     let q, Y;
-     if (typeof K[K.length - 1] === "function") q = K.pop();
-     if (typeof K[0] === "string") Y = DB1(new WB1.URL(K[0]));
-     else if (K[0] instanceof WB1.URL) Y = DB1(K[0]);
-     else {
-       Y = K[0];
-       try {
-         let z = new WB1.URL(
-           Y.path || "",
-           `${Y.protocol || "http:"}//${Y.hostname}`,
-         );
-         Y = { pathname: z.pathname, search: z.search, hash: z.hash, ...Y };
-       } catch (z) {}
-     }
-     if (K.length === 2) Y = { ...Y, ...K[1] };
-     if (Y.protocol === void 0)
-       if (qr5.NODE_VERSION.major > 8)
-         Y.protocol =
-           Tb([
-             Tb([A, "optionalAccess", (z) => z.globalAgent]),
-             "optionalAccess",
-             (z) => z.protocol,
-           ]) ||
-           Tb([Y.agent, "optionalAccess", (z) => z.protocol]) ||
-           Tb([Y._defaultAgent, "optionalAccess", (z) => z.protocol]);
-       else
-         Y.protocol =
-           Tb([Y.agent, "optionalAccess", (z) => z.protocol]) ||
-           Tb([Y._defaultAgent, "optionalAccess", (z) => z.protocol]) ||
-           Tb([
-             Tb([A, "optionalAccess", (z) => z.globalAgent]),
-             "optionalAccess",
-             (z) => z.protocol,
-           ]);
-     if (q) return [Y, q];
-     else return [Y];
-   }
-   function SN8(A) {
-     let K = A.protocol || "",
-       q = A.hostname || A.host || "",
-       Y =
-         !A.port || A.port === 80 || A.port === 443 || /^(.*):(\d+)$/.test(q)
-           ? ""
-           : `:${A.port}`;
-     return { protocol: K, hostname: q, port: Y };
-   }
-   hN8.cleanSpanDescription = wr5;
-   hN8.extractRawUrl = Yr5;
-   hN8.extractUrl = IN8;
-   hN8.normalizeRequestArgs = Hr5;
-   hN8.urlToOptions = DB1;
- });

--- Removed tsA (pretty-v2.1.26.js:74021-74259)
- var tsA = k((mN8) => {
-   var { _optionalChain: OHA } = H8();
-   Object.defineProperty(mN8, "__esModule", { value: !0 });
-   var qD = a5(),
-     dN = H8(),
-     jB1 = fvA(),
-     Gr5 = d1A(),
-     NvA = bN8(),
-     Zr5 = (A = {}) => {
-       let { breadcrumbs: K, tracing: q, shouldCreateSpanForRequest: Y } = A,
-         z = {
-           breadcrumbs: K,
-           tracing:
-             q === !1
-               ? !1
-               : dN.dropUndefinedKeys({
-                   enableIfHasTracingEnabled: q === !0 ? void 0 : !0,
-                   shouldCreateSpanForRequest: Y,
-                 }),
-         };
-       return new i1A(z);
-     },
-     Wr5 = qD.defineIntegration(Zr5);
-   class i1A {
-     static __initStatic() {
-       this.id = "Http";
-     }
-     __init() {
-       this.name = i1A.id;
-     }
-     constructor(A = {}) {
-       (i1A.prototype.__init.call(this),
-         (this._breadcrumbs = typeof A.breadcrumbs > "u" ? !0 : A.breadcrumbs),
-         (this._tracing = !A.tracing
-           ? void 0
-           : A.tracing === !0
-             ? {}
-             : A.tracing));
-     }
-     setupOnce(A, K) {
-       let q = OHA([
-           K,
-           "call",
-           (O) => O(),
-           "access",
-           (O) => O.getClient,
-           "call",
-           (O) => O(),
-           "optionalAccess",
-           (O) => O.getOptions,
-           "call",
-           (O) => O(),
-         ]),
-         Y = uN8(this._tracing, q);
-       if (!this._breadcrumbs && !Y) return;
-       if (q && q.instrumenter !== "sentry") {
-         jB1.DEBUG_BUILD &&
-           dN.logger.log(
-             "HTTP Integration is skipped because of instrumenter configuration.",
-           );
-         return;
-       }
-       let z = BN8(Y, this._tracing, q),
-         w =
-           OHA([q, "optionalAccess", (O) => O.tracePropagationTargets]) ||
-           OHA([
-             this,
-             "access",
-             (O) => O._tracing,
-             "optionalAccess",
-             (O) => O.tracePropagationTargets,
-           ]),
-         H = CA("http"),
-         J = xN8(H, this._breadcrumbs, z, w);
-       if (
-         (dN.fill(H, "get", J),
-         dN.fill(H, "request", J),
-         Gr5.NODE_VERSION.major > 8)
-       ) {
-         let O = CA("https"),
-           X = xN8(O, this._breadcrumbs, z, w);
-         (dN.fill(O, "get", X), dN.fill(O, "request", X));
-       }
-     }
-   }
-   i1A.__initStatic();
-   function xN8(A, K, q, Y) {
-     let z = new dN.LRUMap(100),
-       w = new dN.LRUMap(100),
-       H = (X) => {
-         if (q === void 0) return !0;
-         let $ = z.get(X);
-         if ($ !== void 0) return $;
-         let _ = q(X);
-         return (z.set(X, _), _);
-       },
-       J = (X) => {
-         if (Y === void 0) return !0;
-         let $ = w.get(X);
-         if ($ !== void 0) return $;
-         let _ = dN.stringMatchesSomePattern(X, Y);
-         return (w.set(X, _), _);
-       };
-     function O(X, $, _, G) {
-       if (!qD.getCurrentHub().getIntegration(i1A)) return;
-       qD.addBreadcrumb(
-         {
-           category: "http",
-           data: { status_code: G && G.statusCode, ...$ },
-           type: "http",
-         },
-         { event: X, request: _, response: G },
-       );
-     }
-     return function ($) {
-       return function (...G) {
-         let Z = NvA.normalizeRequestArgs(A, G),
-           W = Z[0],
-           D = NvA.extractRawUrl(W),
-           j = NvA.extractUrl(W),
-           M = qD.getClient();
-         if (qD.isSentryRequestUrl(j, M)) return $.apply(A, Z);
-         let P = qD.getCurrentScope(),
-           f = qD.getIsolationScope(),
-           N = qD.getActiveSpan(),
-           T = jr5(j, W),
-           C = H(D)
-             ? OHA([
-                 N,
-                 "optionalAccess",
-                 (R) => R.startChild,
-                 "call",
-                 (R) =>
-                   R({
-                     op: "http.client",
-                     origin: "auto.http.node.http",
-                     description: `${T["http.method"]} ${T.url}`,
-                     data: T,
-                   }),
-               ])
-             : void 0;
-         if (M && J(D)) {
-           let {
-               traceId: R,
-               spanId: x,
-               sampled: y,
-               dsc: B,
-             } = { ...f.getPropagationContext(), ...P.getPropagationContext() },
-             b = C
-               ? qD.spanToTraceHeader(C)
-               : dN.generateSentryTraceHeader(R, x, y),
-             F = dN.dynamicSamplingContextToSentryBaggageHeader(
-               B ||
-                 (C
-                   ? qD.getDynamicSamplingContextFromSpan(C)
-                   : qD.getDynamicSamplingContextFromClient(R, M, P)),
-             );
-           Dr5(W, j, b, F);
-         } else
-           jB1.DEBUG_BUILD &&
-             dN.logger.log(
-               `[Tracing] Not adding sentry-trace header to outgoing request (${j}) due to mismatching tracePropagationTargets option.`,
-             );
-         return $.apply(A, Z)
-           .once("response", function (R) {
-             let x = this;
-             if (K) O("response", T, x, R);
-             if (C) {
-               if (R.statusCode) qD.setHttpStatus(C, R.statusCode);
-               (C.updateName(
-                 NvA.cleanSpanDescription(
-                   qD.spanToJSON(C).description || "",
-                   W,
-                   x,
-                 ) || "",
-               ),
-                 C.end());
-             }
-           })
-           .once("error", function () {
-             let R = this;
-             if (K) O("error", T, R);
-             if (C)
-               (qD.setHttpStatus(C, 500),
-                 C.updateName(
-                   NvA.cleanSpanDescription(
-                     qD.spanToJSON(C).description || "",
-                     W,
-                     R,
-                   ) || "",
-                 ),
-                 C.end());
-           });
-       };
-     };
-   }
-   function Dr5(A, K, q, Y) {
-     if ((A.headers || {})["sentry-trace"]) return;
-     (jB1.DEBUG_BUILD &&
-       dN.logger.log(
-         `[Tracing] Adding sentry-trace header ${q} to outgoing request to "${K}": `,
-       ),
-       (A.headers = {
-         ...A.headers,
-         "sentry-trace": q,
-         ...(Y && Y.length > 0 && { baggage: Mr5(A, Y) }),
-       }));
-   }
-   function jr5(A, K) {
-     let q = K.method || "GET",
-       Y = { url: A, "http.method": q };
-     if (K.hash) Y["http.fragment"] = K.hash.substring(1);
-     if (K.search) Y["http.query"] = K.search.substring(1);
-     return Y;
-   }
-   function Mr5(A, K) {
-     if (!A.headers || !A.headers.baggage) return K;
-     else if (!K) return A.headers.baggage;
-     else if (Array.isArray(A.headers.baggage)) return [...A.headers.baggage, K];
-     return [A.headers.baggage, K];
-   }
-   function uN8(A, K) {
-     return A === void 0
-       ? !1
-       : A.enableIfHasTracingEnabled
-         ? qD.hasTracingEnabled(K)
-         : !0;
-   }
-   function BN8(A, K, q) {
-     return A
-       ? OHA([K, "optionalAccess", (z) => z.shouldCreateSpanForRequest]) ||
-           OHA([q, "optionalAccess", (z) => z.shouldCreateSpanForRequest])
-       : () => !1;
-   }
-   mN8.Http = i1A;
-   mN8._getShouldCreateSpanForRequest = BN8;
-   mN8._shouldCreateSpans = uN8;
-   mN8.httpIntegration = Wr5;
- });

--- Removed QN8 (pretty-v2.1.26.js:74260-74303)
- var QN8 = k((FN8) => {
-   Object.defineProperty(FN8, "__esModule", { value: !0 });
-   function Tr5(A, K, q) {
-     let Y = 0,
-       z = 5,
-       w = 0;
-     return (
-       setInterval(() => {
-         if (w === 0) {
-           if (Y > A) {
-             if (((z *= 2), q(z), z > 86400)) z = 86400;
-             w = z;
-           }
-         } else if (((w -= 1), w === 0)) K();
-         Y = 0;
-       }, 1000).unref(),
-       () => {
-         Y += 1;
-       }
-     );
-   }
-   function MB1(A) {
-     return A !== void 0 && (A.length === 0 || A === "?" || A === "<anonymous>");
-   }
-   function vr5(A, K) {
-     return A === K || (MB1(A) && MB1(K));
-   }
-   function gN8(A) {
-     if (A === void 0) return;
-     return A.slice(-10).reduce(
-       (K, q) => `${K},${q.function},${q.lineno},${q.colno}`,
-       "",
-     );
-   }
-   function Er5(A, K) {
-     if (K === void 0) return;
-     return gN8(A(K, 1));
-   }
-   FN8.createRateLimiter = Tr5;
-   FN8.functionNamesMatch = vr5;
-   FN8.hashFrames = gN8;
-   FN8.hashFromStack = Er5;
-   FN8.isAnonymous = MB1;
- });

--- Removed lN8 (pretty-v2.1.26.js:74304-74671)
- var lN8 = k((cN8) => {
-   var { _optionalChain: BO } = H8();
-   Object.defineProperty(cN8, "__esModule", { value: !0 });
-   var PB1 = a5(),
-     esA = H8(),
-     Ir5 = d1A(),
-     AtA = QN8();
-   function VB1(A) {
-     let K = [],
-       q = !1;
-     function Y(H) {
-       if (((K = []), q)) return;
-       ((q = !0), A(H));
-     }
-     K.push(Y);
-     function z(H) {
-       K.push(H);
-     }
-     function w(H) {
-       let J = K.pop() || Y;
-       try {
-         J(H);
-       } catch (O) {
-         Y(H);
-       }
-     }
-     return { add: z, next: w };
-   }
-   class UN8 {
-     constructor() {
-       let { Session: A } = CA("inspector");
-       this._session = new A();
-     }
-     configureAndConnect(A, K) {
-       (this._session.connect(),
-         this._session.on("Debugger.paused", (q) => {
-           A(q, () => {
-             this._session.post("Debugger.resume");
-           });
-         }),
-         this._session.post("Debugger.enable"),
-         this._session.post("Debugger.setPauseOnExceptions", {
-           state: K ? "all" : "uncaught",
-         }));
-     }
-     setPauseOnExceptions(A) {
-       this._session.post("Debugger.setPauseOnExceptions", {
-         state: A ? "all" : "uncaught",
-       });
-     }
-     getLocalVariables(A, K) {
-       this._getProperties(A, (q) => {
-         let { add: Y, next: z } = VB1(K);
-         for (let w of q)
-           if (
-             BO([
-               w,
-               "optionalAccess",
-               (H) => H.value,
-               "optionalAccess",
-               (H) => H.objectId,
-             ]) &&
-             BO([
-               w,
-               "optionalAccess",
-               (H) => H.value,
-               "access",
-               (H) => H.className,
-             ]) === "Array"
-           ) {
-             let H = w.value.objectId;
-             Y((J) => this._unrollArray(H, w.name, J, z));
-           } else if (
-             BO([
-               w,
-               "optionalAccess",
-               (H) => H.value,
-               "optionalAccess",
-               (H) => H.objectId,
-             ]) &&
-             BO([
-               w,
-               "optionalAccess",
-               (H) => H.value,
-               "optionalAccess",
-               (H) => H.className,
-             ]) === "Object"
-           ) {
-             let H = w.value.objectId;
-             Y((J) => this._unrollObject(H, w.name, J, z));
-           } else if (
-             BO([
-               w,
-               "optionalAccess",
-               (H) => H.value,
-               "optionalAccess",
-               (H) => H.value,
-             ]) != null ||
-             BO([
-               w,
-               "optionalAccess",
-               (H) => H.value,
-               "optionalAccess",
-               (H) => H.description,
-             ]) != null
-           )
-             Y((H) => this._unrollOther(w, H, z));
-         z({});
-       });
-     }
-     _getProperties(A, K) {
-       this._session.post(
-         "Runtime.getProperties",
-         { objectId: A, ownProperties: !0 },
-         (q, Y) => {
-           if (q) K([]);
-           else K(Y.result);
-         },
-       );
-     }
-     _unrollArray(A, K, q, Y) {
-       this._getProperties(A, (z) => {
-         ((q[K] = z
-           .filter((w) => w.name !== "length" && !isNaN(parseInt(w.name, 10)))
-           .sort((w, H) => parseInt(w.name, 10) - parseInt(H.name, 10))
-           .map((w) =>
-             BO([
-               w,
-               "optionalAccess",
-               (H) => H.value,
-               "optionalAccess",
-               (H) => H.value,
-             ]),
-           )),
-           Y(q));
-       });
-     }
-     _unrollObject(A, K, q, Y) {
-       this._getProperties(A, (z) => {
-         ((q[K] = z
-           .map((w) => [
-             w.name,
-             BO([
-               w,
-               "optionalAccess",
-               (H) => H.value,
-               "optionalAccess",
-               (H) => H.value,
-             ]),
-           ])
-           .reduce((w, [H, J]) => {
-             return ((w[H] = J), w);
-           }, {})),
-           Y(q));
-       });
-     }
-     _unrollOther(A, K, q) {
-       if (
-         BO([
-           A,
-           "optionalAccess",
-           (Y) => Y.value,
-           "optionalAccess",
-           (Y) => Y.value,
-         ]) != null
-       )
-         K[A.name] = A.value.value;
-       else if (
-         BO([
-           A,
-           "optionalAccess",
-           (Y) => Y.value,
-           "optionalAccess",
-           (Y) => Y.description,
-         ]) != null &&
-         BO([
-           A,
-           "optionalAccess",
-           (Y) => Y.value,
-           "optionalAccess",
-           (Y) => Y.type,
-         ]) !== "function"
-       )
-         K[A.name] = `<${A.value.description}>`;
-       q(K);
-     }
-   }
-   function Sr5() {
-     try {
-       return new UN8();
-     } catch (A) {
-       return;
-     }
-   }
-   var pN8 = "LocalVariables",
-     hr5 = (A = {}, K = Sr5()) => {
-       let q = new esA.LRUMap(20),
-         Y,
-         z = !1;
-       function w(O, { params: { reason: X, data: $, callFrames: _ } }, G) {
-         if (X !== "exception" && X !== "promiseRejection") {
-           G();
-           return;
-         }
-         BO([Y, "optionalCall", (j) => j()]);
-         let Z = AtA.hashFromStack(
-           O,
-           BO([$, "optionalAccess", (j) => j.description]),
-         );
-         if (Z == null) {
-           G();
-           return;
-         }
-         let { add: W, next: D } = VB1((j) => {
-           (q.set(Z, j), G());
-         });
-         for (let j = 0; j < Math.min(_.length, 5); j++) {
-           let { scopeChain: M, functionName: P, this: f } = _[j],
-             N = M.find((C) => C.type === "local"),
-             T =
-               f.className === "global" || !f.className
-                 ? P
-                 : `${f.className}.${P}`;
-           if (
-             BO([
-               N,
-               "optionalAccess",
-               (C) => C.object,
-               "access",
-               (C) => C.objectId,
-             ]) === void 0
-           )
-             W((C) => {
-               ((C[j] = { function: T }), D(C));
-             });
-           else {
-             let C = N.object.objectId;
-             W((R) =>
-               BO([
-                 K,
-                 "optionalAccess",
-                 (x) => x.getLocalVariables,
-                 "call",
-                 (x) =>
-                   x(C, (y) => {
-                     ((R[j] = { function: T, vars: y }), D(R));
-                   }),
-               ]),
-             );
-           }
-         }
-         D([]);
-       }
-       function H(O) {
-         let X = AtA.hashFrames(
-           BO([
-             O,
-             "optionalAccess",
-             (G) => G.stacktrace,
-             "optionalAccess",
-             (G) => G.frames,
-           ]),
-         );
-         if (X === void 0) return;
-         let $ = q.remove(X);
-         if ($ === void 0) return;
-         let _ = (
-           BO([
-             O,
-             "access",
-             (G) => G.stacktrace,
-             "optionalAccess",
-             (G) => G.frames,
-           ]) || []
-         ).filter((G) => G.function !== "new Promise");
-         for (let G = 0; G < _.length; G++) {
-           let Z = _.length - G - 1;
-           if (!_[Z] || !$[G]) break;
-           if (
-             $[G].vars === void 0 ||
-             _[Z].in_app === !1 ||
-             !AtA.functionNamesMatch(_[Z].function, $[G].function)
-           )
-             continue;
-           _[Z].vars = $[G].vars;
-         }
-       }
-       function J(O) {
-         for (let X of BO([
-           O,
-           "optionalAccess",
-           ($) => $.exception,
-           "optionalAccess",
-           ($) => $.values,
-         ]) || [])
-           H(X);
-         return O;
-       }
-       return {
-         name: pN8,
-         setupOnce() {
-           let O = PB1.getClient(),
-             X = BO([
-               O,
-               "optionalAccess",
-               ($) => $.getOptions,
-               "call",
-               ($) => $(),
-             ]);
-           if (K && BO([X, "optionalAccess", ($) => $.includeLocalVariables])) {
-             if (Ir5.NODE_VERSION.major < 18) {
-               esA.logger.log(
-                 "The `LocalVariables` integration is only supported on Node >= v18.",
-               );
-               return;
-             }
-             let _ = A.captureAllExceptions !== !1;
-             if (
-               (K.configureAndConnect((G, Z) => w(X.stackParser, G, Z), _), _)
-             ) {
-               let G = A.maxExceptionsPerSecond || 50;
-               Y = AtA.createRateLimiter(
-                 G,
-                 () => {
-                   (esA.logger.log("Local variables rate-limit lifted."),
-                     BO([
-                       K,
-                       "optionalAccess",
-                       (Z) => Z.setPauseOnExceptions,
-                       "call",
-                       (Z) => Z(!0),
-                     ]));
-                 },
-                 (Z) => {
-                   (esA.logger.log(
-                     `Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${Z} seconds.`,
-                   ),
-                     BO([
-                       K,
-                       "optionalAccess",
-                       (W) => W.setPauseOnExceptions,
-                       "call",
-                       (W) => W(!1),
-                     ]));
-                 },
-               );
-             }
-             z = !0;
-           }
-         },
-         processEvent(O) {
-           if (z) return J(O);
-           return O;
-         },
-         _getCachedFramesCount() {
-           return q.size;
-         },
-         _getFirstCachedFrame() {
-           return q.values()[0];
-         },
-       };
-     },
-     dN8 = PB1.defineIntegration(hr5),
-     br5 = PB1.convertIntegrationFnToClass(pN8, dN8);
-   cN8.LocalVariablesSync = br5;
-   cN8.createCallbackList = VB1;
-   cN8.localVariablesSyncIntegration = dN8;
- });

--- Removed KtA (pretty-v2.1.26.js:74672-74679)
- var KtA = k((nN8) => {
-   Object.defineProperty(nN8, "__esModule", { value: !0 });
-   var iN8 = lN8(),
-     mr5 = iN8.LocalVariablesSync,
-     gr5 = iN8.localVariablesSyncIntegration;
-   nN8.LocalVariables = mr5;
-   nN8.localVariablesIntegration = gr5;
- });

--- Removed qtA (pretty-v2.1.26.js:74680-74735)
- var qtA = k((eN8) => {
-   Object.defineProperty(eN8, "__esModule", { value: !0 });
-   var rN8 = CA("fs"),
-     oN8 = CA("path"),
-     aN8 = a5(),
-     fB1,
-     sN8 = "Modules";
-   function Ur5() {
-     try {
-       return CA.cache ? Object.keys(CA.cache) : [];
-     } catch (A) {
-       return [];
-     }
-   }
-   function pr5() {
-     let A = (CA.main && CA.main.paths) || [],
-       K = Ur5(),
-       q = {},
-       Y = {};
-     return (
-       K.forEach((z) => {
-         let w = z,
-           H = () => {
-             let J = w;
-             if (((w = oN8.dirname(J)), !w || J === w || Y[J])) return;
-             if (A.indexOf(w) < 0) return H();
-             let O = oN8.join(J, "package.json");
-             if (((Y[J] = !0), !rN8.existsSync(O))) return H();
-             try {
-               let X = JSON.parse(rN8.readFileSync(O, "utf8"));
-               q[X.name] = X.version;
-             } catch (X) {}
-           };
-         H();
-       }),
-       q
-     );
-   }
-   function dr5() {
-     if (!fB1) fB1 = pr5();
-     return fB1;
-   }
-   var cr5 = () => {
-       return {
-         name: sN8,
-         setupOnce() {},
-         processEvent(A) {
-           return ((A.modules = { ...A.modules, ...dr5() }), A);
-         },
-       };
-     },
-     tN8 = aN8.defineIntegration(cr5),
-     lr5 = aN8.convertIntegrationFnToClass(sN8, tN8);
-   eN8.Modules = lr5;
-   eN8.modulesIntegration = tN8;
- });

--- Removed TB1 (pretty-v2.1.26.js:74736-74775)
- var TB1 = k((AT8) => {
-   Object.defineProperty(AT8, "__esModule", { value: !0 });
-   var rr5 = a5(),
-     YtA = H8(),
-     NB1 = fvA(),
-     or5 = 2000;
-   function ar5(A) {
-     YtA.consoleSandbox(() => {
-       console.error(A);
-     });
-     let K = rr5.getClient();
-     if (K === void 0)
-       (NB1.DEBUG_BUILD &&
-         YtA.logger.warn(
-           "No NodeClient was defined, we are exiting the process now.",
-         ),
-         global.process.exit(1));
-     let q = K.getOptions(),
-       Y =
-         (q &&
-           q.shutdownTimeout &&
-           q.shutdownTimeout > 0 &&
-           q.shutdownTimeout) ||
-         or5;
-     K.close(Y).then(
-       (z) => {
-         if (!z)
-           NB1.DEBUG_BUILD &&
-             YtA.logger.warn(
-               "We reached the timeout for emptying the request buffer, still exiting now!",
-             );
-         global.process.exit(1);
-       },
-       (z) => {
-         NB1.DEBUG_BUILD && YtA.logger.error(z);
-       },
-     );
-   }
-   AT8.logAndExitProcess = ar5;
- });

--- Removed wtA (pretty-v2.1.26.js:74776-74845)
- var wtA = k((wT8) => {
-   Object.defineProperty(wT8, "__esModule", { value: !0 });
-   var ztA = a5(),
-     tr5 = H8(),
-     er5 = fvA(),
-     KT8 = TB1(),
-     qT8 = "OnUncaughtException",
-     Ao5 = (A = {}) => {
-       let K = { exitEvenIfOtherHandlersAreRegistered: !0, ...A };
-       return {
-         name: qT8,
-         setupOnce() {},
-         setup(q) {
-           global.process.on("uncaughtException", zT8(q, K));
-         },
-       };
-     },
-     YT8 = ztA.defineIntegration(Ao5),
-     Ko5 = ztA.convertIntegrationFnToClass(qT8, YT8);
-   function zT8(A, K) {
-     let Y = !1,
-       z = !1,
-       w = !1,
-       H,
-       J = A.getOptions();
-     return Object.assign(
-       (O) => {
-         let X = KT8.logAndExitProcess;
-         if (K.onFatalError) X = K.onFatalError;
-         else if (J.onFatalError) X = J.onFatalError;
-         let _ =
-             global.process.listeners("uncaughtException").reduce((Z, W) => {
-               if (
-                 W.name === "domainUncaughtExceptionClear" ||
-                 (W.tag && W.tag === "sentry_tracingErrorCallback") ||
-                 W._errorHandler
-               )
-                 return Z;
-               else return Z + 1;
-             }, 0) === 0,
-           G = K.exitEvenIfOtherHandlersAreRegistered || _;
-         if (!Y) {
-           if (((H = O), (Y = !0), ztA.getClient() === A))
-             ztA.captureException(O, {
-               originalException: O,
-               captureContext: { level: "fatal" },
-               mechanism: { handled: !1, type: "onuncaughtexception" },
-             });
-           if (!w && G) ((w = !0), X(O));
-         } else if (G) {
-           if (w)
-             (er5.DEBUG_BUILD &&
-               tr5.logger.warn(
-                 "uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown",
-               ),
-               KT8.logAndExitProcess(O));
-           else if (!z)
-             ((z = !0),
-               setTimeout(() => {
-                 if (!w) ((w = !0), X(H, O));
-               }, 2000));
-         }
-       },
-       { _errorHandler: !0 },
-     );
-   }
-   wT8.OnUncaughtException = Ko5;
-   wT8.makeErrorHandler = zT8;
-   wT8.onUncaughtExceptionIntegration = YT8;
- });

--- Removed JtA (pretty-v2.1.26.js:74846-74891)
- var JtA = k(($T8) => {
-   Object.defineProperty($T8, "__esModule", { value: !0 });
-   var HtA = a5(),
-     HT8 = H8(),
-     wo5 = TB1(),
-     JT8 = "OnUnhandledRejection",
-     Ho5 = (A = {}) => {
-       let K = A.mode || "warn";
-       return {
-         name: JT8,
-         setupOnce() {},
-         setup(q) {
-           global.process.on("unhandledRejection", XT8(q, { mode: K }));
-         },
-       };
-     },
-     OT8 = HtA.defineIntegration(Ho5),
-     Jo5 = HtA.convertIntegrationFnToClass(JT8, OT8);
-   function XT8(A, K) {
-     return function (Y, z) {
-       if (HtA.getClient() !== A) return;
-       (HtA.captureException(Y, {
-         originalException: z,
-         captureContext: { extra: { unhandledPromiseRejection: !0 } },
-         mechanism: { handled: !1, type: "onunhandledrejection" },
-       }),
-         Oo5(Y, K));
-     };
-   }
-   function Oo5(A, K) {
-     let q =
-       "This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";
-     if (K.mode === "warn")
-       HT8.consoleSandbox(() => {
-         (console.warn(q), console.error(A && A.stack ? A.stack : A));
-       });
-     else if (K.mode === "strict")
-       (HT8.consoleSandbox(() => {
-         console.warn(q);
-       }),
-         wo5.logAndExitProcess(A));
-   }
-   $T8.OnUnhandledRejection = Jo5;
-   $T8.makeUnhandledPromiseHandler = XT8;
-   $T8.onUnhandledRejectionIntegration = OT8;
- });

--- Removed OtA (pretty-v2.1.26.js:74892-74976)
- var OtA = k((DT8) => {
-   Object.defineProperty(DT8, "__esModule", { value: !0 });
-   var Go5 = CA("http"),
-     Zo5 = CA("url"),
-     _T8 = a5(),
-     XHA = H8(),
-     GT8 = "Spotlight",
-     Wo5 = (A = {}) => {
-       let K = { sidecarUrl: A.sidecarUrl || "http://localhost:8969/stream" };
-       return {
-         name: GT8,
-         setupOnce() {},
-         setup(q) {
-           if (typeof process === "object" && process.env)
-             XHA.logger.warn(
-               "[Spotlight] It seems you're not in dev mode. Do you really want to have Spotlight enabled?",
-             );
-           jo5(q, K);
-         },
-       };
-     },
-     ZT8 = _T8.defineIntegration(Wo5),
-     Do5 = _T8.convertIntegrationFnToClass(GT8, ZT8);
-   function jo5(A, K) {
-     let q = Mo5(K.sidecarUrl);
-     if (!q) return;
-     let Y = 0;
-     if (typeof A.on !== "function") {
-       XHA.logger.warn(
-         "[Spotlight] Cannot connect to spotlight due to missing method on SDK client (`client.on`)",
-       );
-       return;
-     }
-     A.on("beforeEnvelope", (z) => {
-       if (Y > 3) {
-         XHA.logger.warn(
-           "[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests",
-         );
-         return;
-       }
-       let w = XHA.serializeEnvelope(z),
-         J = WT8()(
-           {
-             method: "POST",
-             path: q.pathname,
-             hostname: q.hostname,
-             port: q.port,
-             headers: { "Content-Type": "application/x-sentry-envelope" },
-           },
-           (O) => {
-             (O.on("data", () => {}),
-               O.on("end", () => {}),
-               O.setEncoding("utf8"));
-           },
-         );
-       (J.on("error", () => {
-         (Y++,
-           XHA.logger.warn(
-             "[Spotlight] Failed to send envelope to Spotlight Sidecar",
-           ));
-       }),
-         J.write(w),
-         J.end());
-     });
-   }
-   function Mo5(A) {
-     try {
-       return new Zo5.URL(`${A}`);
-     } catch (K) {
-       XHA.logger.warn(`[Spotlight] Invalid sidecar URL: ${A}`);
-       return;
-     }
-   }
-   function WT8() {
-     let { request: A } = Go5;
-     if (Po5(A)) return A.__sentry_original__;
-     return A;
-   }
-   function Po5(A) {
-     return "__sentry_original__" in A;
-   }
-   DT8.Spotlight = Do5;
-   DT8.getNativeHttpRequest = WT8;
-   DT8.spotlightIntegration = ZT8;
- });

--- Removed $tA (pretty-v2.1.26.js:74977-75196)
- var $tA = k((jT8) => {
-   var { _optionalChain: XtA } = H8();
-   Object.defineProperty(jT8, "__esModule", { value: !0 });
-   var gX = a5(),
-     n1A = H8(),
-     To5 = d1A();
-   jT8.ChannelName = void 0;
-   (function (A) {
-     A.RequestCreate = "undici:request:create";
-     let q = "undici:request:headers";
-     A.RequestEnd = q;
-     let Y = "undici:request:error";
-     A.RequestError = Y;
-   })(jT8.ChannelName || (jT8.ChannelName = {}));
-   var vo5 = (A) => {
-       return new HV(A);
-     },
-     Eo5 = gX.defineIntegration(vo5);
-   class HV {
-     static __initStatic() {
-       this.id = "Undici";
-     }
-     __init() {
-       this.name = HV.id;
-     }
-     __init2() {
-       this._createSpanUrlMap = new n1A.LRUMap(100);
-     }
-     __init3() {
-       this._headersUrlMap = new n1A.LRUMap(100);
-     }
-     constructor(A = {}) {
-       (HV.prototype.__init.call(this),
-         HV.prototype.__init2.call(this),
-         HV.prototype.__init3.call(this),
-         HV.prototype.__init4.call(this),
-         HV.prototype.__init5.call(this),
-         HV.prototype.__init6.call(this),
-         (this._options = {
-           breadcrumbs: A.breadcrumbs === void 0 ? !0 : A.breadcrumbs,
-           tracing: A.tracing,
-           shouldCreateSpanForRequest: A.shouldCreateSpanForRequest,
-         }));
-     }
-     setupOnce(A) {
-       if (To5.NODE_VERSION.major < 16) return;
-       let K;
-       try {
-         K = CA("diagnostics_channel");
-       } catch (q) {}
-       if (!K || !K.subscribe) return;
-       (K.subscribe(jT8.ChannelName.RequestCreate, this._onRequestCreate),
-         K.subscribe(jT8.ChannelName.RequestEnd, this._onRequestEnd),
-         K.subscribe(jT8.ChannelName.RequestError, this._onRequestError));
-     }
-     _shouldCreateSpan(A) {
-       if (
-         this._options.tracing === !1 ||
-         (this._options.tracing === void 0 && !gX.hasTracingEnabled())
-       )
-         return !1;
-       if (this._options.shouldCreateSpanForRequest === void 0) return !0;
-       let K = this._createSpanUrlMap.get(A);
-       if (K !== void 0) return K;
-       let q = this._options.shouldCreateSpanForRequest(A);
-       return (this._createSpanUrlMap.set(A, q), q);
-     }
-     __init4() {
-       this._onRequestCreate = (A) => {
-         if (
-           !XtA([
-             gX.getClient,
-             "call",
-             ($) => $(),
-             "optionalAccess",
-             ($) => $.getIntegration,
-             "call",
-             ($) => $(HV),
-           ])
-         )
-           return;
-         let { request: K } = A,
-           q = K.origin ? K.origin.toString() + K.path : K.path,
-           Y = gX.getClient();
-         if (!Y) return;
-         if (gX.isSentryRequestUrl(q, Y) || K.__sentry_span__ !== void 0) return;
-         let z = Y.getOptions(),
-           w = gX.getCurrentScope(),
-           H = gX.getIsolationScope(),
-           J = gX.getActiveSpan(),
-           O = this._shouldCreateSpan(q) ? Co5(J, K, q) : void 0;
-         if (O) K.__sentry_span__ = O;
-         if (
-           (($) => {
-             if (z.tracePropagationTargets === void 0) return !0;
-             let _ = this._headersUrlMap.get($);
-             if (_ !== void 0) return _;
-             let G = n1A.stringMatchesSomePattern($, z.tracePropagationTargets);
-             return (this._headersUrlMap.set($, G), G);
-           })(q)
-         ) {
-           let {
-               traceId: $,
-               spanId: _,
-               sampled: G,
-               dsc: Z,
-             } = { ...H.getPropagationContext(), ...w.getPropagationContext() },
-             W = O
-               ? gX.spanToTraceHeader(O)
-               : n1A.generateSentryTraceHeader($, _, G),
-             D = n1A.dynamicSamplingContextToSentryBaggageHeader(
-               Z ||
-                 (O
-                   ? gX.getDynamicSamplingContextFromSpan(O)
-                   : gX.getDynamicSamplingContextFromClient($, Y, w)),
-             );
-           ko5(K, W, D);
-         }
-       };
-     }
-     __init5() {
-       this._onRequestEnd = (A) => {
-         if (
-           !XtA([
-             gX.getClient,
-             "call",
-             (w) => w(),
-             "optionalAccess",
-             (w) => w.getIntegration,
-             "call",
-             (w) => w(HV),
-           ])
-         )
-           return;
-         let { request: K, response: q } = A,
-           Y = K.origin ? K.origin.toString() + K.path : K.path;
-         if (gX.isSentryRequestUrl(Y, gX.getClient())) return;
-         let z = K.__sentry_span__;
-         if (z) (gX.setHttpStatus(z, q.statusCode), z.end());
-         if (this._options.breadcrumbs)
-           gX.addBreadcrumb(
-             {
-               category: "http",
-               data: { method: K.method, status_code: q.statusCode, url: Y },
-               type: "http",
-             },
-             { event: "response", request: K, response: q },
-           );
-       };
-     }
-     __init6() {
-       this._onRequestError = (A) => {
-         if (
-           !XtA([
-             gX.getClient,
-             "call",
-             (z) => z(),
-             "optionalAccess",
-             (z) => z.getIntegration,
-             "call",
-             (z) => z(HV),
-           ])
-         )
-           return;
-         let { request: K } = A,
-           q = K.origin ? K.origin.toString() + K.path : K.path;
-         if (gX.isSentryRequestUrl(q, gX.getClient())) return;
-         let Y = K.__sentry_span__;
-         if (Y) (Y.setStatus("internal_error"), Y.end());
-         if (this._options.breadcrumbs)
-           gX.addBreadcrumb(
-             {
-               category: "http",
-               data: { method: K.method, url: q },
-               level: "error",
-               type: "http",
-             },
-             { event: "error", request: K },
-           );
-       };
-     }
-   }
-   HV.__initStatic();
-   function ko5(A, K, q) {
-     let Y;
-     if (Array.isArray(A.headers))
-       Y = A.headers.some((z) => z === "sentry-trace");
-     else
-       Y = A.headers
-         .split(
-           `\r
- `,
-         )
-         .some((w) => w.startsWith("sentry-trace:"));
-     if (Y) return;
-     if ((A.addHeader("sentry-trace", K), q)) A.addHeader("baggage", q);
-   }
-   function Co5(A, K, q) {
-     let Y = n1A.parseUrl(q),
-       z = K.method || "GET",
-       w = { "http.method": z };
-     if (Y.search) w["http.query"] = Y.search;
-     if (Y.hash) w["http.fragment"] = Y.hash;
-     return XtA([
-       A,
-       "optionalAccess",
-       (H) => H.startChild,
-       "call",
-       (H) =>
-         H({
-           op: "http.client",
-           origin: "auto.http.node.undici",
-           description: `${z} ${n1A.getSanitizedUrlString(Y)}`,
-           data: w,
-         }),
-     ]);
-   }
-   jT8.Undici = HV;
-   jT8.nativeNodeFetchintegration = Eo5;
- });

--- Removed vB1 (pretty-v2.1.26.js:75197-75227)
- var vB1 = k((VT8) => {
-   Object.defineProperty(VT8, "__esModule", { value: !0 });
-   var MT8 = CA("path"),
-     yo5 = H8();
-   function PT8(A) {
-     return A.replace(/^[A-Z]:/, "").replace(/\\/g, "/");
-   }
-   function Io5(
-     A = process.argv[1] ? yo5.dirname(process.argv[1]) : process.cwd(),
-     K = MT8.sep === "\\",
-   ) {
-     let q = K ? PT8(A) : A;
-     return (Y) => {
-       if (!Y) return;
-       let z = K ? PT8(Y) : Y,
-         { dir: w, base: H, ext: J } = MT8.posix.parse(z);
-       if (J === ".js" || J === ".mjs" || J === ".cjs")
-         H = H.slice(0, J.length * -1);
-       if (!w) w = ".";
-       let O = w.lastIndexOf("/node_modules");
-       if (O > -1) return `${w.slice(O + 14).replace(/\//g, ".")}:${H}`;
-       if (w.startsWith(q)) {
-         let X = w.slice(q.length + 1).replace(/\//g, ".");
-         if (X) X += ":";
-         return ((X += H), X);
-       }
-       return H;
-     };
-   }
-   VT8.createGetModuleFromFilename = Io5;
- });

--- Removed EB1 (pretty-v2.1.26.js:75228-75367)
- var EB1 = k((ET8) => {
-   var { _optionalChain: ho5 } = H8();
-   Object.defineProperty(ET8, "__esModule", { value: !0 });
-   var bE = a5(),
-     r1A = H8(),
-     bo5 = XN8(),
-     xo5 = OB1(),
-     uo5 = rsA(),
-     Bo5 = osA(),
-     mo5 = ssA(),
-     go5 = tsA(),
-     Fo5 = KtA(),
-     Qo5 = qtA(),
-     Uo5 = wtA(),
-     po5 = JtA(),
-     do5 = OtA(),
-     co5 = $tA(),
-     lo5 = vB1(),
-     io5 = _B1(),
-     fT8 = [
-       bE.inboundFiltersIntegration(),
-       bE.functionToStringIntegration(),
-       bE.linkedErrorsIntegration(),
-       bE.requestDataIntegration(),
-       uo5.consoleIntegration(),
-       go5.httpIntegration(),
-       co5.nativeNodeFetchintegration(),
-       Uo5.onUncaughtExceptionIntegration(),
-       po5.onUnhandledRejectionIntegration(),
-       mo5.contextLinesIntegration(),
-       Fo5.localVariablesIntegration(),
-       Bo5.nodeContextIntegration(),
-       Qo5.modulesIntegration(),
-     ];
-   function NT8(A) {
-     let K = bE.getMainCarrier(),
-       q =
-         ho5([
-           K,
-           "access",
-           (Y) => Y.__SENTRY__,
-           "optionalAccess",
-           (Y) => Y.integrations,
-         ]) || [];
-     return [...fT8, ...q];
-   }
-   function no5(A = {}) {
-     if ((bo5.setNodeAsyncContextStrategy(), A.defaultIntegrations === void 0))
-       A.defaultIntegrations = NT8();
-     if (A.dsn === void 0 && process.env.SENTRY_DSN)
-       A.dsn = process.env.SENTRY_DSN;
-     let K = process.env.SENTRY_TRACES_SAMPLE_RATE;
-     if (A.tracesSampleRate === void 0 && K) {
-       let Y = parseFloat(K);
-       if (isFinite(Y)) A.tracesSampleRate = Y;
-     }
-     if (A.release === void 0) {
-       let Y = TT8();
-       if (Y !== void 0) A.release = Y;
-       else A.autoSessionTracking = !1;
-     }
-     if (A.environment === void 0 && process.env.SENTRY_ENVIRONMENT)
-       A.environment = process.env.SENTRY_ENVIRONMENT;
-     if (A.autoSessionTracking === void 0 && A.dsn !== void 0)
-       A.autoSessionTracking = !0;
-     if (A.instrumenter === void 0) A.instrumenter = "sentry";
-     let q = {
-       ...A,
-       stackParser: r1A.stackParserFromStackParserOptions(A.stackParser || vT8),
-       integrations: bE.getIntegrationsToSetup(A),
-       transport: A.transport || io5.makeNodeTransport,
-     };
-     if (
-       (bE.initAndBind(A.clientClass || xo5.NodeClient, q),
-       A.autoSessionTracking)
-     )
-       oo5();
-     if ((ao5(), A.spotlight)) {
-       let Y = bE.getClient();
-       if (Y && Y.addIntegration) {
-         let z = Y.getOptions().integrations;
-         for (let w of z) Y.addIntegration(w);
-         Y.addIntegration(
-           do5.spotlightIntegration({
-             sidecarUrl: typeof A.spotlight === "string" ? A.spotlight : void 0,
-           }),
-         );
-       }
-     }
-   }
-   function ro5(A) {
-     if (A === void 0) return !1;
-     let K = A && A.getOptions();
-     if (K && K.autoSessionTracking !== void 0) return K.autoSessionTracking;
-     return !1;
-   }
-   function TT8(A) {
-     if (process.env.SENTRY_RELEASE) return process.env.SENTRY_RELEASE;
-     if (r1A.GLOBAL_OBJ.SENTRY_RELEASE && r1A.GLOBAL_OBJ.SENTRY_RELEASE.id)
-       return r1A.GLOBAL_OBJ.SENTRY_RELEASE.id;
-     return (
-       process.env.GITHUB_SHA ||
-       process.env.COMMIT_REF ||
-       process.env.VERCEL_GIT_COMMIT_SHA ||
-       process.env.VERCEL_GITHUB_COMMIT_SHA ||
-       process.env.VERCEL_GITLAB_COMMIT_SHA ||
-       process.env.VERCEL_BITBUCKET_COMMIT_SHA ||
-       process.env.ZEIT_GITHUB_COMMIT_SHA ||
-       process.env.ZEIT_GITLAB_COMMIT_SHA ||
-       process.env.ZEIT_BITBUCKET_COMMIT_SHA ||
-       process.env.CF_PAGES_COMMIT_SHA ||
-       A
-     );
-   }
-   var vT8 = r1A.createStackParser(
-     r1A.nodeStackLineParser(lo5.createGetModuleFromFilename()),
-   );
-   function oo5() {
-     (bE.startSession(),
-       process.on("beforeExit", () => {
-         let A = bE.getIsolationScope().getSession();
-         if (A && !["exited", "crashed"].includes(A.status)) bE.endSession();
-       }));
-   }
-   function ao5() {
-     let A = (process.env.SENTRY_USE_ENVIRONMENT || "").toLowerCase();
-     if (!["false", "n", "no", "off", "0"].includes(A)) {
-       let K = process.env.SENTRY_TRACE,
-         q = process.env.SENTRY_BAGGAGE,
-         Y = r1A.propagationContextFromHeaders(K, q);
-       bE.getCurrentScope().setPropagationContext(Y);
-     }
-   }
-   ET8.defaultIntegrations = fT8;
-   ET8.defaultStackParser = vT8;
-   ET8.getDefaultIntegrations = NT8;
-   ET8.getSentryRelease = TT8;
-   ET8.init = no5;
-   ET8.isAutoSessionTrackingEnabled = ro5;
- });

--- Removed CT8 (pretty-v2.1.26.js:75368-75390)
- var CT8 = k((kT8) => {
-   Object.defineProperty(kT8, "__esModule", { value: !0 });
-   var _tA = CA("fs"),
-     kB1 = CA("path");
-   function Ya5(A) {
-     let K = kB1.resolve(A);
-     if (!_tA.existsSync(K))
-       throw Error(`Cannot read contents of ${K}. Directory does not exist.`);
-     if (!_tA.statSync(K).isDirectory())
-       throw Error(
-         `Cannot read contents of ${K}, because it is not a directory.`,
-       );
-     let q = (Y) => {
-       return _tA.readdirSync(Y).reduce((z, w) => {
-         let H = kB1.join(Y, w);
-         if (_tA.statSync(H).isDirectory()) return z.concat(q(H));
-         return (z.push(H), z);
-       }, []);
-     };
-     return q(K).map((Y) => kB1.relative(K, Y));
-   }
-   kT8.deepReadDirSync = Ya5;
- });

--- Removed LT8 (pretty-v2.1.26.js:75391-75394)
- var LT8 = k((wa5) => {
-   /*! @sentry/node 7.120.3 (5a833b4) | https://github.com/getsentry/sentry-javascript */ wa5.base64WorkerScript =
-     "aW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gJ2luc3BlY3Rvcic7CmltcG9ydCB7IHdvcmtlckRhdGEsIHBhcmVudFBvcnQgfSBmcm9tICd3b3JrZXJfdGhyZWFkcyc7CmltcG9ydCB7IHBvc2l4LCBzZXAgfSBmcm9tICdwYXRoJzsKaW1wb3J0ICogYXMgaHR0cCBmcm9tICdodHRwJzsKaW1wb3J0ICogYXMgaHR0cHMgZnJvbSAnaHR0cHMnOwppbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gJ3N0cmVhbSc7CmltcG9ydCB7IFVSTCB9IGZyb20gJ3VybCc7CmltcG9ydCB7IGNyZWF0ZUd6aXAgfSBmcm9tICd6bGliJzsKaW1wb3J0ICogYXMgbmV0IGZyb20gJ25ldCc7CmltcG9ydCAqIGFzIHRscyBmcm9tICd0bHMnOwoKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZApjb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIG9uZSBvZiBhIGZldyBFcnJvciBvciBFcnJvci1saWtlCiAqIHtAbGluayBpc0Vycm9yfS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzRXJyb3Iod2F0KSB7CiAgc3dpdGNoIChvYmplY3RUb1N0cmluZy5jYWxsKHdhdCkpIHsKICAgIGNhc2UgJ1tvYmplY3QgRXJyb3JdJzoKICAgIGNhc2UgJ1tvYmplY3QgRXhjZXB0aW9uXSc6CiAgICBjYXNlICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nOgogICAgICByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiBpc0luc3RhbmNlT2Yod2F0LCBFcnJvcik7CiAgfQp9Ci8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiB0aGUgZ2l2ZW4gYnVpbHQtaW4gY2xhc3MuCiAqCiAqIEBwYXJhbSB3YXQgVGhlIHZhbHVlIHRvIGJlIGNoZWNrZWQKICogQHBhcmFtIGNsYXNzTmFtZQogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc0J1aWx0aW4od2F0LCBjbGFzc05hbWUpIHsKICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbCh3YXQpID09PSBgW29iamVjdCAke2NsYXNzTmFtZX1dYDsKfQoKLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhIHN0cmluZwogKiB7QGxpbmsgaXNTdHJpbmd9LgogKgogKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC4KICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LgogKi8KZnVuY3Rpb24gaXNTdHJpbmcod2F0KSB7CiAgcmV0dXJuIGlzQnVpbHRpbih3YXQsICdTdHJpbmcnKTsKfQoKLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhbiBvYmplY3QgbGl0ZXJhbCwgb3IgYSBjbGFzcyBpbnN0YW5jZS4KICoge0BsaW5rIGlzUGxhaW5PYmplY3R9LgogKgogKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC4KICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LgogKi8KZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh3YXQpIHsKICByZXR1cm4gaXNCdWlsdGluKHdhdCwgJ09iamVjdCcpOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIEV2ZW50IGluc3RhbmNlCiAqIHtAbGluayBpc0V2ZW50fS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzRXZlbnQod2F0KSB7CiAgcmV0dXJuIHR5cGVvZiBFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNJbnN0YW5jZU9mKHdhdCwgRXZlbnQpOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIEVsZW1lbnQgaW5zdGFuY2UKICoge0BsaW5rIGlzRWxlbWVudH0uCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc0VsZW1lbnQod2F0KSB7CiAgcmV0dXJuIHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2Yod2F0LCBFbGVtZW50KTsKfQoKLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlIGhhcyBhIHRoZW4gZnVuY3Rpb24uCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKi8KZnVuY3Rpb24gaXNUaGVuYWJsZSh3YXQpIHsKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzCiAgcmV0dXJuIEJvb2xlYW4od2F0ICYmIHdhdC50aGVuICYmIHR5cGVvZiB3YXQudGhlbiA9PT0gJ2Z1bmN0aW9uJyk7Cn0KCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYSBTeW50aGV0aWNFdmVudAogKiB7QGxpbmsgaXNTeW50aGV0aWNFdmVudH0uCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KHdhdCkgewogIHJldHVybiBpc1BsYWluT2JqZWN0KHdhdCkgJiYgJ25hdGl2ZUV2ZW50JyBpbiB3YXQgJiYgJ3ByZXZlbnREZWZhdWx0JyBpbiB3YXQgJiYgJ3N0b3BQcm9wYWdhdGlvbicgaW4gd2F0Owp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUgaXMgTmFOCiAqIHtAbGluayBpc05hTn0uCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc05hTiQxKHdhdCkgewogIHJldHVybiB0eXBlb2Ygd2F0ID09PSAnbnVtYmVyJyAmJiB3YXQgIT09IHdhdDsKfQoKLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhbiBpbnN0YW5jZSBvZiBwcm92aWRlZCBjb25zdHJ1Y3Rvci4KICoge0BsaW5rIGlzSW5zdGFuY2VPZn0uCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcGFyYW0gYmFzZSBBIGNvbnN0cnVjdG9yIHRvIGJlIHVzZWQgaW4gYSBjaGVjay4KICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LgogKi8KZnVuY3Rpb24gaXNJbnN0YW5jZU9mKHdhdCwgYmFzZSkgewogIHRyeSB7CiAgICByZXR1cm4gd2F0IGluc3RhbmNlb2YgYmFzZTsKICB9IGNhdGNoIChfZSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KfQoKLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhIFZ1ZSBWaWV3TW9kZWwuCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc1Z1ZVZpZXdNb2RlbCh3YXQpIHsKICAvLyBOb3QgdXNpbmcgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyBiZWNhdXNlIGluIFZ1ZSAzIGl0IHdvdWxkIHJlYWQgdGhlIGluc3RhbmNlJ3MgU3ltYm9sKFN5bWJvbC50b1N0cmluZ1RhZykgcHJvcGVydHkuCiAgcmV0dXJuICEhKHR5cGVvZiB3YXQgPT09ICdvYmplY3QnICYmIHdhdCAhPT0gbnVsbCAmJiAoKHdhdCApLl9faXNWdWUgfHwgKHdhdCApLl9pc1Z1ZSkpOwp9CgovKiogSW50ZXJuYWwgZ2xvYmFsIHdpdGggY29tbW9uIHByb3BlcnRpZXMgYW5kIFNlbnRyeSBleHRlbnNpb25zICAqLwoKLy8gVGhlIGNvZGUgYmVsb3cgZm9yICdpc0dsb2JhbE9iaicgYW5kICdHTE9CQUxfT0JKJyB3YXMgY29waWVkIGZyb20gY29yZS1qcyBiZWZvcmUgbW9kaWZpY2F0aW9uCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2Jsb2IvMWI5NDRkZjU1MjgyY2RjOTljOTBkYjVmNDllYjBiNmVkYTJjYzBhMy9wYWNrYWdlcy9jb3JlLWpzL2ludGVybmFscy9nbG9iYWwuanMKLy8gY29yZS1qcyBoYXMgdGhlIGZvbGxvd2luZyBsaWNlbmNlOgovLwovLyBDb3B5cmlnaHQgKGMpIDIwMTQtMjAyMiBEZW5pcyBQdXNoa2FyZXYKLy8KLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQovLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAovLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6Ci8vCi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgovLwovLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgovLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgovLyBUSEUgU09GVFdBUkUuCgovKiogUmV0dXJucyAnb2JqJyBpZiBpdCdzIHRoZSBnbG9iYWwgb2JqZWN0LCBvdGhlcndpc2UgcmV0dXJucyB1bmRlZmluZWQgKi8KZnVuY3Rpb24gaXNHbG9iYWxPYmoob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouTWF0aCA9PSBNYXRoID8gb2JqIDogdW5kZWZpbmVkOwp9CgovKiogR2V0J3MgdGhlIGdsb2JhbCBvYmplY3QgZm9yIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgcnVudGltZSAqLwpjb25zdCBHTE9CQUxfT0JKID0KICAodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgaXNHbG9iYWxPYmooZ2xvYmFsVGhpcykpIHx8CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscwogICh0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIGlzR2xvYmFsT2JqKHdpbmRvdykpIHx8CiAgKHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIGlzR2xvYmFsT2JqKHNlbGYpKSB8fAogICh0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGlzR2xvYmFsT2JqKGdsb2JhbCkpIHx8CiAgKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzOwogIH0pKCkgfHwKICB7fTsKCi8qKgogKiBAZGVwcmVjYXRlZCBVc2UgR0xPQkFMX09CSiBpbnN0ZWFkIG9yIFdJTkRPVyBmcm9tIEBzZW50cnkvYnJvd3Nlci4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdjgKICovCmZ1bmN0aW9uIGdldEdsb2JhbE9iamVjdCgpIHsKICByZXR1cm4gR0xPQkFMX09CSiA7Cn0KCi8qKgogKiBSZXR1cm5zIGEgZ2xvYmFsIHNpbmdsZXRvbiBjb250YWluZWQgaW4gdGhlIGdsb2JhbCBgX19TRU5UUllfX2Agb2JqZWN0LgogKgogKiBJZiB0aGUgc2luZ2xldG9uIGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBpbiBgX19TRU5UUllfX2AsIGl0IHdpbGwgYmUgY3JlYXRlZCB1c2luZyB0aGUgZ2l2ZW4gZmFjdG9yeQogKiBmdW5jdGlvbiBhbmQgYWRkZWQgdG8gdGhlIGBfX1NFTlRSWV9fYCBvYmplY3QuCiAqCiAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgdGhlIGdsb2JhbCBzaW5nbGV0b24gb24gX19TRU5UUllfXwogKiBAcGFyYW0gY3JlYXRvciBjcmVhdG9yIEZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBzaW5nbGV0b24gaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0IG9uIGBfX1NFTlRSWV9fYAogKiBAcGFyYW0gb2JqIChPcHRpb25hbCkgVGhlIGdsb2JhbCBvYmplY3Qgb24gd2hpY2ggdG8gbG9vayBmb3IgYF9fU0VOVFJZX19gLCBpZiBub3QgYEdMT0JBTF9PQkpgJ3MgcmV0dXJuIHZhbHVlCiAqIEByZXR1cm5zIHRoZSBzaW5nbGV0b24KICovCmZ1bmN0aW9uIGdldEdsb2JhbFNpbmdsZXRvbihuYW1lLCBjcmVhdG9yLCBvYmopIHsKICBjb25zdCBnYmwgPSAob2JqIHx8IEdMT0JBTF9PQkopIDsKICBjb25zdCBfX1NFTlRSWV9fID0gKGdibC5fX1NFTlRSWV9fID0gZ2JsLl9fU0VOVFJZX18gfHwge30pOwogIGNvbnN0IHNpbmdsZXRvbiA9IF9fU0VOVFJZX19bbmFtZV0gfHwgKF9fU0VOVFJZX19bbmFtZV0gPSBjcmVhdG9yKCkpOwogIHJldHVybiBzaW5nbGV0b247Cn0KCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgpjb25zdCBXSU5ET1cgPSBnZXRHbG9iYWxPYmplY3QoKTsKCmNvbnN0IERFRkFVTFRfTUFYX1NUUklOR19MRU5HVEggPSA4MDsKCi8qKgogKiBHaXZlbiBhIGNoaWxkIERPTSBlbGVtZW50LCByZXR1cm5zIGEgcXVlcnktc2VsZWN0b3Igc3RhdGVtZW50IGRlc2NyaWJpbmcgdGhhdAogKiBhbmQgaXRzIGFuY2VzdG9ycwogKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gYm9keSA+IGRpdiA+IGlucHV0I2Zvby5idG5bbmFtZT1iYXpdCiAqIEByZXR1cm5zIGdlbmVyYXRlZCBET00gcGF0aAogKi8KZnVuY3Rpb24gaHRtbFRyZWVBc1N0cmluZygKICBlbGVtLAogIG9wdGlvbnMgPSB7fSwKKSB7CiAgaWYgKCFlbGVtKSB7CiAgICByZXR1cm4gJzx1bmtub3duPic7CiAgfQoKICAvLyB0cnkvY2F0Y2ggYm90aDoKICAvLyAtIGFjY2Vzc2luZyBldmVudC50YXJnZXQgKHNlZSBnZXRzZW50cnkvcmF2ZW4tanMjODM4LCAjNzY4KQogIC8vIC0gYGh0bWxUcmVlQXNTdHJpbmdgIGJlY2F1c2UgaXQncyBjb21wbGV4LCBhbmQganVzdCBhY2Nlc3NpbmcgdGhlIERPTSBpbmNvcnJlY3RseQogIC8vIC0gY2FuIHRocm93IGFuIGV4Y2VwdGlvbiBpbiBzb21lIGNpcmN1bXN0YW5jZXMuCiAgdHJ5IHsKICAgIGxldCBjdXJyZW50RWxlbSA9IGVsZW0gOwogICAgY29uc3QgTUFYX1RSQVZFUlNFX0hFSUdIVCA9IDU7CiAgICBjb25zdCBvdXQgPSBbXTsKICAgIGxldCBoZWlnaHQgPSAwOwogICAgbGV0IGxlbiA9IDA7CiAgICBjb25zdCBzZXBhcmF0b3IgPSAnID4gJzsKICAgIGNvbnN0IHNlcExlbmd0aCA9IHNlcGFyYXRvci5sZW5ndGg7CiAgICBsZXQgbmV4dFN0cjsKICAgIGNvbnN0IGtleUF0dHJzID0gQXJyYXkuaXNBcnJheShvcHRpb25zKSA/IG9wdGlvbnMgOiBvcHRpb25zLmtleUF0dHJzOwogICAgY29uc3QgbWF4U3RyaW5nTGVuZ3RoID0gKCFBcnJheS5pc0FycmF5KG9wdGlvbnMpICYmIG9wdGlvbnMubWF4U3RyaW5nTGVuZ3RoKSB8fCBERUZBVUxUX01BWF9TVFJJTkdfTEVOR1RIOwoKICAgIHdoaWxlIChjdXJyZW50RWxlbSAmJiBoZWlnaHQrKyA8IE1BWF9UUkFWRVJTRV9IRUlHSFQpIHsKICAgICAgbmV4dFN0ciA9IF9odG1sRWxlbWVudEFzU3RyaW5nKGN1cnJlbnRFbGVtLCBrZXlBdHRycyk7CiAgICAgIC8vIGJhaWwgb3V0IGlmCiAgICAgIC8vIC0gbmV4dFN0ciBpcyB0aGUgJ2h0bWwnIGVsZW1lbnQKICAgICAgLy8gLSB0aGUgbGVuZ3RoIG9mIHRoZSBzdHJpbmcgdGhhdCB3b3VsZCBiZSBjcmVhdGVkIGV4Y2VlZHMgbWF4U3RyaW5nTGVuZ3RoCiAgICAgIC8vICAgKGlnbm9yZSB0aGlzIGxpbWl0IGlmIHdlIGFyZSBvbiB0aGUgZmlyc3QgaXRlcmF0aW9uKQogICAgICBpZiAobmV4dFN0ciA9PT0gJ2h0bWwnIHx8IChoZWlnaHQgPiAxICYmIGxlbiArIG91dC5sZW5ndGggKiBzZXBMZW5ndGggKyBuZXh0U3RyLmxlbmd0aCA+PSBtYXhTdHJpbmdMZW5ndGgpKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIG91dC5wdXNoKG5leHRTdHIpOwoKICAgICAgbGVuICs9IG5leHRTdHIubGVuZ3RoOwogICAgICBjdXJyZW50RWxlbSA9IGN1cnJlbnRFbGVtLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIG91dC5yZXZlcnNlKCkuam9pbihzZXBhcmF0b3IpOwogIH0gY2F0Y2ggKF9vTykgewogICAgcmV0dXJuICc8dW5rbm93bj4nOwogIH0KfQoKLyoqCiAqIFJldHVybnMgYSBzaW1wbGUsIHF1ZXJ5LXNlbGVjdG9yIHJlcHJlc2VudGF0aW9uIG9mIGEgRE9NIGVsZW1lbnQKICogZS5nLiBbSFRNTEVsZW1lbnRdID0+IGlucHV0I2Zvby5idG5bbmFtZT1iYXpdCiAqIEByZXR1cm5zIGdlbmVyYXRlZCBET00gcGF0aAogKi8KZnVuY3Rpb24gX2h0bWxFbGVtZW50QXNTdHJpbmcoZWwsIGtleUF0dHJzKSB7CiAgY29uc3QgZWxlbSA9IGVsCgo7CgogIGNvbnN0IG91dCA9IFtdOwogIGxldCBjbGFzc05hbWU7CiAgbGV0IGNsYXNzZXM7CiAgbGV0IGtleTsKICBsZXQgYXR0cjsKICBsZXQgaTsKCiAgaWYgKCFlbGVtIHx8ICFlbGVtLnRhZ05hbWUpIHsKICAgIHJldHVybiAnJzsKICB9CgogIC8vIEB0cy1leHBlY3QtZXJyb3IgV0lORE9XIGhhcyBIVE1MRWxlbWVudAogIGlmIChXSU5ET1cuSFRNTEVsZW1lbnQpIHsKICAgIC8vIElmIHVzaW5nIHRoZSBjb21wb25lbnQgbmFtZSBhbm5vdGF0aW9uIHBsdWdpbiwgdGhpcyB2YWx1ZSBtYXkgYmUgYXZhaWxhYmxlIG9uIHRoZSBET00gbm9kZQogICAgaWYgKGVsZW0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBlbGVtLmRhdGFzZXQgJiYgZWxlbS5kYXRhc2V0WydzZW50cnlDb21wb25lbnQnXSkgewogICAgICByZXR1cm4gZWxlbS5kYXRhc2V0WydzZW50cnlDb21wb25lbnQnXTsKICAgIH0KICB9CgogIG91dC5wdXNoKGVsZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpKTsKCiAgLy8gUGFpcnMgb2YgYXR0cmlidXRlIGtleXMgZGVmaW5lZCBpbiBgc2VyaWFsaXplQXR0cmlidXRlYCBhbmQgdGhlaXIgdmFsdWVzIG9uIGVsZW1lbnQuCiAgY29uc3Qga2V5QXR0clBhaXJzID0KICAgIGtleUF0dHJzICYmIGtleUF0dHJzLmxlbmd0aAogICAgICA/IGtleUF0dHJzLmZpbHRlcihrZXlBdHRyID0+IGVsZW0uZ2V0QXR0cmlidXRlKGtleUF0dHIpKS5tYXAoa2V5QXR0ciA9PiBba2V5QXR0ciwgZWxlbS5nZXRBdHRyaWJ1dGUoa2V5QXR0cildKQogICAgICA6IG51bGw7CgogIGlmIChrZXlBdHRyUGFpcnMgJiYga2V5QXR0clBhaXJzLmxlbmd0aCkgewogICAga2V5QXR0clBhaXJzLmZvckVhY2goa2V5QXR0clBhaXIgPT4gewogICAgICBvdXQucHVzaChgWyR7a2V5QXR0clBhaXJbMF19PSIke2tleUF0dHJQYWlyWzFdfSJdYCk7CiAgICB9KTsKICB9IGVsc2UgewogICAgaWYgKGVsZW0uaWQpIHsKICAgICAgb3V0LnB1c2goYCMke2VsZW0uaWR9YCk7CiAgICB9CgogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdAogICAgY2xhc3NOYW1lID0gZWxlbS5jbGFzc05hbWU7CiAgICBpZiAoY2xhc3NOYW1lICYmIGlzU3RyaW5nKGNsYXNzTmFtZSkpIHsKICAgICAgY2xhc3NlcyA9IGNsYXNzTmFtZS5zcGxpdCgvXHMrLyk7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0LnB1c2goYC4ke2NsYXNzZXNbaV19YCk7CiAgICAgIH0KICAgIH0KICB9CiAgY29uc3QgYWxsb3dlZEF0dHJzID0gWydhcmlhLWxhYmVsJywgJ3R5cGUnLCAnbmFtZScsICd0aXRsZScsICdhbHQnXTsKICBmb3IgKGkgPSAwOyBpIDwgYWxsb3dlZEF0dHJzLmxlbmd0aDsgaSsrKSB7CiAgICBrZXkgPSBhbGxvd2VkQXR0cnNbaV07CiAgICBhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoa2V5KTsKICAgIGlmIChhdHRyKSB7CiAgICAgIG91dC5wdXNoKGBbJHtrZXl9PSIke2F0dHJ9Il1gKTsKICAgIH0KICB9CiAgcmV0dXJuIG91dC5qb2luKCcnKTsKfQoKLyoqCiAqIFRoaXMgc2VydmVzIGFzIGEgYnVpbGQgdGltZSBmbGFnIHRoYXQgd2lsbCBiZSB0cnVlIGJ5IGRlZmF1bHQsIGJ1dCBmYWxzZSBpbiBub24tZGVidWcgYnVpbGRzIG9yIGlmIHVzZXJzIHJlcGxhY2UgYF9fU0VOVFJZX0RFQlVHX19gIGluIHRoZWlyIGdlbmVyYXRlZCBjb2RlLgogKgogKiBBVFRFTlRJT046IFRoaXMgY29uc3RhbnQgbXVzdCBuZXZlciBjcm9zcyBwYWNrYWdlIGJvdW5kYXJpZXMgKGkuZS4gYmUgZXhwb3J0ZWQpIHRvIGd1YXJhbnRlZSB0aGF0IGl0IGNhbiBiZSB1c2VkIGZvciB0cmVlIHNoYWtpbmcuCiAqLwpjb25zdCBERUJVR19CVUlMRCQxID0gKHR5cGVvZiBfX1NFTlRSWV9ERUJVR19fID09PSAndW5kZWZpbmVkJyB8fCBfX1NFTlRSWV9ERUJVR19fKTsKCi8qKiBQcmVmaXggZm9yIGxvZ2dpbmcgc3RyaW5ncyAqLwpjb25zdCBQUkVGSVggPSAnU2VudHJ5IExvZ2dlciAnOwoKY29uc3QgQ09OU09MRV9MRVZFTFMgPSBbCiAgJ2RlYnVnJywKICAnaW5mbycsCiAgJ3dhcm4nLAogICdlcnJvcicsCiAgJ2xvZycsCiAgJ2Fzc2VydCcsCiAgJ3RyYWNlJywKXSA7CgovKiogVGhpcyBtYXkgYmUgbXV0YXRlZCBieSB0aGUgY29uc29sZSBpbnN0cnVtZW50YXRpb24uICovCmNvbnN0IG9yaWdpbmFsQ29uc29sZU1ldGhvZHMKCiA9IHt9OwoKLyoqIEpTRG9jICovCgovKioKICogVGVtcG9yYXJpbHkgZGlzYWJsZSBzZW50cnkgY29uc29sZSBpbnN0cnVtZW50YXRpb25zLgogKgogKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIHJ1biBhZ2FpbnN0IHRoZSBvcmlnaW5hbCBgY29uc29sZWAgbWVzc2FnZXMKICogQHJldHVybnMgVGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrCiAqLwpmdW5jdGlvbiBjb25zb2xlU2FuZGJveChjYWxsYmFjaykgewogIGlmICghKCdjb25zb2xlJyBpbiBHTE9CQUxfT0JKKSkgewogICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgfQoKICBjb25zdCBjb25zb2xlID0gR0xPQkFMX09CSi5jb25zb2xlIDsKICBjb25zdCB3cmFwcGVkRnVuY3MgPSB7fTsKCiAgY29uc3Qgd3JhcHBlZExldmVscyA9IE9iamVjdC5rZXlzKG9yaWdpbmFsQ29uc29sZU1ldGhvZHMpIDsKCiAgLy8gUmVzdG9yZSBhbGwgd3JhcHBlZCBjb25zb2xlIG1ldGhvZHMKICB3cmFwcGVkTGV2ZWxzLmZvckVhY2gobGV2ZWwgPT4gewogICAgY29uc3Qgb3JpZ2luYWxDb25zb2xlTWV0aG9kID0gb3JpZ2luYWxDb25zb2xlTWV0aG9kc1tsZXZlbF0gOwogICAgd3JhcHBlZEZ1bmNzW2xldmVsXSA9IGNvbnNvbGVbbGV2ZWxdIDsKICAgIGNvbnNvbGVbbGV2ZWxdID0gb3JpZ2luYWxDb25zb2xlTWV0aG9kOwogIH0pOwoKICB0cnkgewogICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgfSBmaW5hbGx5IHsKICAgIC8vIFJldmVydCByZXN0b3JhdGlvbiB0byB3cmFwcGVkIHN0YXRlCiAgICB3cmFwcGVkTGV2ZWxzLmZvckVhY2gobGV2ZWwgPT4gewogICAgICBjb25zb2xlW2xldmVsXSA9IHdyYXBwZWRGdW5jc1tsZXZlbF0gOwogICAgfSk7CiAgfQp9CgpmdW5jdGlvbiBtYWtlTG9nZ2VyKCkgewogIGxldCBlbmFibGVkID0gZmFsc2U7CiAgY29uc3QgbG9nZ2VyID0gewogICAgZW5hYmxlOiAoKSA9PiB7CiAgICAgIGVuYWJsZWQgPSB0cnVlOwogICAgfSwKICAgIGRpc2FibGU6ICgpID0+IHsKICAgICAgZW5hYmxlZCA9IGZhbHNlOwogICAgfSwKICAgIGlzRW5hYmxlZDogKCkgPT4gZW5hYmxlZCwKICB9OwoKICBpZiAoREVCVUdfQlVJTEQkMSkgewogICAgQ09OU09MRV9MRVZFTFMuZm9yRWFjaChuYW1lID0+IHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkKICAgICAgbG9nZ2VyW25hbWVdID0gKC4uLmFyZ3MpID0+IHsKICAgICAgICBpZiAoZW5hYmxlZCkgewogICAgICAgICAgY29uc29sZVNhbmRib3goKCkgPT4gewogICAgICAgICAgICBHTE9CQUxfT0JKLmNvbnNvbGVbbmFtZV0oYCR7UFJFRklYfVske25hbWV9XTpgLCAuLi5hcmdzKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICBDT05TT0xFX0xFVkVMUy5mb3JFYWNoKG5hbWUgPT4gewogICAgICBsb2dnZXJbbmFtZV0gPSAoKSA9PiB1bmRlZmluZWQ7CiAgICB9KTsKICB9CgogIHJldHVybiBsb2dnZXIgOwp9Cgpjb25zdCBsb2dnZXIgPSBtYWtlTG9nZ2VyKCk7CgovKioKICogUmVuZGVycyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRHNuLgogKgogKiBCeSBkZWZhdWx0LCB0aGlzIHdpbGwgcmVuZGVyIHRoZSBwdWJsaWMgcmVwcmVzZW50YXRpb24gd2l0aG91dCB0aGUgcGFzc3dvcmQKICogY29tcG9uZW50LiBUbyBnZXQgdGhlIGRlcHJlY2F0ZWQgcHJpdmF0ZSByZXByZXNlbnRhdGlvbiwgc2V0IGB3aXRoUGFzc3dvcmRgCiAqIHRvIHRydWUuCiAqCiAqIEBwYXJhbSB3aXRoUGFzc3dvcmQgV2hlbiBzZXQgdG8gdHJ1ZSwgdGhlIHBhc3N3b3JkIHdpbGwgYmUgaW5jbHVkZWQuCiAqLwpmdW5jdGlvbiBkc25Ub1N0cmluZyhkc24sIHdpdGhQYXNzd29yZCA9IGZhbHNlKSB7CiAgY29uc3QgeyBob3N0LCBwYXRoLCBwYXNzLCBwb3J0LCBwcm9qZWN0SWQsIHByb3RvY29sLCBwdWJsaWNLZXkgfSA9IGRzbjsKICByZXR1cm4gKAogICAgYCR7cHJvdG9jb2x9Oi8vJHtwdWJsaWNLZXl9JHt3aXRoUGFzc3dvcmQgJiYgcGFzcyA/IGA6JHtwYXNzfWAgOiAnJ31gICsKICAgIGBAJHtob3N0fSR7cG9ydCA/IGA6JHtwb3J0fWAgOiAnJ30vJHtwYXRoID8gYCR7cGF0aH0vYCA6IHBhdGh9JHtwcm9qZWN0SWR9YAogICk7Cn0KCi8qKiBBbiBlcnJvciBlbWl0dGVkIGJ5IFNlbnRyeSBTREtzIGFuZCByZWxhdGVkIHV0aWxpdGllcy4gKi8KY2xhc3MgU2VudHJ5RXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgLyoqIERpc3BsYXkgbmFtZSBvZiB0aGlzIGVycm9yIGluc3RhbmNlLiAqLwoKICAgY29uc3RydWN0b3IoIG1lc3NhZ2UsIGxvZ0xldmVsID0gJ3dhcm4nKSB7CiAgICBzdXBlcihtZXNzYWdlKTt0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlOwogICAgdGhpcy5uYW1lID0gbmV3LnRhcmdldC5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZTsKICAgIC8vIFRoaXMgc2V0cyB0aGUgcHJvdG90eXBlIHRvIGJlIGBFcnJvcmAsIG5vdCBgU2VudHJ5RXJyb3JgLiBJdCdzIHVuY2xlYXIgd2h5IHdlIGRvIHRoaXMsIGJ1dCBjb21tZW50aW5nIHRoaXMgbGluZQogICAgLy8gb3V0IGNhdXNlcyB2YXJpb3VzIChzZWVtaW5nbHkgdG90YWxseSB1bnJlbGF0ZWQpIHBsYXl3cmlnaHQgdGVzdHMgY29uc2lzdGVudGx5IHRpbWUgb3V0LiBGWUksIHRoaXMgbWFrZXMKICAgIC8vIGluc3RhbmNlcyBvZiBgU2VudHJ5RXJyb3JgIGZhaWwgYG9iaiBpbnN0YW5jZW9mIFNlbnRyeUVycm9yYCBjaGVja3MuCiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpOwogICAgdGhpcy5sb2dMZXZlbCA9IGxvZ0xldmVsOwogIH0KfQoKLyoqCiAqIEVuY29kZXMgZ2l2ZW4gb2JqZWN0IGludG8gdXJsLWZyaWVuZGx5IGZvcm1hdAogKgogKiBAcGFyYW0gb2JqZWN0IEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHNlcmlhbGl6YWJsZSB2YWx1ZXMKICogQHJldHVybnMgc3RyaW5nIEVuY29kZWQKICovCmZ1bmN0aW9uIHVybEVuY29kZShvYmplY3QpIHsKICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KQogICAgLm1hcChrZXkgPT4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KG9iamVjdFtrZXldKX1gKQogICAgLmpvaW4oJyYnKTsKfQoKLyoqCiAqIFRyYW5zZm9ybXMgYW55IGBFcnJvcmAgb3IgYEV2ZW50YCBpbnRvIGEgcGxhaW4gb2JqZWN0IHdpdGggYWxsIG9mIHRoZWlyIGVudW1lcmFibGUgcHJvcGVydGllcywgYW5kIHNvbWUgb2YgdGhlaXIKICogbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBhdHRhY2hlZC4KICoKICogQHBhcmFtIHZhbHVlIEluaXRpYWwgc291cmNlIHRoYXQgd2UgaGF2ZSB0byB0cmFuc2Zvcm0gaW4gb3JkZXIgZm9yIGl0IHRvIGJlIHVzYWJsZSBieSB0aGUgc2VyaWFsaXplcgogKiBAcmV0dXJucyBBbiBFdmVudCBvciBFcnJvciB0dXJuZWQgaW50byBhbiBvYmplY3QgLSBvciB0aGUgdmFsdWUgYXJndXJtZW50IGl0c2VsZiwgd2hlbiB2YWx1ZSBpcyBuZWl0aGVyIGFuIEV2ZW50IG5vcgogKiAgYW4gRXJyb3IuCiAqLwpmdW5jdGlvbiBjb252ZXJ0VG9QbGFpbk9iamVjdCgKICB2YWx1ZSwKKQoKIHsKICBpZiAoaXNFcnJvcih2YWx1ZSkpIHsKICAgIHJldHVybiB7CiAgICAgIG1lc3NhZ2U6IHZhbHVlLm1lc3NhZ2UsCiAgICAgIG5hbWU6IHZhbHVlLm5hbWUsCiAgICAgIHN0YWNrOiB2YWx1ZS5zdGFjaywKICAgICAgLi4uZ2V0T3duUHJvcGVydGllcyh2YWx1ZSksCiAgICB9OwogIH0gZWxzZSBpZiAoaXNFdmVudCh2YWx1ZSkpIHsKICAgIGNvbnN0IG5ld09iagoKID0gewogICAgICB0eXBlOiB2YWx1ZS50eXBlLAogICAgICB0YXJnZXQ6IHNlcmlhbGl6ZUV2ZW50VGFyZ2V0KHZhbHVlLnRhcmdldCksCiAgICAgIGN1cnJlbnRUYXJnZXQ6IHNlcmlhbGl6ZUV2ZW50VGFyZ2V0KHZhbHVlLmN1cnJlbnRUYXJnZXQpLAogICAgICAuLi5nZXRPd25Qcm9wZXJ0aWVzKHZhbHVlKSwKICAgIH07CgogICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNJbnN0YW5jZU9mKHZhbHVlLCBDdXN0b21FdmVudCkpIHsKICAgICAgbmV3T2JqLmRldGFpbCA9IHZhbHVlLmRldGFpbDsKICAgIH0KCiAgICByZXR1cm4gbmV3T2JqOwogIH0gZWxzZSB7CiAgICByZXR1cm4gdmFsdWU7CiAgfQp9CgovKiogQ3JlYXRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGFyZ2V0IG9mIGFuIGBFdmVudGAgb2JqZWN0ICovCmZ1bmN0aW9uIHNlcmlhbGl6ZUV2ZW50VGFyZ2V0KHRhcmdldCkgewogIHRyeSB7CiAgICByZXR1cm4gaXNFbGVtZW50KHRhcmdldCkgPyBodG1sVHJlZUFzU3RyaW5nKHRhcmdldCkgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGFyZ2V0KTsKICB9IGNhdGNoIChfb08pIHsKICAgIHJldHVybiAnPHVua25vd24+JzsKICB9Cn0KCi8qKiBGaWx0ZXJzIG91dCBhbGwgYnV0IGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzICovCmZ1bmN0aW9uIGdldE93blByb3BlcnRpZXMob2JqKSB7CiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkgewogICAgY29uc3QgZXh0cmFjdGVkUHJvcHMgPSB7fTsKICAgIGZvciAoY29uc3QgcHJvcGVydHkgaW4gb2JqKSB7CiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wZXJ0eSkpIHsKICAgICAgICBleHRyYWN0ZWRQcm9wc1twcm9wZXJ0eV0gPSAob2JqIClbcHJvcGVydHldOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZXh0cmFjdGVkUHJvcHM7CiAgfSBlbHNlIHsKICAgIHJldHVybiB7fTsKICB9Cn0KCi8qKgogKiBHaXZlbiBhbnkgb2JqZWN0LCByZXR1cm4gYSBuZXcgb2JqZWN0IGhhdmluZyByZW1vdmVkIGFsbCBmaWVsZHMgd2hvc2UgdmFsdWUgd2FzIGB1bmRlZmluZWRgLgogKiBXb3JrcyByZWN1cnNpdmVseSBvbiBvYmplY3RzIGFuZCBhcnJheXMuCiAqCiAqIEF0dGVudGlvbjogVGhpcyBmdW5jdGlvbiBrZWVwcyBjaXJjdWxhciByZWZlcmVuY2VzIGluIHRoZSByZXR1cm5lZCBvYmplY3QuCiAqLwpmdW5jdGlvbiBkcm9wVW5kZWZpbmVkS2V5cyhpbnB1dFZhbHVlKSB7CiAgLy8gVGhpcyBtYXAga2VlcHMgdHJhY2sgb2Ygd2hhdCBhbHJlYWR5IHZpc2l0ZWQgbm9kZXMgbWFwIHRvLgogIC8vIE91ciBTZXQgLSBiYXNlZCBtZW1vQnVpbGRlciBkb2Vzbid0IHdvcmsgaGVyZSBiZWNhdXNlIHdlIHdhbnQgdG8gdGhlIG91dHB1dCBvYmplY3QgdG8gaGF2ZSB0aGUgc2FtZSBjaXJjdWxhcgogIC8vIHJlZmVyZW5jZXMgYXMgdGhlIGlucHV0IG9iamVjdC4KICBjb25zdCBtZW1vaXphdGlvbk1hcCA9IG5ldyBNYXAoKTsKCiAgLy8gVGhpcyBmdW5jdGlvbiBqdXN0IHByb3hpZXMgYF9kcm9wVW5kZWZpbmVkS2V5c2AgdG8ga2VlcCB0aGUgYG1lbW9CdWlsZGVyYCBvdXQgb2YgdGhpcyBmdW5jdGlvbidzIEFQSQogIHJldHVybiBfZHJvcFVuZGVmaW5lZEtleXMoaW5wdXRWYWx1ZSwgbWVtb2l6YXRpb25NYXApOwp9CgpmdW5jdGlvbiBfZHJvcFVuZGVmaW5lZEtleXMoaW5wdXRWYWx1ZSwgbWVtb2l6YXRpb25NYXApIHsKICBpZiAoaXNQb2pvKGlucHV0VmFsdWUpKSB7CiAgICAvLyBJZiB0aGlzIG5vZGUgaGFzIGFscmVhZHkgYmVlbiB2aXNpdGVkIGR1ZSB0byBhIGNpcmN1bGFyIHJlZmVyZW5jZSwgcmV0dXJuIHRoZSBvYmplY3QgaXQgd2FzIG1hcHBlZCB0byBpbiB0aGUgbmV3IG9iamVjdAogICAgY29uc3QgbWVtb1ZhbCA9IG1lbW9pemF0aW9uTWFwLmdldChpbnB1dFZhbHVlKTsKICAgIGlmIChtZW1vVmFsICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIG1lbW9WYWwgOwogICAgfQoKICAgIGNvbnN0IHJldHVyblZhbHVlID0ge307CiAgICAvLyBTdG9yZSB0aGUgbWFwcGluZyBvZiB0aGlzIHZhbHVlIGluIGNhc2Ugd2UgdmlzaXQgaXQgYWdhaW4sIGluIGNhc2Ugb2YgY2lyY3VsYXIgZGF0YQogICAgbWVtb2l6YXRpb25NYXAuc2V0KGlucHV0VmFsdWUsIHJldHVyblZhbHVlKTsKCiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhpbnB1dFZhbHVlKSkgewogICAgICBpZiAodHlwZW9mIGlucHV0VmFsdWVba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICByZXR1cm5WYWx1ZVtrZXldID0gX2Ryb3BVbmRlZmluZWRLZXlzKGlucHV0VmFsdWVba2V5XSwgbWVtb2l6YXRpb25NYXApOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJldHVyblZhbHVlIDsKICB9CgogIGlmIChBcnJheS5pc0FycmF5KGlucHV0VmFsdWUpKSB7CiAgICAvLyBJZiB0aGlzIG5vZGUgaGFzIGFscmVhZHkgYmVlbiB2aXNpdGVkIGR1ZSB0byBhIGNpcmN1bGFyIHJlZmVyZW5jZSwgcmV0dXJuIHRoZSBhcnJheSBpdCB3YXMgbWFwcGVkIHRvIGluIHRoZSBuZXcgb2JqZWN0CiAgICBjb25zdCBtZW1vVmFsID0gbWVtb2l6YXRpb25NYXAuZ2V0KGlucHV0VmFsdWUpOwogICAgaWYgKG1lbW9WYWwgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gbWVtb1ZhbCA7CiAgICB9CgogICAgY29uc3QgcmV0dXJuVmFsdWUgPSBbXTsKICAgIC8vIFN0b3JlIHRoZSBtYXBwaW5nIG9mIHRoaXMgdmFsdWUgaW4gY2FzZSB3ZSB2aXNpdCBpdCBhZ2FpbiwgaW4gY2FzZSBvZiBjaXJjdWxhciBkYXRhCiAgICBtZW1vaXphdGlvbk1hcC5zZXQoaW5wdXRWYWx1ZSwgcmV0dXJuVmFsdWUpOwoKICAgIGlucHV0VmFsdWUuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICByZXR1cm5WYWx1ZS5wdXNoKF9kcm9wVW5kZWZpbmVkS2V5cyhpdGVtLCBtZW1vaXphdGlvbk1hcCkpOwogICAgfSk7CgogICAgcmV0dXJuIHJldHVyblZhbHVlIDsKICB9CgogIHJldHVybiBpbnB1dFZhbHVlOwp9CgpmdW5jdGlvbiBpc1Bvam8oaW5wdXQpIHsKICBpZiAoIWlzUGxhaW5PYmplY3QoaW5wdXQpKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB0cnkgewogICAgY29uc3QgbmFtZSA9IChPYmplY3QuZ2V0UHJvdG90eXBlT2YoaW5wdXQpICkuY29uc3RydWN0b3IubmFtZTsKICAgIHJldHVybiAhbmFtZSB8fCBuYW1lID09PSAnT2JqZWN0JzsKICB9IGNhdGNoIChlKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCi8qKgogKiBEb2VzIHRoaXMgZmlsZW5hbWUgbG9vayBsaWtlIGl0J3MgcGFydCBvZiB0aGUgYXBwIGNvZGU/CiAqLwpmdW5jdGlvbiBmaWxlbmFtZUlzSW5BcHAoZmlsZW5hbWUsIGlzTmF0aXZlID0gZmFsc2UpIHsKICBjb25zdCBpc0ludGVybmFsID0KICAgIGlzTmF0aXZlIHx8CiAgICAoZmlsZW5hbWUgJiYKICAgICAgLy8gSXQncyBub3QgaW50ZXJuYWwgaWYgaXQncyBhbiBhYnNvbHV0ZSBsaW51eCBwYXRoCiAgICAgICFmaWxlbmFtZS5zdGFydHNXaXRoKCcvJykgJiYKICAgICAgLy8gSXQncyBub3QgaW50ZXJuYWwgaWYgaXQncyBhbiBhYnNvbHV0ZSB3aW5kb3dzIHBhdGgKICAgICAgIWZpbGVuYW1lLm1hdGNoKC9eW0EtWl06LykgJiYKICAgICAgLy8gSXQncyBub3QgaW50ZXJuYWwgaWYgdGhlIHBhdGggaXMgc3RhcnRpbmcgd2l0aCBhIGRvdAogICAgICAhZmlsZW5hbWUuc3RhcnRzV2l0aCgnLicpICYmCiAgICAgIC8vIEl0J3Mgbm90IGludGVybmFsIGlmIHRoZSBmcmFtZSBoYXMgYSBwcm90b2NvbC4gSW4gbm9kZSwgdGhpcyBpcyB1c3VhbGx5IHRoZSBjYXNlIGlmIHRoZSBmaWxlIGdvdCBwcmUtcHJvY2Vzc2VkIHdpdGggYSBidW5kbGVyIGxpa2Ugd2VicGFjawogICAgICAhZmlsZW5hbWUubWF0Y2goL15bYS16QS1aXShbYS16QS1aMC05LlwtK10pKjpcL1wvLykpOyAvLyBTY2hlbWEgZnJvbTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM2NDE3ODIKCiAgLy8gaW5fYXBwIGlzIGFsbCB0aGF0J3Mgbm90IGFuIGludGVybmFsIE5vZGUgZnVuY3Rpb24gb3IgYSBtb2R1bGUgd2l0aGluIG5vZGVfbW9kdWxlcwogIC8vIG5vdGUgdGhhdCBpc05hdGl2ZSBhcHBlYXJzIHRvIHJldHVybiB0cnVlIGV2ZW4gZm9yIG5vZGUgY29yZSBsaWJyYXJpZXMKICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9yYXZlbi1ub2RlL2lzc3Vlcy8xNzYKCiAgcmV0dXJuICFpc0ludGVybmFsICYmIGZpbGVuYW1lICE9PSB1bmRlZmluZWQgJiYgIWZpbGVuYW1lLmluY2x1ZGVzKCdub2RlX21vZHVsZXMvJyk7Cn0KCmNvbnN0IFNUQUNLVFJBQ0VfRlJBTUVfTElNSVQgPSA1MDsKY29uc3QgU1RSSVBfRlJBTUVfUkVHRVhQID0gL2NhcHR1cmVNZXNzYWdlfGNhcHR1cmVFeGNlcHRpb24vOwoKLyoqCiAqIFJlbW92ZXMgU2VudHJ5IGZyYW1lcyBmcm9tIHRoZSB0b3AgYW5kIGJvdHRvbSBvZiB0aGUgc3RhY2sgaWYgcHJlc2VudCBhbmQgZW5mb3JjZXMgYSBsaW1pdCBvZiBtYXggbnVtYmVyIG9mIGZyYW1lcy4KICogQXNzdW1lcyBzdGFjayBpbnB1dCBpcyBvcmRlcmVkIGZyb20gdG9wIHRvIGJvdHRvbSBhbmQgcmV0dXJucyB0aGUgcmV2ZXJzZSByZXByZXNlbnRhdGlvbiBzbyBjYWxsIHNpdGUgb2YgdGhlCiAqIGZ1bmN0aW9uIHRoYXQgY2F1c2VkIHRoZSBjcmFzaCBpcyB0aGUgbGFzdCBmcmFtZSBpbiB0aGUgYXJyYXkuCiAqIEBoaWRkZW4KICovCmZ1bmN0aW9uIHN0cmlwU2VudHJ5RnJhbWVzQW5kUmV2ZXJzZShzdGFjaykgewogIGlmICghc3RhY2subGVuZ3RoKSB7CiAgICByZXR1cm4gW107CiAgfQoKICBjb25zdCBsb2NhbFN0YWNrID0gQXJyYXkuZnJvbShzdGFjayk7CgogIC8vIElmIHN0YWNrIHN0YXJ0cyB3aXRoIG9uZSBvZiBvdXIgQVBJIGNhbGxzLCByZW1vdmUgaXQgKHN0YXJ0cywgbWVhbmluZyBpdCdzIHRoZSB0b3Agb2YgdGhlIHN0YWNrIC0gYWthIGxhc3QgY2FsbCkKICBpZiAoL3NlbnRyeVdyYXBwZWQvLnRlc3QobG9jYWxTdGFja1tsb2NhbFN0YWNrLmxlbmd0aCAtIDFdLmZ1bmN0aW9uIHx8ICcnKSkgewogICAgbG9jYWxTdGFjay5wb3AoKTsKICB9CgogIC8vIFJldmVyc2luZyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBwcm9jZWR1cmUgYWxsb3dzIHVzIHRvIGp1c3QgcG9wIHRoZSB2YWx1ZXMgb2ZmIHRoZSBzdGFjawogIGxvY2FsU3RhY2sucmV2ZXJzZSgpOwoKICAvLyBJZiBzdGFjayBlbmRzIHdpdGggb25lIG9mIG91ciBpbnRlcm5hbCBBUEkgY2FsbHMsIHJlbW92ZSBpdCAoZW5kcywgbWVhbmluZyBpdCdzIHRoZSBib3R0b20gb2YgdGhlIHN0YWNrIC0gYWthIHRvcC1tb3N0IGNhbGwpCiAgaWYgKFNUUklQX0ZSQU1FX1JFR0VYUC50ZXN0KGxvY2FsU3RhY2tbbG9jYWxTdGFjay5sZW5ndGggLSAxXS5mdW5jdGlvbiB8fCAnJykpIHsKICAgIGxvY2FsU3RhY2sucG9wKCk7CgogICAgLy8gV2hlbiB1c2luZyBzeW50aGV0aWMgZXZlbnRzLCB3ZSB3aWxsIGhhdmUgYSAyIGxldmVscyBkZWVwIHN0YWNrLCBhcyBgbmV3IEVycm9yKCdTZW50cnkgc3ludGhldGljRXhjZXB0aW9uJylgCiAgICAvLyBpcyBwcm9kdWNlZCB3aXRoaW4gdGhlIGh1YiBpdHNlbGYsIG1ha2luZyBpdDoKICAgIC8vCiAgICAvLyAgIFNlbnRyeS5jYXB0dXJlRXhjZXB0aW9uKCkKICAgIC8vICAgZ2V0Q3VycmVudEh1YigpLmNhcHR1cmVFeGNlcHRpb24oKQogICAgLy8KICAgIC8vIGluc3RlYWQgb2YganVzdCB0aGUgdG9wIGBTZW50cnlgIGNhbGwgaXRzZWxmLgogICAgLy8gVGhpcyBmb3JjZXMgdXMgdG8gcG9zc2libHkgc3RyaXAgYW4gYWRkaXRpb25hbCBmcmFtZSBpbiB0aGUgZXhhY3Qgc2FtZSB3YXMgYXMgYWJvdmUuCiAgICBpZiAoU1RSSVBfRlJBTUVfUkVHRVhQLnRlc3QobG9jYWxTdGFja1tsb2NhbFN0YWNrLmxlbmd0aCAtIDFdLmZ1bmN0aW9uIHx8ICcnKSkgewogICAgICBsb2NhbFN0YWNrLnBvcCgpOwogICAgfQogIH0KCiAgcmV0dXJuIGxvY2FsU3RhY2suc2xpY2UoMCwgU1RBQ0tUUkFDRV9GUkFNRV9MSU1JVCkubWFwKGZyYW1lID0+ICh7CiAgICAuLi5mcmFtZSwKICAgIGZpbGVuYW1lOiBmcmFtZS5maWxlbmFtZSB8fCBsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uZmlsZW5hbWUsCiAgICBmdW5jdGlvbjogZnJhbWUuZnVuY3Rpb24gfHwgJz8nLAogIH0pKTsKfQoKY29uc3QgZGVmYXVsdEZ1bmN0aW9uTmFtZSA9ICc8YW5vbnltb3VzPic7CgovKioKICogU2FmZWx5IGV4dHJhY3QgZnVuY3Rpb24gbmFtZSBmcm9tIGl0c2VsZgogKi8KZnVuY3Rpb24gZ2V0RnVuY3Rpb25OYW1lKGZuKSB7CiAgdHJ5IHsKICAgIGlmICghZm4gfHwgdHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldHVybiBkZWZhdWx0RnVuY3Rpb25OYW1lOwogICAgfQogICAgcmV0dXJuIGZuLm5hbWUgfHwgZGVmYXVsdEZ1bmN0aW9uTmFtZTsKICB9IGNhdGNoIChlKSB7CiAgICAvLyBKdXN0IGFjY2Vzc2luZyBjdXN0b20gcHJvcHMgaW4gc29tZSBTZWxlbml1bSBlbnZpcm9ubWVudHMKICAgIC8vIGNhbiBjYXVzZSBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXhjZXB0aW9uIChzZWUgcmF2ZW4tanMjNDk1KS4KICAgIHJldHVybiBkZWZhdWx0RnVuY3Rpb25OYW1lOwogIH0KfQoKLyoqCiAqIFVVSUQ0IGdlbmVyYXRvcgogKgogKiBAcmV0dXJucyBzdHJpbmcgR2VuZXJhdGVkIFVVSUQ0LgogKi8KZnVuY3Rpb24gdXVpZDQoKSB7CiAgY29uc3QgZ2JsID0gR0xPQkFMX09CSiA7CiAgY29uc3QgY3J5cHRvID0gZ2JsLmNyeXB0byB8fCBnYmwubXNDcnlwdG87CgogIGxldCBnZXRSYW5kb21CeXRlID0gKCkgPT4gTWF0aC5yYW5kb20oKSAqIDE2OwogIHRyeSB7CiAgICBpZiAoY3J5cHRvICYmIGNyeXB0by5yYW5kb21VVUlEKSB7CiAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZywgJycpOwogICAgfQogICAgaWYgKGNyeXB0byAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7CiAgICAgIGdldFJhbmRvbUJ5dGUgPSAoKSA9PiB7CiAgICAgICAgLy8gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyBtaWdodCByZXR1cm4gdW5kZWZpbmVkIGluc3RlYWQgb2YgdGhlIHR5cGVkIGFycmF5CiAgICAgICAgLy8gaW4gb2xkIENocm9taXVtIHZlcnNpb25zIChlLmcuIDIzLjAuMTIzNS4wICgxNTE0MjIpKQogICAgICAgIC8vIEhvd2V2ZXIsIGB0eXBlZEFycmF5YCBpcyBzdGlsbCBmaWxsZWQgaW4tcGxhY2UuCiAgICAgICAgLy8gQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3J5cHRvL2dldFJhbmRvbVZhbHVlcyN0eXBlZGFycmF5CiAgICAgICAgY29uc3QgdHlwZWRBcnJheSA9IG5ldyBVaW50OEFycmF5KDEpOwogICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModHlwZWRBcnJheSk7CiAgICAgICAgcmV0dXJuIHR5cGVkQXJyYXlbMF07CiAgICAgIH07CiAgICB9CiAgfSBjYXRjaCAoXykgewogICAgLy8gc29tZSBydW50aW1lcyBjYW4gY3Jhc2ggaW52b2tpbmcgY3J5cHRvCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy84OTM1CiAgfQoKICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNTAzNC9ob3ctdG8tY3JlYXRlLWEtZ3VpZC11dWlkLWluLWphdmFzY3JpcHQvMjExNzUyMyMyMTE3NTIzCiAgLy8gQ29uY2F0ZW5hdGluZyB0aGUgZm9sbG93aW5nIG51bWJlcnMgYXMgc3RyaW5ncyByZXN1bHRzIGluICcxMDAwMDAwMDEwMDA0MDAwODAwMDEwMDAwMDAwMDAwMCcKICByZXR1cm4gKChbMWU3XSApICsgMWUzICsgNGUzICsgOGUzICsgMWUxMSkucmVwbGFjZSgvWzAxOF0vZywgYyA9PgogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2UKICAgICgoYyApIF4gKChnZXRSYW5kb21CeXRlKCkgJiAxNSkgPj4gKChjICkgLyA0KSkpLnRvU3RyaW5nKDE2KSwKICApOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGlucHV0IGlzIGFscmVhZHkgYW4gYXJyYXksIGFuZCBpZiBpdCBpc24ndCwgd3JhcHMgaXQgaW4gb25lLgogKgogKiBAcGFyYW0gbWF5YmVBcnJheSBJbnB1dCB0byB0dXJuIGludG8gYW4gYXJyYXksIGlmIG5lY2Vzc2FyeQogKiBAcmV0dXJucyBUaGUgaW5wdXQsIGlmIGFscmVhZHkgYW4gYXJyYXksIG9yIGFuIGFycmF5IHdpdGggdGhlIGlucHV0IGFzIHRoZSBvbmx5IGVsZW1lbnQsIGlmIG5vdAogKi8KZnVuY3Rpb24gYXJyYXlpZnkobWF5YmVBcnJheSkgewogIHJldHVybiBBcnJheS5pc0FycmF5KG1heWJlQXJyYXkpID8gbWF5YmVBcnJheSA6IFttYXliZUFycmF5XTsKfQoKLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovCi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi8KCi8qKgogKiBIZWxwZXIgdG8gZGVjeWNsZSBqc29uIG9iamVjdHMKICovCmZ1bmN0aW9uIG1lbW9CdWlsZGVyKCkgewogIGNvbnN0IGhhc1dlYWtTZXQgPSB0eXBlb2YgV2Vha1NldCA9PT0gJ2Z1bmN0aW9uJzsKICBjb25zdCBpbm5lciA9IGhhc1dlYWtTZXQgPyBuZXcgV2Vha1NldCgpIDogW107CiAgZnVuY3Rpb24gbWVtb2l6ZShvYmopIHsKICAgIGlmIChoYXNXZWFrU2V0KSB7CiAgICAgIGlmIChpbm5lci5oYXMob2JqKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIGlubmVyLmFkZChvYmopOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1mb3Itb2YKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5uZXIubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgdmFsdWUgPSBpbm5lcltpXTsKICAgICAgaWYgKHZhbHVlID09PSBvYmopIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogICAgaW5uZXIucHVzaChvYmopOwogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gdW5tZW1vaXplKG9iaikgewogICAgaWYgKGhhc1dlYWtTZXQpIHsKICAgICAgaW5uZXIuZGVsZXRlKG9iaik7CiAgICB9IGVsc2UgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlubmVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGlubmVyW2ldID09PSBvYmopIHsKICAgICAgICAgIGlubmVyLnNwbGljZShpLCAxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICByZXR1cm4gW21lbW9pemUsIHVubWVtb2l6ZV07Cn0KCi8qKgogKiBSZWN1cnNpdmVseSBub3JtYWxpemVzIHRoZSBnaXZlbiBvYmplY3QuCiAqCiAqIC0gQ3JlYXRlcyBhIGNvcHkgdG8gcHJldmVudCBvcmlnaW5hbCBpbnB1dCBtdXRhdGlvbgogKiAtIFNraXBzIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMKICogLSBXaGVuIHN0cmluZ2lmeWluZywgY2FsbHMgYHRvSlNPTmAgaWYgaW1wbGVtZW50ZWQKICogLSBSZW1vdmVzIGNpcmN1bGFyIHJlZmVyZW5jZXMKICogLSBUcmFuc2xhdGVzIG5vbi1zZXJpYWxpemFibGUgdmFsdWVzIChgdW5kZWZpbmVkYC9gTmFOYC9mdW5jdGlvbnMpIHRvIHNlcmlhbGl6YWJsZSBmb3JtYXQKICogLSBUcmFuc2xhdGVzIGtub3duIGdsb2JhbCBvYmplY3RzL2NsYXNzZXMgdG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb25zCiAqIC0gVGFrZXMgY2FyZSBvZiBgRXJyb3JgIG9iamVjdCBzZXJpYWxpemF0aW9uCiAqIC0gT3B0aW9uYWxseSBsaW1pdHMgZGVwdGggb2YgZmluYWwgb3V0cHV0CiAqIC0gT3B0aW9uYWxseSBsaW1pdHMgbnVtYmVyIG9mIHByb3BlcnRpZXMvZWxlbWVudHMgaW5jbHVkZWQgaW4gYW55IHNpbmdsZSBvYmplY3QvYXJyYXkKICoKICogQHBhcmFtIGlucHV0IFRoZSBvYmplY3QgdG8gYmUgbm9ybWFsaXplZC4KICogQHBhcmFtIGRlcHRoIFRoZSBtYXggZGVwdGggdG8gd2hpY2ggdG8gbm9ybWFsaXplIHRoZSBvYmplY3QuIChBbnl0aGluZyBkZWVwZXIgc3RyaW5naWZpZWQgd2hvbGUuKQogKiBAcGFyYW0gbWF4UHJvcGVydGllcyBUaGUgbWF4IG51bWJlciBvZiBlbGVtZW50cyBvciBwcm9wZXJ0aWVzIHRvIGJlIGluY2x1ZGVkIGluIGFueSBzaW5nbGUgYXJyYXkgb3IKICogb2JqZWN0IGluIHRoZSBub3JtYWxsaXplZCBvdXRwdXQuCiAqIEByZXR1cm5zIEEgbm9ybWFsaXplZCB2ZXJzaW9uIG9mIHRoZSBvYmplY3QsIG9yIGAiKipub24tc2VyaWFsaXphYmxlKioiYCBpZiBhbnkgZXJyb3JzIGFyZSB0aHJvd24gZHVyaW5nIG5vcm1hbGl6YXRpb24uCiAqLwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueQpmdW5jdGlvbiBub3JtYWxpemUoaW5wdXQsIGRlcHRoID0gMTAwLCBtYXhQcm9wZXJ0aWVzID0gK0luZmluaXR5KSB7CiAgdHJ5IHsKICAgIC8vIHNpbmNlIHdlJ3JlIGF0IHRoZSBvdXRlcm1vc3QgbGV2ZWwsIHdlIGRvbid0IHByb3ZpZGUgYSBrZXkKICAgIHJldHVybiB2aXNpdCgnJywgaW5wdXQsIGRlcHRoLCBtYXhQcm9wZXJ0aWVzKTsKICB9IGNhdGNoIChlcnIpIHsKICAgIHJldHVybiB7IEVSUk9SOiBgKipub24tc2VyaWFsaXphYmxlKiogKCR7ZXJyfSlgIH07CiAgfQp9CgovKioKICogVmlzaXRzIGEgbm9kZSB0byBwZXJmb3JtIG5vcm1hbGl6YXRpb24gb24gaXQKICoKICogQHBhcmFtIGtleSBUaGUga2V5IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIG5vZGUKICogQHBhcmFtIHZhbHVlIFRoZSBub2RlIHRvIGJlIHZpc2l0ZWQKICogQHBhcmFtIGRlcHRoIE9wdGlvbmFsIG51bWJlciBpbmRpY2F0aW5nIHRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aAogKiBAcGFyYW0gbWF4UHJvcGVydGllcyBPcHRpb25hbCBtYXhpbXVtIG51bWJlciBvZiBwcm9wZXJ0aWVzL2VsZW1lbnRzIGluY2x1ZGVkIGluIGFueSBzaW5nbGUgb2JqZWN0L2FycmF5CiAqIEBwYXJhbSBtZW1vIE9wdGlvbmFsIE1lbW8gY2xhc3MgaGFuZGxpbmcgZGVjeWNsaW5nCiAqLwpmdW5jdGlvbiB2aXNpdCgKICBrZXksCiAgdmFsdWUsCiAgZGVwdGggPSArSW5maW5pdHksCiAgbWF4UHJvcGVydGllcyA9ICtJbmZpbml0eSwKICBtZW1vID0gbWVtb0J1aWxkZXIoKSwKKSB7CiAgY29uc3QgW21lbW9pemUsIHVubWVtb2l6ZV0gPSBtZW1vOwoKICAvLyBHZXQgdGhlIHNpbXBsZSBjYXNlcyBvdXQgb2YgdGhlIHdheSBmaXJzdAogIGlmICgKICAgIHZhbHVlID09IG51bGwgfHwgLy8gdGhpcyBtYXRjaGVzIG51bGwgYW5kIHVuZGVmaW5lZCAtPiBlcWVxIG5vdCBlcWVxZXEKICAgIChbJ251bWJlcicsICdib29sZWFuJywgJ3N0cmluZyddLmluY2x1ZGVzKHR5cGVvZiB2YWx1ZSkgJiYgIWlzTmFOJDEodmFsdWUpKQogICkgewogICAgcmV0dXJuIHZhbHVlIDsKICB9CgogIGNvbnN0IHN0cmluZ2lmaWVkID0gc3RyaW5naWZ5VmFsdWUoa2V5LCB2YWx1ZSk7CgogIC8vIEFueXRoaW5nIHdlIGNvdWxkIHBvdGVudGlhbGx5IGRpZyBpbnRvIG1vcmUgKG9iamVjdHMgb3IgYXJyYXlzKSB3aWxsIGhhdmUgY29tZSBiYWNrIGFzIGAiW29iamVjdCBYWFhYXSJgLgogIC8vIEV2ZXJ5dGhpbmcgZWxzZSB3aWxsIGhhdmUgYWxyZWFkeSBiZWVuIHNlcmlhbGl6ZWQsIHNvIGlmIHdlIGRvbid0IHNlZSB0aGF0IHBhdHRlcm4sIHdlJ3JlIGRvbmUuCiAgaWYgKCFzdHJpbmdpZmllZC5zdGFydHNXaXRoKCdbb2JqZWN0ICcpKSB7CiAgICByZXR1cm4gc3RyaW5naWZpZWQ7CiAgfQoKICAvLyBGcm9tIGhlcmUgb24sIHdlIGNhbiBhc3NlcnQgdGhhdCBgdmFsdWVgIGlzIGVpdGhlciBhbiBvYmplY3Qgb3IgYW4gYXJyYXkuCgogIC8vIERvIG5vdCBub3JtYWxpemUgb2JqZWN0cyB0aGF0IHdlIGtub3cgaGF2ZSBhbHJlYWR5IGJlZW4gbm9ybWFsaXplZC4gQXMgYSBnZW5lcmFsIHJ1bGUsIHRoZQogIC8vICJfX3NlbnRyeV9za2lwX25vcm1hbGl6YXRpb25fXyIgcHJvcGVydHkgc2hvdWxkIG9ubHkgYmUgdXNlZCBzcGFyaW5nbHkgYW5kIG9ubHkgc2hvdWxkIG9ubHkgYmUgc2V0IG9uIG9iamVjdHMgdGhhdAogIC8vIGhhdmUgYWxyZWFkeSBiZWVuIG5vcm1hbGl6ZWQuCiAgaWYgKCh2YWx1ZSApWydfX3NlbnRyeV9za2lwX25vcm1hbGl6YXRpb25fXyddKSB7CiAgICByZXR1cm4gdmFsdWUgOwogIH0KCiAgLy8gV2UgY2FuIHNldCBgX19zZW50cnlfb3ZlcnJpZGVfbm9ybWFsaXphdGlvbl9kZXB0aF9fYCBvbiBhbiBvYmplY3QgdG8gZW5zdXJlIHRoYXQgZnJvbSB0aGVyZQogIC8vIFdlIGtlZXAgYSBjZXJ0YWluIGFtb3VudCBvZiBkZXB0aC4KICAvLyBUaGlzIHNob3VsZCBiZSB1c2VkIHNwYXJpbmdseSwgZS5nLiB3ZSB1c2UgaXQgZm9yIHRoZSByZWR1eCBpbnRlZ3JhdGlvbiB0byBlbnN1cmUgd2UgZ2V0IGEgY2VydGFpbiBhbW91bnQgb2Ygc3RhdGUuCiAgY29uc3QgcmVtYWluaW5nRGVwdGggPQogICAgdHlwZW9mICh2YWx1ZSApWydfX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX18nXSA9PT0gJ251bWJlcicKICAgICAgPyAoKHZhbHVlIClbJ19fc2VudHJ5X292ZXJyaWRlX25vcm1hbGl6YXRpb25fZGVwdGhfXyddICkKICAgICAgOiBkZXB0aDsKCiAgLy8gV2UncmUgYWxzbyBkb25lIGlmIHdlJ3ZlIHJlYWNoZWQgdGhlIG1heCBkZXB0aAogIGlmIChyZW1haW5pbmdEZXB0aCA9PT0gMCkgewogICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBrbm93IGBzZXJpYWxpemVkYCBpcyBhIHN0cmluZyBvZiB0aGUgZm9ybSBgIltvYmplY3QgWFhYWF0iYC4gQ2xlYW4gaXQgdXAgc28gaXQncyBqdXN0IGAiW1hYWFhdImAuCiAgICByZXR1cm4gc3RyaW5naWZpZWQucmVwbGFjZSgnb2JqZWN0ICcsICcnKTsKICB9CgogIC8vIElmIHdlJ3ZlIGFscmVhZHkgdmlzaXRlZCB0aGlzIGJyYW5jaCwgYmFpbCBvdXQsIGFzIGl0J3MgY2lyY3VsYXIgcmVmZXJlbmNlLiBJZiBub3QsIG5vdGUgdGhhdCB3ZSdyZSBzZWVpbmcgaXQgbm93LgogIGlmIChtZW1vaXplKHZhbHVlKSkgewogICAgcmV0dXJuICdbQ2lyY3VsYXIgfl0nOwogIH0KCiAgLy8gSWYgdGhlIHZhbHVlIGhhcyBhIGB0b0pTT05gIG1ldGhvZCwgd2UgY2FsbCBpdCB0byBleHRyYWN0IG1vcmUgaW5mb3JtYXRpb24KICBjb25zdCB2YWx1ZVdpdGhUb0pTT04gPSB2YWx1ZSA7CiAgaWYgKHZhbHVlV2l0aFRvSlNPTiAmJiB0eXBlb2YgdmFsdWVXaXRoVG9KU09OLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykgewogICAgdHJ5IHsKICAgICAgY29uc3QganNvblZhbHVlID0gdmFsdWVXaXRoVG9KU09OLnRvSlNPTigpOwogICAgICAvLyBXZSBuZWVkIHRvIG5vcm1hbGl6ZSB0aGUgcmV0dXJuIHZhbHVlIG9mIGAudG9KU09OKClgIGluIGNhc2UgaXQgaGFzIGNpcmN1bGFyIHJlZmVyZW5jZXMKICAgICAgcmV0dXJuIHZpc2l0KCcnLCBqc29uVmFsdWUsIHJlbWFpbmluZ0RlcHRoIC0gMSwgbWF4UHJvcGVydGllcywgbWVtbyk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgLy8gcGFzcyAoVGhlIGJ1aWx0LWluIGB0b0pTT05gIGZhaWxlZCwgYnV0IHdlIGNhbiBzdGlsbCB0cnkgdG8gZG8gaXQgb3Vyc2VsdmVzKQogICAgfQogIH0KCiAgLy8gQXQgdGhpcyBwb2ludCB3ZSBrbm93IHdlIGVpdGhlciBoYXZlIGFuIG9iamVjdCBvciBhbiBhcnJheSwgd2UgaGF2ZW4ndCBzZWVuIGl0IGJlZm9yZSwgYW5kIHdlJ3JlIGdvaW5nIHRvIHJlY3Vyc2UKICAvLyBiZWNhdXNlIHdlIGhhdmVuJ3QgeWV0IHJlYWNoZWQgdGhlIG1heCBkZXB0aC4gQ3JlYXRlIGFuIGFjY3VtdWxhdG9yIHRvIGhvbGQgdGhlIHJlc3VsdHMgb2YgdmlzaXRpbmcgZWFjaAogIC8vIHByb3BlcnR5L2VudHJ5LCBhbmQga2VlcCB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGl0ZW1zIHdlIGFkZCB0byBpdC4KICBjb25zdCBub3JtYWxpemVkID0gKEFycmF5LmlzQXJyYXkodmFsdWUpID8gW10gOiB7fSkgOwogIGxldCBudW1BZGRlZCA9IDA7CgogIC8vIEJlZm9yZSB3ZSBiZWdpbiwgY29udmVydGBFcnJvcmAgYW5kYEV2ZW50YCBpbnN0YW5jZXMgaW50byBwbGFpbiBvYmplY3RzLCBzaW5jZSBzb21lIG9mIGVhY2ggb2YgdGhlaXIgcmVsZXZhbnQKICAvLyBwcm9wZXJ0aWVzIGFyZSBub24tZW51bWVyYWJsZSBhbmQgb3RoZXJ3aXNlIHdvdWxkIGdldCBtaXNzZWQuCiAgY29uc3QgdmlzaXRhYmxlID0gY29udmVydFRvUGxhaW5PYmplY3QodmFsdWUgKTsKCiAgZm9yIChjb25zdCB2aXNpdEtleSBpbiB2aXNpdGFibGUpIHsKICAgIC8vIEF2b2lkIGl0ZXJhdGluZyBvdmVyIGZpZWxkcyBpbiB0aGUgcHJvdG90eXBlIGlmIHRoZXkndmUgc29tZWhvdyBiZWVuIGV4cG9zZWQgdG8gZW51bWVyYXRpb24uCiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2aXNpdGFibGUsIHZpc2l0S2V5KSkgewogICAgICBjb250aW51ZTsKICAgIH0KCiAgICBpZiAobnVtQWRkZWQgPj0gbWF4UHJvcGVydGllcykgewogICAgICBub3JtYWxpemVkW3Zpc2l0S2V5XSA9ICdbTWF4UHJvcGVydGllcyB+XSc7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIC8vIFJlY3Vyc2l2ZWx5IHZpc2l0IGFsbCB0aGUgY2hpbGQgbm9kZXMKICAgIGNvbnN0IHZpc2l0VmFsdWUgPSB2aXNpdGFibGVbdmlzaXRLZXldOwogICAgbm9ybWFsaXplZFt2aXNpdEtleV0gPSB2aXNpdCh2aXNpdEtleSwgdmlzaXRWYWx1ZSwgcmVtYWluaW5nRGVwdGggLSAxLCBtYXhQcm9wZXJ0aWVzLCBtZW1vKTsKCiAgICBudW1BZGRlZCsrOwogIH0KCiAgLy8gT25jZSB3ZSd2ZSB2aXNpdGVkIGFsbCB0aGUgYnJhbmNoZXMsIHJlbW92ZSB0aGUgcGFyZW50IGZyb20gbWVtbyBzdG9yYWdlCiAgdW5tZW1vaXplKHZhbHVlKTsKCiAgLy8gUmV0dXJuIGFjY3VtdWxhdGVkIHZhbHVlcwogIHJldHVybiBub3JtYWxpemVkOwp9CgovKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5ICovCi8qKgogKiBTdHJpbmdpZnkgdGhlIGdpdmVuIHZhbHVlLiBIYW5kbGVzIHZhcmlvdXMga25vd24gc3BlY2lhbCB2YWx1ZXMgYW5kIHR5cGVzLgogKgogKiBOb3QgbWVhbnQgdG8gYmUgdXNlZCBvbiBzaW1wbGUgcHJpbWl0aXZlcyB3aGljaCBhbHJlYWR5IGhhdmUgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24sIGFzIGl0IHdpbGwsIGZvciBleGFtcGxlLCB0dXJuCiAqIHRoZSBudW1iZXIgMTIzMSBpbnRvICJbT2JqZWN0IE51bWJlcl0iLCBub3Igb24gYG51bGxgLCBhcyBpdCB3aWxsIHRocm93LgogKgogKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHN0cmluZ2lmeQogKiBAcmV0dXJucyBBIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiB2YWx1ZQogKi8KZnVuY3Rpb24gc3RyaW5naWZ5VmFsdWUoCiAga2V5LAogIC8vIHRoaXMgdHlwZSBpcyBhIHRpbnkgYml0IG9mIGEgY2hlYXQsIHNpbmNlIHRoaXMgZnVuY3Rpb24gZG9lcyBoYW5kbGUgTmFOICh3aGljaCBpcyB0ZWNobmljYWxseSBhIG51bWJlciksIGJ1dCBmb3IKICAvLyBvdXIgaW50ZXJuYWwgdXNlLCBpdCdsbCBkbwogIHZhbHVlLAopIHsKICB0cnkgewogICAgaWYgKGtleSA9PT0gJ2RvbWFpbicgJiYgdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAodmFsdWUgKS5fZXZlbnRzKSB7CiAgICAgIHJldHVybiAnW0RvbWFpbl0nOwogICAgfQoKICAgIGlmIChrZXkgPT09ICdkb21haW5FbWl0dGVyJykgewogICAgICByZXR1cm4gJ1tEb21haW5FbWl0dGVyXSc7CiAgICB9CgogICAgLy8gSXQncyBzYWZlIHRvIHVzZSBgZ2xvYmFsYCwgYHdpbmRvd2AsIGFuZCBgZG9jdW1lbnRgIGhlcmUgaW4gdGhpcyBtYW5uZXIsIGFzIHdlIGFyZSBhc3NlcnRpbmcgdXNpbmcgYHR5cGVvZmAgZmlyc3QKICAgIC8vIHdoaWNoIHdvbid0IHRocm93IGlmIHRoZXkgYXJlIG5vdCBwcmVzZW50LgoKICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSA9PT0gZ2xvYmFsKSB7CiAgICAgIHJldHVybiAnW0dsb2JhbF0nOwogICAgfQoKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSA9PT0gd2luZG93KSB7CiAgICAgIHJldHVybiAnW1dpbmRvd10nOwogICAgfQoKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMKICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlID09PSBkb2N1bWVudCkgewogICAgICByZXR1cm4gJ1tEb2N1bWVudF0nOwogICAgfQoKICAgIGlmIChpc1Z1ZVZpZXdNb2RlbCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuICdbVnVlVmlld01vZGVsXSc7CiAgICB9CgogICAgLy8gUmVhY3QncyBTeW50aGV0aWNFdmVudCB0aGluZ3kKICAgIGlmIChpc1N5bnRoZXRpY0V2ZW50KHZhbHVlKSkgewogICAgICByZXR1cm4gJ1tTeW50aGV0aWNFdmVudF0nOwogICAgfQoKICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSB2YWx1ZSkgewogICAgICByZXR1cm4gJ1tOYU5dJzsKICAgIH0KCiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldHVybiBgW0Z1bmN0aW9uOiAke2dldEZ1bmN0aW9uTmFtZSh2YWx1ZSl9XWA7CiAgICB9CgogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N5bWJvbCcpIHsKICAgICAgcmV0dXJuIGBbJHtTdHJpbmcodmFsdWUpfV1gOwogICAgfQoKICAgIC8vIHN0cmluZ2lmaWVkIEJpZ0ludHMgYXJlIGluZGlzdGluZ3Vpc2hhYmxlIGZyb20gcmVndWxhciBudW1iZXJzLCBzbyB3ZSBuZWVkIHRvIGxhYmVsIHRoZW0gdG8gYXZvaWQgY29uZnVzaW9uCiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYmlnaW50JykgewogICAgICByZXR1cm4gYFtCaWdJbnQ6ICR7U3RyaW5nKHZhbHVlKX1dYDsKICAgIH0KCiAgICAvLyBOb3cgdGhhdCB3ZSd2ZSBrbm9ja2VkIG91dCBhbGwgdGhlIHNwZWNpYWwgY2FzZXMgYW5kIHRoZSBwcmltaXRpdmVzLCBhbGwgd2UgaGF2ZSBsZWZ0IGFyZSBvYmplY3RzLiBTaW1wbHkgY2FzdGluZwogICAgLy8gdGhlbSB0byBzdHJpbmdzIG1lYW5zIHRoYXQgaW5zdGFuY2VzIG9mIGNsYXNzZXMgd2hpY2ggaGF2ZW4ndCBkZWZpbmVkIHRoZWlyIGB0b1N0cmluZ1RhZ2Agd2lsbCBqdXN0IGNvbWUgb3V0IGFzCiAgICAvLyBgIltvYmplY3QgT2JqZWN0XSJgLiBJZiB3ZSBpbnN0ZWFkIGxvb2sgYXQgdGhlIGNvbnN0cnVjdG9yJ3MgbmFtZSAod2hpY2ggaXMgdGhlIHNhbWUgYXMgdGhlIG5hbWUgb2YgdGhlIGNsYXNzKSwKICAgIC8vIHdlIGNhbiBtYWtlIHN1cmUgdGhhdCBvbmx5IHBsYWluIG9iamVjdHMgY29tZSBvdXQgdGhhdCB3YXkuCiAgICBjb25zdCBvYmpOYW1lID0gZ2V0Q29uc3RydWN0b3JOYW1lKHZhbHVlKTsKCiAgICAvLyBIYW5kbGUgSFRNTCBFbGVtZW50cwogICAgaWYgKC9eSFRNTChcdyopRWxlbWVudCQvLnRlc3Qob2JqTmFtZSkpIHsKICAgICAgcmV0dXJuIGBbSFRNTEVsZW1lbnQ6ICR7b2JqTmFtZX1dYDsKICAgIH0KCiAgICByZXR1cm4gYFtvYmplY3QgJHtvYmpOYW1lfV1gOwogIH0gY2F0Y2ggKGVycikgewogICAgcmV0dXJuIGAqKm5vbi1zZXJpYWxpemFibGUqKiAoJHtlcnJ9KWA7CiAgfQp9Ci8qIGVzbGludC1lbmFibGUgY29tcGxleGl0eSAqLwoKZnVuY3Rpb24gZ2V0Q29uc3RydWN0b3JOYW1lKHZhbHVlKSB7CiAgY29uc3QgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTsKCiAgcmV0dXJuIHByb3RvdHlwZSA/IHByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lIDogJ251bGwgcHJvdG90eXBlJzsKfQoKLyoqCiAqIE5vcm1hbGl6ZXMgVVJMcyBpbiBleGNlcHRpb25zIGFuZCBzdGFja3RyYWNlcyB0byBhIGJhc2UgcGF0aCBzbyBTZW50cnkgY2FuIGZpbmdlcnByaW50CiAqIGFjcm9zcyBwbGF0Zm9ybXMgYW5kIHdvcmtpbmcgZGlyZWN0b3J5LgogKgogKiBAcGFyYW0gdXJsIFRoZSBVUkwgdG8gYmUgbm9ybWFsaXplZC4KICogQHBhcmFtIGJhc2VQYXRoIFRoZSBhcHBsaWNhdGlvbiBiYXNlIHBhdGguCiAqIEByZXR1cm5zIFRoZSBub3JtYWxpemVkIFVSTC4KICovCmZ1bmN0aW9uIG5vcm1hbGl6ZVVybFRvQmFzZSh1cmwsIGJhc2VQYXRoKSB7CiAgY29uc3QgZXNjYXBlZEJhc2UgPSBiYXNlUGF0aAogICAgLy8gQmFja3NsYXNoIHRvIGZvcndhcmQKICAgIC5yZXBsYWNlKC9cXC9nLCAnLycpCiAgICAvLyBFc2NhcGUgUmVnRXhwIHNwZWNpYWwgY2hhcmFjdGVycwogICAgLnJlcGxhY2UoL1t8XFx7fSgpW1xdXiQrKj8uXS9nLCAnXFwkJicpOwoKICBsZXQgbmV3VXJsID0gdXJsOwogIHRyeSB7CiAgICBuZXdVcmwgPSBkZWNvZGVVUkkodXJsKTsKICB9IGNhdGNoIChfT28pIHsKICAgIC8vIFNvbWV0aW1lIHRoaXMgYnJlYWtzCiAgfQogIHJldHVybiAoCiAgICBuZXdVcmwKICAgICAgLnJlcGxhY2UoL1xcL2csICcvJykKICAgICAgLnJlcGxhY2UoL3dlYnBhY2s6XC8/L2csICcnKSAvLyBSZW1vdmUgaW50ZXJtZWRpYXRlIGJhc2UgcGF0aAogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHNlbnRyeS1pbnRlcm5hbC9zZGsvbm8tcmVnZXhwLWNvbnN0cnVjdG9yCiAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoYChmaWxlOi8vKT8vKiR7ZXNjYXBlZEJhc2V9LypgLCAnaWcnKSwgJ2FwcDovLy8nKQogICk7Cn0KCi8vIFNsaWdodGx5IG1vZGlmaWVkIChubyBJRTggc3VwcG9ydCwgRVM2KSBhbmQgdHJhbnNjcmliZWQgdG8gVHlwZVNjcmlwdAoKLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb24KLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy4KY29uc3Qgc3BsaXRQYXRoUmUgPSAvXihcUys6XFx8XC8/KShbXHNcU10qPykoKD86XC57MSwyfXxbXi9cXF0rP3wpKFwuW14uL1xcXSp8KSkoPzpbL1xcXSopJC87Ci8qKiBKU0RvYyAqLwpmdW5jdGlvbiBzcGxpdFBhdGgoZmlsZW5hbWUpIHsKICAvLyBUcnVuY2F0ZSBmaWxlcyBuYW1lcyBncmVhdGVyIHRoYW4gMTAyNCBjaGFyYWN0ZXJzIHRvIGF2b2lkIHJlZ2V4IGRvcwogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvcHVsbC84NzM3I2Rpc2N1c3Npb25fcjEyODU3MTkxNzIKICBjb25zdCB0cnVuY2F0ZWQgPSBmaWxlbmFtZS5sZW5ndGggPiAxMDI0ID8gYDx0cnVuY2F0ZWQ+JHtmaWxlbmFtZS5zbGljZSgtMTAyNCl9YCA6IGZpbGVuYW1lOwogIGNvbnN0IHBhcnRzID0gc3BsaXRQYXRoUmUuZXhlYyh0cnVuY2F0ZWQpOwogIHJldHVybiBwYXJ0cyA/IHBhcnRzLnNsaWNlKDEpIDogW107Cn0KCi8qKiBKU0RvYyAqLwpmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHsKICBjb25zdCByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCk7CiAgY29uc3Qgcm9vdCA9IHJlc3VsdFswXTsKICBsZXQgZGlyID0gcmVzdWx0WzFdOwoKICBpZiAoIXJvb3QgJiYgIWRpcikgewogICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyCiAgICByZXR1cm4gJy4nOwogIH0KCiAgaWYgKGRpcikgewogICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2gKICAgIGRpciA9IGRpci5zbGljZSgwLCBkaXIubGVuZ3RoIC0gMSk7CiAgfQoKICByZXR1cm4gcm9vdCArIGRpcjsKfQoKLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LWZ1bmN0aW9uLXJldHVybi10eXBlICovCgovKiogU3luY1Byb21pc2UgaW50ZXJuYWwgc3RhdGVzICovCnZhciBTdGF0ZXM7IChmdW5jdGlvbiAoU3RhdGVzKSB7CiAgLyoqIFBlbmRpbmcgKi8KICBjb25zdCBQRU5ESU5HID0gMDsgU3RhdGVzW1N0YXRlc1siUEVORElORyJdID0gUEVORElOR10gPSAiUEVORElORyI7CiAgLyoqIFJlc29sdmVkIC8gT0sgKi8KICBjb25zdCBSRVNPTFZFRCA9IDE7IFN0YXRlc1tTdGF0ZXNbIlJFU09MVkVEIl0gPSBSRVNPTFZFRF0gPSAiUkVTT0xWRUQiOwogIC8qKiBSZWplY3RlZCAvIEVycm9yICovCiAgY29uc3QgUkVKRUNURUQgPSAyOyBTdGF0ZXNbU3RhdGVzWyJSRUpFQ1RFRCJdID0gUkVKRUNURURdID0gIlJFSkVDVEVEIjsKfSkoU3RhdGVzIHx8IChTdGF0ZXMgPSB7fSkpOwoKLy8gT3ZlcmxvYWRzIHNvIHdlIGNhbiBjYWxsIHJlc29sdmVkU3luY1Byb21pc2Ugd2l0aG91dCBhcmd1bWVudHMgYW5kIGdlbmVyaWMgYXJndW1lbnQKCi8qKgogKiBDcmVhdGVzIGEgcmVzb2x2ZWQgc3luYyBwcm9taXNlLgogKgogKiBAcGFyYW0gdmFsdWUgdGhlIHZhbHVlIHRvIHJlc29sdmUgdGhlIHByb21pc2Ugd2l0aAogKiBAcmV0dXJucyB0aGUgcmVzb2x2ZWQgc3luYyBwcm9taXNlCiAqLwpmdW5jdGlvbiByZXNvbHZlZFN5bmNQcm9taXNlKHZhbHVlKSB7CiAgcmV0dXJuIG5ldyBTeW5jUHJvbWlzZShyZXNvbHZlID0+IHsKICAgIHJlc29sdmUodmFsdWUpOwogIH0pOwp9CgovKioKICogQ3JlYXRlcyBhIHJlamVjdGVkIHN5bmMgcHJvbWlzZS4KICoKICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSB0byByZWplY3QgdGhlIHByb21pc2Ugd2l0aAogKiBAcmV0dXJucyB0aGUgcmVqZWN0ZWQgc3luYyBwcm9taXNlCiAqLwpmdW5jdGlvbiByZWplY3RlZFN5bmNQcm9taXNlKHJlYXNvbikgewogIHJldHVybiBuZXcgU3luY1Byb21pc2UoKF8sIHJlamVjdCkgPT4gewogICAgcmVqZWN0KHJlYXNvbik7CiAgfSk7Cn0KCi8qKgogKiBUaGVuYWJsZSBjbGFzcyB0aGF0IGJlaGF2ZXMgbGlrZSBhIFByb21pc2UgYW5kIGZvbGxvd3MgaXQncyBpbnRlcmZhY2UKICogYnV0IGlzIG5vdCBhc3luYyBpbnRlcm5hbGx5CiAqLwpjbGFzcyBTeW5jUHJvbWlzZSB7CgogICBjb25zdHJ1Y3RvcigKICAgIGV4ZWN1dG9yLAogICkge1N5bmNQcm9taXNlLnByb3RvdHlwZS5fX2luaXQuY2FsbCh0aGlzKTtTeW5jUHJvbWlzZS5wcm90b3R5cGUuX19pbml0Mi5jYWxsKHRoaXMpO1N5bmNQcm9taXNlLnByb3RvdHlwZS5fX2luaXQzLmNhbGwodGhpcyk7U3luY1Byb21pc2UucHJvdG90eXBlLl9faW5pdDQuY2FsbCh0aGlzKTsKICAgIHRoaXMuX3N0YXRlID0gU3RhdGVzLlBFTkRJTkc7CiAgICB0aGlzLl9oYW5kbGVycyA9IFtdOwoKICAgIHRyeSB7CiAgICAgIGV4ZWN1dG9yKHRoaXMuX3Jlc29sdmUsIHRoaXMuX3JlamVjdCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuX3JlamVjdChlKTsKICAgIH0KICB9CgogIC8qKiBKU0RvYyAqLwogICB0aGVuKAogICAgb25mdWxmaWxsZWQsCiAgICBvbnJlamVjdGVkLAogICkgewogICAgcmV0dXJuIG5ldyBTeW5jUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgIHRoaXMuX2hhbmRsZXJzLnB1c2goWwogICAgICAgIGZhbHNlLAogICAgICAgIHJlc3VsdCA9PiB7CiAgICAgICAgICBpZiAoIW9uZnVsZmlsbGVkKSB7CiAgICAgICAgICAgIC8vIFRPRE86IMKvXF8o44OEKV8vwq8KICAgICAgICAgICAgLy8gVE9ETzogRklYTUUKICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgcmVzb2x2ZShvbmZ1bGZpbGxlZChyZXN1bHQpKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVhc29uID0+IHsKICAgICAgICAgIGlmICghb25yZWplY3RlZCkgewogICAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgcmVzb2x2ZShvbnJlamVjdGVkKHJlYXNvbikpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgcmVqZWN0KGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgXSk7CiAgICAgIHRoaXMuX2V4ZWN1dGVIYW5kbGVycygpOwogICAgfSk7CiAgfQoKICAvKiogSlNEb2MgKi8KICAgY2F0Y2goCiAgICBvbnJlamVjdGVkLAogICkgewogICAgcmV0dXJuIHRoaXMudGhlbih2YWwgPT4gdmFsLCBvbnJlamVjdGVkKTsKICB9CgogIC8qKiBKU0RvYyAqLwogICBmaW5hbGx5KG9uZmluYWxseSkgewogICAgcmV0dXJuIG5ldyBTeW5jUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgIGxldCB2YWw7CiAgICAgIGxldCBpc1JlamVjdGVkOwoKICAgICAgcmV0dXJuIHRoaXMudGhlbigKICAgICAgICB2YWx1ZSA9PiB7CiAgICAgICAgICBpc1JlamVjdGVkID0gZmFsc2U7CiAgICAgICAgICB2YWwgPSB2YWx1ZTsKICAgICAgICAgIGlmIChvbmZpbmFsbHkpIHsKICAgICAgICAgICAgb25maW5hbGx5KCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByZWFzb24gPT4gewogICAgICAgICAgaXNSZWplY3RlZCA9IHRydWU7CiAgICAgICAgICB2YWwgPSByZWFzb247CiAgICAgICAgICBpZiAob25maW5hbGx5KSB7CiAgICAgICAgICAgIG9uZmluYWxseSgpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICkudGhlbigoKSA9PiB7CiAgICAgICAgaWYgKGlzUmVqZWN0ZWQpIHsKICAgICAgICAgIHJlamVjdCh2YWwpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZSh2YWwgKTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIC8qKiBKU0RvYyAqLwogICAgX19pbml0KCkge3RoaXMuX3Jlc29sdmUgPSAodmFsdWUpID0+IHsKICAgIHRoaXMuX3NldFJlc3VsdChTdGF0ZXMuUkVTT0xWRUQsIHZhbHVlKTsKICB9O30KCiAgLyoqIEpTRG9jICovCiAgICBfX2luaXQyKCkge3RoaXMuX3JlamVjdCA9IChyZWFzb24pID0+IHsKICAgIHRoaXMuX3NldFJlc3VsdChTdGF0ZXMuUkVKRUNURUQsIHJlYXNvbik7CiAgfTt9CgogIC8qKiBKU0RvYyAqLwogICAgX19pbml0MygpIHt0aGlzLl9zZXRSZXN1bHQgPSAoc3RhdGUsIHZhbHVlKSA9PiB7CiAgICBpZiAodGhpcy5fc3RhdGUgIT09IFN0YXRlcy5QRU5ESU5HKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoaXNUaGVuYWJsZSh2YWx1ZSkpIHsKICAgICAgdm9pZCAodmFsdWUgKS50aGVuKHRoaXMuX3Jlc29sdmUsIHRoaXMuX3JlamVjdCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlOwogICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTsKCiAgICB0aGlzLl9leGVjdXRlSGFuZGxlcnMoKTsKICB9O30KCiAgLyoqIEpTRG9jICovCiAgICBfX2luaXQ0KCkge3RoaXMuX2V4ZWN1dGVIYW5kbGVycyA9ICgpID0+IHsKICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gU3RhdGVzLlBFTkRJTkcpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGNhY2hlZEhhbmRsZXJzID0gdGhpcy5faGFuZGxlcnMuc2xpY2UoKTsKICAgIHRoaXMuX2hhbmRsZXJzID0gW107CgogICAgY2FjaGVkSGFuZGxlcnMuZm9yRWFjaChoYW5kbGVyID0+IHsKICAgICAgaWYgKGhhbmRsZXJbMF0pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gU3RhdGVzLlJFU09MVkVEKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlcwogICAgICAgIGhhbmRsZXJbMV0odGhpcy5fdmFsdWUgKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBTdGF0ZXMuUkVKRUNURUQpIHsKICAgICAgICBoYW5kbGVyWzJdKHRoaXMuX3ZhbHVlKTsKICAgICAgfQoKICAgICAgaGFuZGxlclswXSA9IHRydWU7CiAgICB9KTsKICB9O30KfQoKLyoqCiAqIENyZWF0ZXMgYW4gbmV3IFByb21pc2VCdWZmZXIgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBsaW1pdAogKiBAcGFyYW0gbGltaXQgbWF4IG51bWJlciBvZiBwcm9taXNlcyB0aGF0IGNhbiBiZSBzdG9yZWQgaW4gdGhlIGJ1ZmZlcgogKi8KZnVuY3Rpb24gbWFrZVByb21pc2VCdWZmZXIobGltaXQpIHsKICBjb25zdCBidWZmZXIgPSBbXTsKCiAgZnVuY3Rpb24gaXNSZWFkeSgpIHsKICAgIHJldHVybiBsaW1pdCA9PT0gdW5kZWZpbmVkIHx8IGJ1ZmZlci5sZW5ndGggPCBsaW1pdDsKICB9CgogIC8qKgogICAqIFJlbW92ZSBhIHByb21pc2UgZnJvbSB0aGUgcXVldWUuCiAgICoKICAgKiBAcGFyYW0gdGFzayBDYW4gYmUgYW55IFByb21pc2VMaWtlPFQ+CiAgICogQHJldHVybnMgUmVtb3ZlZCBwcm9taXNlLgogICAqLwogIGZ1bmN0aW9uIHJlbW92ZSh0YXNrKSB7CiAgICByZXR1cm4gYnVmZmVyLnNwbGljZShidWZmZXIuaW5kZXhPZih0YXNrKSwgMSlbMF07CiAgfQoKICAvKioKICAgKiBBZGQgYSBwcm9taXNlIChyZXByZXNlbnRpbmcgYW4gaW4tZmxpZ2h0IGFjdGlvbikgdG8gdGhlIHF1ZXVlLCBhbmQgc2V0IGl0IHRvIHJlbW92ZSBpdHNlbGYgb24gZnVsZmlsbG1lbnQuCiAgICoKICAgKiBAcGFyYW0gdGFza1Byb2R1Y2VyIEEgZnVuY3Rpb24gcHJvZHVjaW5nIGFueSBQcm9taXNlTGlrZTxUPjsgSW4gcHJldmlvdXMgdmVyc2lvbnMgdGhpcyB1c2VkIHRvIGJlIGB0YXNrOgogICAqICAgICAgICBQcm9taXNlTGlrZTxUPmAsIGJ1dCB1bmRlciB0aGF0IG1vZGVsLCBQcm9taXNlcyB3ZXJlIGluc3RhbnRseSBjcmVhdGVkIG9uIHRoZSBjYWxsLXNpdGUgYW5kIHRoZWlyIGV4ZWN1dG9yCiAgICogICAgICAgIGZ1bmN0aW9ucyB0aGVyZWZvcmUgcmFuIGltbWVkaWF0ZWx5LiBUaHVzLCBldmVuIGlmIHRoZSBidWZmZXIgd2FzIGZ1bGwsIHRoZSBhY3Rpb24gc3RpbGwgaGFwcGVuZWQuIEJ5CiAgICogICAgICAgIHJlcXVpcmluZyB0aGUgcHJvbWlzZSB0byBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24sIHdlIGNhbiBkZWZlciBwcm9taXNlIGNyZWF0aW9uIHVudGlsIGFmdGVyIHRoZSBidWZmZXIKICAgKiAgICAgICAgbGltaXQgY2hlY2suCiAgICogQHJldHVybnMgVGhlIG9yaWdpbmFsIHByb21pc2UuCiAgICovCiAgZnVuY3Rpb24gYWRkKHRhc2tQcm9kdWNlcikgewogICAgaWYgKCFpc1JlYWR5KCkpIHsKICAgICAgcmV0dXJuIHJlamVjdGVkU3luY1Byb21pc2UobmV3IFNlbnRyeUVycm9yKCdOb3QgYWRkaW5nIFByb21pc2UgYmVjYXVzZSBidWZmZXIgbGltaXQgd2FzIHJlYWNoZWQuJykpOwogICAgfQoKICAgIC8vIHN0YXJ0IHRoZSB0YXNrIGFuZCBhZGQgaXRzIHByb21pc2UgdG8gdGhlIHF1ZXVlCiAgICBjb25zdCB0YXNrID0gdGFza1Byb2R1Y2VyKCk7CiAgICBpZiAoYnVmZmVyLmluZGV4T2YodGFzaykgPT09IC0xKSB7CiAgICAgIGJ1ZmZlci5wdXNoKHRhc2spOwogICAgfQogICAgdm9pZCB0YXNrCiAgICAgIC50aGVuKCgpID0+IHJlbW92ZSh0YXNrKSkKICAgICAgLy8gVXNlIGB0aGVuKG51bGwsIHJlamVjdGlvbkhhbmRsZXIpYCByYXRoZXIgdGhhbiBgY2F0Y2gocmVqZWN0aW9uSGFuZGxlcilgIHNvIHRoYXQgd2UgY2FuIHVzZSBgUHJvbWlzZUxpa2VgCiAgICAgIC8vIHJhdGhlciB0aGFuIGBQcm9taXNlYC4gYFByb21pc2VMaWtlYCBkb2Vzbid0IGhhdmUgYSBgLmNhdGNoYCBtZXRob2QsIG1ha2luZyBpdHMgcG9seWZpbGwgc21hbGxlci4gKEVTNSBkaWRuJ3QKICAgICAgLy8gaGF2ZSBwcm9taXNlcywgc28gVFMgaGFzIHRvIHBvbHlmaWxsIHdoZW4gZG93bi1jb21waWxpbmcuKQogICAgICAudGhlbihudWxsLCAoKSA9PgogICAgICAgIHJlbW92ZSh0YXNrKS50aGVuKG51bGwsICgpID0+IHsKICAgICAgICAgIC8vIFdlIGhhdmUgdG8gYWRkIGFub3RoZXIgY2F0Y2ggaGVyZSBiZWNhdXNlIGByZW1vdmUoKWAgc3RhcnRzIGEgbmV3IHByb21pc2UgY2hhaW4uCiAgICAgICAgfSksCiAgICAgICk7CiAgICByZXR1cm4gdGFzazsKICB9CgogIC8qKgogICAqIFdhaXQgZm9yIGFsbCBwcm9taXNlcyBpbiB0aGUgcXVldWUgdG8gcmVzb2x2ZSBvciBmb3IgdGltZW91dCB0byBleHBpcmUsIHdoaWNoZXZlciBjb21lcyBmaXJzdC4KICAgKgogICAqIEBwYXJhbSB0aW1lb3V0IFRoZSB0aW1lLCBpbiBtcywgYWZ0ZXIgd2hpY2ggdG8gcmVzb2x2ZSB0byBgZmFsc2VgIGlmIHRoZSBxdWV1ZSBpcyBzdGlsbCBub24tZW1wdHkuIFBhc3NpbmcgYDBgIChvcgogICAqIG5vdCBwYXNzaW5nIGFueXRoaW5nKSB3aWxsIG1ha2UgdGhlIHByb21pc2Ugd2FpdCBhcyBsb25nIGFzIGl0IHRha2VzIGZvciB0aGUgcXVldWUgdG8gZHJhaW4gYmVmb3JlIHJlc29sdmluZyB0bwogICAqIGB0cnVlYC4KICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggd2lsbCByZXNvbHZlIHRvIGB0cnVlYCBpZiB0aGUgcXVldWUgaXMgYWxyZWFkeSBlbXB0eSBvciBkcmFpbnMgYmVmb3JlIHRoZSB0aW1lb3V0LCBhbmQKICAgKiBgZmFsc2VgIG90aGVyd2lzZQogICAqLwogIGZ1bmN0aW9uIGRyYWluKHRpbWVvdXQpIHsKICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICBsZXQgY291bnRlciA9IGJ1ZmZlci5sZW5ndGg7CgogICAgICBpZiAoIWNvdW50ZXIpIHsKICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTsKICAgICAgfQoKICAgICAgLy8gd2FpdCBmb3IgYHRpbWVvdXRgIG1zIGFuZCB0aGVuIHJlc29sdmUgdG8gYGZhbHNlYCAoaWYgbm90IGNhbmNlbGxlZCBmaXJzdCkKICAgICAgY29uc3QgY2FwdHVyZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgaWYgKHRpbWVvdXQgJiYgdGltZW91dCA+IDApIHsKICAgICAgICAgIHJlc29sdmUoZmFsc2UpOwogICAgICAgIH0KICAgICAgfSwgdGltZW91dCk7CgogICAgICAvLyBpZiBhbGwgcHJvbWlzZXMgcmVzb2x2ZSBpbiB0aW1lLCBjYW5jZWwgdGhlIHRpbWVyIGFuZCByZXNvbHZlIHRvIGB0cnVlYAogICAgICBidWZmZXIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICB2b2lkIHJlc29sdmVkU3luY1Byb21pc2UoaXRlbSkudGhlbigoKSA9PiB7CiAgICAgICAgICBpZiAoIS0tY291bnRlcikgewogICAgICAgICAgICBjbGVhclRpbWVvdXQoY2FwdHVyZWRTZXRUaW1lb3V0KTsKICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9LCByZWplY3QpOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIHsKICAgICQ6IGJ1ZmZlciwKICAgIGFkZCwKICAgIGRyYWluLAogIH07Cn0KCmNvbnN0IE9ORV9TRUNPTkRfSU5fTVMgPSAxMDAwOwoKLyoqCiAqIEEgcGFydGlhbCBkZWZpbml0aW9uIG9mIHRoZSBbUGVyZm9ybWFuY2UgV2ViIEFQSV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BlcmZvcm1hbmNlfQogKiBmb3IgYWNjZXNzaW5nIGEgaGlnaC1yZXNvbHV0aW9uIG1vbm90b25pYyBjbG9jay4KICovCgovKioKICogUmV0dXJucyBhIHRpbWVzdGFtcCBpbiBzZWNvbmRzIHNpbmNlIHRoZSBVTklYIGVwb2NoIHVzaW5nIHRoZSBEYXRlIEFQSS4KICoKICogVE9ETyh2OCk6IFJldHVybiB0eXBlIHNob3VsZCBiZSByb3VuZGVkLgogKi8KZnVuY3Rpb24gZGF0ZVRpbWVzdGFtcEluU2Vjb25kcygpIHsKICByZXR1cm4gRGF0ZS5ub3coKSAvIE9ORV9TRUNPTkRfSU5fTVM7Cn0KCi8qKgogKiBSZXR1cm5zIGEgd3JhcHBlciBhcm91bmQgdGhlIG5hdGl2ZSBQZXJmb3JtYW5jZSBBUEkgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiwgb3IgdW5kZWZpbmVkIGZvciBicm93c2VycyB0aGF0IGRvIG5vdAogKiBzdXBwb3J0IHRoZSBBUEkuCiAqCiAqIFdyYXBwaW5nIHRoZSBuYXRpdmUgQVBJIHdvcmtzIGFyb3VuZCBkaWZmZXJlbmNlcyBpbiBiZWhhdmlvciBmcm9tIGRpZmZlcmVudCBicm93c2Vycy4KICovCmZ1bmN0aW9uIGNyZWF0ZVVuaXhUaW1lc3RhbXBJblNlY29uZHNGdW5jKCkgewogIGNvbnN0IHsgcGVyZm9ybWFuY2UgfSA9IEdMT0JBTF9PQkogOwogIGlmICghcGVyZm9ybWFuY2UgfHwgIXBlcmZvcm1hbmNlLm5vdykgewogICAgcmV0dXJuIGRhdGVUaW1lc3RhbXBJblNlY29uZHM7CiAgfQoKICAvLyBTb21lIGJyb3dzZXIgYW5kIGVudmlyb25tZW50cyBkb24ndCBoYXZlIGEgdGltZU9yaWdpbiwgc28gd2UgZmFsbGJhY2sgdG8KICAvLyB1c2luZyBEYXRlLm5vdygpIHRvIGNvbXB1dGUgdGhlIHN0YXJ0aW5nIHRpbWUuCiAgY29uc3QgYXBwcm94U3RhcnRpbmdUaW1lT3JpZ2luID0gRGF0ZS5ub3coKSAtIHBlcmZvcm1hbmNlLm5vdygpOwogIGNvbnN0IHRpbWVPcmlnaW4gPSBwZXJmb3JtYW5jZS50aW1lT3JpZ2luID09IHVuZGVmaW5lZCA/IGFwcHJveFN0YXJ0aW5nVGltZU9yaWdpbiA6IHBlcmZvcm1hbmNlLnRpbWVPcmlnaW47CgogIC8vIHBlcmZvcm1hbmNlLm5vdygpIGlzIGEgbW9ub3RvbmljIGNsb2NrLCB3aGljaCBtZWFucyBpdCBzdGFydHMgYXQgMCB3aGVuIHRoZSBwcm9jZXNzIGJlZ2lucy4gVG8gZ2V0IHRoZSBjdXJyZW50CiAgLy8gd2FsbCBjbG9jayB0aW1lIChhY3R1YWwgVU5JWCB0aW1lc3RhbXApLCB3ZSBuZWVkIHRvIGFkZCB0aGUgc3RhcnRpbmcgdGltZSBvcmlnaW4gYW5kIHRoZSBjdXJyZW50IHRpbWUgZWxhcHNlZC4KICAvLwogIC8vIFRPRE86IFRoaXMgZG9lcyBub3QgYWNjb3VudCBmb3IgdGhlIGNhc2Ugd2hlcmUgdGhlIG1vbm90b25pYyBjbG9jayB0aGF0IHBvd2VycyBwZXJmb3JtYW5jZS5ub3coKSBkcmlmdHMgZnJvbSB0aGUKICAvLyB3YWxsIGNsb2NrIHRpbWUsIHdoaWNoIGNhdXNlcyB0aGUgcmV0dXJuZWQgdGltZXN0YW1wIHRvIGJlIGluYWNjdXJhdGUuIFdlIHNob3VsZCBpbnZlc3RpZ2F0ZSBob3cgdG8gZGV0ZWN0IGFuZAogIC8vIGNvcnJlY3QgZm9yIHRoaXMuCiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8yNTkwCiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbWRuL2NvbnRlbnQvaXNzdWVzLzQ3MTMKICAvLyBTZWU6IGh0dHBzOi8vZGV2LnRvL25vYW1yL3doZW4tYS1taWxsaXNlY29uZC1pcy1ub3QtYS1taWxsaXNlY29uZC0zaDYKICByZXR1cm4gKCkgPT4gewogICAgcmV0dXJuICh0aW1lT3JpZ2luICsgcGVyZm9ybWFuY2Uubm93KCkpIC8gT05FX1NFQ09ORF9JTl9NUzsKICB9Owp9CgovKioKICogUmV0dXJucyBhIHRpbWVzdGFtcCBpbiBzZWNvbmRzIHNpbmNlIHRoZSBVTklYIGVwb2NoIHVzaW5nIGVpdGhlciB0aGUgUGVyZm9ybWFuY2Ugb3IgRGF0ZSBBUElzLCBkZXBlbmRpbmcgb24gdGhlCiAqIGF2YWlsYWJpbGl0eSBvZiB0aGUgUGVyZm9ybWFuY2UgQVBJLgogKgogKiBCVUc6IE5vdGUgdGhhdCBiZWNhdXNlIG9mIGhvdyBicm93c2VycyBpbXBsZW1lbnQgdGhlIFBlcmZvcm1hbmNlIEFQSSwgdGhlIGNsb2NrIG1pZ2h0IHN0b3Agd2hlbiB0aGUgY29tcHV0ZXIgaXMKICogYXNsZWVwLiBUaGlzIGNyZWF0ZXMgYSBza2V3IGJldHdlZW4gYGRhdGVUaW1lc3RhbXBJblNlY29uZHNgIGFuZCBgdGltZXN0YW1wSW5TZWNvbmRzYC4gVGhlCiAqIHNrZXcgY2FuIGdyb3cgdG8gYXJiaXRyYXJ5IGFtb3VudHMgbGlrZSBkYXlzLCB3ZWVrcyBvciBtb250aHMuCiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8yNTkwLgogKi8KY29uc3QgdGltZXN0YW1wSW5TZWNvbmRzID0gY3JlYXRlVW5peFRpbWVzdGFtcEluU2Vjb25kc0Z1bmMoKTsKCi8qKgogKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgVU5JWCBlcG9jaC4gVGhpcyB2YWx1ZSBpcyBvbmx5IHVzYWJsZSBpbiBhIGJyb3dzZXIsIGFuZCBvbmx5IHdoZW4gdGhlCiAqIHBlcmZvcm1hbmNlIEFQSSBpcyBhdmFpbGFibGUuCiAqLwooKCkgPT4gewogIC8vIFVuZm9ydHVuYXRlbHkgYnJvd3NlcnMgbWF5IHJlcG9ydCBhbiBpbmFjY3VyYXRlIHRpbWUgb3JpZ2luIGRhdGEsIHRocm91Z2ggZWl0aGVyIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gb3IKICAvLyBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0LCB3aGljaCByZXN1bHRzIGluIHBvb3IgcmVzdWx0cyBpbiBwZXJmb3JtYW5jZSBkYXRhLiBXZSBvbmx5IHRyZWF0IHRpbWUgb3JpZ2luCiAgLy8gZGF0YSBhcyByZWxpYWJsZSBpZiB0aGV5IGFyZSB3aXRoaW4gYSByZWFzb25hYmxlIHRocmVzaG9sZCBvZiB0aGUgY3VycmVudCB0aW1lLgoKICBjb25zdCB7IHBlcmZvcm1hbmNlIH0gPSBHTE9CQUxfT0JKIDsKICBpZiAoIXBlcmZvcm1hbmNlIHx8ICFwZXJmb3JtYW5jZS5ub3cpIHsKICAgIHJldHVybiB1bmRlZmluZWQ7CiAgfQoKICBjb25zdCB0aHJlc2hvbGQgPSAzNjAwICogMTAwMDsKICBjb25zdCBwZXJmb3JtYW5jZU5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogIGNvbnN0IGRhdGVOb3cgPSBEYXRlLm5vdygpOwoKICAvLyBpZiB0aW1lT3JpZ2luIGlzbid0IGF2YWlsYWJsZSBzZXQgZGVsdGEgdG8gdGhyZXNob2xkIHNvIGl0IGlzbid0IHVzZWQKICBjb25zdCB0aW1lT3JpZ2luRGVsdGEgPSBwZXJmb3JtYW5jZS50aW1lT3JpZ2luCiAgICA/IE1hdGguYWJzKHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gKyBwZXJmb3JtYW5jZU5vdyAtIGRhdGVOb3cpCiAgICA6IHRocmVzaG9sZDsKICBjb25zdCB0aW1lT3JpZ2luSXNSZWxpYWJsZSA9IHRpbWVPcmlnaW5EZWx0YSA8IHRocmVzaG9sZDsKCiAgLy8gV2hpbGUgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4sIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4KICAvLyBpcyBub3QgYXMgd2lkZWx5IHN1cHBvcnRlZC4gTmFtZWx5LCBwZXJmb3JtYW5jZS50aW1lT3JpZ2luIGlzIHVuZGVmaW5lZCBpbiBTYWZhcmkgYXMgb2Ygd3JpdGluZy4KICAvLyBBbHNvIGFzIG9mIHdyaXRpbmcsIHBlcmZvcm1hbmNlLnRpbWluZyBpcyBub3QgYXZhaWxhYmxlIGluIFdlYiBXb3JrZXJzIGluIG1haW5zdHJlYW0gYnJvd3NlcnMsIHNvIGl0IGlzIG5vdCBhbHdheXMKICAvLyBhIHZhbGlkIGZhbGxiYWNrLiBJbiB0aGUgYWJzZW5jZSBvZiBhbiBpbml0aWFsIHRpbWUgcHJvdmlkZWQgYnkgdGhlIGJyb3dzZXIsIGZhbGxiYWNrIHRvIHRoZSBjdXJyZW50IHRpbWUgZnJvbSB0aGUKICAvLyBEYXRlIEFQSS4KICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICBjb25zdCBuYXZpZ2F0aW9uU3RhcnQgPSBwZXJmb3JtYW5jZS50aW1pbmcgJiYgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydDsKICBjb25zdCBoYXNOYXZpZ2F0aW9uU3RhcnQgPSB0eXBlb2YgbmF2aWdhdGlvblN0YXJ0ID09PSAnbnVtYmVyJzsKICAvLyBpZiBuYXZpZ2F0aW9uU3RhcnQgaXNuJ3QgYXZhaWxhYmxlIHNldCBkZWx0YSB0byB0aHJlc2hvbGQgc28gaXQgaXNuJ3QgdXNlZAogIGNvbnN0IG5hdmlnYXRpb25TdGFydERlbHRhID0gaGFzTmF2aWdhdGlvblN0YXJ0ID8gTWF0aC5hYnMobmF2aWdhdGlvblN0YXJ0ICsgcGVyZm9ybWFuY2VOb3cgLSBkYXRlTm93KSA6IHRocmVzaG9sZDsKICBjb25zdCBuYXZpZ2F0aW9uU3RhcnRJc1JlbGlhYmxlID0gbmF2aWdhdGlvblN0YXJ0RGVsdGEgPCB0aHJlc2hvbGQ7CgogIGlmICh0aW1lT3JpZ2luSXNSZWxpYWJsZSB8fCBuYXZpZ2F0aW9uU3RhcnRJc1JlbGlhYmxlKSB7CiAgICAvLyBVc2UgdGhlIG1vcmUgcmVsaWFibGUgdGltZSBvcmlnaW4KICAgIGlmICh0aW1lT3JpZ2luRGVsdGEgPD0gbmF2aWdhdGlvblN0YXJ0RGVsdGEpIHsKICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW47CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbmF2aWdhdGlvblN0YXJ0OwogICAgfQogIH0KICByZXR1cm4gZGF0ZU5vdzsKfSkoKTsKCi8qKgogKiBDcmVhdGVzIGFuIGVudmVsb3BlLgogKiBNYWtlIHN1cmUgdG8gYWx3YXlzIGV4cGxpY2l0bHkgcHJvdmlkZSB0aGUgZ2VuZXJpYyB0byB0aGlzIGZ1bmN0aW9uCiAqIHNvIHRoYXQgdGhlIGVudmVsb3BlIHR5cGVzIHJlc29sdmUgY29ycmVjdGx5LgogKi8KZnVuY3Rpb24gY3JlYXRlRW52ZWxvcGUoaGVhZGVycywgaXRlbXMgPSBbXSkgewogIHJldHVybiBbaGVhZGVycywgaXRlbXNdIDsKfQoKLyoqCiAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIGxvb3AgdGhyb3VnaCB0aGUgaXRlbXMgYW5kIGl0ZW0gdHlwZXMgb2YgYW4gZW52ZWxvcGUuCiAqIChUaGlzIGZ1bmN0aW9uIHdhcyBtb3N0bHkgY3JlYXRlZCBiZWNhdXNlIHdvcmtpbmcgd2l0aCBlbnZlbG9wZSB0eXBlcyBpcyBwYWluZnVsIGF0IHRoZSBtb21lbnQpCiAqCiAqIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWUsIHRoZSByZXN0IG9mIHRoZSBpdGVtcyB3aWxsIGJlIHNraXBwZWQuCiAqLwpmdW5jdGlvbiBmb3JFYWNoRW52ZWxvcGVJdGVtKAogIGVudmVsb3BlLAogIGNhbGxiYWNrLAopIHsKICBjb25zdCBlbnZlbG9wZUl0ZW1zID0gZW52ZWxvcGVbMV07CgogIGZvciAoY29uc3QgZW52ZWxvcGVJdGVtIG9mIGVudmVsb3BlSXRlbXMpIHsKICAgIGNvbnN0IGVudmVsb3BlSXRlbVR5cGUgPSBlbnZlbG9wZUl0ZW1bMF0udHlwZTsKICAgIGNvbnN0IHJlc3VsdCA9IGNhbGxiYWNrKGVudmVsb3BlSXRlbSwgZW52ZWxvcGVJdGVtVHlwZSk7CgogICAgaWYgKHJlc3VsdCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9CgogIHJldHVybiBmYWxzZTsKfQoKLyoqCiAqIEVuY29kZSBhIHN0cmluZyB0byBVVEY4LgogKi8KZnVuY3Rpb24gZW5jb2RlVVRGOChpbnB1dCwgdGV4dEVuY29kZXIpIHsKICBjb25zdCB1dGY4ID0gdGV4dEVuY29kZXIgfHwgbmV3IFRleHRFbmNvZGVyKCk7CiAgcmV0dXJuIHV0ZjguZW5jb2RlKGlucHV0KTsKfQoKLyoqCiAqIFNlcmlhbGl6ZXMgYW4gZW52ZWxvcGUuCiAqLwpmdW5jdGlvbiBzZXJpYWxpemVFbnZlbG9wZShlbnZlbG9wZSwgdGV4dEVuY29kZXIpIHsKICBjb25zdCBbZW52SGVhZGVycywgaXRlbXNdID0gZW52ZWxvcGU7CgogIC8vIEluaXRpYWxseSB3ZSBjb25zdHJ1Y3Qgb3VyIGVudmVsb3BlIGFzIGEgc3RyaW5nIGFuZCBvbmx5IGNvbnZlcnQgdG8gYmluYXJ5IGNodW5rcyBpZiB3ZSBlbmNvdW50ZXIgYmluYXJ5IGRhdGEKICBsZXQgcGFydHMgPSBKU09OLnN0cmluZ2lmeShlbnZIZWFkZXJzKTsKCiAgZnVuY3Rpb24gYXBwZW5kKG5leHQpIHsKICAgIGlmICh0eXBlb2YgcGFydHMgPT09ICdzdHJpbmcnKSB7CiAgICAgIHBhcnRzID0gdHlwZW9mIG5leHQgPT09ICdzdHJpbmcnID8gcGFydHMgKyBuZXh0IDogW2VuY29kZVVURjgocGFydHMsIHRleHRFbmNvZGVyKSwgbmV4dF07CiAgICB9IGVsc2UgewogICAgICBwYXJ0cy5wdXNoKHR5cGVvZiBuZXh0ID09PSAnc3RyaW5nJyA/IGVuY29kZVVURjgobmV4dCwgdGV4dEVuY29kZXIpIDogbmV4dCk7CiAgICB9CiAgfQoKICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHsKICAgIGNvbnN0IFtpdGVtSGVhZGVycywgcGF5bG9hZF0gPSBpdGVtOwoKICAgIGFwcGVuZChgXG4ke0pTT04uc3RyaW5naWZ5KGl0ZW1IZWFkZXJzKX1cbmApOwoKICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gJ3N0cmluZycgfHwgcGF5bG9hZCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHsKICAgICAgYXBwZW5kKHBheWxvYWQpOwogICAgfSBlbHNlIHsKICAgICAgbGV0IHN0cmluZ2lmaWVkUGF5bG9hZDsKICAgICAgdHJ5IHsKICAgICAgICBzdHJpbmdpZmllZFBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8vIEluIGNhc2UsIGRlc3BpdGUgYWxsIG91ciBlZmZvcnRzIHRvIGtlZXAgYHBheWxvYWRgIGNpcmN1bGFyLWRlcGVuZGVuY3ktZnJlZSwgYEpTT04uc3RyaW5pZnkoKWAgc3RpbGwKICAgICAgICAvLyBmYWlscywgd2UgdHJ5IGFnYWluIGFmdGVyIG5vcm1hbGl6aW5nIGl0IGFnYWluIHdpdGggaW5maW5pdGUgbm9ybWFsaXphdGlvbiBkZXB0aC4gVGhpcyBvZiBjb3Vyc2UgaGFzIGEKICAgICAgICAvLyBwZXJmb3JtYW5jZSBpbXBhY3QgYnV0IGluIHRoaXMgY2FzZSBhIHBlcmZvcm1hbmNlIGhpdCBpcyBiZXR0ZXIgdGhhbiB0aHJvd2luZy4KICAgICAgICBzdHJpbmdpZmllZFBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShub3JtYWxpemUocGF5bG9hZCkpOwogICAgICB9CiAgICAgIGFwcGVuZChzdHJpbmdpZmllZFBheWxvYWQpOwogICAgfQogIH0KCiAgcmV0dXJuIHR5cGVvZiBwYXJ0cyA9PT0gJ3N0cmluZycgPyBwYXJ0cyA6IGNvbmNhdEJ1ZmZlcnMocGFydHMpOwp9CgpmdW5jdGlvbiBjb25jYXRCdWZmZXJzKGJ1ZmZlcnMpIHsKICBjb25zdCB0b3RhbExlbmd0aCA9IGJ1ZmZlcnMucmVkdWNlKChhY2MsIGJ1ZikgPT4gYWNjICsgYnVmLmxlbmd0aCwgMCk7CgogIGNvbnN0IG1lcmdlZCA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKTsKICBsZXQgb2Zmc2V0ID0gMDsKICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiBidWZmZXJzKSB7CiAgICBtZXJnZWQuc2V0KGJ1ZmZlciwgb2Zmc2V0KTsKICAgIG9mZnNldCArPSBidWZmZXIubGVuZ3RoOwogIH0KCiAgcmV0dXJuIG1lcmdlZDsKfQoKY29uc3QgSVRFTV9UWVBFX1RPX0RBVEFfQ0FURUdPUllfTUFQID0gewogIHNlc3Npb246ICdzZXNzaW9uJywKICBzZXNzaW9uczogJ3Nlc3Npb24nLAogIGF0dGFjaG1lbnQ6ICdhdHRhY2htZW50JywKICB0cmFuc2FjdGlvbjogJ3RyYW5zYWN0aW9uJywKICBldmVudDogJ2Vycm9yJywKICBjbGllbnRfcmVwb3J0OiAnaW50ZXJuYWwnLAogIHVzZXJfcmVwb3J0OiAnZGVmYXVsdCcsCiAgcHJvZmlsZTogJ3Byb2ZpbGUnLAogIHJlcGxheV9ldmVudDogJ3JlcGxheScsCiAgcmVwbGF5X3JlY29yZGluZzogJ3JlcGxheScsCiAgY2hlY2tfaW46ICdtb25pdG9yJywKICBmZWVkYmFjazogJ2ZlZWRiYWNrJywKICBzcGFuOiAnc3BhbicsCiAgc3RhdHNkOiAnbWV0cmljX2J1Y2tldCcsCn07CgovKioKICogTWFwcyB0aGUgdHlwZSBvZiBhbiBlbnZlbG9wZSBpdGVtIHRvIGEgZGF0YSBjYXRlZ29yeS4KICovCmZ1bmN0aW9uIGVudmVsb3BlSXRlbVR5cGVUb0RhdGFDYXRlZ29yeSh0eXBlKSB7CiAgcmV0dXJuIElURU1fVFlQRV9UT19EQVRBX0NBVEVHT1JZX01BUFt0eXBlXTsKfQoKLyoqIEV4dHJhY3RzIHRoZSBtaW5pbWFsIFNESyBpbmZvIGZyb20gdGhlIG1ldGFkYXRhIG9yIGFuIGV2ZW50cyAqLwpmdW5jdGlvbiBnZXRTZGtNZXRhZGF0YUZvckVudmVsb3BlSGVhZGVyKG1ldGFkYXRhT3JFdmVudCkgewogIGlmICghbWV0YWRhdGFPckV2ZW50IHx8ICFtZXRhZGF0YU9yRXZlbnQuc2RrKSB7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IHsgbmFtZSwgdmVyc2lvbiB9ID0gbWV0YWRhdGFPckV2ZW50LnNkazsKICByZXR1cm4geyBuYW1lLCB2ZXJzaW9uIH07Cn0KCi8qKgogKiBDcmVhdGVzIGV2ZW50IGVudmVsb3BlIGhlYWRlcnMsIGJhc2VkIG9uIGV2ZW50LCBzZGsgaW5mbyBhbmQgdHVubmVsCiAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBmcm9tIHRoZSBjb3JlIHBhY2thZ2UgdG8gbWFrZSBpdCBhdmFpbGFibGUgaW4gUmVwbGF5CiAqLwpmdW5jdGlvbiBjcmVhdGVFdmVudEVudmVsb3BlSGVhZGVycygKICBldmVudCwKICBzZGtJbmZvLAogIHR1bm5lbCwKICBkc24sCikgewogIGNvbnN0IGR5bmFtaWNTYW1wbGluZ0NvbnRleHQgPSBldmVudC5zZGtQcm9jZXNzaW5nTWV0YWRhdGEgJiYgZXZlbnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhLmR5bmFtaWNTYW1wbGluZ0NvbnRleHQ7CiAgcmV0dXJuIHsKICAgIGV2ZW50X2lkOiBldmVudC5ldmVudF9pZCAsCiAgICBzZW50X2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICAuLi4oc2RrSW5mbyAmJiB7IHNkazogc2RrSW5mbyB9KSwKICAgIC4uLighIXR1bm5lbCAmJiBkc24gJiYgeyBkc246IGRzblRvU3RyaW5nKGRzbikgfSksCiAgICAuLi4oZHluYW1pY1NhbXBsaW5nQ29udGV4dCAmJiB7CiAgICAgIHRyYWNlOiBkcm9wVW5kZWZpbmVkS2V5cyh7IC4uLmR5bmFtaWNTYW1wbGluZ0NvbnRleHQgfSksCiAgICB9KSwKICB9Owp9CgovLyBJbnRlbnRpb25hbGx5IGtlZXBpbmcgdGhlIGtleSBicm9hZCwgYXMgd2UgZG9uJ3Qga25vdyBmb3Igc3VyZSB3aGF0IHJhdGUgbGltaXQgaGVhZGVycyBnZXQgcmV0dXJuZWQgZnJvbSBiYWNrZW5kCgpjb25zdCBERUZBVUxUX1JFVFJZX0FGVEVSID0gNjAgKiAxMDAwOyAvLyA2MCBzZWNvbmRzCgovKioKICogRXh0cmFjdHMgUmV0cnktQWZ0ZXIgdmFsdWUgZnJvbSB0aGUgcmVxdWVzdCBoZWFkZXIgb3IgcmV0dXJucyBkZWZhdWx0IHZhbHVlCiAqIEBwYXJhbSBoZWFkZXIgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mICdSZXRyeS1BZnRlcicgaGVhZGVyCiAqIEBwYXJhbSBub3cgY3VycmVudCB1bml4IHRpbWVzdGFtcAogKgogKi8KZnVuY3Rpb24gcGFyc2VSZXRyeUFmdGVySGVhZGVyKGhlYWRlciwgbm93ID0gRGF0ZS5ub3coKSkgewogIGNvbnN0IGhlYWRlckRlbGF5ID0gcGFyc2VJbnQoYCR7aGVhZGVyfWAsIDEwKTsKICBpZiAoIWlzTmFOKGhlYWRlckRlbGF5KSkgewogICAgcmV0dXJuIGhlYWRlckRlbGF5ICogMTAwMDsKICB9CgogIGNvbnN0IGhlYWRlckRhdGUgPSBEYXRlLnBhcnNlKGAke2hlYWRlcn1gKTsKICBpZiAoIWlzTmFOKGhlYWRlckRhdGUpKSB7CiAgICByZXR1cm4gaGVhZGVyRGF0ZSAtIG5vdzsKICB9CgogIHJldHVybiBERUZBVUxUX1JFVFJZX0FGVEVSOwp9CgovKioKICogR2V0cyB0aGUgdGltZSB0aGF0IHRoZSBnaXZlbiBjYXRlZ29yeSBpcyBkaXNhYmxlZCB1bnRpbCBmb3IgcmF0ZSBsaW1pdGluZy4KICogSW4gY2FzZSBubyBjYXRlZ29yeS1zcGVjaWZpYyBsaW1pdCBpcyBzZXQgYnV0IGEgZ2VuZXJhbCByYXRlIGxpbWl0IGFjcm9zcyBhbGwgY2F0ZWdvcmllcyBpcyBhY3RpdmUsCiAqIHRoYXQgdGltZSBpcyByZXR1cm5lZC4KICoKICogQHJldHVybiB0aGUgdGltZSBpbiBtcyB0aGF0IHRoZSBjYXRlZ29yeSBpcyBkaXNhYmxlZCB1bnRpbCBvciAwIGlmIHRoZXJlJ3Mgbm8gYWN0aXZlIHJhdGUgbGltaXQuCiAqLwpmdW5jdGlvbiBkaXNhYmxlZFVudGlsKGxpbWl0cywgZGF0YUNhdGVnb3J5KSB7CiAgcmV0dXJuIGxpbWl0c1tkYXRhQ2F0ZWdvcnldIHx8IGxpbWl0cy5hbGwgfHwgMDsKfQoKLyoqCiAqIENoZWNrcyBpZiBhIGNhdGVnb3J5IGlzIHJhdGUgbGltaXRlZAogKi8KZnVuY3Rpb24gaXNSYXRlTGltaXRlZChsaW1pdHMsIGRhdGFDYXRlZ29yeSwgbm93ID0gRGF0ZS5ub3coKSkgewogIHJldHVybiBkaXNhYmxlZFVudGlsKGxpbWl0cywgZGF0YUNhdGVnb3J5KSA+IG5vdzsKfQoKLyoqCiAqIFVwZGF0ZSByYXRlbGltaXRzIGZyb20gaW5jb21pbmcgaGVhZGVycy4KICoKICogQHJldHVybiB0aGUgdXBkYXRlZCBSYXRlTGltaXRzIG9iamVjdC4KICovCmZ1bmN0aW9uIHVwZGF0ZVJhdGVMaW1pdHMoCiAgbGltaXRzLAogIHsgc3RhdHVzQ29kZSwgaGVhZGVycyB9LAogIG5vdyA9IERhdGUubm93KCksCikgewogIGNvbnN0IHVwZGF0ZWRSYXRlTGltaXRzID0gewogICAgLi4ubGltaXRzLAogIH07CgogIC8vICJUaGUgbmFtZSBpcyBjYXNlLWluc2Vuc2l0aXZlLiIKICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSGVhZGVycy9nZXQKICBjb25zdCByYXRlTGltaXRIZWFkZXIgPSBoZWFkZXJzICYmIGhlYWRlcnNbJ3gtc2VudHJ5LXJhdGUtbGltaXRzJ107CiAgY29uc3QgcmV0cnlBZnRlckhlYWRlciA9IGhlYWRlcnMgJiYgaGVhZGVyc1sncmV0cnktYWZ0ZXInXTsKCiAgaWYgKHJhdGVMaW1pdEhlYWRlcikgewogICAgLyoqCiAgICAgKiByYXRlIGxpbWl0IGhlYWRlcnMgYXJlIG9mIHRoZSBmb3JtCiAgICAgKiAgICAgPGhlYWRlcj4sPGhlYWRlcj4sLi4KICAgICAqIHdoZXJlIGVhY2ggPGhlYWRlcj4gaXMgb2YgdGhlIGZvcm0KICAgICAqICAgICA8cmV0cnlfYWZ0ZXI+OiA8Y2F0ZWdvcmllcz46IDxzY29wZT46IDxyZWFzb25fY29kZT46IDxuYW1lc3BhY2VzPgogICAgICogd2hlcmUKICAgICAqICAgICA8cmV0cnlfYWZ0ZXI+IGlzIGEgZGVsYXkgaW4gc2Vjb25kcwogICAgICogICAgIDxjYXRlZ29yaWVzPiBpcyB0aGUgZXZlbnQgdHlwZShzKSAoZXJyb3IsIHRyYW5zYWN0aW9uLCBldGMpIGJlaW5nIHJhdGUgbGltaXRlZCBhbmQgaXMgb2YgdGhlIGZvcm0KICAgICAqICAgICAgICAgPGNhdGVnb3J5Pjs8Y2F0ZWdvcnk+Oy4uLgogICAgICogICAgIDxzY29wZT4gaXMgd2hhdCdzIGJlaW5nIGxpbWl0ZWQgKG9yZywgcHJvamVjdCwgb3Iga2V5KSAtIGlnbm9yZWQgYnkgU0RLCiAgICAgKiAgICAgPHJlYXNvbl9jb2RlPiBpcyBhbiBhcmJpdHJhcnkgc3RyaW5nIGxpa2UgIm9yZ19xdW90YSIgLSBpZ25vcmVkIGJ5IFNESwogICAgICogICAgIDxuYW1lc3BhY2VzPiBTZW1pY29sb24tc2VwYXJhdGVkIGxpc3Qgb2YgbWV0cmljIG5hbWVzcGFjZSBpZGVudGlmaWVycy4gRGVmaW5lcyB3aGljaCBuYW1lc3BhY2Uocykgd2lsbCBiZSBhZmZlY3RlZC4KICAgICAqICAgICAgICAgT25seSBwcmVzZW50IGlmIHJhdGUgbGltaXQgYXBwbGllcyB0byB0aGUgbWV0cmljX2J1Y2tldCBkYXRhIGNhdGVnb3J5LgogICAgICovCiAgICBmb3IgKGNvbnN0IGxpbWl0IG9mIHJhdGVMaW1pdEhlYWRlci50cmltKCkuc3BsaXQoJywnKSkgewogICAgICBjb25zdCBbcmV0cnlBZnRlciwgY2F0ZWdvcmllcywgLCAsIG5hbWVzcGFjZXNdID0gbGltaXQuc3BsaXQoJzonLCA1KTsKICAgICAgY29uc3QgaGVhZGVyRGVsYXkgPSBwYXJzZUludChyZXRyeUFmdGVyLCAxMCk7CiAgICAgIGNvbnN0IGRlbGF5ID0gKCFpc05hTihoZWFkZXJEZWxheSkgPyBoZWFkZXJEZWxheSA6IDYwKSAqIDEwMDA7IC8vIDYwc2VjIGRlZmF1bHQKICAgICAgaWYgKCFjYXRlZ29yaWVzKSB7CiAgICAgICAgdXBkYXRlZFJhdGVMaW1pdHMuYWxsID0gbm93ICsgZGVsYXk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzLnNwbGl0KCc7JykpIHsKICAgICAgICAgIGlmIChjYXRlZ29yeSA9PT0gJ21ldHJpY19idWNrZXQnKSB7CiAgICAgICAgICAgIC8vIG5hbWVzcGFjZXMgd2lsbCBiZSBwcmVzZW50IHdoZW4gY2F0ZWdvcnkgPT09ICdtZXRyaWNfYnVja2V0JwogICAgICAgICAgICBpZiAoIW5hbWVzcGFjZXMgfHwgbmFtZXNwYWNlcy5zcGxpdCgnOycpLmluY2x1ZGVzKCdjdXN0b20nKSkgewogICAgICAgICAgICAgIHVwZGF0ZWRSYXRlTGltaXRzW2NhdGVnb3J5XSA9IG5vdyArIGRlbGF5OwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1cGRhdGVkUmF0ZUxpbWl0c1tjYXRlZ29yeV0gPSBub3cgKyBkZWxheTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9IGVsc2UgaWYgKHJldHJ5QWZ0ZXJIZWFkZXIpIHsKICAgIHVwZGF0ZWRSYXRlTGltaXRzLmFsbCA9IG5vdyArIHBhcnNlUmV0cnlBZnRlckhlYWRlcihyZXRyeUFmdGVySGVhZGVyLCBub3cpOwogIH0gZWxzZSBpZiAoc3RhdHVzQ29kZSA9PT0gNDI5KSB7CiAgICB1cGRhdGVkUmF0ZUxpbWl0cy5hbGwgPSBub3cgKyA2MCAqIDEwMDA7CiAgfQoKICByZXR1cm4gdXBkYXRlZFJhdGVMaW1pdHM7Cn0KCi8qKgogKiBBIG5vZGUuanMgd2F0Y2hkb2cgdGltZXIKICogQHBhcmFtIHBvbGxJbnRlcnZhbCBUaGUgaW50ZXJ2YWwgdGhhdCB3ZSBleHBlY3QgdG8gZ2V0IHBvbGxlZCBhdAogKiBAcGFyYW0gYW5yVGhyZXNob2xkIFRoZSB0aHJlc2hvbGQgZm9yIHdoZW4gd2UgY29uc2lkZXIgQU5SCiAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gY2FsbCBmb3IgQU5SCiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIGBwb2xsYCBhbmQgYGVuYWJsZWRgIGZ1bmN0aW9ucyB7QGxpbmsgV2F0Y2hkb2dSZXR1cm59CiAqLwpmdW5jdGlvbiB3YXRjaGRvZ1RpbWVyKAogIGNyZWF0ZVRpbWVyLAogIHBvbGxJbnRlcnZhbCwKICBhbnJUaHJlc2hvbGQsCiAgY2FsbGJhY2ssCikgewogIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsKICBsZXQgdHJpZ2dlcmVkID0gZmFsc2U7CiAgbGV0IGVuYWJsZWQgPSB0cnVlOwoKICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICBjb25zdCBkaWZmTXMgPSB0aW1lci5nZXRUaW1lTXMoKTsKCiAgICBpZiAodHJpZ2dlcmVkID09PSBmYWxzZSAmJiBkaWZmTXMgPiBwb2xsSW50ZXJ2YWwgKyBhbnJUaHJlc2hvbGQpIHsKICAgICAgdHJpZ2dlcmVkID0gdHJ1ZTsKICAgICAgaWYgKGVuYWJsZWQpIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9CgogICAgaWYgKGRpZmZNcyA8IHBvbGxJbnRlcnZhbCArIGFuclRocmVzaG9sZCkgewogICAgICB0cmlnZ2VyZWQgPSBmYWxzZTsKICAgIH0KICB9LCAyMCk7CgogIHJldHVybiB7CiAgICBwb2xsOiAoKSA9PiB7CiAgICAgIHRpbWVyLnJlc2V0KCk7CiAgICB9LAogICAgZW5hYmxlZDogKHN0YXRlKSA9PiB7CiAgICAgIGVuYWJsZWQgPSBzdGF0ZTsKICAgIH0sCiAgfTsKfQoKLy8gdHlwZXMgY29waWVkIGZyb20gaW5zcGVjdG9yLmQudHMKCi8qKgogKiBDb252ZXJ0cyBEZWJ1Z2dlci5DYWxsRnJhbWUgdG8gU2VudHJ5IFN0YWNrRnJhbWUKICovCmZ1bmN0aW9uIGNhbGxGcmFtZVRvU3RhY2tGcmFtZSgKICBmcmFtZSwKICB1cmwsCiAgZ2V0TW9kdWxlRnJvbUZpbGVuYW1lLAopIHsKICBjb25zdCBmaWxlbmFtZSA9IHVybCA/IHVybC5yZXBsYWNlKC9eZmlsZTpcL1wvLywgJycpIDogdW5kZWZpbmVkOwoKICAvLyBDYWxsRnJhbWUgcm93L2NvbCBhcmUgMCBiYXNlZCwgd2hlcmVhcyBTdGFja0ZyYW1lIGFyZSAxIGJhc2VkCiAgY29uc3QgY29sbm8gPSBmcmFtZS5sb2NhdGlvbi5jb2x1bW5OdW1iZXIgPyBmcmFtZS5sb2NhdGlvbi5jb2x1bW5OdW1iZXIgKyAxIDogdW5kZWZpbmVkOwogIGNvbnN0IGxpbmVubyA9IGZyYW1lLmxvY2F0aW9uLmxpbmVOdW1iZXIgPyBmcmFtZS5sb2NhdGlvbi5saW5lTnVtYmVyICsgMSA6IHVuZGVmaW5lZDsKCiAgcmV0dXJuIGRyb3BVbmRlZmluZWRLZXlzKHsKICAgIGZpbGVuYW1lLAogICAgbW9kdWxlOiBnZXRNb2R1bGVGcm9tRmlsZW5hbWUoZmlsZW5hbWUpLAogICAgZnVuY3Rpb246IGZyYW1lLmZ1bmN0aW9uTmFtZSB8fCAnPycsCiAgICBjb2xubywKICAgIGxpbmVubywKICAgIGluX2FwcDogZmlsZW5hbWUgPyBmaWxlbmFtZUlzSW5BcHAoZmlsZW5hbWUpIDogdW5kZWZpbmVkLAogIH0pOwp9CgovKioKICogVGhpcyBzZXJ2ZXMgYXMgYSBidWlsZCB0aW1lIGZsYWcgdGhhdCB3aWxsIGJlIHRydWUgYnkgZGVmYXVsdCwgYnV0IGZhbHNlIGluIG5vbi1kZWJ1ZyBidWlsZHMgb3IgaWYgdXNlcnMgcmVwbGFjZSBgX19TRU5UUllfREVCVUdfX2AgaW4gdGhlaXIgZ2VuZXJhdGVkIGNvZGUuCiAqCiAqIEFUVEVOVElPTjogVGhpcyBjb25zdGFudCBtdXN0IG5ldmVyIGNyb3NzIHBhY2thZ2UgYm91bmRhcmllcyAoaS5lLiBiZSBleHBvcnRlZCkgdG8gZ3VhcmFudGVlIHRoYXQgaXQgY2FuIGJlIHVzZWQgZm9yIHRyZWUgc2hha2luZy4KICovCmNvbnN0IERFQlVHX0JVSUxEID0gKHR5cGVvZiBfX1NFTlRSWV9ERUJVR19fID09PSAndW5kZWZpbmVkJyB8fCBfX1NFTlRSWV9ERUJVR19fKTsKCmNvbnN0IERFRkFVTFRfRU5WSVJPTk1FTlQgPSAncHJvZHVjdGlvbic7CgovKioKICogUmV0dXJucyB0aGUgZ2xvYmFsIGV2ZW50IHByb2Nlc3NvcnMuCiAqIEBkZXByZWNhdGVkIEdsb2JhbCBldmVudCBwcm9jZXNzb3JzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4KICovCmZ1bmN0aW9uIGdldEdsb2JhbEV2ZW50UHJvY2Vzc29ycygpIHsKICByZXR1cm4gZ2V0R2xvYmFsU2luZ2xldG9uKCdnbG9iYWxFdmVudFByb2Nlc3NvcnMnLCAoKSA9PiBbXSk7Cn0KCi8qKgogKiBQcm9jZXNzIGFuIGFycmF5IG9mIGV2ZW50IHByb2Nlc3NvcnMsIHJldHVybmluZyB0aGUgcHJvY2Vzc2VkIGV2ZW50IChvciBgbnVsbGAgaWYgdGhlIGV2ZW50IHdhcyBkcm9wcGVkKS4KICovCmZ1bmN0aW9uIG5vdGlmeUV2ZW50UHJvY2Vzc29ycygKICBwcm9jZXNzb3JzLAogIGV2ZW50LAogIGhpbnQsCiAgaW5kZXggPSAwLAopIHsKICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIGNvbnN0IHByb2Nlc3NvciA9IHByb2Nlc3NvcnNbaW5kZXhdOwogICAgaWYgKGV2ZW50ID09PSBudWxsIHx8IHR5cGVvZiBwcm9jZXNzb3IgIT09ICdmdW5jdGlvbicpIHsKICAgICAgcmVzb2x2ZShldmVudCk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCByZXN1bHQgPSBwcm9jZXNzb3IoeyAuLi5ldmVudCB9LCBoaW50KSA7CgogICAgICBERUJVR19CVUlMRCAmJiBwcm9jZXNzb3IuaWQgJiYgcmVzdWx0ID09PSBudWxsICYmIGxvZ2dlci5sb2coYEV2ZW50IHByb2Nlc3NvciAiJHtwcm9jZXNzb3IuaWR9IiBkcm9wcGVkIGV2ZW50YCk7CgogICAgICBpZiAoaXNUaGVuYWJsZShyZXN1bHQpKSB7CiAgICAgICAgdm9pZCByZXN1bHQKICAgICAgICAgIC50aGVuKGZpbmFsID0+IG5vdGlmeUV2ZW50UHJvY2Vzc29ycyhwcm9jZXNzb3JzLCBmaW5hbCwgaGludCwgaW5kZXggKyAxKS50aGVuKHJlc29sdmUpKQogICAgICAgICAgLnRoZW4obnVsbCwgcmVqZWN0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2b2lkIG5vdGlmeUV2ZW50UHJvY2Vzc29ycyhwcm9jZXNzb3JzLCByZXN1bHQsIGhpbnQsIGluZGV4ICsgMSkKICAgICAgICAgIC50aGVuKHJlc29sdmUpCiAgICAgICAgICAudGhlbihudWxsLCByZWplY3QpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCi8qKgogKiBDcmVhdGVzIGEgbmV3IGBTZXNzaW9uYCBvYmplY3QgYnkgc2V0dGluZyBjZXJ0YWluIGRlZmF1bHQgcGFyYW1ldGVycy4gSWYgb3B0aW9uYWwgQHBhcmFtIGNvbnRleHQKICogaXMgcGFzc2VkLCB0aGUgcGFzc2VkIHByb3BlcnRpZXMgYXJlIGFwcGxpZWQgdG8gdGhlIHNlc3Npb24gb2JqZWN0LgogKgogKiBAcGFyYW0gY29udGV4dCAob3B0aW9uYWwpIGFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhcHBsaWVkIHRvIHRoZSByZXR1cm5lZCBzZXNzaW9uIG9iamVjdAogKgogKiBAcmV0dXJucyBhIG5ldyBgU2Vzc2lvbmAgb2JqZWN0CiAqLwpmdW5jdGlvbiBtYWtlU2Vzc2lvbihjb250ZXh0KSB7CiAgLy8gQm90aCB0aW1lc3RhbXAgYW5kIHN0YXJ0ZWQgYXJlIGluIHNlY29uZHMgc2luY2UgdGhlIFVOSVggZXBvY2guCiAgY29uc3Qgc3RhcnRpbmdUaW1lID0gdGltZXN0YW1wSW5TZWNvbmRzKCk7CgogIGNvbnN0IHNlc3Npb24gPSB7CiAgICBzaWQ6IHV1aWQ0KCksCiAgICBpbml0OiB0cnVlLAogICAgdGltZXN0YW1wOiBzdGFydGluZ1RpbWUsCiAgICBzdGFydGVkOiBzdGFydGluZ1RpbWUsCiAgICBkdXJhdGlvbjogMCwKICAgIHN0YXR1czogJ29rJywKICAgIGVycm9yczogMCwKICAgIGlnbm9yZUR1cmF0aW9uOiBmYWxzZSwKICAgIHRvSlNPTjogKCkgPT4gc2Vzc2lvblRvSlNPTihzZXNzaW9uKSwKICB9OwoKICBpZiAoY29udGV4dCkgewogICAgdXBkYXRlU2Vzc2lvbihzZXNzaW9uLCBjb250ZXh0KTsKICB9CgogIHJldHVybiBzZXNzaW9uOwp9CgovKioKICogVXBkYXRlcyBhIHNlc3Npb24gb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgcGFzc2VkIGluIHRoZSBjb250ZXh0LgogKgogKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBtdXRhdGVzIHRoZSBwYXNzZWQgb2JqZWN0IGFuZCByZXR1cm5zIHZvaWQuCiAqIChIYWQgdG8gZG8gdGhpcyBpbnN0ZWFkIG9mIHJldHVybmluZyBhIG5ldyBhbmQgdXBkYXRlZCBzZXNzaW9uIGJlY2F1c2UgY2xvc2luZyBhbmQgc2VuZGluZyBhIHNlc3Npb24KICogbWFrZXMgYW4gdXBkYXRlIHRvIHRoZSBzZXNzaW9uIGFmdGVyIGl0IHdhcyBwYXNzZWQgdG8gdGhlIHNlbmRpbmcgbG9naWMuCiAqIEBzZWUgQmFzZUNsaWVudC5jYXB0dXJlU2Vzc2lvbiApCiAqCiAqIEBwYXJhbSBzZXNzaW9uIHRoZSBgU2Vzc2lvbmAgdG8gdXBkYXRlCiAqIEBwYXJhbSBjb250ZXh0IHRoZSBgU2Vzc2lvbkNvbnRleHRgIGhvbGRpbmcgdGhlIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgdXBkYXRlZCBpbiBAcGFyYW0gc2Vzc2lvbgogKi8KLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHkKZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbihzZXNzaW9uLCBjb250ZXh0ID0ge30pIHsKICBpZiAoY29udGV4dC51c2VyKSB7CiAgICBpZiAoIXNlc3Npb24uaXBBZGRyZXNzICYmIGNvbnRleHQudXNlci5pcF9hZGRyZXNzKSB7CiAgICAgIHNlc3Npb24uaXBBZGRyZXNzID0gY29udGV4dC51c2VyLmlwX2FkZHJlc3M7CiAgICB9CgogICAgaWYgKCFzZXNzaW9uLmRpZCAmJiAhY29udGV4dC5kaWQpIHsKICAgICAgc2Vzc2lvbi5kaWQgPSBjb250ZXh0LnVzZXIuaWQgfHwgY29udGV4dC51c2VyLmVtYWlsIHx8IGNvbnRleHQudXNlci51c2VybmFtZTsKICAgIH0KICB9CgogIHNlc3Npb24udGltZXN0YW1wID0gY29udGV4dC50aW1lc3RhbXAgfHwgdGltZXN0YW1wSW5TZWNvbmRzKCk7CgogIGlmIChjb250ZXh0LmFibm9ybWFsX21lY2hhbmlzbSkgewogICAgc2Vzc2lvbi5hYm5vcm1hbF9tZWNoYW5pc20gPSBjb250ZXh0LmFibm9ybWFsX21lY2hhbmlzbTsKICB9CgogIGlmIChjb250ZXh0Lmlnbm9yZUR1cmF0aW9uKSB7CiAgICBzZXNzaW9uLmlnbm9yZUR1cmF0aW9uID0gY29udGV4dC5pZ25vcmVEdXJhdGlvbjsKICB9CiAgaWYgKGNvbnRleHQuc2lkKSB7CiAgICAvLyBHb29kIGVub3VnaCB1dWlkIHZhbGlkYXRpb24uIOKAlCBLYW1pbAogICAgc2Vzc2lvbi5zaWQgPSBjb250ZXh0LnNpZC5sZW5ndGggPT09IDMyID8gY29udGV4dC5zaWQgOiB1dWlkNCgpOwogIH0KICBpZiAoY29udGV4dC5pbml0ICE9PSB1bmRlZmluZWQpIHsKICAgIHNlc3Npb24uaW5pdCA9IGNvbnRleHQuaW5pdDsKICB9CiAgaWYgKCFzZXNzaW9uLmRpZCAmJiBjb250ZXh0LmRpZCkgewogICAgc2Vzc2lvbi5kaWQgPSBgJHtjb250ZXh0LmRpZH1gOwogIH0KICBpZiAodHlwZW9mIGNvbnRleHQuc3RhcnRlZCA9PT0gJ251bWJlcicpIHsKICAgIHNlc3Npb24uc3RhcnRlZCA9IGNvbnRleHQuc3RhcnRlZDsKICB9CiAgaWYgKHNlc3Npb24uaWdub3JlRHVyYXRpb24pIHsKICAgIHNlc3Npb24uZHVyYXRpb24gPSB1bmRlZmluZWQ7CiAgfSBlbHNlIGlmICh0eXBlb2YgY29udGV4dC5kdXJhdGlvbiA9PT0gJ251bWJlcicpIHsKICAgIHNlc3Npb24uZHVyYXRpb24gPSBjb250ZXh0LmR1cmF0aW9uOwogIH0gZWxzZSB7CiAgICBjb25zdCBkdXJhdGlvbiA9IHNlc3Npb24udGltZXN0YW1wIC0gc2Vzc2lvbi5zdGFydGVkOwogICAgc2Vzc2lvbi5kdXJhdGlvbiA9IGR1cmF0aW9uID49IDAgPyBkdXJhdGlvbiA6IDA7CiAgfQogIGlmIChjb250ZXh0LnJlbGVhc2UpIHsKICAgIHNlc3Npb24ucmVsZWFzZSA9IGNvbnRleHQucmVsZWFzZTsKICB9CiAgaWYgKGNvbnRleHQuZW52aXJvbm1lbnQpIHsKICAgIHNlc3Npb24uZW52aXJvbm1lbnQgPSBjb250ZXh0LmVudmlyb25tZW50OwogIH0KICBpZiAoIXNlc3Npb24uaXBBZGRyZXNzICYmIGNvbnRleHQuaXBBZGRyZXNzKSB7CiAgICBzZXNzaW9uLmlwQWRkcmVzcyA9IGNvbnRleHQuaXBBZGRyZXNzOwogIH0KICBpZiAoIXNlc3Npb24udXNlckFnZW50ICYmIGNvbnRleHQudXNlckFnZW50KSB7CiAgICBzZXNzaW9uLnVzZXJBZ2VudCA9IGNvbnRleHQudXNlckFnZW50OwogIH0KICBpZiAodHlwZW9mIGNvbnRleHQuZXJyb3JzID09PSAnbnVtYmVyJykgewogICAgc2Vzc2lvbi5lcnJvcnMgPSBjb250ZXh0LmVycm9yczsKICB9CiAgaWYgKGNvbnRleHQuc3RhdHVzKSB7CiAgICBzZXNzaW9uLnN0YXR1cyA9IGNvbnRleHQuc3RhdHVzOwogIH0KfQoKLyoqCiAqIENsb3NlcyBhIHNlc3Npb24gYnkgc2V0dGluZyBpdHMgc3RhdHVzIGFuZCB1cGRhdGluZyB0aGUgc2Vzc2lvbiBvYmplY3Qgd2l0aCBpdC4KICogSW50ZXJuYWxseSBjYWxscyBgdXBkYXRlU2Vzc2lvbmAgdG8gdXBkYXRlIHRoZSBwYXNzZWQgc2Vzc2lvbiBvYmplY3QuCiAqCiAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIG11dGF0ZXMgdGhlIHBhc3NlZCBzZXNzaW9uIChAc2VlIHVwZGF0ZVNlc3Npb24gZm9yIGV4cGxhbmF0aW9uKS4KICoKICogQHBhcmFtIHNlc3Npb24gdGhlIGBTZXNzaW9uYCBvYmplY3QgdG8gYmUgY2xvc2VkCiAqIEBwYXJhbSBzdGF0dXMgdGhlIGBTZXNzaW9uU3RhdHVzYCB3aXRoIHdoaWNoIHRoZSBzZXNzaW9uIHdhcyBjbG9zZWQuIElmIHlvdSBkb24ndCBwYXNzIGEgc3RhdHVzLAogKiAgICAgICAgICAgICAgIHRoaXMgZnVuY3Rpb24gd2lsbCBrZWVwIHRoZSBwcmV2aW91c2x5IHNldCBzdGF0dXMsIHVubGVzcyBpdCB3YXMgYCdvaydgIGluIHdoaWNoIGNhc2UKICogICAgICAgICAgICAgICBpdCBpcyBjaGFuZ2VkIHRvIGAnZXhpdGVkJ2AuCiAqLwpmdW5jdGlvbiBjbG9zZVNlc3Npb24oc2Vzc2lvbiwgc3RhdHVzKSB7CiAgbGV0IGNvbnRleHQgPSB7fTsKICBpZiAoc3RhdHVzKSB7CiAgICBjb250ZXh0ID0geyBzdGF0dXMgfTsKICB9IGVsc2UgaWYgKHNlc3Npb24uc3RhdHVzID09PSAnb2snKSB7CiAgICBjb250ZXh0ID0geyBzdGF0dXM6ICdleGl0ZWQnIH07CiAgfQoKICB1cGRhdGVTZXNzaW9uKHNlc3Npb24sIGNvbnRleHQpOwp9CgovKioKICogU2VyaWFsaXplcyBhIHBhc3NlZCBzZXNzaW9uIG9iamVjdCB0byBhIEpTT04gb2JqZWN0IHdpdGggYSBzbGlnaHRseSBkaWZmZXJlbnQgc3RydWN0dXJlLgogKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHRoZSBTZW50cnkgYmFja2VuZCByZXF1aXJlcyBhIHNsaWdodGx5IGRpZmZlcmVudCBzY2hlbWEgb2YgYSBzZXNzaW9uCiAqIHRoYW4gdGhlIG9uZSB0aGUgSlMgU0RLcyB1c2UgaW50ZXJuYWxseS4KICoKICogQHBhcmFtIHNlc3Npb24gdGhlIHNlc3Npb24gdG8gYmUgY29udmVydGVkCiAqCiAqIEByZXR1cm5zIGEgSlNPTiBvYmplY3Qgb2YgdGhlIHBhc3NlZCBzZXNzaW9uCiAqLwpmdW5jdGlvbiBzZXNzaW9uVG9KU09OKHNlc3Npb24pIHsKICByZXR1cm4gZHJvcFVuZGVmaW5lZEtleXMoewogICAgc2lkOiBgJHtzZXNzaW9uLnNpZH1gLAogICAgaW5pdDogc2Vzc2lvbi5pbml0LAogICAgLy8gTWFrZSBzdXJlIHRoYXQgc2VjIGlzIGNvbnZlcnRlZCB0byBtcyBmb3IgZGF0ZSBjb25zdHJ1Y3RvcgogICAgc3RhcnRlZDogbmV3IERhdGUoc2Vzc2lvbi5zdGFydGVkICogMTAwMCkudG9JU09TdHJpbmcoKSwKICAgIHRpbWVzdGFtcDogbmV3IERhdGUoc2Vzc2lvbi50aW1lc3RhbXAgKiAxMDAwKS50b0lTT1N0cmluZygpLAogICAgc3RhdHVzOiBzZXNzaW9uLnN0YXR1cywKICAgIGVycm9yczogc2Vzc2lvbi5lcnJvcnMsCiAgICBkaWQ6IHR5cGVvZiBzZXNzaW9uLmRpZCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHNlc3Npb24uZGlkID09PSAnc3RyaW5nJyA/IGAke3Nlc3Npb24uZGlkfWAgOiB1bmRlZmluZWQsCiAgICBkdXJhdGlvbjogc2Vzc2lvbi5kdXJhdGlvbiwKICAgIGFibm9ybWFsX21lY2hhbmlzbTogc2Vzc2lvbi5hYm5vcm1hbF9tZWNoYW5pc20sCiAgICBhdHRyczogewogICAgICByZWxlYXNlOiBzZXNzaW9uLnJlbGVhc2UsCiAgICAgIGVudmlyb25tZW50OiBzZXNzaW9uLmVudmlyb25tZW50LAogICAgICBpcF9hZGRyZXNzOiBzZXNzaW9uLmlwQWRkcmVzcywKICAgICAgdXNlcl9hZ2VudDogc2Vzc2lvbi51c2VyQWdlbnQsCiAgICB9LAogIH0pOwp9Cgpjb25zdCBUUkFDRV9GTEFHX1NBTVBMRUQgPSAweDE7CgovKioKICogQ29udmVydCBhIHNwYW4gdG8gYSB0cmFjZSBjb250ZXh0LCB3aGljaCBjYW4gYmUgc2VudCBhcyB0aGUgYHRyYWNlYCBjb250ZXh0IGluIGFuIGV2ZW50LgogKi8KZnVuY3Rpb24gc3BhblRvVHJhY2VDb250ZXh0KHNwYW4pIHsKICBjb25zdCB7IHNwYW5JZDogc3Bhbl9pZCwgdHJhY2VJZDogdHJhY2VfaWQgfSA9IHNwYW4uc3BhbkNvbnRleHQoKTsKICBjb25zdCB7IGRhdGEsIG9wLCBwYXJlbnRfc3Bhbl9pZCwgc3RhdHVzLCB0YWdzLCBvcmlnaW4gfSA9IHNwYW5Ub0pTT04oc3Bhbik7CgogIHJldHVybiBkcm9wVW5kZWZpbmVkS2V5cyh7CiAgICBkYXRhLAogICAgb3AsCiAgICBwYXJlbnRfc3Bhbl9pZCwKICAgIHNwYW5faWQsCiAgICBzdGF0dXMsCiAgICB0YWdzLAogICAgdHJhY2VfaWQsCiAgICBvcmlnaW4sCiAgfSk7Cn0KCi8qKgogKiBDb252ZXJ0IGEgc3BhbiB0byBhIEpTT04gcmVwcmVzZW50YXRpb24uCiAqIE5vdGUgdGhhdCBhbGwgZmllbGRzIHJldHVybmVkIGhlcmUgYXJlIG9wdGlvbmFsIGFuZCBuZWVkIHRvIGJlIGd1YXJkZWQgYWdhaW5zdC4KICoKICogTm90ZTogQmVjYXVzZSBvZiB0aGlzLCB3ZSBjdXJyZW50bHkgaGF2ZSBhIGNpcmN1bGFyIHR5cGUgZGVwZW5kZW5jeSAod2hpY2ggd2Ugb3B0ZWQgb3V0IG9mIGluIHBhY2thZ2UuanNvbikuCiAqIFRoaXMgaXMgbm90IGF2b2lkYWJsZSBhcyB3ZSBuZWVkIGBzcGFuVG9KU09OYCBpbiBgc3BhblV0aWxzLnRzYCwgd2hpY2ggaW4gdHVybiBpcyBuZWVkZWQgYnkgYHNwYW4udHNgIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS4KICogQW5kIGBzcGFuVG9KU09OYCBuZWVkcyB0aGUgU3BhbiBjbGFzcyBmcm9tIGBzcGFuLnRzYCB0byBjaGVjayBoZXJlLgogKiBUT0RPIHY4OiBXaGVuIHdlIHJlbW92ZSB0aGUgZGVwcmVjYXRlZCBzdHVmZiBmcm9tIGBzcGFuLnRzYCwgd2UgY2FuIHJlbW92ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeSBhZ2Fpbi4KICovCmZ1bmN0aW9uIHNwYW5Ub0pTT04oc3BhbikgewogIGlmIChzcGFuSXNTcGFuQ2xhc3Moc3BhbikpIHsKICAgIHJldHVybiBzcGFuLmdldFNwYW5KU09OKCk7CiAgfQoKICAvLyBGYWxsYmFjazogV2UgYWxzbyBjaGVjayBmb3IgYC50b0pTT04oKWAgaGVyZS4uLgogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogIGlmICh0eXBlb2Ygc3Bhbi50b0pTT04gPT09ICdmdW5jdGlvbicpIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgcmV0dXJuIHNwYW4udG9KU09OKCk7CiAgfQoKICByZXR1cm4ge307Cn0KCi8qKgogKiBTYWRseSwgZHVlIHRvIGNpcmN1bGFyIGRlcGVuZGVuY3kgY2hlY2tzIHdlIGNhbm5vdCBhY3R1YWxseSBpbXBvcnQgdGhlIFNwYW4gY2xhc3MgaGVyZSBhbmQgY2hlY2sgZm9yIGluc3RhbmNlb2YuCiAqIDooIFNvIGluc3RlYWQgd2UgYXBwcm94aW1hdGUgdGhpcyBieSBjaGVja2luZyBpZiBpdCBoYXMgdGhlIGBnZXRTcGFuSlNPTmAgbWV0aG9kLgogKi8KZnVuY3Rpb24gc3BhbklzU3BhbkNsYXNzKHNwYW4pIHsKICByZXR1cm4gdHlwZW9mIChzcGFuICkuZ2V0U3BhbkpTT04gPT09ICdmdW5jdGlvbic7Cn0KCi8qKgogKiBSZXR1cm5zIHRydWUgaWYgYSBzcGFuIGlzIHNhbXBsZWQuCiAqIEluIG1vc3QgY2FzZXMsIHlvdSBzaG91bGQganVzdCB1c2UgYHNwYW4uaXNSZWNvcmRpbmcoKWAgaW5zdGVhZC4KICogSG93ZXZlciwgdGhpcyBoYXMgYSBzbGlnaHRseSBkaWZmZXJlbnQgc2VtYW50aWMsIGFzIGl0IGFsc28gcmV0dXJucyBmYWxzZSBpZiB0aGUgc3BhbiBpcyBmaW5pc2hlZC4KICogU28gaW4gdGhlIGNhc2Ugd2hlcmUgdGhpcyBkaXN0aW5jdGlvbiBpcyBpbXBvcnRhbnQsIHVzZSB0aGlzIG1ldGhvZC4KICovCmZ1bmN0aW9uIHNwYW5Jc1NhbXBsZWQoc3BhbikgewogIC8vIFdlIGFsaWduIG91ciB0cmFjZSBmbGFncyB3aXRoIHRoZSBvbmVzIE9wZW5UZWxlbWV0cnkgdXNlCiAgLy8gU28gd2UgYWxzbyBjaGVjayBmb3Igc2FtcGxlZCB0aGUgc2FtZSB3YXkgdGhleSBkby4KICBjb25zdCB7IHRyYWNlRmxhZ3MgfSA9IHNwYW4uc3BhbkNvbnRleHQoKTsKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZQogIHJldHVybiBCb29sZWFuKHRyYWNlRmxhZ3MgJiBUUkFDRV9GTEFHX1NBTVBMRUQpOwp9CgovKioKICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIGNsaWVudC4KICovCmZ1bmN0aW9uIGdldENsaWVudCgpIHsKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICByZXR1cm4gZ2V0Q3VycmVudEh1YigpLmdldENsaWVudCgpOwp9CgovKioKICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIHNjb3BlLgogKi8KZnVuY3Rpb24gZ2V0Q3VycmVudFNjb3BlKCkgewogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogIHJldHVybiBnZXRDdXJyZW50SHViKCkuZ2V0U2NvcGUoKTsKfQoKLyoqCiAqIFJldHVybnMgdGhlIHJvb3Qgc3BhbiBvZiBhIGdpdmVuIHNwYW4uCiAqCiAqIEFzIGxvbmcgYXMgd2UgdXNlIGBUcmFuc2FjdGlvbmBzIGludGVybmFsbHksIHRoZSByZXR1cm5lZCByb290IHNwYW4KICogd2lsbCBiZSBhIGBUcmFuc2FjdGlvbmAgYnV0IGJlIGF3YXJlIHRoYXQgdGhpcyBtaWdodCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS4KICoKICogSWYgdGhlIGdpdmVuIHNwYW4gaGFzIG5vIHJvb3Qgc3BhbiBvciB0cmFuc2FjdGlvbiwgYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuCiAqLwpmdW5jdGlvbiBnZXRSb290U3BhbihzcGFuKSB7CiAgLy8gVE9ETyAodjgpOiBSZW1vdmUgdGhpcyBjaGVjayBhbmQganVzdCByZXR1cm4gc3BhbgogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogIHJldHVybiBzcGFuLnRyYW5zYWN0aW9uOwp9CgovKioKICogQ3JlYXRlcyBhIGR5bmFtaWMgc2FtcGxpbmcgY29udGV4dCBmcm9tIGEgY2xpZW50LgogKgogKiBEaXNwYXRjaGVzIHRoZSBgY3JlYXRlRHNjYCBsaWZlY3ljbGUgaG9vayBhcyBhIHNpZGUgZWZmZWN0LgogKi8KZnVuY3Rpb24gZ2V0RHluYW1pY1NhbXBsaW5nQ29udGV4dEZyb21DbGllbnQoCiAgdHJhY2VfaWQsCiAgY2xpZW50LAogIHNjb3BlLAopIHsKICBjb25zdCBvcHRpb25zID0gY2xpZW50LmdldE9wdGlvbnMoKTsKCiAgY29uc3QgeyBwdWJsaWNLZXk6IHB1YmxpY19rZXkgfSA9IGNsaWVudC5nZXREc24oKSB8fCB7fTsKICAvLyBUT0RPKHY4KTogUmVtb3ZlIHNlZ21lbnQgZnJvbSBVc2VyCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgY29uc3QgeyBzZWdtZW50OiB1c2VyX3NlZ21lbnQgfSA9IChzY29wZSAmJiBzY29wZS5nZXRVc2VyKCkpIHx8IHt9OwoKICBjb25zdCBkc2MgPSBkcm9wVW5kZWZpbmVkS2V5cyh7CiAgICBlbnZpcm9ubWVudDogb3B0aW9ucy5lbnZpcm9ubWVudCB8fCBERUZBVUxUX0VOVklST05NRU5ULAogICAgcmVsZWFzZTogb3B0aW9ucy5yZWxlYXNlLAogICAgdXNlcl9zZWdtZW50LAogICAgcHVibGljX2tleSwKICAgIHRyYWNlX2lkLAogIH0pIDsKCiAgY2xpZW50LmVtaXQgJiYgY2xpZW50LmVtaXQoJ2NyZWF0ZURzYycsIGRzYyk7CgogIHJldHVybiBkc2M7Cn0KCi8qKgogKiBBIFNwYW4gd2l0aCBhIGZyb3plbiBkeW5hbWljIHNhbXBsaW5nIGNvbnRleHQuCiAqLwoKLyoqCiAqIENyZWF0ZXMgYSBkeW5hbWljIHNhbXBsaW5nIGNvbnRleHQgZnJvbSBhIHNwYW4gKGFuZCBjbGllbnQgYW5kIHNjb3BlKQogKgogKiBAcGFyYW0gc3BhbiB0aGUgc3BhbiBmcm9tIHdoaWNoIGEgZmV3IHZhbHVlcyBsaWtlIHRoZSByb290IHNwYW4gbmFtZSBhbmQgc2FtcGxlIHJhdGUgYXJlIGV4dHJhY3RlZC4KICoKICogQHJldHVybnMgYSBkeW5hbWljIHNhbXBsaW5nIGNvbnRleHQKICovCmZ1bmN0aW9uIGdldER5bmFtaWNTYW1wbGluZ0NvbnRleHRGcm9tU3BhbihzcGFuKSB7CiAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50KCk7CiAgaWYgKCFjbGllbnQpIHsKICAgIHJldHVybiB7fTsKICB9CgogIC8vIHBhc3NpbmcgZW1pdD1mYWxzZSBoZXJlIHRvIG9ubHkgZW1pdCBsYXRlciBvbmNlIHRoZSBEU0MgaXMgYWN0dWFsbHkgcG9wdWxhdGVkCiAgY29uc3QgZHNjID0gZ2V0RHluYW1pY1NhbXBsaW5nQ29udGV4dEZyb21DbGllbnQoc3BhblRvSlNPTihzcGFuKS50cmFjZV9pZCB8fCAnJywgY2xpZW50LCBnZXRDdXJyZW50U2NvcGUoKSk7CgogIC8vIFRPRE8gKHY4KTogUmVtb3ZlIHY3RnJvemVuRHNjIGFzIGEgVHJhbnNhY3Rpb24gd2lsbCBubyBsb25nZXIgaGF2ZSBfZnJvemVuRHluYW1pY1NhbXBsaW5nQ29udGV4dAogIGNvbnN0IHR4biA9IGdldFJvb3RTcGFuKHNwYW4pIDsKICBpZiAoIXR4bikgewogICAgcmV0dXJuIGRzYzsKICB9CgogIC8vIFRPRE8gKHY4KTogUmVtb3ZlIHY3RnJvemVuRHNjIGFzIGEgVHJhbnNhY3Rpb24gd2lsbCBubyBsb25nZXIgaGF2ZSBfZnJvemVuRHluYW1pY1NhbXBsaW5nQ29udGV4dAogIC8vIEZvciBub3cgd2UgbmVlZCB0byBhdm9pZCBicmVha2luZyB1c2VycyB3aG8gZGlyZWN0bHkgY3JlYXRlZCBhIHR4biB3aXRoIGEgRFNDLCB3aGVyZSB0aGlzIGZpZWxkIGlzIHN0aWxsIHNldC4KICAvLyBAc2VlIFRyYW5zYWN0aW9uIGNsYXNzIGNvbnN0cnVjdG9yCiAgY29uc3QgdjdGcm96ZW5Ec2MgPSB0eG4gJiYgdHhuLl9mcm96ZW5EeW5hbWljU2FtcGxpbmdDb250ZXh0OwogIGlmICh2N0Zyb3plbkRzYykgewogICAgcmV0dXJuIHY3RnJvemVuRHNjOwogIH0KCiAgLy8gVE9ETyAodjgpOiBSZXBsYWNlIHR4bi5tZXRhZGF0YSB3aXRoIHR4bi5hdHRyaWJ1dGVzW10KICAvLyBXZSBjYW4ndCBkbyB0aGlzIHlldCBiZWNhdXNlIGF0dHJpYnV0ZXMgYXJlbid0IGFsd2F5cyBzZXQgeWV0LgogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogIGNvbnN0IHsgc2FtcGxlUmF0ZTogbWF5YmVTYW1wbGVSYXRlLCBzb3VyY2UgfSA9IHR4bi5tZXRhZGF0YTsKICBpZiAobWF5YmVTYW1wbGVSYXRlICE9IG51bGwpIHsKICAgIGRzYy5zYW1wbGVfcmF0ZSA9IGAke21heWJlU2FtcGxlUmF0ZX1gOwogIH0KCiAgLy8gV2UgZG9uJ3Qgd2FudCB0byBoYXZlIGEgdHJhbnNhY3Rpb24gbmFtZSBpbiB0aGUgRFNDIGlmIHRoZSBzb3VyY2UgaXMgInVybCIgYmVjYXVzZSBVUkxzIG1pZ2h0IGNvbnRhaW4gUElJCiAgY29uc3QganNvblNwYW4gPSBzcGFuVG9KU09OKHR4bik7CgogIC8vIGFmdGVyIEpTT04gY29udmVyc2lvbiwgdHhuLm5hbWUgYmVjb21lcyBqc29uU3Bhbi5kZXNjcmlwdGlvbgogIGlmIChzb3VyY2UgJiYgc291cmNlICE9PSAndXJsJykgewogICAgZHNjLnRyYW5zYWN0aW9uID0ganNvblNwYW4uZGVzY3JpcHRpb247CiAgfQoKICBkc2Muc2FtcGxlZCA9IFN0cmluZyhzcGFuSXNTYW1wbGVkKHR4bikpOwoKICBjbGllbnQuZW1pdCAmJiBjbGllbnQuZW1pdCgnY3JlYXRlRHNjJywgZHNjKTsKCiAgcmV0dXJuIGRzYzsKfQoKLyoqCiAqIEFwcGxpZXMgZGF0YSBmcm9tIHRoZSBzY29wZSB0byB0aGUgZXZlbnQgYW5kIHJ1bnMgYWxsIGV2ZW50IHByb2Nlc3NvcnMgb24gaXQuCiAqLwpmdW5jdGlvbiBhcHBseVNjb3BlRGF0YVRvRXZlbnQoZXZlbnQsIGRhdGEpIHsKICBjb25zdCB7IGZpbmdlcnByaW50LCBzcGFuLCBicmVhZGNydW1icywgc2RrUHJvY2Vzc2luZ01ldGFkYXRhIH0gPSBkYXRhOwoKICAvLyBBcHBseSBnZW5lcmFsIGRhdGEKICBhcHBseURhdGFUb0V2ZW50KGV2ZW50LCBkYXRhKTsKCiAgLy8gV2Ugd2FudCB0byBzZXQgdGhlIHRyYWNlIGNvbnRleHQgZm9yIG5vcm1hbCBldmVudHMgb25seSBpZiB0aGVyZSBpc24ndCBhbHJlYWR5CiAgLy8gYSB0cmFjZSBjb250ZXh0IG9uIHRoZSBldmVudC4gVGhlcmUgaXMgYSBwcm9kdWN0IGZlYXR1cmUgaW4gcGxhY2Ugd2hlcmUgd2UgbGluawogIC8vIGVycm9ycyB3aXRoIHRyYW5zYWN0aW9uIGFuZCBpdCByZWxpZXMgb24gdGhhdC4KICBpZiAoc3BhbikgewogICAgYXBwbHlTcGFuVG9FdmVudChldmVudCwgc3Bhbik7CiAgfQoKICBhcHBseUZpbmdlcnByaW50VG9FdmVudChldmVudCwgZmluZ2VycHJpbnQpOwogIGFwcGx5QnJlYWRjcnVtYnNUb0V2ZW50KGV2ZW50LCBicmVhZGNydW1icyk7CiAgYXBwbHlTZGtNZXRhZGF0YVRvRXZlbnQoZXZlbnQsIHNka1Byb2Nlc3NpbmdNZXRhZGF0YSk7Cn0KCmZ1bmN0aW9uIGFwcGx5RGF0YVRvRXZlbnQoZXZlbnQsIGRhdGEpIHsKICBjb25zdCB7CiAgICBleHRyYSwKICAgIHRhZ3MsCiAgICB1c2VyLAogICAgY29udGV4dHMsCiAgICBsZXZlbCwKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdHJhbnNhY3Rpb25OYW1lLAogIH0gPSBkYXRhOwoKICBjb25zdCBjbGVhbmVkRXh0cmEgPSBkcm9wVW5kZWZpbmVkS2V5cyhleHRyYSk7CiAgaWYgKGNsZWFuZWRFeHRyYSAmJiBPYmplY3Qua2V5cyhjbGVhbmVkRXh0cmEpLmxlbmd0aCkgewogICAgZXZlbnQuZXh0cmEgPSB7IC4uLmNsZWFuZWRFeHRyYSwgLi4uZXZlbnQuZXh0cmEgfTsKICB9CgogIGNvbnN0IGNsZWFuZWRUYWdzID0gZHJvcFVuZGVmaW5lZEtleXModGFncyk7CiAgaWYgKGNsZWFuZWRUYWdzICYmIE9iamVjdC5rZXlzKGNsZWFuZWRUYWdzKS5sZW5ndGgpIHsKICAgIGV2ZW50LnRhZ3MgPSB7IC4uLmNsZWFuZWRUYWdzLCAuLi5ldmVudC50YWdzIH07CiAgfQoKICBjb25zdCBjbGVhbmVkVXNlciA9IGRyb3BVbmRlZmluZWRLZXlzKHVzZXIpOwogIGlmIChjbGVhbmVkVXNlciAmJiBPYmplY3Qua2V5cyhjbGVhbmVkVXNlcikubGVuZ3RoKSB7CiAgICBldmVudC51c2VyID0geyAuLi5jbGVhbmVkVXNlciwgLi4uZXZlbnQudXNlciB9OwogIH0KCiAgY29uc3QgY2xlYW5lZENvbnRleHRzID0gZHJvcFVuZGVmaW5lZEtleXMoY29udGV4dHMpOwogIGlmIChjbGVhbmVkQ29udGV4dHMgJiYgT2JqZWN0LmtleXMoY2xlYW5lZENvbnRleHRzKS5sZW5ndGgpIHsKICAgIGV2ZW50LmNvbnRleHRzID0geyAuLi5jbGVhbmVkQ29udGV4dHMsIC4uLmV2ZW50LmNvbnRleHRzIH07CiAgfQoKICBpZiAobGV2ZWwpIHsKICAgIGV2ZW50LmxldmVsID0gbGV2ZWw7CiAgfQoKICBpZiAodHJhbnNhY3Rpb25OYW1lKSB7CiAgICBldmVudC50cmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uTmFtZTsKICB9Cn0KCmZ1bmN0aW9uIGFwcGx5QnJlYWRjcnVtYnNUb0V2ZW50KGV2ZW50LCBicmVhZGNydW1icykgewogIGNvbnN0IG1lcmdlZEJyZWFkY3J1bWJzID0gWy4uLihldmVudC5icmVhZGNydW1icyB8fCBbXSksIC4uLmJyZWFkY3J1bWJzXTsKICBldmVudC5icmVhZGNydW1icyA9IG1lcmdlZEJyZWFkY3J1bWJzLmxlbmd0aCA/IG1lcmdlZEJyZWFkY3J1bWJzIDogdW5kZWZpbmVkOwp9CgpmdW5jdGlvbiBhcHBseVNka01ldGFkYXRhVG9FdmVudChldmVudCwgc2RrUHJvY2Vzc2luZ01ldGFkYXRhKSB7CiAgZXZlbnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhID0gewogICAgLi4uZXZlbnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhLAogICAgLi4uc2RrUHJvY2Vzc2luZ01ldGFkYXRhLAogIH07Cn0KCmZ1bmN0aW9uIGFwcGx5U3BhblRvRXZlbnQoZXZlbnQsIHNwYW4pIHsKICBldmVudC5jb250ZXh0cyA9IHsgdHJhY2U6IHNwYW5Ub1RyYWNlQ29udGV4dChzcGFuKSwgLi4uZXZlbnQuY29udGV4dHMgfTsKICBjb25zdCByb290U3BhbiA9IGdldFJvb3RTcGFuKHNwYW4pOwogIGlmIChyb290U3BhbikgewogICAgZXZlbnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhID0gewogICAgICBkeW5hbWljU2FtcGxpbmdDb250ZXh0OiBnZXREeW5hbWljU2FtcGxpbmdDb250ZXh0RnJvbVNwYW4oc3BhbiksCiAgICAgIC4uLmV2ZW50LnNka1Byb2Nlc3NpbmdNZXRhZGF0YSwKICAgIH07CiAgICBjb25zdCB0cmFuc2FjdGlvbk5hbWUgPSBzcGFuVG9KU09OKHJvb3RTcGFuKS5kZXNjcmlwdGlvbjsKICAgIGlmICh0cmFuc2FjdGlvbk5hbWUpIHsKICAgICAgZXZlbnQudGFncyA9IHsgdHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uTmFtZSwgLi4uZXZlbnQudGFncyB9OwogICAgfQogIH0KfQoKLyoqCiAqIEFwcGxpZXMgZmluZ2VycHJpbnQgZnJvbSB0aGUgc2NvcGUgdG8gdGhlIGV2ZW50IGlmIHRoZXJlJ3Mgb25lLAogKiB1c2VzIG1lc3NhZ2UgaWYgdGhlcmUncyBvbmUgaW5zdGVhZCBvciBnZXQgcmlkIG9mIGVtcHR5IGZpbmdlcnByaW50CiAqLwpmdW5jdGlvbiBhcHBseUZpbmdlcnByaW50VG9FdmVudChldmVudCwgZmluZ2VycHJpbnQpIHsKICAvLyBNYWtlIHN1cmUgaXQncyBhbiBhcnJheSBmaXJzdCBhbmQgd2UgYWN0dWFsbHkgaGF2ZSBzb21ldGhpbmcgaW4gcGxhY2UKICBldmVudC5maW5nZXJwcmludCA9IGV2ZW50LmZpbmdlcnByaW50ID8gYXJyYXlpZnkoZXZlbnQuZmluZ2VycHJpbnQpIDogW107CgogIC8vIElmIHdlIGhhdmUgc29tZXRoaW5nIG9uIHRoZSBzY29wZSwgdGhlbiBtZXJnZSBpdCB3aXRoIGV2ZW50CiAgaWYgKGZpbmdlcnByaW50KSB7CiAgICBldmVudC5maW5nZXJwcmludCA9IGV2ZW50LmZpbmdlcnByaW50LmNvbmNhdChmaW5nZXJwcmludCk7CiAgfQoKICAvLyBJZiB3ZSBoYXZlIG5vIGRhdGEgYXQgYWxsLCByZW1vdmUgZW1wdHkgYXJyYXkgZGVmYXVsdAogIGlmIChldmVudC5maW5nZXJwcmludCAmJiAhZXZlbnQuZmluZ2VycHJpbnQubGVuZ3RoKSB7CiAgICBkZWxldGUgZXZlbnQuZmluZ2VycHJpbnQ7CiAgfQp9CgovKioKICogRGVmYXVsdCB2YWx1ZSBmb3IgbWF4aW11bSBudW1iZXIgb2YgYnJlYWRjcnVtYnMgYWRkZWQgdG8gYW4gZXZlbnQuCiAqLwpjb25zdCBERUZBVUxUX01BWF9CUkVBRENSVU1CUyA9IDEwMDsKCi8qKgogKiBIb2xkcyBhZGRpdGlvbmFsIGV2ZW50IGluZm9ybWF0aW9uLiB7QGxpbmsgU2NvcGUuYXBwbHlUb0V2ZW50fSB3aWxsIGJlCiAqIGNhbGxlZCBieSB0aGUgY2xpZW50IGJlZm9yZSBhbiBldmVudCB3aWxsIGJlIHNlbnQuCiAqLwpjbGFzcyBTY29wZSAgewogIC8qKiBGbGFnIGlmIG5vdGlmeWluZyBpcyBoYXBwZW5pbmcuICovCgogIC8qKiBDYWxsYmFjayBmb3IgY2xpZW50IHRvIHJlY2VpdmUgc2NvcGUgY2hhbmdlcy4gKi8KCiAgLyoqIENhbGxiYWNrIGxpc3QgdGhhdCB3aWxsIGJlIGNhbGxlZCBhZnRlciB7QGxpbmsgYXBwbHlUb0V2ZW50fS4gKi8KCiAgLyoqIEFycmF5IG9mIGJyZWFkY3J1bWJzLiAqLwoKICAvKiogVXNlciAqLwoKICAvKiogVGFncyAqLwoKICAvKiogRXh0cmEgKi8KCiAgLyoqIENvbnRleHRzICovCgogIC8qKiBBdHRhY2htZW50cyAqLwoKICAvKiogUHJvcGFnYXRpb24gQ29udGV4dCBmb3IgZGlzdHJpYnV0ZWQgdHJhY2luZyAqLwoKICAvKioKICAgKiBBIHBsYWNlIHRvIHN0YXNoIGRhdGEgd2hpY2ggaXMgbmVlZGVkIGF0IHNvbWUgcG9pbnQgaW4gdGhlIFNESydzIGV2ZW50IHByb2Nlc3NpbmcgcGlwZWxpbmUgYnV0IHdoaWNoIHNob3VsZG4ndCBnZXQKICAgKiBzZW50IHRvIFNlbnRyeQogICAqLwoKICAvKiogRmluZ2VycHJpbnQgKi8KCiAgLyoqIFNldmVyaXR5ICovCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCgogIC8qKgogICAqIFRyYW5zYWN0aW9uIE5hbWUKICAgKi8KCiAgLyoqIFNwYW4gKi8KCiAgLyoqIFNlc3Npb24gKi8KCiAgLyoqIFJlcXVlc3QgTW9kZSBTZXNzaW9uIFN0YXR1cyAqLwoKICAvKiogVGhlIGNsaWVudCBvbiB0aGlzIHNjb3BlICovCgogIC8vIE5PVEU6IEFueSBmaWVsZCB3aGljaCBnZXRzIGFkZGVkIGhlcmUgc2hvdWxkIGdldCBhZGRlZCBub3Qgb25seSB0byB0aGUgY29uc3RydWN0b3IgYnV0IGFsc28gdG8gdGhlIGBjbG9uZWAgbWV0aG9kLgoKICAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLl9ub3RpZnlpbmdMaXN0ZW5lcnMgPSBmYWxzZTsKICAgIHRoaXMuX3Njb3BlTGlzdGVuZXJzID0gW107CiAgICB0aGlzLl9ldmVudFByb2Nlc3NvcnMgPSBbXTsKICAgIHRoaXMuX2JyZWFkY3J1bWJzID0gW107CiAgICB0aGlzLl9hdHRhY2htZW50cyA9IFtdOwogICAgdGhpcy5fdXNlciA9IHt9OwogICAgdGhpcy5fdGFncyA9IHt9OwogICAgdGhpcy5fZXh0cmEgPSB7fTsKICAgIHRoaXMuX2NvbnRleHRzID0ge307CiAgICB0aGlzLl9zZGtQcm9jZXNzaW5nTWV0YWRhdGEgPSB7fTsKICAgIHRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dCA9IGdlbmVyYXRlUHJvcGFnYXRpb25Db250ZXh0KCk7CiAgfQoKICAvKioKICAgKiBJbmhlcml0IHZhbHVlcyBmcm9tIHRoZSBwYXJlbnQgc2NvcGUuCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzY29wZS5jbG9uZSgpYCBhbmQgYG5ldyBTY29wZSgpYCBpbnN0ZWFkLgogICAqLwogICBzdGF0aWMgY2xvbmUoc2NvcGUpIHsKICAgIHJldHVybiBzY29wZSA/IHNjb3BlLmNsb25lKCkgOiBuZXcgU2NvcGUoKTsKICB9CgogIC8qKgogICAqIENsb25lIHRoaXMgc2NvcGUgaW5zdGFuY2UuCiAgICovCiAgIGNsb25lKCkgewogICAgY29uc3QgbmV3U2NvcGUgPSBuZXcgU2NvcGUoKTsKICAgIG5ld1Njb3BlLl9icmVhZGNydW1icyA9IFsuLi50aGlzLl9icmVhZGNydW1ic107CiAgICBuZXdTY29wZS5fdGFncyA9IHsgLi4udGhpcy5fdGFncyB9OwogICAgbmV3U2NvcGUuX2V4dHJhID0geyAuLi50aGlzLl9leHRyYSB9OwogICAgbmV3U2NvcGUuX2NvbnRleHRzID0geyAuLi50aGlzLl9jb250ZXh0cyB9OwogICAgbmV3U2NvcGUuX3VzZXIgPSB0aGlzLl91c2VyOwogICAgbmV3U2NvcGUuX2xldmVsID0gdGhpcy5fbGV2ZWw7CiAgICBuZXdTY29wZS5fc3BhbiA9IHRoaXMuX3NwYW47CiAgICBuZXdTY29wZS5fc2Vzc2lvbiA9IHRoaXMuX3Nlc3Npb247CiAgICBuZXdTY29wZS5fdHJhbnNhY3Rpb25OYW1lID0gdGhpcy5fdHJhbnNhY3Rpb25OYW1lOwogICAgbmV3U2NvcGUuX2ZpbmdlcnByaW50ID0gdGhpcy5fZmluZ2VycHJpbnQ7CiAgICBuZXdTY29wZS5fZXZlbnRQcm9jZXNzb3JzID0gWy4uLnRoaXMuX2V2ZW50UHJvY2Vzc29yc107CiAgICBuZXdTY29wZS5fcmVxdWVzdFNlc3Npb24gPSB0aGlzLl9yZXF1ZXN0U2Vzc2lvbjsKICAgIG5ld1Njb3BlLl9hdHRhY2htZW50cyA9IFsuLi50aGlzLl9hdHRhY2htZW50c107CiAgICBuZXdTY29wZS5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhID0geyAuLi50aGlzLl9zZGtQcm9jZXNzaW5nTWV0YWRhdGEgfTsKICAgIG5ld1Njb3BlLl9wcm9wYWdhdGlvbkNvbnRleHQgPSB7IC4uLnRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dCB9OwogICAgbmV3U2NvcGUuX2NsaWVudCA9IHRoaXMuX2NsaWVudDsKCiAgICByZXR1cm4gbmV3U2NvcGU7CiAgfQoKICAvKiogVXBkYXRlIHRoZSBjbGllbnQgb24gdGhlIHNjb3BlLiAqLwogICBzZXRDbGllbnQoY2xpZW50KSB7CiAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7CiAgfQoKICAvKioKICAgKiBHZXQgdGhlIGNsaWVudCBhc3NpZ25lZCB0byB0aGlzIHNjb3BlLgogICAqCiAgICogSXQgaXMgZ2VuZXJhbGx5IHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgZ2xvYmFsIGZ1bmN0aW9uIGBTZW50cnkuZ2V0Q2xpZW50KClgIGluc3RlYWQsIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuCiAgICovCiAgIGdldENsaWVudCgpIHsKICAgIHJldHVybiB0aGlzLl9jbGllbnQ7CiAgfQoKICAvKioKICAgKiBBZGQgaW50ZXJuYWwgb24gY2hhbmdlIGxpc3RlbmVyLiBVc2VkIGZvciBzdWIgU0RLcyB0aGF0IG5lZWQgdG8gc3RvcmUgdGhlIHNjb3BlLgogICAqIEBoaWRkZW4KICAgKi8KICAgYWRkU2NvcGVMaXN0ZW5lcihjYWxsYmFjaykgewogICAgdGhpcy5fc2NvcGVMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogICBhZGRFdmVudFByb2Nlc3NvcihjYWxsYmFjaykgewogICAgdGhpcy5fZXZlbnRQcm9jZXNzb3JzLnB1c2goY2FsbGJhY2spOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogICBzZXRVc2VyKHVzZXIpIHsKICAgIC8vIElmIG51bGwgaXMgcGFzc2VkIHdlIHdhbnQgdG8gdW5zZXQgZXZlcnl0aGluZywgYnV0IHN0aWxsIGRlZmluZSBrZXlzLAogICAgLy8gc28gdGhhdCBsYXRlciBkb3duIGluIHRoZSBwaXBlbGluZSBhbnkgZXhpc3RpbmcgdmFsdWVzIGFyZSBjbGVhcmVkLgogICAgdGhpcy5fdXNlciA9IHVzZXIgfHwgewogICAgICBlbWFpbDogdW5kZWZpbmVkLAogICAgICBpZDogdW5kZWZpbmVkLAogICAgICBpcF9hZGRyZXNzOiB1bmRlZmluZWQsCiAgICAgIHNlZ21lbnQ6IHVuZGVmaW5lZCwKICAgICAgdXNlcm5hbWU6IHVuZGVmaW5lZCwKICAgIH07CgogICAgaWYgKHRoaXMuX3Nlc3Npb24pIHsKICAgICAgdXBkYXRlU2Vzc2lvbih0aGlzLl9zZXNzaW9uLCB7IHVzZXIgfSk7CiAgICB9CgogICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICAgZ2V0VXNlcigpIHsKICAgIHJldHVybiB0aGlzLl91c2VyOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICAgZ2V0UmVxdWVzdFNlc3Npb24oKSB7CiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFNlc3Npb247CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogICBzZXRSZXF1ZXN0U2Vzc2lvbihyZXF1ZXN0U2Vzc2lvbikgewogICAgdGhpcy5fcmVxdWVzdFNlc3Npb24gPSByZXF1ZXN0U2Vzc2lvbjsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICAgc2V0VGFncyh0YWdzKSB7CiAgICB0aGlzLl90YWdzID0gewogICAgICAuLi50aGlzLl90YWdzLAogICAgICAuLi50YWdzLAogICAgfTsKICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgIHNldFRhZyhrZXksIHZhbHVlKSB7CiAgICB0aGlzLl90YWdzID0geyAuLi50aGlzLl90YWdzLCBba2V5XTogdmFsdWUgfTsKICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgIHNldEV4dHJhcyhleHRyYXMpIHsKICAgIHRoaXMuX2V4dHJhID0gewogICAgICAuLi50aGlzLl9leHRyYSwKICAgICAgLi4uZXh0cmFzLAogICAgfTsKICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgIHNldEV4dHJhKGtleSwgZXh0cmEpIHsKICAgIHRoaXMuX2V4dHJhID0geyAuLi50aGlzLl9leHRyYSwgW2tleV06IGV4dHJhIH07CiAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogICBzZXRGaW5nZXJwcmludChmaW5nZXJwcmludCkgewogICAgdGhpcy5fZmluZ2VycHJpbnQgPSBmaW5nZXJwcmludDsKICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgIHNldExldmVsKAogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICBsZXZlbCwKICApIHsKICAgIHRoaXMuX2xldmVsID0gbGV2ZWw7CiAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICAvKioKICAgKiBTZXRzIHRoZSB0cmFuc2FjdGlvbiBuYW1lIG9uIHRoZSBzY29wZSBmb3IgZnV0dXJlIGV2ZW50cy4KICAgKi8KICAgc2V0VHJhbnNhY3Rpb25OYW1lKG5hbWUpIHsKICAgIHRoaXMuX3RyYW5zYWN0aW9uTmFtZSA9IG5hbWU7CiAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogICBzZXRDb250ZXh0KGtleSwgY29udGV4dCkgewogICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1keW5hbWljLWRlbGV0ZQogICAgICBkZWxldGUgdGhpcy5fY29udGV4dHNba2V5XTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuX2NvbnRleHRzW2tleV0gPSBjb250ZXh0OwogICAgfQoKICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIFNldHMgdGhlIFNwYW4gb24gdGhlIHNjb3BlLgogICAqIEBwYXJhbSBzcGFuIFNwYW4KICAgKiBAZGVwcmVjYXRlZCBJbnN0ZWFkIG9mIHNldHRpbmcgYSBzcGFuIG9uIGEgc2NvcGUsIHVzZSBgc3RhcnRTcGFuKClgL2BzdGFydFNwYW5NYW51YWwoKWAgaW5zdGVhZC4KICAgKi8KICAgc2V0U3BhbihzcGFuKSB7CiAgICB0aGlzLl9zcGFuID0gc3BhbjsKICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIFJldHVybnMgdGhlIGBTcGFuYCBpZiB0aGVyZSBpcyBvbmUuCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRBY3RpdmVTcGFuKClgIGluc3RlYWQuCiAgICovCiAgIGdldFNwYW4oKSB7CiAgICByZXR1cm4gdGhpcy5fc3BhbjsKICB9CgogIC8qKgogICAqIFJldHVybnMgdGhlIGBUcmFuc2FjdGlvbmAgYXR0YWNoZWQgdG8gdGhlIHNjb3BlIChpZiB0aGVyZSBpcyBvbmUpLgogICAqIEBkZXByZWNhdGVkIFlvdSBzaG91bGQgbm90IHJlbHkgb24gdGhlIHRyYW5zYWN0aW9uLCBidXQganVzdCB1c2UgYHN0YXJ0U3BhbigpYCBBUElzIGluc3RlYWQuCiAgICovCiAgIGdldFRyYW5zYWN0aW9uKCkgewogICAgLy8gT2Z0ZW4sIHRoaXMgc3BhbiAoaWYgaXQgZXhpc3RzIGF0IGFsbCkgd2lsbCBiZSBhIHRyYW5zYWN0aW9uLCBidXQgaXQncyBub3QgZ3VhcmFudGVlZCB0byBiZS4gUmVnYXJkbGVzcywgaXQgd2lsbAogICAgLy8gaGF2ZSBhIHBvaW50ZXIgdG8gdGhlIGN1cnJlbnRseS1hY3RpdmUgdHJhbnNhY3Rpb24uCiAgICBjb25zdCBzcGFuID0gdGhpcy5fc3BhbjsKICAgIC8vIENhbm5vdCByZXBsYWNlIHdpdGggZ2V0Um9vdFNwYW4gYmVjYXVzZSBnZXRSb290U3BhbiByZXR1cm5zIGEgc3Bhbiwgbm90IGEgdHJhbnNhY3Rpb24KICAgIC8vIEFsc28sIHRoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBhbnl3YXkuCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIHJldHVybiBzcGFuICYmIHNwYW4udHJhbnNhY3Rpb247CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogICBzZXRTZXNzaW9uKHNlc3Npb24pIHsKICAgIGlmICghc2Vzc2lvbikgewogICAgICBkZWxldGUgdGhpcy5fc2Vzc2lvbjsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuX3Nlc3Npb24gPSBzZXNzaW9uOwogICAgfQogICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICAgZ2V0U2Vzc2lvbigpIHsKICAgIHJldHVybiB0aGlzLl9zZXNzaW9uOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICAgdXBkYXRlKGNhcHR1cmVDb250ZXh0KSB7CiAgICBpZiAoIWNhcHR1cmVDb250ZXh0KSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGNvbnN0IHNjb3BlVG9NZXJnZSA9IHR5cGVvZiBjYXB0dXJlQ29udGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IGNhcHR1cmVDb250ZXh0KHRoaXMpIDogY2FwdHVyZUNvbnRleHQ7CgogICAgaWYgKHNjb3BlVG9NZXJnZSBpbnN0YW5jZW9mIFNjb3BlKSB7CiAgICAgIGNvbnN0IHNjb3BlRGF0YSA9IHNjb3BlVG9NZXJnZS5nZXRTY29wZURhdGEoKTsKCiAgICAgIHRoaXMuX3RhZ3MgPSB7IC4uLnRoaXMuX3RhZ3MsIC4uLnNjb3BlRGF0YS50YWdzIH07CiAgICAgIHRoaXMuX2V4dHJhID0geyAuLi50aGlzLl9leHRyYSwgLi4uc2NvcGVEYXRhLmV4dHJhIH07CiAgICAgIHRoaXMuX2NvbnRleHRzID0geyAuLi50aGlzLl9jb250ZXh0cywgLi4uc2NvcGVEYXRhLmNvbnRleHRzIH07CiAgICAgIGlmIChzY29wZURhdGEudXNlciAmJiBPYmplY3Qua2V5cyhzY29wZURhdGEudXNlcikubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fdXNlciA9IHNjb3BlRGF0YS51c2VyOwogICAgICB9CiAgICAgIGlmIChzY29wZURhdGEubGV2ZWwpIHsKICAgICAgICB0aGlzLl9sZXZlbCA9IHNjb3BlRGF0YS5sZXZlbDsKICAgICAgfQogICAgICBpZiAoc2NvcGVEYXRhLmZpbmdlcnByaW50Lmxlbmd0aCkgewogICAgICAgIHRoaXMuX2ZpbmdlcnByaW50ID0gc2NvcGVEYXRhLmZpbmdlcnByaW50OwogICAgICB9CiAgICAgIGlmIChzY29wZVRvTWVyZ2UuZ2V0UmVxdWVzdFNlc3Npb24oKSkgewogICAgICAgIHRoaXMuX3JlcXVlc3RTZXNzaW9uID0gc2NvcGVUb01lcmdlLmdldFJlcXVlc3RTZXNzaW9uKCk7CiAgICAgIH0KICAgICAgaWYgKHNjb3BlRGF0YS5wcm9wYWdhdGlvbkNvbnRleHQpIHsKICAgICAgICB0aGlzLl9wcm9wYWdhdGlvbkNvbnRleHQgPSBzY29wZURhdGEucHJvcGFnYXRpb25Db250ZXh0OwogICAgICB9CiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc2NvcGVUb01lcmdlKSkgewogICAgICBjb25zdCBzY29wZUNvbnRleHQgPSBjYXB0dXJlQ29udGV4dCA7CiAgICAgIHRoaXMuX3RhZ3MgPSB7IC4uLnRoaXMuX3RhZ3MsIC4uLnNjb3BlQ29udGV4dC50YWdzIH07CiAgICAgIHRoaXMuX2V4dHJhID0geyAuLi50aGlzLl9leHRyYSwgLi4uc2NvcGVDb250ZXh0LmV4dHJhIH07CiAgICAgIHRoaXMuX2NvbnRleHRzID0geyAuLi50aGlzLl9jb250ZXh0cywgLi4uc2NvcGVDb250ZXh0LmNvbnRleHRzIH07CiAgICAgIGlmIChzY29wZUNvbnRleHQudXNlcikgewogICAgICAgIHRoaXMuX3VzZXIgPSBzY29wZUNvbnRleHQudXNlcjsKICAgICAgfQogICAgICBpZiAoc2NvcGVDb250ZXh0LmxldmVsKSB7CiAgICAgICAgdGhpcy5fbGV2ZWwgPSBzY29wZUNvbnRleHQubGV2ZWw7CiAgICAgIH0KICAgICAgaWYgKHNjb3BlQ29udGV4dC5maW5nZXJwcmludCkgewogICAgICAgIHRoaXMuX2ZpbmdlcnByaW50ID0gc2NvcGVDb250ZXh0LmZpbmdlcnByaW50OwogICAgICB9CiAgICAgIGlmIChzY29wZUNvbnRleHQucmVxdWVzdFNlc3Npb24pIHsKICAgICAgICB0aGlzLl9yZXF1ZXN0U2Vzc2lvbiA9IHNjb3BlQ29udGV4dC5yZXF1ZXN0U2Vzc2lvbjsKICAgICAgfQogICAgICBpZiAoc2NvcGVDb250ZXh0LnByb3BhZ2F0aW9uQ29udGV4dCkgewogICAgICAgIHRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dCA9IHNjb3BlQ29udGV4dC5wcm9wYWdhdGlvbkNvbnRleHQ7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgIGNsZWFyKCkgewogICAgdGhpcy5fYnJlYWRjcnVtYnMgPSBbXTsKICAgIHRoaXMuX3RhZ3MgPSB7fTsKICAgIHRoaXMuX2V4dHJhID0ge307CiAgICB0aGlzLl91c2VyID0ge307CiAgICB0aGlzLl9jb250ZXh0cyA9IHt9OwogICAgdGhpcy5fbGV2ZWwgPSB1bmRlZmluZWQ7CiAgICB0aGlzLl90cmFuc2FjdGlvbk5hbWUgPSB1bmRlZmluZWQ7CiAgICB0aGlzLl9maW5nZXJwcmludCA9IHVuZGVmaW5lZDsKICAgIHRoaXMuX3JlcXVlc3RTZXNzaW9uID0gdW5kZWZpbmVkOwogICAgdGhpcy5fc3BhbiA9IHVuZGVmaW5lZDsKICAgIHRoaXMuX3Nlc3Npb24gPSB1bmRlZmluZWQ7CiAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpOwogICAgdGhpcy5fYXR0YWNobWVudHMgPSBbXTsKICAgIHRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dCA9IGdlbmVyYXRlUHJvcGFnYXRpb25Db250ZXh0KCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgIGFkZEJyZWFkY3J1bWIoYnJlYWRjcnVtYiwgbWF4QnJlYWRjcnVtYnMpIHsKICAgIGNvbnN0IG1heENydW1icyA9IHR5cGVvZiBtYXhCcmVhZGNydW1icyA9PT0gJ251bWJlcicgPyBtYXhCcmVhZGNydW1icyA6IERFRkFVTFRfTUFYX0JSRUFEQ1JVTUJTOwoKICAgIC8vIE5vIGRhdGEgaGFzIGJlZW4gY2hhbmdlZCwgc28gZG9uJ3Qgbm90aWZ5IHNjb3BlIGxpc3RlbmVycwogICAgaWYgKG1heENydW1icyA8PSAwKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGNvbnN0IG1lcmdlZEJyZWFkY3J1bWIgPSB7CiAgICAgIHRpbWVzdGFtcDogZGF0ZVRpbWVzdGFtcEluU2Vjb25kcygpLAogICAgICAuLi5icmVhZGNydW1iLAogICAgfTsKCiAgICBjb25zdCBicmVhZGNydW1icyA9IHRoaXMuX2JyZWFkY3J1bWJzOwogICAgYnJlYWRjcnVtYnMucHVzaChtZXJnZWRCcmVhZGNydW1iKTsKICAgIHRoaXMuX2JyZWFkY3J1bWJzID0gYnJlYWRjcnVtYnMubGVuZ3RoID4gbWF4Q3J1bWJzID8gYnJlYWRjcnVtYnMuc2xpY2UoLW1heENydW1icykgOiBicmVhZGNydW1iczsKCiAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpOwoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICAgZ2V0TGFzdEJyZWFkY3J1bWIoKSB7CiAgICByZXR1cm4gdGhpcy5fYnJlYWRjcnVtYnNbdGhpcy5fYnJlYWRjcnVtYnMubGVuZ3RoIC0gMV07CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogICBjbGVhckJyZWFkY3J1bWJzKCkgewogICAgdGhpcy5fYnJlYWRjcnVtYnMgPSBbXTsKICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgIGFkZEF0dGFjaG1lbnQoYXR0YWNobWVudCkgewogICAgdGhpcy5fYXR0YWNobWVudHMucHVzaChhdHRhY2htZW50KTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldFNjb3BlRGF0YSgpYCBpbnN0ZWFkLgogICAqLwogICBnZXRBdHRhY2htZW50cygpIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldFNjb3BlRGF0YSgpOwoKICAgIHJldHVybiBkYXRhLmF0dGFjaG1lbnRzOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICAgY2xlYXJBdHRhY2htZW50cygpIHsKICAgIHRoaXMuX2F0dGFjaG1lbnRzID0gW107CiAgICByZXR1cm4gdGhpczsKICB9CgogIC8qKiBAaW5oZXJpdERvYyAqLwogICBnZXRTY29wZURhdGEoKSB7CiAgICBjb25zdCB7CiAgICAgIF9icmVhZGNydW1icywKICAgICAgX2F0dGFjaG1lbnRzLAogICAgICBfY29udGV4dHMsCiAgICAgIF90YWdzLAogICAgICBfZXh0cmEsCiAgICAgIF91c2VyLAogICAgICBfbGV2ZWwsCiAgICAgIF9maW5nZXJwcmludCwKICAgICAgX2V2ZW50UHJvY2Vzc29ycywKICAgICAgX3Byb3BhZ2F0aW9uQ29udGV4dCwKICAgICAgX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YSwKICAgICAgX3RyYW5zYWN0aW9uTmFtZSwKICAgICAgX3NwYW4sCiAgICB9ID0gdGhpczsKCiAgICByZXR1cm4gewogICAgICBicmVhZGNydW1iczogX2JyZWFkY3J1bWJzLAogICAgICBhdHRhY2htZW50czogX2F0dGFjaG1lbnRzLAogICAgICBjb250ZXh0czogX2NvbnRleHRzLAogICAgICB0YWdzOiBfdGFncywKICAgICAgZXh0cmE6IF9leHRyYSwKICAgICAgdXNlcjogX3VzZXIsCiAgICAgIGxldmVsOiBfbGV2ZWwsCiAgICAgIGZpbmdlcnByaW50OiBfZmluZ2VycHJpbnQgfHwgW10sCiAgICAgIGV2ZW50UHJvY2Vzc29yczogX2V2ZW50UHJvY2Vzc29ycywKICAgICAgcHJvcGFnYXRpb25Db250ZXh0OiBfcHJvcGFnYXRpb25Db250ZXh0LAogICAgICBzZGtQcm9jZXNzaW5nTWV0YWRhdGE6IF9zZGtQcm9jZXNzaW5nTWV0YWRhdGEsCiAgICAgIHRyYW5zYWN0aW9uTmFtZTogX3RyYW5zYWN0aW9uTmFtZSwKICAgICAgc3BhbjogX3NwYW4sCiAgICB9OwogIH0KCiAgLyoqCiAgICogQXBwbGllcyBkYXRhIGZyb20gdGhlIHNjb3BlIHRvIHRoZSBldmVudCBhbmQgcnVucyBhbGwgZXZlbnQgcHJvY2Vzc29ycyBvbiBpdC4KICAgKgogICAqIEBwYXJhbSBldmVudCBFdmVudAogICAqIEBwYXJhbSBoaW50IE9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9yaWdpbmFsIGV4Y2VwdGlvbiwgZm9yIHVzZSBieSB0aGUgZXZlbnQgcHJvY2Vzc29ycy4KICAgKiBAaGlkZGVuCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBhcHBseVNjb3BlRGF0YVRvRXZlbnQoKWAgZGlyZWN0bHkKICAgKi8KICAgYXBwbHlUb0V2ZW50KAogICAgZXZlbnQsCiAgICBoaW50ID0ge30sCiAgICBhZGRpdGlvbmFsRXZlbnRQcm9jZXNzb3JzID0gW10sCiAgKSB7CiAgICBhcHBseVNjb3BlRGF0YVRvRXZlbnQoZXZlbnQsIHRoaXMuZ2V0U2NvcGVEYXRhKCkpOwoKICAgIC8vIFRPRE8gKHY4KTogVXBkYXRlIHRoaXMgb3JkZXIgdG8gYmU6IEdsb2JhbCA+IENsaWVudCA+IFNjb3BlCiAgICBjb25zdCBldmVudFByb2Nlc3NvcnMgPSBbCiAgICAgIC4uLmFkZGl0aW9uYWxFdmVudFByb2Nlc3NvcnMsCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgICAuLi5nZXRHbG9iYWxFdmVudFByb2Nlc3NvcnMoKSwKICAgICAgLi4udGhpcy5fZXZlbnRQcm9jZXNzb3JzLAogICAgXTsKCiAgICByZXR1cm4gbm90aWZ5RXZlbnRQcm9jZXNzb3JzKGV2ZW50UHJvY2Vzc29ycywgZXZlbnQsIGhpbnQpOwogIH0KCiAgLyoqCiAgICogQWRkIGRhdGEgd2hpY2ggd2lsbCBiZSBhY2Nlc3NpYmxlIGR1cmluZyBldmVudCBwcm9jZXNzaW5nIGJ1dCB3b24ndCBnZXQgc2VudCB0byBTZW50cnkKICAgKi8KICAgc2V0U0RLUHJvY2Vzc2luZ01ldGFkYXRhKG5ld0RhdGEpIHsKICAgIHRoaXMuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YSA9IHsgLi4udGhpcy5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhLCAuLi5uZXdEYXRhIH07CgogICAgcmV0dXJuIHRoaXM7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogICBzZXRQcm9wYWdhdGlvbkNvbnRleHQoY29udGV4dCkgewogICAgdGhpcy5fcHJvcGFnYXRpb25Db250ZXh0ID0gY29udGV4dDsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICAgZ2V0UHJvcGFnYXRpb25Db250ZXh0KCkgewogICAgcmV0dXJuIHRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dDsKICB9CgogIC8qKgogICAqIENhcHR1cmUgYW4gZXhjZXB0aW9uIGZvciB0aGlzIHNjb3BlLgogICAqCiAgICogQHBhcmFtIGV4Y2VwdGlvbiBUaGUgZXhjZXB0aW9uIHRvIGNhcHR1cmUuCiAgICogQHBhcmFtIGhpbnQgT3B0aW5hbCBhZGRpdGlvbmFsIGRhdGEgdG8gYXR0YWNoIHRvIHRoZSBTZW50cnkgZXZlbnQuCiAgICogQHJldHVybnMgdGhlIGlkIG9mIHRoZSBjYXB0dXJlZCBTZW50cnkgZXZlbnQuCiAgICovCiAgIGNhcHR1cmVFeGNlcHRpb24oZXhjZXB0aW9uLCBoaW50KSB7CiAgICBjb25zdCBldmVudElkID0gaGludCAmJiBoaW50LmV2ZW50X2lkID8gaGludC5ldmVudF9pZCA6IHV1aWQ0KCk7CgogICAgaWYgKCF0aGlzLl9jbGllbnQpIHsKICAgICAgbG9nZ2VyLndhcm4oJ05vIGNsaWVudCBjb25maWd1cmVkIG9uIHNjb3BlIC0gd2lsbCBub3QgY2FwdHVyZSBleGNlcHRpb24hJyk7CiAgICAgIHJldHVybiBldmVudElkOwogICAgfQoKICAgIGNvbnN0IHN5bnRoZXRpY0V4Y2VwdGlvbiA9IG5ldyBFcnJvcignU2VudHJ5IHN5bnRoZXRpY0V4Y2VwdGlvbicpOwoKICAgIHRoaXMuX2NsaWVudC5jYXB0dXJlRXhjZXB0aW9uKAogICAgICBleGNlcHRpb24sCiAgICAgIHsKICAgICAgICBvcmlnaW5hbEV4Y2VwdGlvbjogZXhjZXB0aW9uLAogICAgICAgIHN5bnRoZXRpY0V4Y2VwdGlvbiwKICAgICAgICAuLi5oaW50LAogICAgICAgIGV2ZW50X2lkOiBldmVudElkLAogICAgICB9LAogICAgICB0aGlzLAogICAgKTsKCiAgICByZXR1cm4gZXZlbnRJZDsKICB9CgogIC8qKgogICAqIENhcHR1cmUgYSBtZXNzYWdlIGZvciB0aGlzIHNjb3BlLgogICAqCiAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gY2FwdHVyZS4KICAgKiBAcGFyYW0gbGV2ZWwgQW4gb3B0aW9uYWwgc2V2ZXJpdHkgbGV2ZWwgdG8gcmVwb3J0IHRoZSBtZXNzYWdlIHdpdGguCiAgICogQHBhcmFtIGhpbnQgT3B0aW9uYWwgYWRkaXRpb25hbCBkYXRhIHRvIGF0dGFjaCB0byB0aGUgU2VudHJ5IGV2ZW50LgogICAqIEByZXR1cm5zIHRoZSBpZCBvZiB0aGUgY2FwdHVyZWQgbWVzc2FnZS4KICAgKi8KICAgY2FwdHVyZU1lc3NhZ2UobWVzc2FnZSwgbGV2ZWwsIGhpbnQpIHsKICAgIGNvbnN0IGV2ZW50SWQgPSBoaW50ICYmIGhpbnQuZXZlbnRfaWQgPyBoaW50LmV2ZW50X2lkIDogdXVpZDQoKTsKCiAgICBpZiAoIXRoaXMuX2NsaWVudCkgewogICAgICBsb2dnZXIud2FybignTm8gY2xpZW50IGNvbmZpZ3VyZWQgb24gc2NvcGUgLSB3aWxsIG5vdCBjYXB0dXJlIG1lc3NhZ2UhJyk7CiAgICAgIHJldHVybiBldmVudElkOwogICAgfQoKICAgIGNvbnN0IHN5bnRoZXRpY0V4Y2VwdGlvbiA9IG5ldyBFcnJvcihtZXNzYWdlKTsKCiAgICB0aGlzLl9jbGllbnQuY2FwdHVyZU1lc3NhZ2UoCiAgICAgIG1lc3NhZ2UsCiAgICAgIGxldmVsLAogICAgICB7CiAgICAgICAgb3JpZ2luYWxFeGNlcHRpb246IG1lc3NhZ2UsCiAgICAgICAgc3ludGhldGljRXhjZXB0aW9uLAogICAgICAgIC4uLmhpbnQsCiAgICAgICAgZXZlbnRfaWQ6IGV2ZW50SWQsCiAgICAgIH0sCiAgICAgIHRoaXMsCiAgICApOwoKICAgIHJldHVybiBldmVudElkOwogIH0KCiAgLyoqCiAgICogQ2FwdHVyZXMgYSBtYW51YWxseSBjcmVhdGVkIGV2ZW50IGZvciB0aGlzIHNjb3BlIGFuZCBzZW5kcyBpdCB0byBTZW50cnkuCiAgICoKICAgKiBAcGFyYW0gZXhjZXB0aW9uIFRoZSBldmVudCB0byBjYXB0dXJlLgogICAqIEBwYXJhbSBoaW50IE9wdGlvbmFsIGFkZGl0aW9uYWwgZGF0YSB0byBhdHRhY2ggdG8gdGhlIFNlbnRyeSBldmVudC4KICAgKiBAcmV0dXJucyB0aGUgaWQgb2YgdGhlIGNhcHR1cmVkIGV2ZW50LgogICAqLwogICBjYXB0dXJlRXZlbnQoZXZlbnQsIGhpbnQpIHsKICAgIGNvbnN0IGV2ZW50SWQgPSBoaW50ICYmIGhpbnQuZXZlbnRfaWQgPyBoaW50LmV2ZW50X2lkIDogdXVpZDQoKTsKCiAgICBpZiAoIXRoaXMuX2NsaWVudCkgewogICAgICBsb2dnZXIud2FybignTm8gY2xpZW50IGNvbmZpZ3VyZWQgb24gc2NvcGUgLSB3aWxsIG5vdCBjYXB0dXJlIGV2ZW50IScpOwogICAgICByZXR1cm4gZXZlbnRJZDsKICAgIH0KCiAgICB0aGlzLl9jbGllbnQuY2FwdHVyZUV2ZW50KGV2ZW50LCB7IC4uLmhpbnQsIGV2ZW50X2lkOiBldmVudElkIH0sIHRoaXMpOwoKICAgIHJldHVybiBldmVudElkOwogIH0KCiAgLyoqCiAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCBvbiBldmVyeSBzZXQgY2FsbC4KICAgKi8KICAgX25vdGlmeVNjb3BlTGlzdGVuZXJzKCkgewogICAgLy8gV2UgbmVlZCB0aGlzIGNoZWNrIGZvciB0aGlzLl9ub3RpZnlpbmdMaXN0ZW5lcnMgdG8gYmUgYWJsZSB0byB3b3JrIG9uIHNjb3BlIGR1cmluZyB1cGRhdGVzCiAgICAvLyBJZiB0aGlzIGNoZWNrIGlzIG5vdCBoZXJlIHdlJ2xsIHByb2R1Y2UgZW5kbGVzcyByZWN1cnNpb24gd2hlbiBzb21ldGhpbmcgaXMgZG9uZSB3aXRoIHRoZSBzY29wZQogICAgLy8gZHVyaW5nIHRoZSBjYWxsYmFjay4KICAgIGlmICghdGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzKSB7CiAgICAgIHRoaXMuX25vdGlmeWluZ0xpc3RlbmVycyA9IHRydWU7CiAgICAgIHRoaXMuX3Njb3BlTGlzdGVuZXJzLmZvckVhY2goY2FsbGJhY2sgPT4gewogICAgICAgIGNhbGxiYWNrKHRoaXMpOwogICAgICB9KTsKICAgICAgdGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzID0gZmFsc2U7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBnZW5lcmF0ZVByb3BhZ2F0aW9uQ29udGV4dCgpIHsKICByZXR1cm4gewogICAgdHJhY2VJZDogdXVpZDQoKSwKICAgIHNwYW5JZDogdXVpZDQoKS5zdWJzdHJpbmcoMTYpLAogIH07Cn0KCmNvbnN0IFNES19WRVJTSU9OID0gJzcuMTIwLjMnOwoKLyoqCiAqIEFQSSBjb21wYXRpYmlsaXR5IHZlcnNpb24gb2YgdGhpcyBodWIuCiAqCiAqIFdBUk5JTkc6IFRoaXMgbnVtYmVyIHNob3VsZCBvbmx5IGJlIGluY3JlYXNlZCB3aGVuIHRoZSBnbG9iYWwgaW50ZXJmYWNlCiAqIGNoYW5nZXMgYW5kIG5ldyBtZXRob2RzIGFyZSBpbnRyb2R1Y2VkLgogKgogKiBAaGlkZGVuCiAqLwpjb25zdCBBUElfVkVSU0lPTiA9IHBhcnNlRmxvYXQoU0RLX1ZFUlNJT04pOwoKLyoqCiAqIERlZmF1bHQgbWF4aW11bSBudW1iZXIgb2YgYnJlYWRjcnVtYnMgYWRkZWQgdG8gYW4gZXZlbnQuIENhbiBiZSBvdmVyd3JpdHRlbgogKiB3aXRoIHtAbGluayBPcHRpb25zLm1heEJyZWFkY3J1bWJzfS4KICovCmNvbnN0IERFRkFVTFRfQlJFQURDUlVNQlMgPSAxMDA7CgovKioKICogQGRlcHJlY2F0ZWQgVGhlIGBIdWJgIGNsYXNzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uIDggb2YgdGhlIFNESyBpbiBmYXZvdXIgb2YgYFNjb3BlYCBhbmQgYENsaWVudGAgb2JqZWN0cy4KICoKICogSWYgeW91IHByZXZpb3VzbHkgdXNlZCB0aGUgYEh1YmAgY2xhc3MgZGlyZWN0bHksIHJlcGxhY2UgaXQgd2l0aCBgU2NvcGVgIGFuZCBgQ2xpZW50YCBvYmplY3RzLiBNb3JlIGluZm9ybWF0aW9uOgogKiAtIFtNdWx0aXBsZSBTZW50cnkgSW5zdGFuY2VzXShodHRwczovL2RvY3Muc2VudHJ5LmlvL3BsYXRmb3Jtcy9qYXZhc2NyaXB0L2Jlc3QtcHJhY3RpY2VzL211bHRpcGxlLXNlbnRyeS1pbnN0YW5jZXMvKQogKiAtIFtCcm93c2VyIEV4dGVuc2lvbnNdKGh0dHBzOi8vZG9jcy5zZW50cnkuaW8vcGxhdGZvcm1zL2phdmFzY3JpcHQvYmVzdC1wcmFjdGljZXMvYnJvd3Nlci1leHRlbnNpb25zLykKICoKICogU29tZSBvZiBvdXIgQVBJcyBhcmUgdHlwZWQgd2l0aCB0aGUgSHViIGNsYXNzIGluc3RlYWQgb2YgdGhlIGludGVyZmFjZSAoZS5nLiBgZ2V0Q3VycmVudEh1YmApLiBNb3N0IG9mIHRoZW0gYXJlIGRlcHJlY2F0ZWQKICogdGhlbXNlbHZlcyBhbmQgd2lsbCBhbHNvIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiA4LiBNb3JlIGluZm9ybWF0aW9uOgogKiAtIFtNaWdyYXRpb24gR3VpZGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvYmxvYi9kZXZlbG9wL01JR1JBVElPTi5tZCNkZXByZWNhdGUtaHViKQogKi8KLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCmNsYXNzIEh1YiAgewogIC8qKiBJcyBhIHtAbGluayBMYXllcn1bXSBjb250YWluaW5nIHRoZSBjbGllbnQgYW5kIHNjb3BlICovCgogIC8qKiBDb250YWlucyB0aGUgbGFzdCBldmVudCBpZCBvZiBhIGNhcHR1cmVkIGV2ZW50LiAgKi8KCiAgLyoqCiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgaHViLCB3aWxsIHB1c2ggb25lIHtAbGluayBMYXllcn0gaW50byB0aGUKICAgKiBpbnRlcm5hbCBzdGFjayBvbiBjcmVhdGlvbi4KICAgKgogICAqIEBwYXJhbSBjbGllbnQgYm91bmQgdG8gdGhlIGh1Yi4KICAgKiBAcGFyYW0gc2NvcGUgYm91bmQgdG8gdGhlIGh1Yi4KICAgKiBAcGFyYW0gdmVyc2lvbiBudW1iZXIsIGhpZ2hlciBudW1iZXIgbWVhbnMgaGlnaGVyIHByaW9yaXR5LgogICAqCiAgICogQGRlcHJlY2F0ZWQgSW5zdGFudGlhdGlvbiBvZiBIdWIgb2JqZWN0cyBpcyBkZXByZWNhdGVkIGFuZCB0aGUgY29uc3RydWN0b3Igd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gOCBvZiB0aGUgU0RLLgogICAqCiAgICogSWYgeW91IGFyZSBjdXJyZW50bHkgdXNpbmcgdGhlIEh1YiBmb3IgbXVsdGktY2xpZW50IHVzZSBsaWtlIHNvOgogICAqCiAgICogYGBgCiAgICogLy8gT0xECiAgICogY29uc3QgaHViID0gbmV3IEh1YigpOwogICAqIGh1Yi5iaW5kQ2xpZW50KGNsaWVudCk7CiAgICogbWFrZU1haW4oaHViKQogICAqIGBgYAogICAqCiAgICogaW5zdGVhZCBpbml0aWFsaXplIHRoZSBjbGllbnQgYXMgZm9sbG93czoKICAgKgogICAqIGBgYAogICAqIC8vIE5FVwogICAqIFNlbnRyeS53aXRoSXNvbGF0aW9uU2NvcGUoKCkgPT4gewogICAqICAgIFNlbnRyeS5zZXRDdXJyZW50Q2xpZW50KGNsaWVudCk7CiAgICogICAgY2xpZW50LmluaXQoKTsKICAgKiB9KTsKICAgKiBgYGAKICAgKgogICAqIElmIHlvdSBhcmUgdXNpbmcgdGhlIEh1YiB0byBjYXB0dXJlIGV2ZW50cyBsaWtlIHNvOgogICAqCiAgICogYGBgCiAgICogLy8gT0xECiAgICogY29uc3QgY2xpZW50ID0gbmV3IENsaWVudCgpOwogICAqIGNvbnN0IGh1YiA9IG5ldyBIdWIoY2xpZW50KTsKICAgKiBodWIuY2FwdHVyZUV4Y2VwdGlvbigpCiAgICogYGBgCiAgICoKICAgKiBpbnN0ZWFkIGNhcHR1cmUgaXNvbGF0ZWQgZXZlbnRzIGFzIGZvbGxvd3M6CiAgICoKICAgKiBgYGAKICAgKiAvLyBORVcKICAgKiBjb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KCk7CiAgICogY29uc3Qgc2NvcGUgPSBuZXcgU2NvcGUoKTsKICAgKiBzY29wZS5zZXRDbGllbnQoY2xpZW50KTsKICAgKiBzY29wZS5jYXB0dXJlRXhjZXB0aW9uKCk7CiAgICogYGBgCiAgICovCiAgIGNvbnN0cnVjdG9yKAogICAgY2xpZW50LAogICAgc2NvcGUsCiAgICBpc29sYXRpb25TY29wZSwKICAgICAgX3ZlcnNpb24gPSBBUElfVkVSU0lPTiwKICApIHt0aGlzLl92ZXJzaW9uID0gX3ZlcnNpb247CiAgICBsZXQgYXNzaWduZWRTY29wZTsKICAgIGlmICghc2NvcGUpIHsKICAgICAgYXNzaWduZWRTY29wZSA9IG5ldyBTY29wZSgpOwogICAgICBhc3NpZ25lZFNjb3BlLnNldENsaWVudChjbGllbnQpOwogICAgfSBlbHNlIHsKICAgICAgYXNzaWduZWRTY29wZSA9IHNjb3BlOwogICAgfQoKICAgIGxldCBhc3NpZ25lZElzb2xhdGlvblNjb3BlOwogICAgaWYgKCFpc29sYXRpb25TY29wZSkgewogICAgICBhc3NpZ25lZElzb2xhdGlvblNjb3BlID0gbmV3IFNjb3BlKCk7CiAgICAgIGFzc2lnbmVkSXNvbGF0aW9uU2NvcGUuc2V0Q2xpZW50KGNsaWVudCk7CiAgICB9IGVsc2UgewogICAgICBhc3NpZ25lZElzb2xhdGlvblNjb3BlID0gaXNvbGF0aW9uU2NvcGU7CiAgICB9CgogICAgdGhpcy5fc3RhY2sgPSBbeyBzY29wZTogYXNzaWduZWRTY29wZSB9XTsKCiAgICBpZiAoY2xpZW50KSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgICB0aGlzLmJpbmRDbGllbnQoY2xpZW50KTsKICAgIH0KCiAgICB0aGlzLl9pc29sYXRpb25TY29wZSA9IGFzc2lnbmVkSXNvbGF0aW9uU2NvcGU7CiAgfQoKICAvKioKICAgKiBDaGVja3MgaWYgdGhpcyBodWIncyB2ZXJzaW9uIGlzIG9sZGVyIHRoYW4gdGhlIGdpdmVuIHZlcnNpb24uCiAgICoKICAgKiBAcGFyYW0gdmVyc2lvbiBBIHZlcnNpb24gbnVtYmVyIHRvIGNvbXBhcmUgdG8uCiAgICogQHJldHVybiBUcnVlIGlmIHRoZSBnaXZlbiB2ZXJzaW9uIGlzIG5ld2VyOyBvdGhlcndpc2UgZmFsc2UuCiAgICoKICAgKiBAZGVwcmVjYXRlZCBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4KICAgKi8KICAgaXNPbGRlclRoYW4odmVyc2lvbikgewogICAgcmV0dXJuIHRoaXMuX3ZlcnNpb24gPCB2ZXJzaW9uOwogIH0KCiAgLyoqCiAgICogVGhpcyBiaW5kcyB0aGUgZ2l2ZW4gY2xpZW50IHRvIHRoZSBjdXJyZW50IHNjb3BlLgogICAqIEBwYXJhbSBjbGllbnQgQW4gU0RLIGNsaWVudCAoY2xpZW50KSBpbnN0YW5jZS4KICAgKgogICAqIEBkZXByZWNhdGVkIFVzZSBgaW5pdEFuZEJpbmQoKWAgZGlyZWN0bHksIG9yIGBzZXRDdXJyZW50Q2xpZW50KClgIGFuZC9vciBgY2xpZW50LmluaXQoKWAgaW5zdGVhZC4KICAgKi8KICAgYmluZENsaWVudChjbGllbnQpIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgY29uc3QgdG9wID0gdGhpcy5nZXRTdGFja1RvcCgpOwogICAgdG9wLmNsaWVudCA9IGNsaWVudDsKICAgIHRvcC5zY29wZS5zZXRDbGllbnQoY2xpZW50KTsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgaWYgKGNsaWVudCAmJiBjbGllbnQuc2V0dXBJbnRlZ3JhdGlvbnMpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICAgIGNsaWVudC5zZXR1cEludGVncmF0aW9ucygpOwogICAgfQogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKgogICAqIEBkZXByZWNhdGVkIFVzZSBgd2l0aFNjb3BlYCBpbnN0ZWFkLgogICAqLwogICBwdXNoU2NvcGUoKSB7CiAgICAvLyBXZSB3YW50IHRvIGNsb25lIHRoZSBjb250ZW50IG9mIHByZXYgc2NvcGUKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgY29uc3Qgc2NvcGUgPSB0aGlzLmdldFNjb3BlKCkuY2xvbmUoKTsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdGhpcy5nZXRTdGFjaygpLnB1c2goewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgICAgY2xpZW50OiB0aGlzLmdldENsaWVudCgpLAogICAgICBzY29wZSwKICAgIH0pOwogICAgcmV0dXJuIHNjb3BlOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKgogICAqIEBkZXByZWNhdGVkIFVzZSBgd2l0aFNjb3BlYCBpbnN0ZWFkLgogICAqLwogICBwb3BTY29wZSgpIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgaWYgKHRoaXMuZ2V0U3RhY2soKS5sZW5ndGggPD0gMSkgcmV0dXJuIGZhbHNlOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICByZXR1cm4gISF0aGlzLmdldFN0YWNrKCkucG9wKCk7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBTZW50cnkud2l0aFNjb3BlKClgIGluc3RlYWQuCiAgICovCiAgIHdpdGhTY29wZShjYWxsYmFjaykgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICBjb25zdCBzY29wZSA9IHRoaXMucHVzaFNjb3BlKCk7CgogICAgbGV0IG1heWJlUHJvbWlzZVJlc3VsdDsKICAgIHRyeSB7CiAgICAgIG1heWJlUHJvbWlzZVJlc3VsdCA9IGNhbGxiYWNrKHNjb3BlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICAgIHRoaXMucG9wU2NvcGUoKTsKICAgICAgdGhyb3cgZTsKICAgIH0KCiAgICBpZiAoaXNUaGVuYWJsZShtYXliZVByb21pc2VSZXN1bHQpKSB7CiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBpc1RoZW5hYmxlIHJldHVybnMgdGhlIHdyb25nIHR5cGUKICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZVJlc3VsdC50aGVuKAogICAgICAgIHJlcyA9PiB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgICAgICAgIHRoaXMucG9wU2NvcGUoKTsKICAgICAgICAgIHJldHVybiByZXM7CiAgICAgICAgfSwKICAgICAgICBlID0+IHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgICAgICAgdGhpcy5wb3BTY29wZSgpOwogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9LAogICAgICApOwogICAgfQoKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdGhpcy5wb3BTY29wZSgpOwogICAgcmV0dXJuIG1heWJlUHJvbWlzZVJlc3VsdDsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICoKICAgKiBAZGVwcmVjYXRlZCBVc2UgYFNlbnRyeS5nZXRDbGllbnQoKWAgaW5zdGVhZC4KICAgKi8KICAgZ2V0Q2xpZW50KCkgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICByZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLmNsaWVudCA7CiAgfQoKICAvKioKICAgKiBSZXR1cm5zIHRoZSBzY29wZSBvZiB0aGUgdG9wIHN0YWNrLgogICAqCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBTZW50cnkuZ2V0Q3VycmVudFNjb3BlKClgIGluc3RlYWQuCiAgICovCiAgIGdldFNjb3BlKCkgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICByZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLnNjb3BlOwogIH0KCiAgLyoqCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBTZW50cnkuZ2V0SXNvbGF0aW9uU2NvcGUoKWAgaW5zdGVhZC4KICAgKi8KICAgZ2V0SXNvbGF0aW9uU2NvcGUoKSB7CiAgICByZXR1cm4gdGhpcy5faXNvbGF0aW9uU2NvcGU7CiAgfQoKICAvKioKICAgKiBSZXR1cm5zIHRoZSBzY29wZSBzdGFjayBmb3IgZG9tYWlucyBvciB0aGUgcHJvY2Vzcy4KICAgKiBAZGVwcmVjYXRlZCBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4KICAgKi8KICAgZ2V0U3RhY2soKSB7CiAgICByZXR1cm4gdGhpcy5fc3RhY2s7CiAgfQoKICAvKioKICAgKiBSZXR1cm5zIHRoZSB0b3Btb3N0IHNjb3BlIGxheWVyIGluIHRoZSBvcmRlciBkb21haW4gPiBsb2NhbCA+IHByb2Nlc3MuCiAgICogQGRlcHJlY2F0ZWQgVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguCiAgICovCiAgIGdldFN0YWNrVG9wKCkgewogICAgcmV0dXJuIHRoaXMuX3N0YWNrW3RoaXMuX3N0YWNrLmxlbmd0aCAtIDFdOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKgogICAqIEBkZXByZWNhdGVkIFVzZSBgU2VudHJ5LmNhcHR1cmVFeGNlcHRpb24oKWAgaW5zdGVhZC4KICAgKi8KICAgY2FwdHVyZUV4Y2VwdGlvbihleGNlcHRpb24sIGhpbnQpIHsKICAgIGNvbnN0IGV2ZW50SWQgPSAodGhpcy5fbGFzdEV2ZW50SWQgPSBoaW50ICYmIGhpbnQuZXZlbnRfaWQgPyBoaW50LmV2ZW50X2lkIDogdXVpZDQoKSk7CiAgICBjb25zdCBzeW50aGV0aWNFeGNlcHRpb24gPSBuZXcgRXJyb3IoJ1NlbnRyeSBzeW50aGV0aWNFeGNlcHRpb24nKTsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdGhpcy5nZXRTY29wZSgpLmNhcHR1cmVFeGNlcHRpb24oZXhjZXB0aW9uLCB7CiAgICAgIG9yaWdpbmFsRXhjZXB0aW9uOiBleGNlcHRpb24sCiAgICAgIHN5bnRoZXRpY0V4Y2VwdGlvbiwKICAgICAgLi4uaGludCwKICAgICAgZXZlbnRfaWQ6IGV2ZW50SWQsCiAgICB9KTsKCiAgICByZXR1cm4gZXZlbnRJZDsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICoKICAgKiBAZGVwcmVjYXRlZCBVc2UgIGBTZW50cnkuY2FwdHVyZU1lc3NhZ2UoKWAgaW5zdGVhZC4KICAgKi8KICAgY2FwdHVyZU1lc3NhZ2UoCiAgICBtZXNzYWdlLAogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICBsZXZlbCwKICAgIGhpbnQsCiAgKSB7CiAgICBjb25zdCBldmVudElkID0gKHRoaXMuX2xhc3RFdmVudElkID0gaGludCAmJiBoaW50LmV2ZW50X2lkID8gaGludC5ldmVudF9pZCA6IHV1aWQ0KCkpOwogICAgY29uc3Qgc3ludGhldGljRXhjZXB0aW9uID0gbmV3IEVycm9yKG1lc3NhZ2UpOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICB0aGlzLmdldFNjb3BlKCkuY2FwdHVyZU1lc3NhZ2UobWVzc2FnZSwgbGV2ZWwsIHsKICAgICAgb3JpZ2luYWxFeGNlcHRpb246IG1lc3NhZ2UsCiAgICAgIHN5bnRoZXRpY0V4Y2VwdGlvbiwKICAgICAgLi4uaGludCwKICAgICAgZXZlbnRfaWQ6IGV2ZW50SWQsCiAgICB9KTsKCiAgICByZXR1cm4gZXZlbnRJZDsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICoKICAgKiBAZGVwcmVjYXRlZCBVc2UgYFNlbnRyeS5jYXB0dXJlRXZlbnQoKWAgaW5zdGVhZC4KICAgKi8KICAgY2FwdHVyZUV2ZW50KGV2ZW50LCBoaW50KSB7CiAgICBjb25zdCBldmVudElkID0gaGludCAmJiBoaW50LmV2ZW50X2lkID8gaGludC5ldmVudF9pZCA6IHV1aWQ0KCk7CiAgICBpZiAoIWV2ZW50LnR5cGUpIHsKICAgICAgdGhpcy5fbGFzdEV2ZW50SWQgPSBldmVudElkOwogICAgfQogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICB0aGlzLmdldFNjb3BlKCkuY2FwdHVyZUV2ZW50KGV2ZW50LCB7IC4uLmhpbnQsIGV2ZW50X2lkOiBldmVudElkIH0pOwogICAgcmV0dXJuIGV2ZW50SWQ7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqCiAgICogQGRlcHJlY2F0ZWQgVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguCiAgICovCiAgIGxhc3RFdmVudElkKCkgewogICAgcmV0dXJuIHRoaXMuX2xhc3RFdmVudElkOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKgogICAqIEBkZXByZWNhdGVkIFVzZSBgU2VudHJ5LmFkZEJyZWFkY3J1bWIoKWAgaW5zdGVhZC4KICAgKi8KICAgYWRkQnJlYWRjcnVtYihicmVhZGNydW1iLCBoaW50KSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIGNvbnN0IHsgc2NvcGUsIGNsaWVudCB9ID0gdGhpcy5nZXRTdGFja1RvcCgpOwoKICAgIGlmICghY2xpZW50KSByZXR1cm47CgogICAgY29uc3QgeyBiZWZvcmVCcmVhZGNydW1iID0gbnVsbCwgbWF4QnJlYWRjcnVtYnMgPSBERUZBVUxUX0JSRUFEQ1JVTUJTIH0gPQogICAgICAoY2xpZW50LmdldE9wdGlvbnMgJiYgY2xpZW50LmdldE9wdGlvbnMoKSkgfHwge307CgogICAgaWYgKG1heEJyZWFkY3J1bWJzIDw9IDApIHJldHVybjsKCiAgICBjb25zdCB0aW1lc3RhbXAgPSBkYXRlVGltZXN0YW1wSW5TZWNvbmRzKCk7CiAgICBjb25zdCBtZXJnZWRCcmVhZGNydW1iID0geyB0aW1lc3RhbXAsIC4uLmJyZWFkY3J1bWIgfTsKICAgIGNvbnN0IGZpbmFsQnJlYWRjcnVtYiA9IGJlZm9yZUJyZWFkY3J1bWIKICAgICAgPyAoY29uc29sZVNhbmRib3goKCkgPT4gYmVmb3JlQnJlYWRjcnVtYihtZXJnZWRCcmVhZGNydW1iLCBoaW50KSkgKQogICAgICA6IG1lcmdlZEJyZWFkY3J1bWI7CgogICAgaWYgKGZpbmFsQnJlYWRjcnVtYiA9PT0gbnVsbCkgcmV0dXJuOwoKICAgIGlmIChjbGllbnQuZW1pdCkgewogICAgICBjbGllbnQuZW1pdCgnYmVmb3JlQWRkQnJlYWRjcnVtYicsIGZpbmFsQnJlYWRjcnVtYiwgaGludCk7CiAgICB9CgogICAgLy8gVE9ETyh2OCk6IEkga25vdyB0aGlzIGNvbW1lbnQgZG9lc24ndCBtYWtlIG11Y2ggc2Vuc2UgYmVjYXVzZSB0aGUgaHViIHdpbGwgYmUgZGVwcmVjYXRlZCBidXQgSSBzdGlsbCB3YW50ZWQgdG8KICAgIC8vIHdyaXRlIGl0IGRvd24uIEluIHRoZW9yeSwgd2Ugd291bGQgaGF2ZSB0byBhZGQgdGhlIGJyZWFkY3J1bWJzIHRvIHRoZSBpc29sYXRpb24gc2NvcGUgaGVyZSwgaG93ZXZlciwgdGhhdCB3b3VsZAogICAgLy8gZHVwbGljYXRlIGFsbCBvZiB0aGUgYnJlYWRjcnVtYnMuIFRoZXJlIHdhcyB0aGUgcG9zc2liaWxpdHkgb2YgYWRkaW5nIGJyZWFkY3J1bWJzIHRvIGJvdGgsIHRoZSBpc29sYXRpb24gc2NvcGUKICAgIC8vIGFuZCB0aGUgbm9ybWFsIHNjb3BlLCBhbmQgZGVkdXBsaWNhdGluZyBpdCBkb3duIHRoZSBsaW5lIGluIHRoZSBldmVudCBwcm9jZXNzaW5nIHBpcGVsaW5lLiBIb3dldmVyLCB0aGF0IHdvdWxkCiAgICAvLyBoYXZlIGJlZW4gdmVyeSBmcmFnaWxlLCBiZWNhdXNlIHRoZSBicmVhZGNydW1iIG9iamVjdHMgd291bGQgaGF2ZSBuZWVkZWQgdG8ga2VlcCB0aGVpciBpZGVudGl0eSBhbGwgdGhyb3VnaG91dAogICAgLy8gdGhlIGV2ZW50IHByb2Nlc3NpbmcgcGlwZWxpbmUuCiAgICAvLyBJbiB0aGUgbmV3IGltcGxlbWVudGF0aW9uLCB0aGUgdG9wIGxldmVsIGBTZW50cnkuYWRkQnJlYWRjcnVtYigpYCBzaG91bGQgT05MWSB3cml0ZSB0byB0aGUgaXNvbGF0aW9uIHNjb3BlLgoKICAgIHNjb3BlLmFkZEJyZWFkY3J1bWIoZmluYWxCcmVhZGNydW1iLCBtYXhCcmVhZGNydW1icyk7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqIEBkZXByZWNhdGVkIFVzZSBgU2VudHJ5LnNldFVzZXIoKWAgaW5zdGVhZC4KICAgKi8KICAgc2V0VXNlcih1c2VyKSB7CiAgICAvLyBUT0RPKHY4KTogVGhlIHRvcCBsZXZlbCBgU2VudHJ5LnNldFVzZXIoKWAgZnVuY3Rpb24gc2hvdWxkIHdyaXRlIE9OTFkgdG8gdGhlIGlzb2xhdGlvbiBzY29wZS4KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdGhpcy5nZXRTY29wZSgpLnNldFVzZXIodXNlcik7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIHRoaXMuZ2V0SXNvbGF0aW9uU2NvcGUoKS5zZXRVc2VyKHVzZXIpOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKiBAZGVwcmVjYXRlZCBVc2UgYFNlbnRyeS5zZXRUYWdzKClgIGluc3RlYWQuCiAgICovCiAgIHNldFRhZ3ModGFncykgewogICAgLy8gVE9ETyh2OCk6IFRoZSB0b3AgbGV2ZWwgYFNlbnRyeS5zZXRUYWdzKClgIGZ1bmN0aW9uIHNob3VsZCB3cml0ZSBPTkxZIHRvIHRoZSBpc29sYXRpb24gc2NvcGUuCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIHRoaXMuZ2V0U2NvcGUoKS5zZXRUYWdzKHRhZ3MpOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICB0aGlzLmdldElzb2xhdGlvblNjb3BlKCkuc2V0VGFncyh0YWdzKTsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBTZW50cnkuc2V0RXh0cmFzKClgIGluc3RlYWQuCiAgICovCiAgIHNldEV4dHJhcyhleHRyYXMpIHsKICAgIC8vIFRPRE8odjgpOiBUaGUgdG9wIGxldmVsIGBTZW50cnkuc2V0RXh0cmFzKClgIGZ1bmN0aW9uIHNob3VsZCB3cml0ZSBPTkxZIHRvIHRoZSBpc29sYXRpb24gc2NvcGUuCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIHRoaXMuZ2V0U2NvcGUoKS5zZXRFeHRyYXMoZXh0cmFzKTsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdGhpcy5nZXRJc29sYXRpb25TY29wZSgpLnNldEV4dHJhcyhleHRyYXMpOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKiBAZGVwcmVjYXRlZCBVc2UgYFNlbnRyeS5zZXRUYWcoKWAgaW5zdGVhZC4KICAgKi8KICAgc2V0VGFnKGtleSwgdmFsdWUpIHsKICAgIC8vIFRPRE8odjgpOiBUaGUgdG9wIGxldmVsIGBTZW50cnkuc2V0VGFnKClgIGZ1bmN0aW9uIHNob3VsZCB3cml0ZSBPTkxZIHRvIHRoZSBpc29sYXRpb24gc2NvcGUuCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIHRoaXMuZ2V0U2NvcGUoKS5zZXRUYWcoa2V5LCB2YWx1ZSk7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIHRoaXMuZ2V0SXNvbGF0aW9uU2NvcGUoKS5zZXRUYWcoa2V5LCB2YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqIEBkZXByZWNhdGVkIFVzZSBgU2VudHJ5LnNldEV4dHJhKClgIGluc3RlYWQuCiAgICovCiAgIHNldEV4dHJhKGtleSwgZXh0cmEpIHsKICAgIC8vIFRPRE8odjgpOiBUaGUgdG9wIGxldmVsIGBTZW50cnkuc2V0RXh0cmEoKWAgZnVuY3Rpb24gc2hvdWxkIHdyaXRlIE9OTFkgdG8gdGhlIGlzb2xhdGlvbiBzY29wZS4KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdGhpcy5nZXRTY29wZSgpLnNldEV4dHJhKGtleSwgZXh0cmEpOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICB0aGlzLmdldElzb2xhdGlvblNjb3BlKCkuc2V0RXh0cmEoa2V5LCBleHRyYSk7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqIEBkZXByZWNhdGVkIFVzZSBgU2VudHJ5LnNldENvbnRleHQoKWAgaW5zdGVhZC4KICAgKi8KICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueQogICBzZXRDb250ZXh0KG5hbWUsIGNvbnRleHQpIHsKICAgIC8vIFRPRE8odjgpOiBUaGUgdG9wIGxldmVsIGBTZW50cnkuc2V0Q29udGV4dCgpYCBmdW5jdGlvbiBzaG91bGQgd3JpdGUgT05MWSB0byB0aGUgaXNvbGF0aW9uIHNjb3BlLgogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICB0aGlzLmdldFNjb3BlKCkuc2V0Q29udGV4dChuYW1lLCBjb250ZXh0KTsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdGhpcy5nZXRJc29sYXRpb25TY29wZSgpLnNldENvbnRleHQobmFtZSwgY29udGV4dCk7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRTY29wZSgpYCBkaXJlY3RseS4KICAgKi8KICAgY29uZmlndXJlU2NvcGUoY2FsbGJhY2spIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgY29uc3QgeyBzY29wZSwgY2xpZW50IH0gPSB0aGlzLmdldFN0YWNrVG9wKCk7CiAgICBpZiAoY2xpZW50KSB7CiAgICAgIGNhbGxiYWNrKHNjb3BlKTsKICAgIH0KICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgIHJ1bihjYWxsYmFjaykgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICBjb25zdCBvbGRIdWIgPSBtYWtlTWFpbih0aGlzKTsKICAgIHRyeSB7CiAgICAgIGNhbGxiYWNrKHRoaXMpOwogICAgfSBmaW5hbGx5IHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICAgIG1ha2VNYWluKG9sZEh1Yik7CiAgICB9CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqIEBkZXByZWNhdGVkIFVzZSBgU2VudHJ5LmdldENsaWVudCgpLmdldEludGVncmF0aW9uQnlOYW1lKClgIGluc3RlYWQuCiAgICovCiAgIGdldEludGVncmF0aW9uKGludGVncmF0aW9uKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuZ2V0Q2xpZW50KCk7CiAgICBpZiAoIWNsaWVudCkgcmV0dXJuIG51bGw7CiAgICB0cnkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgICAgcmV0dXJuIGNsaWVudC5nZXRJbnRlZ3JhdGlvbihpbnRlZ3JhdGlvbik7CiAgICB9IGNhdGNoIChfb08pIHsKICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLndhcm4oYENhbm5vdCByZXRyaWV2ZSBpbnRlZ3JhdGlvbiAke2ludGVncmF0aW9uLmlkfSBmcm9tIHRoZSBjdXJyZW50IEh1YmApOwogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9CgogIC8qKgogICAqIFN0YXJ0cyBhIG5ldyBgVHJhbnNhY3Rpb25gIGFuZCByZXR1cm5zIGl0LiBUaGlzIGlzIHRoZSBlbnRyeSBwb2ludCB0byBtYW51YWwgdHJhY2luZyBpbnN0cnVtZW50YXRpb24uCiAgICoKICAgKiBBIHRyZWUgc3RydWN0dXJlIGNhbiBiZSBidWlsdCBieSBhZGRpbmcgY2hpbGQgc3BhbnMgdG8gdGhlIHRyYW5zYWN0aW9uLCBhbmQgY2hpbGQgc3BhbnMgdG8gb3RoZXIgc3BhbnMuIFRvIHN0YXJ0IGEKICAgKiBuZXcgY2hpbGQgc3BhbiB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uIG9yIGFueSBzcGFuLCBjYWxsIHRoZSByZXNwZWN0aXZlIGAuc3RhcnRDaGlsZCgpYCBtZXRob2QuCiAgICoKICAgKiBFdmVyeSBjaGlsZCBzcGFuIG11c3QgYmUgZmluaXNoZWQgYmVmb3JlIHRoZSB0cmFuc2FjdGlvbiBpcyBmaW5pc2hlZCwgb3RoZXJ3aXNlIHRoZSB1bmZpbmlzaGVkIHNwYW5zIGFyZSBkaXNjYXJkZWQuCiAgICoKICAgKiBUaGUgdHJhbnNhY3Rpb24gbXVzdCBiZSBmaW5pc2hlZCB3aXRoIGEgY2FsbCB0byBpdHMgYC5lbmQoKWAgbWV0aG9kLCBhdCB3aGljaCBwb2ludCB0aGUgdHJhbnNhY3Rpb24gd2l0aCBhbGwgaXRzCiAgICogZmluaXNoZWQgY2hpbGQgc3BhbnMgd2lsbCBiZSBzZW50IHRvIFNlbnRyeS4KICAgKgogICAqIEBwYXJhbSBjb250ZXh0IFByb3BlcnRpZXMgb2YgdGhlIG5ldyBgVHJhbnNhY3Rpb25gLgogICAqIEBwYXJhbSBjdXN0b21TYW1wbGluZ0NvbnRleHQgSW5mb3JtYXRpb24gZ2l2ZW4gdG8gdGhlIHRyYW5zYWN0aW9uIHNhbXBsaW5nIGZ1bmN0aW9uIChhbG9uZyB3aXRoIGNvbnRleHQtZGVwZW5kZW50CiAgICogZGVmYXVsdCB2YWx1ZXMpLiBTZWUge0BsaW5rIE9wdGlvbnMudHJhY2VzU2FtcGxlcn0uCiAgICoKICAgKiBAcmV0dXJucyBUaGUgdHJhbnNhY3Rpb24gd2hpY2ggd2FzIGp1c3Qgc3RhcnRlZAogICAqCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzdGFydFNwYW4oKWAsIGBzdGFydFNwYW5NYW51YWwoKWAgb3IgYHN0YXJ0SW5hY3RpdmVTcGFuKClgIGluc3RlYWQuCiAgICovCiAgIHN0YXJ0VHJhbnNhY3Rpb24oY29udGV4dCwgY3VzdG9tU2FtcGxpbmdDb250ZXh0KSB7CiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9jYWxsRXh0ZW5zaW9uTWV0aG9kKCdzdGFydFRyYW5zYWN0aW9uJywgY29udGV4dCwgY3VzdG9tU2FtcGxpbmdDb250ZXh0KTsKCiAgICBpZiAoREVCVUdfQlVJTEQgJiYgIXJlc3VsdCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5nZXRDbGllbnQoKTsKICAgICAgaWYgKCFjbGllbnQpIHsKICAgICAgICBsb2dnZXIud2FybigKICAgICAgICAgICJUcmFjaW5nIGV4dGVuc2lvbiAnc3RhcnRUcmFuc2FjdGlvbicgaXMgbWlzc2luZy4gWW91IHNob3VsZCAnaW5pdCcgdGhlIFNESyBiZWZvcmUgY2FsbGluZyAnc3RhcnRUcmFuc2FjdGlvbiciLAogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9nZ2VyLndhcm4oYFRyYWNpbmcgZXh0ZW5zaW9uICdzdGFydFRyYW5zYWN0aW9uJyBoYXMgbm90IGJlZW4gYWRkZWQuIENhbGwgJ2FkZFRyYWNpbmdFeHRlbnNpb25zJyBiZWZvcmUgY2FsbGluZyAnaW5pdCc6ClNlbnRyeS5hZGRUcmFjaW5nRXh0ZW5zaW9ucygpOwpTZW50cnkuaW5pdCh7Li4ufSk7CmApOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzcGFuVG9UcmFjZUhlYWRlcigpYCBpbnN0ZWFkLgogICAqLwogICB0cmFjZUhlYWRlcnMoKSB7CiAgICByZXR1cm4gdGhpcy5fY2FsbEV4dGVuc2lvbk1ldGhvZCgndHJhY2VIZWFkZXJzJyk7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqCiAgICogQGRlcHJlY2F0ZWQgVXNlIHRvcCBsZXZlbCBgY2FwdHVyZVNlc3Npb25gIGluc3RlYWQuCiAgICovCiAgIGNhcHR1cmVTZXNzaW9uKGVuZFNlc3Npb24gPSBmYWxzZSkgewogICAgLy8gYm90aCBzZW5kIHRoZSB1cGRhdGUgYW5kIHB1bGwgdGhlIHNlc3Npb24gZnJvbSB0aGUgc2NvcGUKICAgIGlmIChlbmRTZXNzaW9uKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgICByZXR1cm4gdGhpcy5lbmRTZXNzaW9uKCk7CiAgICB9CgogICAgLy8gb25seSBzZW5kIHRoZSB1cGRhdGUKICAgIHRoaXMuX3NlbmRTZXNzaW9uVXBkYXRlKCk7CiAgfQoKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqIEBkZXByZWNhdGVkIFVzZSB0b3AgbGV2ZWwgYGVuZFNlc3Npb25gIGluc3RlYWQuCiAgICovCiAgIGVuZFNlc3Npb24oKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRTdGFja1RvcCgpOwogICAgY29uc3Qgc2NvcGUgPSBsYXllci5zY29wZTsKICAgIGNvbnN0IHNlc3Npb24gPSBzY29wZS5nZXRTZXNzaW9uKCk7CiAgICBpZiAoc2Vzc2lvbikgewogICAgICBjbG9zZVNlc3Npb24oc2Vzc2lvbik7CiAgICB9CiAgICB0aGlzLl9zZW5kU2Vzc2lvblVwZGF0ZSgpOwoKICAgIC8vIHRoZSBzZXNzaW9uIGlzIG92ZXI7IHRha2UgaXQgb2ZmIG9mIHRoZSBzY29wZQogICAgc2NvcGUuc2V0U2Vzc2lvbigpOwogIH0KCiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKiBAZGVwcmVjYXRlZCBVc2UgdG9wIGxldmVsIGBzdGFydFNlc3Npb25gIGluc3RlYWQuCiAgICovCiAgIHN0YXJ0U2Vzc2lvbihjb250ZXh0KSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24KICAgIGNvbnN0IHsgc2NvcGUsIGNsaWVudCB9ID0gdGhpcy5nZXRTdGFja1RvcCgpOwogICAgY29uc3QgeyByZWxlYXNlLCBlbnZpcm9ubWVudCA9IERFRkFVTFRfRU5WSVJPTk1FTlQgfSA9IChjbGllbnQgJiYgY2xpZW50LmdldE9wdGlvbnMoKSkgfHwge307CgogICAgLy8gV2lsbCBmZXRjaCB1c2VyQWdlbnQgaWYgY2FsbGVkIGZyb20gYnJvd3NlciBzZGsKICAgIGNvbnN0IHsgdXNlckFnZW50IH0gPSBHTE9CQUxfT0JKLm5hdmlnYXRvciB8fCB7fTsKCiAgICBjb25zdCBzZXNzaW9uID0gbWFrZVNlc3Npb24oewogICAgICByZWxlYXNlLAogICAgICBlbnZpcm9ubWVudCwKICAgICAgdXNlcjogc2NvcGUuZ2V0VXNlcigpLAogICAgICAuLi4odXNlckFnZW50ICYmIHsgdXNlckFnZW50IH0pLAogICAgICAuLi5jb250ZXh0LAogICAgfSk7CgogICAgLy8gRW5kIGV4aXN0aW5nIHNlc3Npb24gaWYgdGhlcmUncyBvbmUKICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uID0gc2NvcGUuZ2V0U2Vzc2lvbiAmJiBzY29wZS5nZXRTZXNzaW9uKCk7CiAgICBpZiAoY3VycmVudFNlc3Npb24gJiYgY3VycmVudFNlc3Npb24uc3RhdHVzID09PSAnb2snKSB7CiAgICAgIHVwZGF0ZVNlc3Npb24oY3VycmVudFNlc3Npb24sIHsgc3RhdHVzOiAnZXhpdGVkJyB9KTsKICAgIH0KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgdGhpcy5lbmRTZXNzaW9uKCk7CgogICAgLy8gQWZ0ZXJ3YXJkcyB3ZSBzZXQgdGhlIG5ldyBzZXNzaW9uIG9uIHRoZSBzY29wZQogICAgc2NvcGUuc2V0U2Vzc2lvbihzZXNzaW9uKTsKCiAgICByZXR1cm4gc2Vzc2lvbjsKICB9CgogIC8qKgogICAqIFJldHVybnMgaWYgZGVmYXVsdCBQSUkgc2hvdWxkIGJlIHNlbnQgdG8gU2VudHJ5IGFuZCBwcm9wYWdhdGVkIGluIG91cmdvaW5nIHJlcXVlc3RzCiAgICogd2hlbiBUcmFjaW5nIGlzIHVzZWQuCiAgICoKICAgKiBAZGVwcmVjYXRlZCBVc2UgdG9wLWxldmVsIGBnZXRDbGllbnQoKS5nZXRPcHRpb25zKCkuc2VuZERlZmF1bHRQaWlgIGluc3RlYWQuIFRoaXMgZnVuY3Rpb24KICAgKiBvbmx5IHVubmVjZXNzYXJpbHkgaW5jcmVhc2VkIEFQSSBzdXJmYWNlIGJ1dCBvbmx5IHdyYXBwZWQgYWNjZXNzaW5nIHRoZSBvcHRpb24uCiAgICovCiAgIHNob3VsZFNlbmREZWZhdWx0UGlpKCkgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICBjb25zdCBjbGllbnQgPSB0aGlzLmdldENsaWVudCgpOwogICAgY29uc3Qgb3B0aW9ucyA9IGNsaWVudCAmJiBjbGllbnQuZ2V0T3B0aW9ucygpOwogICAgcmV0dXJuIEJvb2xlYW4ob3B0aW9ucyAmJiBvcHRpb25zLnNlbmREZWZhdWx0UGlpKTsKICB9CgogIC8qKgogICAqIFNlbmRzIHRoZSBjdXJyZW50IFNlc3Npb24gb24gdGhlIHNjb3BlCiAgICovCiAgIF9zZW5kU2Vzc2lvblVwZGF0ZSgpIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgY29uc3QgeyBzY29wZSwgY2xpZW50IH0gPSB0aGlzLmdldFN0YWNrVG9wKCk7CgogICAgY29uc3Qgc2Vzc2lvbiA9IHNjb3BlLmdldFNlc3Npb24oKTsKICAgIGlmIChzZXNzaW9uICYmIGNsaWVudCAmJiBjbGllbnQuY2FwdHVyZVNlc3Npb24pIHsKICAgICAgY2xpZW50LmNhcHR1cmVTZXNzaW9uKHNlc3Npb24pOwogICAgfQogIH0KCiAgLyoqCiAgICogQ2FsbHMgZ2xvYmFsIGV4dGVuc2lvbiBtZXRob2QgYW5kIGJpbmRpbmcgY3VycmVudCBpbnN0YW5jZSB0byB0aGUgZnVuY3Rpb24gY2FsbAogICAqLwogIC8vIEB0cy1leHBlY3QtZXJyb3IgRnVuY3Rpb24gbGFja3MgZW5kaW5nIHJldHVybiBzdGF0ZW1lbnQgYW5kIHJldHVybiB0eXBlIGRvZXMgbm90IGluY2x1ZGUgJ3VuZGVmaW5lZCcuIHRzKDIzNjYpCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkKICAgX2NhbGxFeHRlbnNpb25NZXRob2QobWV0aG9kLCAuLi5hcmdzKSB7CiAgICBjb25zdCBjYXJyaWVyID0gZ2V0TWFpbkNhcnJpZXIoKTsKICAgIGNvbnN0IHNlbnRyeSA9IGNhcnJpZXIuX19TRU5UUllfXzsKICAgIGlmIChzZW50cnkgJiYgc2VudHJ5LmV4dGVuc2lvbnMgJiYgdHlwZW9mIHNlbnRyeS5leHRlbnNpb25zW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0dXJuIHNlbnRyeS5leHRlbnNpb25zW21ldGhvZF0uYXBwbHkodGhpcywgYXJncyk7CiAgICB9CiAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIud2FybihgRXh0ZW5zaW9uIG1ldGhvZCAke21ldGhvZH0gY291bGRuJ3QgYmUgZm91bmQsIGRvaW5nIG5vdGhpbmcuYCk7CiAgfQp9CgovKioKICogUmV0dXJucyB0aGUgZ2xvYmFsIHNoaW0gcmVnaXN0cnkuCiAqCiAqIEZJWE1FOiBUaGlzIGZ1bmN0aW9uIGlzIHByb2JsZW1hdGljLCBiZWNhdXNlIGRlc3BpdGUgYWx3YXlzIHJldHVybmluZyBhIHZhbGlkIENhcnJpZXIsCiAqIGl0IGhhcyBhbiBvcHRpb25hbCBgX19TRU5UUllfX2AgcHJvcGVydHksIHdoaWNoIHRoZW4gaW4gdHVybiByZXF1aXJlcyB1cyB0byBhbHdheXMgcGVyZm9ybSBhbiB1bm5lY2Vzc2FyeSBjaGVjawogKiBhdCB0aGUgY2FsbC1zaXRlLiBXZSBhbHdheXMgYWNjZXNzIHRoZSBjYXJyaWVyIHRocm91Z2ggdGhpcyBmdW5jdGlvbiwgc28gd2UgY2FuIGd1YXJhbnRlZSB0aGF0IGBfX1NFTlRSWV9fYCBpcyB0aGVyZS4KICoqLwpmdW5jdGlvbiBnZXRNYWluQ2FycmllcigpIHsKICBHTE9CQUxfT0JKLl9fU0VOVFJZX18gPSBHTE9CQUxfT0JKLl9fU0VOVFJZX18gfHwgewogICAgZXh0ZW5zaW9uczoge30sCiAgICBodWI6IHVuZGVmaW5lZCwKICB9OwogIHJldHVybiBHTE9CQUxfT0JKOwp9CgovKioKICogUmVwbGFjZXMgdGhlIGN1cnJlbnQgbWFpbiBodWIgd2l0aCB0aGUgcGFzc2VkIG9uZSBvbiB0aGUgZ2xvYmFsIG9iamVjdAogKgogKiBAcmV0dXJucyBUaGUgb2xkIHJlcGxhY2VkIGh1YgogKgogKiBAZGVwcmVjYXRlZCBVc2UgYHNldEN1cnJlbnRDbGllbnQoKWAgaW5zdGVhZC4KICovCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgpmdW5jdGlvbiBtYWtlTWFpbihodWIpIHsKICBjb25zdCByZWdpc3RyeSA9IGdldE1haW5DYXJyaWVyKCk7CiAgY29uc3Qgb2xkSHViID0gZ2V0SHViRnJvbUNhcnJpZXIocmVnaXN0cnkpOwogIHNldEh1Yk9uQ2FycmllcihyZWdpc3RyeSwgaHViKTsKICByZXR1cm4gb2xkSHViOwp9CgovKioKICogUmV0dXJucyB0aGUgZGVmYXVsdCBodWIgaW5zdGFuY2UuCiAqCiAqIElmIGEgaHViIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBpbiB0aGUgZ2xvYmFsIGNhcnJpZXIgYnV0IHRoaXMgbW9kdWxlCiAqIGNvbnRhaW5zIGEgbW9yZSByZWNlbnQgdmVyc2lvbiwgaXQgcmVwbGFjZXMgdGhlIHJlZ2lzdGVyZWQgdmVyc2lvbi4KICogT3RoZXJ3aXNlLCB0aGUgY3VycmVudGx5IHJlZ2lzdGVyZWQgaHViIHdpbGwgYmUgcmV0dXJuZWQuCiAqCiAqIEBkZXByZWNhdGVkIFVzZSB0aGUgcmVzcGVjdGl2ZSByZXBsYWNlbWVudCBtZXRob2QgZGlyZWN0bHkgaW5zdGVhZC4KICovCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgpmdW5jdGlvbiBnZXRDdXJyZW50SHViKCkgewogIC8vIEdldCBtYWluIGNhcnJpZXIgKGdsb2JhbCBmb3IgZXZlcnkgZW52aXJvbm1lbnQpCiAgY29uc3QgcmVnaXN0cnkgPSBnZXRNYWluQ2FycmllcigpOwoKICBpZiAocmVnaXN0cnkuX19TRU5UUllfXyAmJiByZWdpc3RyeS5fX1NFTlRSWV9fLmFjcykgewogICAgY29uc3QgaHViID0gcmVnaXN0cnkuX19TRU5UUllfXy5hY3MuZ2V0Q3VycmVudEh1YigpOwoKICAgIGlmIChodWIpIHsKICAgICAgcmV0dXJuIGh1YjsKICAgIH0KICB9CgogIC8vIFJldHVybiBodWIgdGhhdCBsaXZlcyBvbiBhIGdsb2JhbCBvYmplY3QKICByZXR1cm4gZ2V0R2xvYmFsSHViKHJlZ2lzdHJ5KTsKfQoKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCmZ1bmN0aW9uIGdldEdsb2JhbEh1YihyZWdpc3RyeSA9IGdldE1haW5DYXJyaWVyKCkpIHsKICAvLyBJZiB0aGVyZSdzIG5vIGh1Yiwgb3IgaXRzIGFuIG9sZCBBUEksIGFzc2lnbiBhIG5ldyBvbmUKCiAgaWYgKAogICAgIWhhc0h1Yk9uQ2FycmllcihyZWdpc3RyeSkgfHwKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgogICAgZ2V0SHViRnJvbUNhcnJpZXIocmVnaXN0cnkpLmlzT2xkZXJUaGFuKEFQSV9WRVJTSU9OKQogICkgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgICBzZXRIdWJPbkNhcnJpZXIocmVnaXN0cnksIG5ldyBIdWIoKSk7CiAgfQoKICAvLyBSZXR1cm4gaHViIHRoYXQgbGl2ZXMgb24gYSBnbG9iYWwgb2JqZWN0CiAgcmV0dXJuIGdldEh1YkZyb21DYXJyaWVyKHJlZ2lzdHJ5KTsKfQoKLyoqCiAqIFRoaXMgd2lsbCB0ZWxsIHdoZXRoZXIgYSBjYXJyaWVyIGhhcyBhIGh1YiBvbiBpdCBvciBub3QKICogQHBhcmFtIGNhcnJpZXIgb2JqZWN0CiAqLwpmdW5jdGlvbiBoYXNIdWJPbkNhcnJpZXIoY2FycmllcikgewogIHJldHVybiAhIShjYXJyaWVyICYmIGNhcnJpZXIuX19TRU5UUllfXyAmJiBjYXJyaWVyLl9fU0VOVFJZX18uaHViKTsKfQoKLyoqCiAqIFRoaXMgd2lsbCBjcmVhdGUgYSBuZXcge0BsaW5rIEh1Yn0gYW5kIGFkZCB0byB0aGUgcGFzc2VkIG9iamVjdCBvbgogKiBfX1NFTlRSWV9fLmh1Yi4KICogQHBhcmFtIGNhcnJpZXIgb2JqZWN0CiAqIEBoaWRkZW4KICovCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgpmdW5jdGlvbiBnZXRIdWJGcm9tQ2FycmllcihjYXJyaWVyKSB7CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgcmV0dXJuIGdldEdsb2JhbFNpbmdsZXRvbignaHViJywgKCkgPT4gbmV3IEh1YigpLCBjYXJyaWVyKTsKfQoKLyoqCiAqIFRoaXMgd2lsbCBzZXQgcGFzc2VkIHtAbGluayBIdWJ9IG9uIHRoZSBwYXNzZWQgb2JqZWN0J3MgX19TRU5UUllfXy5odWIgYXR0cmlidXRlCiAqIEBwYXJhbSBjYXJyaWVyIG9iamVjdAogKiBAcGFyYW0gaHViIEh1YgogKiBAcmV0dXJucyBBIGJvb2xlYW4gaW5kaWNhdGluZyBzdWNjZXNzIG9yIGZhaWx1cmUKICovCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbgpmdW5jdGlvbiBzZXRIdWJPbkNhcnJpZXIoY2FycmllciwgaHViKSB7CiAgaWYgKCFjYXJyaWVyKSByZXR1cm4gZmFsc2U7CiAgY29uc3QgX19TRU5UUllfXyA9IChjYXJyaWVyLl9fU0VOVFJZX18gPSBjYXJyaWVyLl9fU0VOVFJZX18gfHwge30pOwogIF9fU0VOVFJZX18uaHViID0gaHViOwogIHJldHVybiB0cnVlOwp9CgovKioKICogQXBwbHkgU2RrSW5mbyAobmFtZSwgdmVyc2lvbiwgcGFja2FnZXMsIGludGVncmF0aW9ucykgdG8gdGhlIGNvcnJlc3BvbmRpbmcgZXZlbnQga2V5LgogKiBNZXJnZSB3aXRoIGV4aXN0aW5nIGRhdGEgaWYgYW55LgogKiovCmZ1bmN0aW9uIGVuaGFuY2VFdmVudFdpdGhTZGtJbmZvKGV2ZW50LCBzZGtJbmZvKSB7CiAgaWYgKCFzZGtJbmZvKSB7CiAgICByZXR1cm4gZXZlbnQ7CiAgfQogIGV2ZW50LnNkayA9IGV2ZW50LnNkayB8fCB7fTsKICBldmVudC5zZGsubmFtZSA9IGV2ZW50LnNkay5uYW1lIHx8IHNka0luZm8ubmFtZTsKICBldmVudC5zZGsudmVyc2lvbiA9IGV2ZW50LnNkay52ZXJzaW9uIHx8IHNka0luZm8udmVyc2lvbjsKICBldmVudC5zZGsuaW50ZWdyYXRpb25zID0gWy4uLihldmVudC5zZGsuaW50ZWdyYXRpb25zIHx8IFtdKSwgLi4uKHNka0luZm8uaW50ZWdyYXRpb25zIHx8IFtdKV07CiAgZXZlbnQuc2RrLnBhY2thZ2VzID0gWy4uLihldmVudC5zZGsucGFja2FnZXMgfHwgW10pLCAuLi4oc2RrSW5mby5wYWNrYWdlcyB8fCBbXSldOwogIHJldHVybiBldmVudDsKfQoKLyoqIENyZWF0ZXMgYW4gZW52ZWxvcGUgZnJvbSBhIFNlc3Npb24gKi8KZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbkVudmVsb3BlKAogIHNlc3Npb24sCiAgZHNuLAogIG1ldGFkYXRhLAogIHR1bm5lbCwKKSB7CiAgY29uc3Qgc2RrSW5mbyA9IGdldFNka01ldGFkYXRhRm9yRW52ZWxvcGVIZWFkZXIobWV0YWRhdGEpOwogIGNvbnN0IGVudmVsb3BlSGVhZGVycyA9IHsKICAgIHNlbnRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgIC4uLihzZGtJbmZvICYmIHsgc2RrOiBzZGtJbmZvIH0pLAogICAgLi4uKCEhdHVubmVsICYmIGRzbiAmJiB7IGRzbjogZHNuVG9TdHJpbmcoZHNuKSB9KSwKICB9OwoKICBjb25zdCBlbnZlbG9wZUl0ZW0gPQogICAgJ2FnZ3JlZ2F0ZXMnIGluIHNlc3Npb24gPyBbeyB0eXBlOiAnc2Vzc2lvbnMnIH0sIHNlc3Npb25dIDogW3sgdHlwZTogJ3Nlc3Npb24nIH0sIHNlc3Npb24udG9KU09OKCldOwoKICByZXR1cm4gY3JlYXRlRW52ZWxvcGUoZW52ZWxvcGVIZWFkZXJzLCBbZW52ZWxvcGVJdGVtXSk7Cn0KCi8qKgogKiBDcmVhdGUgYW4gRW52ZWxvcGUgZnJvbSBhbiBldmVudC4KICovCmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RW52ZWxvcGUoCiAgZXZlbnQsCiAgZHNuLAogIG1ldGFkYXRhLAogIHR1bm5lbCwKKSB7CiAgY29uc3Qgc2RrSW5mbyA9IGdldFNka01ldGFkYXRhRm9yRW52ZWxvcGVIZWFkZXIobWV0YWRhdGEpOwoKICAvKgogICAgTm90ZTogRHVlIHRvIFRTLCBldmVudC50eXBlIG1heSBiZSBgcmVwbGF5X2V2ZW50YCwgdGhlb3JldGljYWxseS4KICAgIEluIHByYWN0aWNlLCB3ZSBuZXZlciBjYWxsIGBjcmVhdGVFdmVudEVudmVsb3BlYCB3aXRoIGByZXBsYXlfZXZlbnRgIHR5cGUsCiAgICBhbmQgd2UnZCBoYXZlIHRvIGFkanV0IGEgbG9vb3Qgb2YgdHlwZXMgdG8gbWFrZSB0aGlzIHdvcmsgcHJvcGVybHkuCiAgICBXZSB3YW50IHRvIGF2b2lkIGNhc3RpbmcgdGhpcyBhcm91bmQsIGFzIHRoYXQgY291bGQgbGVhZCB0byBidWdzIChlLmcuIHdoZW4gd2UgYWRkIGFub3RoZXIgdHlwZSkKICAgIFNvIHRoZSBzYWZlIGNob2ljZSBpcyB0byByZWFsbHkgZ3VhcmQgYWdhaW5zdCB0aGUgcmVwbGF5X2V2ZW50IHR5cGUgaGVyZS4KICAqLwogIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LnR5cGUgJiYgZXZlbnQudHlwZSAhPT0gJ3JlcGxheV9ldmVudCcgPyBldmVudC50eXBlIDogJ2V2ZW50JzsKCiAgZW5oYW5jZUV2ZW50V2l0aFNka0luZm8oZXZlbnQsIG1ldGFkYXRhICYmIG1ldGFkYXRhLnNkayk7CgogIGNvbnN0IGVudmVsb3BlSGVhZGVycyA9IGNyZWF0ZUV2ZW50RW52ZWxvcGVIZWFkZXJzKGV2ZW50LCBzZGtJbmZvLCB0dW5uZWwsIGRzbik7CgogIC8vIFByZXZlbnQgdGhpcyBkYXRhICh3aGljaCwgaWYgaXQgZXhpc3RzLCB3YXMgdXNlZCBpbiBlYXJsaWVyIHN0ZXBzIGluIHRoZSBwcm9jZXNzaW5nIHBpcGVsaW5lKSBmcm9tIGJlaW5nIHNlbnQgdG8KICAvLyBzZW50cnkuIChOb3RlOiBPdXIgdXNlIG9mIHRoaXMgcHJvcGVydHkgY29tZXMgYW5kIGdvZXMgd2l0aCB3aGF0ZXZlciB3ZSBtaWdodCBiZSBkZWJ1Z2dpbmcsIHdoYXRldmVyIGhhY2tzIHdlIG1heQogIC8vIGhhdmUgdGVtcG9yYXJpbHkgYWRkZWQsIGV0Yy4gRXZlbiBpZiB3ZSBkb24ndCBoYXBwZW4gdG8gYmUgdXNpbmcgaXQgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLCBsZXQncyBub3QgZ2V0IHJpZAogIC8vIG9mIHRoaXMgYGRlbGV0ZWAsIGxlc3Qgd2UgbWlzcyBwdXR0aW5nIGl0IGJhY2sgaW4gdGhlIG5leHQgdGltZSB0aGUgcHJvcGVydHkgaXMgaW4gdXNlLikKICBkZWxldGUgZXZlbnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhOwoKICBjb25zdCBldmVudEl0ZW0gPSBbeyB0eXBlOiBldmVudFR5cGUgfSwgZXZlbnRdOwogIHJldHVybiBjcmVhdGVFbnZlbG9wZShlbnZlbG9wZUhlYWRlcnMsIFtldmVudEl0ZW1dKTsKfQoKY29uc3QgU0VOVFJZX0FQSV9WRVJTSU9OID0gJzcnOwoKLyoqIFJldHVybnMgdGhlIHByZWZpeCB0byBjb25zdHJ1Y3QgU2VudHJ5IGluZ2VzdGlvbiBBUEkgZW5kcG9pbnRzLiAqLwpmdW5jdGlvbiBnZXRCYXNlQXBpRW5kcG9pbnQoZHNuKSB7CiAgY29uc3QgcHJvdG9jb2wgPSBkc24ucHJvdG9jb2wgPyBgJHtkc24ucHJvdG9jb2x9OmAgOiAnJzsKICBjb25zdCBwb3J0ID0gZHNuLnBvcnQgPyBgOiR7ZHNuLnBvcnR9YCA6ICcnOwogIHJldHVybiBgJHtwcm90b2NvbH0vLyR7ZHNuLmhvc3R9JHtwb3J0fSR7ZHNuLnBhdGggPyBgLyR7ZHNuLnBhdGh9YCA6ICcnfS9hcGkvYDsKfQoKLyoqIFJldHVybnMgdGhlIGluZ2VzdCBBUEkgZW5kcG9pbnQgZm9yIHRhcmdldC4gKi8KZnVuY3Rpb24gX2dldEluZ2VzdEVuZHBvaW50KGRzbikgewogIHJldHVybiBgJHtnZXRCYXNlQXBpRW5kcG9pbnQoZHNuKX0ke2Rzbi5wcm9qZWN0SWR9L2VudmVsb3BlL2A7Cn0KCi8qKiBSZXR1cm5zIGEgVVJMLWVuY29kZWQgc3RyaW5nIHdpdGggYXV0aCBjb25maWcgc3VpdGFibGUgZm9yIGEgcXVlcnkgc3RyaW5nLiAqLwpmdW5jdGlvbiBfZW5jb2RlZEF1dGgoZHNuLCBzZGtJbmZvKSB7CiAgcmV0dXJuIHVybEVuY29kZSh7CiAgICAvLyBXZSBzZW5kIG9ubHkgdGhlIG1pbmltdW0gc2V0IG9mIHJlcXVpcmVkIGluZm9ybWF0aW9uLiBTZWUKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzI1NzIuCiAgICBzZW50cnlfa2V5OiBkc24ucHVibGljS2V5LAogICAgc2VudHJ5X3ZlcnNpb246IFNFTlRSWV9BUElfVkVSU0lPTiwKICAgIC4uLihzZGtJbmZvICYmIHsgc2VudHJ5X2NsaWVudDogYCR7c2RrSW5mby5uYW1lfS8ke3Nka0luZm8udmVyc2lvbn1gIH0pLAogIH0pOwp9CgovKioKICogUmV0dXJucyB0aGUgZW52ZWxvcGUgZW5kcG9pbnQgVVJMIHdpdGggYXV0aCBpbiB0aGUgcXVlcnkgc3RyaW5nLgogKgogKiBTZW5kaW5nIGF1dGggYXMgcGFydCBvZiB0aGUgcXVlcnkgc3RyaW5nIGFuZCBub3QgYXMgY3VzdG9tIEhUVFAgaGVhZGVycyBhdm9pZHMgQ09SUyBwcmVmbGlnaHQgcmVxdWVzdHMuCiAqLwpmdW5jdGlvbiBnZXRFbnZlbG9wZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoKAogIGRzbiwKICAvLyBUT0RPICh2OCk6IFJlbW92ZSBgdHVubmVsT3JPcHRpb25zYCBpbiBmYXZvciBvZiBgb3B0aW9uc2AsIGFuZCB1c2UgdGhlIHN1YnN0aXR1dGUgY29kZSBiZWxvdwogIC8vIG9wdGlvbnM6IENsaWVudE9wdGlvbnMgPSB7fSBhcyBDbGllbnRPcHRpb25zLAogIHR1bm5lbE9yT3B0aW9ucyA9IHt9ICwKKSB7CiAgLy8gVE9ETyAodjgpOiBVc2UgdGhpcyBjb2RlIGluc3RlYWQKICAvLyBjb25zdCB7IHR1bm5lbCwgX21ldGFkYXRhID0ge30gfSA9IG9wdGlvbnM7CiAgLy8gcmV0dXJuIHR1bm5lbCA/IHR1bm5lbCA6IGAke19nZXRJbmdlc3RFbmRwb2ludChkc24pfT8ke19lbmNvZGVkQXV0aChkc24sIF9tZXRhZGF0YS5zZGspfWA7CgogIGNvbnN0IHR1bm5lbCA9IHR5cGVvZiB0dW5uZWxPck9wdGlvbnMgPT09ICdzdHJpbmcnID8gdHVubmVsT3JPcHRpb25zIDogdHVubmVsT3JPcHRpb25zLnR1bm5lbDsKICBjb25zdCBzZGtJbmZvID0KICAgIHR5cGVvZiB0dW5uZWxPck9wdGlvbnMgPT09ICdzdHJpbmcnIHx8ICF0dW5uZWxPck9wdGlvbnMuX21ldGFkYXRhID8gdW5kZWZpbmVkIDogdHVubmVsT3JPcHRpb25zLl9tZXRhZGF0YS5zZGs7CgogIHJldHVybiB0dW5uZWwgPyB0dW5uZWwgOiBgJHtfZ2V0SW5nZXN0RW5kcG9pbnQoZHNuKX0/JHtfZW5jb2RlZEF1dGgoZHNuLCBzZGtJbmZvKX1gOwp9Cgpjb25zdCBERUZBVUxUX1RSQU5TUE9SVF9CVUZGRVJfU0laRSA9IDMwOwoKLyoqCiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBTZW50cnkgYFRyYW5zcG9ydGAKICoKICogQHBhcmFtIG9wdGlvbnMKICogQHBhcmFtIG1ha2VSZXF1ZXN0CiAqLwpmdW5jdGlvbiBjcmVhdGVUcmFuc3BvcnQoCiAgb3B0aW9ucywKICBtYWtlUmVxdWVzdCwKICBidWZmZXIgPSBtYWtlUHJvbWlzZUJ1ZmZlcigKICAgIG9wdGlvbnMuYnVmZmVyU2l6ZSB8fCBERUZBVUxUX1RSQU5TUE9SVF9CVUZGRVJfU0laRSwKICApLAopIHsKICBsZXQgcmF0ZUxpbWl0cyA9IHt9OwogIGNvbnN0IGZsdXNoID0gKHRpbWVvdXQpID0+IGJ1ZmZlci5kcmFpbih0aW1lb3V0KTsKCiAgZnVuY3Rpb24gc2VuZChlbnZlbG9wZSkgewogICAgY29uc3QgZmlsdGVyZWRFbnZlbG9wZUl0ZW1zID0gW107CgogICAgLy8gRHJvcCByYXRlIGxpbWl0ZWQgaXRlbXMgZnJvbSBlbnZlbG9wZQogICAgZm9yRWFjaEVudmVsb3BlSXRlbShlbnZlbG9wZSwgKGl0ZW0sIHR5cGUpID0+IHsKICAgICAgY29uc3QgZGF0YUNhdGVnb3J5ID0gZW52ZWxvcGVJdGVtVHlwZVRvRGF0YUNhdGVnb3J5KHR5cGUpOwogICAgICBpZiAoaXNSYXRlTGltaXRlZChyYXRlTGltaXRzLCBkYXRhQ2F0ZWdvcnkpKSB7CiAgICAgICAgY29uc3QgZXZlbnQgPSBnZXRFdmVudEZvckVudmVsb3BlSXRlbShpdGVtLCB0eXBlKTsKICAgICAgICBvcHRpb25zLnJlY29yZERyb3BwZWRFdmVudCgncmF0ZWxpbWl0X2JhY2tvZmYnLCBkYXRhQ2F0ZWdvcnksIGV2ZW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaWx0ZXJlZEVudmVsb3BlSXRlbXMucHVzaChpdGVtKTsKICAgICAgfQogICAgfSk7CgogICAgLy8gU2tpcCBzZW5kaW5nIGlmIGVudmVsb3BlIGlzIGVtcHR5IGFmdGVyIGZpbHRlcmluZyBvdXQgcmF0ZSBsaW1pdGVkIGV2ZW50cwogICAgaWYgKGZpbHRlcmVkRW52ZWxvcGVJdGVtcy5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuIHJlc29sdmVkU3luY1Byb21pc2UoKTsKICAgIH0KCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueQogICAgY29uc3QgZmlsdGVyZWRFbnZlbG9wZSA9IGNyZWF0ZUVudmVsb3BlKGVudmVsb3BlWzBdLCBmaWx0ZXJlZEVudmVsb3BlSXRlbXMgKTsKCiAgICAvLyBDcmVhdGVzIGNsaWVudCByZXBvcnQgZm9yIGVhY2ggaXRlbSBpbiBhbiBlbnZlbG9wZQogICAgY29uc3QgcmVjb3JkRW52ZWxvcGVMb3NzID0gKHJlYXNvbikgPT4gewogICAgICBmb3JFYWNoRW52ZWxvcGVJdGVtKGZpbHRlcmVkRW52ZWxvcGUsIChpdGVtLCB0eXBlKSA9PiB7CiAgICAgICAgY29uc3QgZXZlbnQgPSBnZXRFdmVudEZvckVudmVsb3BlSXRlbShpdGVtLCB0eXBlKTsKICAgICAgICBvcHRpb25zLnJlY29yZERyb3BwZWRFdmVudChyZWFzb24sIGVudmVsb3BlSXRlbVR5cGVUb0RhdGFDYXRlZ29yeSh0eXBlKSwgZXZlbnQpOwogICAgICB9KTsKICAgIH07CgogICAgY29uc3QgcmVxdWVzdFRhc2sgPSAoKSA9PgogICAgICBtYWtlUmVxdWVzdCh7IGJvZHk6IHNlcmlhbGl6ZUVudmVsb3BlKGZpbHRlcmVkRW52ZWxvcGUsIG9wdGlvbnMudGV4dEVuY29kZXIpIH0pLnRoZW4oCiAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byB0aHJvdyBvbiBOT0sgcmVzcG9uc2VzLCBidXQgd2Ugd2FudCB0byBhdCBsZWFzdCBsb2cgdGhlbQogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IHVuZGVmaW5lZCAmJiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXNDb2RlID49IDMwMCkpIHsKICAgICAgICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLndhcm4oYFNlbnRyeSByZXNwb25kZWQgd2l0aCBzdGF0dXMgY29kZSAke3Jlc3BvbnNlLnN0YXR1c0NvZGV9IHRvIHNlbnQgZXZlbnQuYCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmF0ZUxpbWl0cyA9IHVwZGF0ZVJhdGVMaW1pdHMocmF0ZUxpbWl0cywgcmVzcG9uc2UpOwogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgIH0sCiAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgcmVjb3JkRW52ZWxvcGVMb3NzKCduZXR3b3JrX2Vycm9yJyk7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9LAogICAgICApOwoKICAgIHJldHVybiBidWZmZXIuYWRkKHJlcXVlc3RUYXNrKS50aGVuKAogICAgICByZXN1bHQgPT4gcmVzdWx0LAogICAgICBlcnJvciA9PiB7CiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU2VudHJ5RXJyb3IpIHsKICAgICAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5lcnJvcignU2tpcHBlZCBzZW5kaW5nIGV2ZW50IGJlY2F1c2UgYnVmZmVyIGlzIGZ1bGwuJyk7CiAgICAgICAgICByZWNvcmRFbnZlbG9wZUxvc3MoJ3F1ZXVlX292ZXJmbG93Jyk7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRTeW5jUHJvbWlzZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9CiAgICAgIH0sCiAgICApOwogIH0KCiAgLy8gV2UgdXNlIHRoaXMgdG8gaWRlbnRpZmlmeSBpZiB0aGUgdHJhbnNwb3J0IGlzIHRoZSBiYXNlIHRyYW5zcG9ydAogIC8vIFRPRE8gKHY4KTogUmVtb3ZlIHRoaXMgYWdhaW4gYXMgd2UnbGwgbm8gbG9uZ2VyIG5lZWQgaXQKICBzZW5kLl9fc2VudHJ5X19iYXNlVHJhbnNwb3J0X18gPSB0cnVlOwoKICByZXR1cm4gewogICAgc2VuZCwKICAgIGZsdXNoLAogIH07Cn0KCmZ1bmN0aW9uIGdldEV2ZW50Rm9yRW52ZWxvcGVJdGVtKGl0ZW0sIHR5cGUpIHsKICBpZiAodHlwZSAhPT0gJ2V2ZW50JyAmJiB0eXBlICE9PSAndHJhbnNhY3Rpb24nKSB7CiAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KCiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaXRlbSkgPyAoaXRlbSApWzFdIDogdW5kZWZpbmVkOwp9CgovKiogbm9ybWFsaXplcyBXaW5kb3dzIHBhdGhzICovCmZ1bmN0aW9uIG5vcm1hbGl6ZVdpbmRvd3NQYXRoKHBhdGgpIHsKICByZXR1cm4gcGF0aAogICAgLnJlcGxhY2UoL15bQS1aXTovLCAnJykgLy8gcmVtb3ZlIFdpbmRvd3Mtc3R5bGUgcHJlZml4CiAgICAucmVwbGFjZSgvXFwvZywgJy8nKTsgLy8gcmVwbGFjZSBhbGwgYFxgIGluc3RhbmNlcyB3aXRoIGAvYAp9CgovKiogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgbW9kdWxlIG5hbWUgZnJvbSBhIGZpbGVuYW1lICovCmZ1bmN0aW9uIGNyZWF0ZUdldE1vZHVsZUZyb21GaWxlbmFtZSgKICBiYXNlUGF0aCA9IHByb2Nlc3MuYXJndlsxXSA/IGRpcm5hbWUocHJvY2Vzcy5hcmd2WzFdKSA6IHByb2Nlc3MuY3dkKCksCiAgaXNXaW5kb3dzID0gc2VwID09PSAnXFwnLAopIHsKICBjb25zdCBub3JtYWxpemVkQmFzZSA9IGlzV2luZG93cyA/IG5vcm1hbGl6ZVdpbmRvd3NQYXRoKGJhc2VQYXRoKSA6IGJhc2VQYXRoOwoKICByZXR1cm4gKGZpbGVuYW1lKSA9PiB7CiAgICBpZiAoIWZpbGVuYW1lKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBub3JtYWxpemVkRmlsZW5hbWUgPSBpc1dpbmRvd3MgPyBub3JtYWxpemVXaW5kb3dzUGF0aChmaWxlbmFtZSkgOiBmaWxlbmFtZTsKCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0CiAgICBsZXQgeyBkaXIsIGJhc2U6IGZpbGUsIGV4dCB9ID0gcG9zaXgucGFyc2Uobm9ybWFsaXplZEZpbGVuYW1lKTsKCiAgICBpZiAoZXh0ID09PSAnLmpzJyB8fCBleHQgPT09ICcubWpzJyB8fCBleHQgPT09ICcuY2pzJykgewogICAgICBmaWxlID0gZmlsZS5zbGljZSgwLCBleHQubGVuZ3RoICogLTEpOwogICAgfQoKICAgIGlmICghZGlyKSB7CiAgICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlcgogICAgICBkaXIgPSAnLic7CiAgICB9CgogICAgY29uc3QgbiA9IGRpci5sYXN0SW5kZXhPZignL25vZGVfbW9kdWxlcycpOwogICAgaWYgKG4gPiAtMSkgewogICAgICByZXR1cm4gYCR7ZGlyLnNsaWNlKG4gKyAxNCkucmVwbGFjZSgvXC8vZywgJy4nKX06JHtmaWxlfWA7CiAgICB9CgogICAgLy8gTGV0J3Mgc2VlIGlmIGl0J3MgYSBwYXJ0IG9mIHRoZSBtYWluIG1vZHVsZQogICAgLy8gVG8gYmUgYSBwYXJ0IG9mIG1haW4gbW9kdWxlLCBpdCBoYXMgdG8gc2hhcmUgdGhlIHNhbWUgYmFzZQogICAgaWYgKGRpci5zdGFydHNXaXRoKG5vcm1hbGl6ZWRCYXNlKSkgewogICAgICBsZXQgbW9kdWxlTmFtZSA9IGRpci5zbGljZShub3JtYWxpemVkQmFzZS5sZW5ndGggKyAxKS5yZXBsYWNlKC9cLy9nLCAnLicpOwoKICAgICAgaWYgKG1vZHVsZU5hbWUpIHsKICAgICAgICBtb2R1bGVOYW1lICs9ICc6JzsKICAgICAgfQogICAgICBtb2R1bGVOYW1lICs9IGZpbGU7CgogICAgICByZXR1cm4gbW9kdWxlTmFtZTsKICAgIH0KCiAgICByZXR1cm4gZmlsZTsKICB9Owp9CgpmdW5jdGlvbiBfbnVsbGlzaENvYWxlc2NlJDIobGhzLCByaHNGbikgeyBpZiAobGhzICE9IG51bGwpIHsgcmV0dXJuIGxoczsgfSBlbHNlIHsgcmV0dXJuIHJoc0ZuKCk7IH0gfS8qKgogKiBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgZm9ya2VkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL1Rvb1RhbGxOYXRlL3Byb3h5LWFnZW50cy90cmVlL2IxMzMyOTVmZDE2ZjY0NzU1NzhiNmIxNWJkOWI0ZTMzZWNiMGQwYjcKICogV2l0aCB0aGUgZm9sbG93aW5nIGxpY2VuY2U6CiAqCiAqIChUaGUgTUlUIExpY2Vuc2UpCiAqCiAqIENvcHlyaWdodCAoYykgMjAxMyBOYXRoYW4gUmFqbGljaCA8bmF0aGFuQHRvb3RhbGxuYXRlLm5ldD4qCiAqCiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZwogKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUKICogJ1NvZnR3YXJlJyksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZwogKiB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0bwogKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8KICogdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOioKICoKICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUKICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuKgogKgogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgJ0FTIElTJywgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwKICogRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCiAqIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4KICogSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkKICogQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwKICogVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUKICogU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCiAqLwoKY29uc3QgSU5URVJOQUwgPSBTeW1ib2woJ0FnZW50QmFzZUludGVybmFsU3RhdGUnKTsKCmNsYXNzIEFnZW50IGV4dGVuZHMgaHR0cC5BZ2VudCB7CgogIC8vIFNldCBieSBgaHR0cC5BZ2VudGAgLSBtaXNzaW5nIGZyb20gYEB0eXBlcy9ub2RlYAoKICBjb25zdHJ1Y3RvcihvcHRzKSB7CiAgICBzdXBlcihvcHRzKTsKICAgIHRoaXNbSU5URVJOQUxdID0ge307CiAgfQoKICAvKioKICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGFuIGBodHRwYCBvciBgaHR0cHNgIHJlcXVlc3QuCiAgICovCiAgaXNTZWN1cmVFbmRwb2ludChvcHRpb25zKSB7CiAgICBpZiAob3B0aW9ucykgewogICAgICAvLyBGaXJzdCBjaGVjayB0aGUgYHNlY3VyZUVuZHBvaW50YCBwcm9wZXJ0eSBleHBsaWNpdGx5LCBzaW5jZSB0aGlzCiAgICAgIC8vIG1lYW5zIHRoYXQgYSBwYXJlbnQgYEFnZW50YCBpcyAicGFzc2luZyB0aHJvdWdoIiB0byB0aGlzIGluc3RhbmNlLgogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzCiAgICAgIGlmICh0eXBlb2YgKG9wdGlvbnMgKS5zZWN1cmVFbmRwb2ludCA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuc2VjdXJlRW5kcG9pbnQ7CiAgICAgIH0KCiAgICAgIC8vIElmIG5vIGV4cGxpY2l0IGBzZWN1cmVgIGVuZHBvaW50LCBjaGVjayBpZiBgcHJvdG9jb2xgIHByb3BlcnR5IGlzCiAgICAgIC8vIHNldC4gVGhpcyB3aWxsIHVzdWFsbHkgYmUgdGhlIGNhc2Ugc2luY2UgdXNpbmcgYSBmdWxsIHN0cmluZyBVUkwKICAgICAgLy8gb3IgYFVSTGAgaW5zdGFuY2Ugc2hvdWxkIGJlIHRoZSBtb3N0IGNvbW1vbiB1c2FnZS4KICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnByb3RvY29sID09PSAnc3RyaW5nJykgewogICAgICAgIHJldHVybiBvcHRpb25zLnByb3RvY29sID09PSAnaHR0cHM6JzsKICAgICAgfQogICAgfQoKICAgIC8vIEZpbmFsbHksIGlmIG5vIGBwcm90b2NvbGAgcHJvcGVydHkgd2FzIHNldCwgdGhlbiBmYWxsIGJhY2sgdG8KICAgIC8vIGNoZWNraW5nIHRoZSBzdGFjayB0cmFjZSBvZiB0aGUgY3VycmVudCBjYWxsIHN0YWNrLCBhbmQgdHJ5IHRvCiAgICAvLyBkZXRlY3QgdGhlICJodHRwcyIgbW9kdWxlLgogICAgY29uc3QgeyBzdGFjayB9ID0gbmV3IEVycm9yKCk7CiAgICBpZiAodHlwZW9mIHN0YWNrICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHN0YWNrLnNwbGl0KCdcbicpLnNvbWUobCA9PiBsLmluZGV4T2YoJyhodHRwcy5qczonKSAhPT0gLTEgfHwgbC5pbmRleE9mKCdub2RlOmh0dHBzOicpICE9PSAtMSk7CiAgfQoKICBjcmVhdGVTb2NrZXQocmVxLCBvcHRpb25zLCBjYikgewogICAgY29uc3QgY29ubmVjdE9wdHMgPSB7CiAgICAgIC4uLm9wdGlvbnMsCiAgICAgIHNlY3VyZUVuZHBvaW50OiB0aGlzLmlzU2VjdXJlRW5kcG9pbnQob3B0aW9ucyksCiAgICB9OwogICAgUHJvbWlzZS5yZXNvbHZlKCkKICAgICAgLnRoZW4oKCkgPT4gdGhpcy5jb25uZWN0KHJlcSwgY29ubmVjdE9wdHMpKQogICAgICAudGhlbihzb2NrZXQgPT4gewogICAgICAgIGlmIChzb2NrZXQgaW5zdGFuY2VvZiBodHRwLkFnZW50KSB7CiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGBhZGRSZXF1ZXN0KClgIGlzbid0IGRlZmluZWQgaW4gYEB0eXBlcy9ub2RlYAogICAgICAgICAgcmV0dXJuIHNvY2tldC5hZGRSZXF1ZXN0KHJlcSwgY29ubmVjdE9wdHMpOwogICAgICAgIH0KICAgICAgICB0aGlzW0lOVEVSTkFMXS5jdXJyZW50U29ja2V0ID0gc29ja2V0OwogICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgYGNyZWF0ZVNvY2tldCgpYCBpc24ndCBkZWZpbmVkIGluIGBAdHlwZXMvbm9kZWAKICAgICAgICBzdXBlci5jcmVhdGVTb2NrZXQocmVxLCBvcHRpb25zLCBjYik7CiAgICAgIH0sIGNiKTsKICB9CgogIGNyZWF0ZUNvbm5lY3Rpb24oKSB7CiAgICBjb25zdCBzb2NrZXQgPSB0aGlzW0lOVEVSTkFMXS5jdXJyZW50U29ja2V0OwogICAgdGhpc1tJTlRFUk5BTF0uY3VycmVudFNvY2tldCA9IHVuZGVmaW5lZDsKICAgIGlmICghc29ja2V0KSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc29ja2V0IHdhcyByZXR1cm5lZCBpbiB0aGUgYGNvbm5lY3QoKWAgZnVuY3Rpb24nKTsKICAgIH0KICAgIHJldHVybiBzb2NrZXQ7CiAgfQoKICBnZXQgZGVmYXVsdFBvcnQoKSB7CiAgICByZXR1cm4gX251bGxpc2hDb2FsZXNjZSQyKHRoaXNbSU5URVJOQUxdLmRlZmF1bHRQb3J0LCAoKSA9PiAoICh0aGlzLnByb3RvY29sID09PSAnaHR0cHM6JyA/IDQ0MyA6IDgwKSkpOwogIH0KCiAgc2V0IGRlZmF1bHRQb3J0KHYpIHsKICAgIGlmICh0aGlzW0lOVEVSTkFMXSkgewogICAgICB0aGlzW0lOVEVSTkFMXS5kZWZhdWx0UG9ydCA9IHY7CiAgICB9CiAgfQoKICBnZXQgcHJvdG9jb2woKSB7CiAgICByZXR1cm4gX251bGxpc2hDb2FsZXNjZSQyKHRoaXNbSU5URVJOQUxdLnByb3RvY29sLCAoKSA9PiAoICh0aGlzLmlzU2VjdXJlRW5kcG9pbnQoKSA/ICdodHRwczonIDogJ2h0dHA6JykpKTsKICB9CgogIHNldCBwcm90b2NvbCh2KSB7CiAgICBpZiAodGhpc1tJTlRFUk5BTF0pIHsKICAgICAgdGhpc1tJTlRFUk5BTF0ucHJvdG9jb2wgPSB2OwogICAgfQogIH0KfQoKZnVuY3Rpb24gZGVidWckMSguLi5hcmdzKSB7CiAgbG9nZ2VyLmxvZygnW2h0dHBzLXByb3h5LWFnZW50OnBhcnNlLXByb3h5LXJlc3BvbnNlXScsIC4uLmFyZ3MpOwp9CgpmdW5jdGlvbiBwYXJzZVByb3h5UmVzcG9uc2Uoc29ja2V0KSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIC8vIHdlIG5lZWQgdG8gYnVmZmVyIGFueSBIVFRQIHRyYWZmaWMgdGhhdCBoYXBwZW5zIHdpdGggdGhlIHByb3h5IGJlZm9yZSB3ZSBnZXQKICAgIC8vIHRoZSBDT05ORUNUIHJlc3BvbnNlLCBzbyB0aGF0IGlmIHRoZSByZXNwb25zZSBpcyBhbnl0aGluZyBvdGhlciB0aGFuIGFuICIyMDAiCiAgICAvLyByZXNwb25zZSBjb2RlLCB0aGVuIHdlIGNhbiByZS1wbGF5IHRoZSAiZGF0YSIgZXZlbnRzIG9uIHRoZSBzb2NrZXQgb25jZSB0aGUKICAgIC8vIEhUVFAgcGFyc2VyIGlzIGhvb2tlZCB1cC4uLgogICAgbGV0IGJ1ZmZlcnNMZW5ndGggPSAwOwogICAgY29uc3QgYnVmZmVycyA9IFtdOwoKICAgIGZ1bmN0aW9uIHJlYWQoKSB7CiAgICAgIGNvbnN0IGIgPSBzb2NrZXQucmVhZCgpOwogICAgICBpZiAoYikgb25kYXRhKGIpOwogICAgICBlbHNlIHNvY2tldC5vbmNlKCdyZWFkYWJsZScsIHJlYWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7CiAgICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpOwogICAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7CiAgICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcigncmVhZGFibGUnLCByZWFkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbmVuZCgpIHsKICAgICAgY2xlYW51cCgpOwogICAgICBkZWJ1ZyQxKCdvbmVuZCcpOwogICAgICByZWplY3QobmV3IEVycm9yKCdQcm94eSBjb25uZWN0aW9uIGVuZGVkIGJlZm9yZSByZWNlaXZpbmcgQ09OTkVDVCByZXNwb25zZScpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbmVycm9yKGVycikgewogICAgICBjbGVhbnVwKCk7CiAgICAgIGRlYnVnJDEoJ29uZXJyb3IgJW8nLCBlcnIpOwogICAgICByZWplY3QoZXJyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbmRhdGEoYikgewogICAgICBidWZmZXJzLnB1c2goYik7CiAgICAgIGJ1ZmZlcnNMZW5ndGggKz0gYi5sZW5ndGg7CgogICAgICBjb25zdCBidWZmZXJlZCA9IEJ1ZmZlci5jb25jYXQoYnVmZmVycywgYnVmZmVyc0xlbmd0aCk7CiAgICAgIGNvbnN0IGVuZE9mSGVhZGVycyA9IGJ1ZmZlcmVkLmluZGV4T2YoJ1xyXG5cclxuJyk7CgogICAgICBpZiAoZW5kT2ZIZWFkZXJzID09PSAtMSkgewogICAgICAgIC8vIGtlZXAgYnVmZmVyaW5nCiAgICAgICAgZGVidWckMSgnaGF2ZSBub3QgcmVjZWl2ZWQgZW5kIG9mIEhUVFAgaGVhZGVycyB5ZXQuLi4nKTsKICAgICAgICByZWFkKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBoZWFkZXJQYXJ0cyA9IGJ1ZmZlcmVkLnNsaWNlKDAsIGVuZE9mSGVhZGVycykudG9TdHJpbmcoJ2FzY2lpJykuc3BsaXQoJ1xyXG4nKTsKICAgICAgY29uc3QgZmlyc3RMaW5lID0gaGVhZGVyUGFydHMuc2hpZnQoKTsKICAgICAgaWYgKCFmaXJzdExpbmUpIHsKICAgICAgICBzb2NrZXQuZGVzdHJveSgpOwogICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKCdObyBoZWFkZXIgcmVjZWl2ZWQgZnJvbSBwcm94eSBDT05ORUNUIHJlc3BvbnNlJykpOwogICAgICB9CiAgICAgIGNvbnN0IGZpcnN0TGluZVBhcnRzID0gZmlyc3RMaW5lLnNwbGl0KCcgJyk7CiAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSArZmlyc3RMaW5lUGFydHNbMV07CiAgICAgIGNvbnN0IHN0YXR1c1RleHQgPSBmaXJzdExpbmVQYXJ0cy5zbGljZSgyKS5qb2luKCcgJyk7CiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTsKICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgaGVhZGVyUGFydHMpIHsKICAgICAgICBpZiAoIWhlYWRlcikgY29udGludWU7CiAgICAgICAgY29uc3QgZmlyc3RDb2xvbiA9IGhlYWRlci5pbmRleE9mKCc6Jyk7CiAgICAgICAgaWYgKGZpcnN0Q29sb24gPT09IC0xKSB7CiAgICAgICAgICBzb2NrZXQuZGVzdHJveSgpOwogICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoYEludmFsaWQgaGVhZGVyIGZyb20gcHJveHkgQ09OTkVDVCByZXNwb25zZTogIiR7aGVhZGVyfSJgKSk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGtleSA9IGhlYWRlci5zbGljZSgwLCBmaXJzdENvbG9uKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGNvbnN0IHZhbHVlID0gaGVhZGVyLnNsaWNlKGZpcnN0Q29sb24gKyAxKS50cmltU3RhcnQoKTsKICAgICAgICBjb25zdCBjdXJyZW50ID0gaGVhZGVyc1trZXldOwogICAgICAgIGlmICh0eXBlb2YgY3VycmVudCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIGhlYWRlcnNba2V5XSA9IFtjdXJyZW50LCB2YWx1ZV07CiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnQpKSB7CiAgICAgICAgICBjdXJyZW50LnB1c2godmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZGVidWckMSgnZ290IHByb3h5IHNlcnZlciByZXNwb25zZTogJW8gJW8nLCBmaXJzdExpbmUsIGhlYWRlcnMpOwogICAgICBjbGVhbnVwKCk7CiAgICAgIHJlc29sdmUoewogICAgICAgIGNvbm5lY3Q6IHsKICAgICAgICAgIHN0YXR1c0NvZGUsCiAgICAgICAgICBzdGF0dXNUZXh0LAogICAgICAgICAgaGVhZGVycywKICAgICAgICB9LAogICAgICAgIGJ1ZmZlcmVkLAogICAgICB9KTsKICAgIH0KCiAgICBzb2NrZXQub24oJ2Vycm9yJywgb25lcnJvcik7CiAgICBzb2NrZXQub24oJ2VuZCcsIG9uZW5kKTsKCiAgICByZWFkKCk7CiAgfSk7Cn0KCmZ1bmN0aW9uIF9udWxsaXNoQ29hbGVzY2UkMShsaHMsIHJoc0ZuKSB7IGlmIChsaHMgIT0gbnVsbCkgeyByZXR1cm4gbGhzOyB9IGVsc2UgeyByZXR1cm4gcmhzRm4oKTsgfSB9IGZ1bmN0aW9uIF9vcHRpb25hbENoYWluJDEob3BzKSB7IGxldCBsYXN0QWNjZXNzTEhTID0gdW5kZWZpbmVkOyBsZXQgdmFsdWUgPSBvcHNbMF07IGxldCBpID0gMTsgd2hpbGUgKGkgPCBvcHMubGVuZ3RoKSB7IGNvbnN0IG9wID0gb3BzW2ldOyBjb25zdCBmbiA9IG9wc1tpICsgMV07IGkgKz0gMjsgaWYgKChvcCA9PT0gJ29wdGlvbmFsQWNjZXNzJyB8fCBvcCA9PT0gJ29wdGlvbmFsQ2FsbCcpICYmIHZhbHVlID09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBpZiAob3AgPT09ICdhY2Nlc3MnIHx8IG9wID09PSAnb3B0aW9uYWxBY2Nlc3MnKSB7IGxhc3RBY2Nlc3NMSFMgPSB2YWx1ZTsgdmFsdWUgPSBmbih2YWx1ZSk7IH0gZWxzZSBpZiAob3AgPT09ICdjYWxsJyB8fCBvcCA9PT0gJ29wdGlvbmFsQ2FsbCcpIHsgdmFsdWUgPSBmbigoLi4uYXJncykgPT4gdmFsdWUuY2FsbChsYXN0QWNjZXNzTEhTLCAuLi5hcmdzKSk7IGxhc3RBY2Nlc3NMSFMgPSB1bmRlZmluZWQ7IH0gfSByZXR1cm4gdmFsdWU7IH0KCmZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHsKICBsb2dnZXIubG9nKCdbaHR0cHMtcHJveHktYWdlbnRdJywgLi4uYXJncyk7Cn0KCi8qKgogKiBUaGUgYEh0dHBzUHJveHlBZ2VudGAgaW1wbGVtZW50cyBhbiBIVFRQIEFnZW50IHN1YmNsYXNzIHRoYXQgY29ubmVjdHMgdG8KICogdGhlIHNwZWNpZmllZCAiSFRUUChzKSBwcm94eSBzZXJ2ZXIiIGluIG9yZGVyIHRvIHByb3h5IEhUVFBTIHJlcXVlc3RzLgogKgogKiBPdXRnb2luZyBIVFRQIHJlcXVlc3RzIGFyZSBmaXJzdCB0dW5uZWxlZCB0aHJvdWdoIHRoZSBwcm94eSBzZXJ2ZXIgdXNpbmcgdGhlCiAqIGBDT05ORUNUYCBIVFRQIHJlcXVlc3QgbWV0aG9kIHRvIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gdG8gdGhlIHByb3h5IHNlcnZlciwKICogYW5kIHRoZW4gdGhlIHByb3h5IHNlcnZlciBjb25uZWN0cyB0byB0aGUgZGVzdGluYXRpb24gdGFyZ2V0IGFuZCBpc3N1ZXMgdGhlCiAqIEhUVFAgcmVxdWVzdCBmcm9tIHRoZSBwcm94eSBzZXJ2ZXIuCiAqCiAqIGBodHRwczpgIHJlcXVlc3RzIGhhdmUgdGhlaXIgc29ja2V0IGNvbm5lY3Rpb24gdXBncmFkZWQgdG8gVExTIG9uY2UKICogdGhlIGNvbm5lY3Rpb24gdG8gdGhlIHByb3h5IHNlcnZlciBoYXMgYmVlbiBlc3RhYmxpc2hlZC4KICovCmNsYXNzIEh0dHBzUHJveHlBZ2VudCBleHRlbmRzIEFnZW50IHsKICBzdGF0aWMgX19pbml0U3RhdGljKCkge3RoaXMucHJvdG9jb2xzID0gWydodHRwJywgJ2h0dHBzJ107IH0KCiAgY29uc3RydWN0b3IocHJveHksIG9wdHMpIHsKICAgIHN1cGVyKG9wdHMpOwogICAgdGhpcy5vcHRpb25zID0ge307CiAgICB0aGlzLnByb3h5ID0gdHlwZW9mIHByb3h5ID09PSAnc3RyaW5nJyA/IG5ldyBVUkwocHJveHkpIDogcHJveHk7CiAgICB0aGlzLnByb3h5SGVhZGVycyA9IF9udWxsaXNoQ29hbGVzY2UkMShfb3B0aW9uYWxDaGFpbiQxKFtvcHRzLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMiA9PiBfMi5oZWFkZXJzXSksICgpID0+ICgge30pKTsKICAgIGRlYnVnKCdDcmVhdGluZyBuZXcgSHR0cHNQcm94eUFnZW50IGluc3RhbmNlOiAlbycsIHRoaXMucHJveHkuaHJlZik7CgogICAgLy8gVHJpbSBvZmYgdGhlIGJyYWNrZXRzIGZyb20gSVB2NiBhZGRyZXNzZXMKICAgIGNvbnN0IGhvc3QgPSAodGhpcy5wcm94eS5ob3N0bmFtZSB8fCB0aGlzLnByb3h5Lmhvc3QpLnJlcGxhY2UoL15cW3xcXSQvZywgJycpOwogICAgY29uc3QgcG9ydCA9IHRoaXMucHJveHkucG9ydCA/IHBhcnNlSW50KHRoaXMucHJveHkucG9ydCwgMTApIDogdGhpcy5wcm94eS5wcm90b2NvbCA9PT0gJ2h0dHBzOicgPyA0NDMgOiA4MDsKICAgIHRoaXMuY29ubmVjdE9wdHMgPSB7CiAgICAgIC8vIEF0dGVtcHQgdG8gbmVnb3RpYXRlIGh0dHAvMS4xIGZvciBwcm94eSBzZXJ2ZXJzIHRoYXQgc3VwcG9ydCBodHRwLzIKICAgICAgQUxQTlByb3RvY29sczogWydodHRwLzEuMSddLAogICAgICAuLi4ob3B0cyA/IG9taXQob3B0cywgJ2hlYWRlcnMnKSA6IG51bGwpLAogICAgICBob3N0LAogICAgICBwb3J0LAogICAgfTsKICB9CgogIC8qKgogICAqIENhbGxlZCB3aGVuIHRoZSBub2RlLWNvcmUgSFRUUCBjbGllbnQgbGlicmFyeSBpcyBjcmVhdGluZyBhCiAgICogbmV3IEhUVFAgcmVxdWVzdC4KICAgKi8KICBhc3luYyBjb25uZWN0KHJlcSwgb3B0cykgewogICAgY29uc3QgeyBwcm94eSB9ID0gdGhpczsKCiAgICBpZiAoIW9wdHMuaG9zdCkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyAiaG9zdCIgcHJvdmlkZWQnKTsKICAgIH0KCiAgICAvLyBDcmVhdGUgYSBzb2NrZXQgY29ubmVjdGlvbiB0byB0aGUgcHJveHkgc2VydmVyLgogICAgbGV0IHNvY2tldDsKICAgIGlmIChwcm94eS5wcm90b2NvbCA9PT0gJ2h0dHBzOicpIHsKICAgICAgZGVidWcoJ0NyZWF0aW5nIGB0bHMuU29ja2V0YDogJW8nLCB0aGlzLmNvbm5lY3RPcHRzKTsKICAgICAgY29uc3Qgc2VydmVybmFtZSA9IHRoaXMuY29ubmVjdE9wdHMuc2VydmVybmFtZSB8fCB0aGlzLmNvbm5lY3RPcHRzLmhvc3Q7CiAgICAgIHNvY2tldCA9IHRscy5jb25uZWN0KHsKICAgICAgICAuLi50aGlzLmNvbm5lY3RPcHRzLAogICAgICAgIHNlcnZlcm5hbWU6IHNlcnZlcm5hbWUgJiYgbmV0LmlzSVAoc2VydmVybmFtZSkgPyB1bmRlZmluZWQgOiBzZXJ2ZXJuYW1lLAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGRlYnVnKCdDcmVhdGluZyBgbmV0LlNvY2tldGA6ICVvJywgdGhpcy5jb25uZWN0T3B0cyk7CiAgICAgIHNvY2tldCA9IG5ldC5jb25uZWN0KHRoaXMuY29ubmVjdE9wdHMpOwogICAgfQoKICAgIGNvbnN0IGhlYWRlcnMgPQogICAgICB0eXBlb2YgdGhpcy5wcm94eUhlYWRlcnMgPT09ICdmdW5jdGlvbicgPyB0aGlzLnByb3h5SGVhZGVycygpIDogeyAuLi50aGlzLnByb3h5SGVhZGVycyB9OwogICAgY29uc3QgaG9zdCA9IG5ldC5pc0lQdjYob3B0cy5ob3N0KSA/IGBbJHtvcHRzLmhvc3R9XWAgOiBvcHRzLmhvc3Q7CiAgICBsZXQgcGF5bG9hZCA9IGBDT05ORUNUICR7aG9zdH06JHtvcHRzLnBvcnR9IEhUVFAvMS4xXHJcbmA7CgogICAgLy8gSW5qZWN0IHRoZSBgUHJveHktQXV0aG9yaXphdGlvbmAgaGVhZGVyIGlmIG5lY2Vzc2FyeS4KICAgIGlmIChwcm94eS51c2VybmFtZSB8fCBwcm94eS5wYXNzd29yZCkgewogICAgICBjb25zdCBhdXRoID0gYCR7ZGVjb2RlVVJJQ29tcG9uZW50KHByb3h5LnVzZXJuYW1lKX06JHtkZWNvZGVVUklDb21wb25lbnQocHJveHkucGFzc3dvcmQpfWA7CiAgICAgIGhlYWRlcnNbJ1Byb3h5LUF1dGhvcml6YXRpb24nXSA9IGBCYXNpYyAke0J1ZmZlci5mcm9tKGF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKX1gOwogICAgfQoKICAgIGhlYWRlcnMuSG9zdCA9IGAke2hvc3R9OiR7b3B0cy5wb3J0fWA7CgogICAgaWYgKCFoZWFkZXJzWydQcm94eS1Db25uZWN0aW9uJ10pIHsKICAgICAgaGVhZGVyc1snUHJveHktQ29ubmVjdGlvbiddID0gdGhpcy5rZWVwQWxpdmUgPyAnS2VlcC1BbGl2ZScgOiAnY2xvc2UnOwogICAgfQogICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7CiAgICAgIHBheWxvYWQgKz0gYCR7bmFtZX06ICR7aGVhZGVyc1tuYW1lXX1cclxuYDsKICAgIH0KCiAgICBjb25zdCBwcm94eVJlc3BvbnNlUHJvbWlzZSA9IHBhcnNlUHJveHlSZXNwb25zZShzb2NrZXQpOwoKICAgIHNvY2tldC53cml0ZShgJHtwYXlsb2FkfVxyXG5gKTsKCiAgICBjb25zdCB7IGNvbm5lY3QsIGJ1ZmZlcmVkIH0gPSBhd2FpdCBwcm94eVJlc3BvbnNlUHJvbWlzZTsKICAgIHJlcS5lbWl0KCdwcm94eUNvbm5lY3QnLCBjb25uZWN0KTsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnQKICAgIC8vIEB0cy1pZ25vcmUgTm90IEV2ZW50RW1pdHRlciBpbiBOb2RlIHR5cGVzCiAgICB0aGlzLmVtaXQoJ3Byb3h5Q29ubmVjdCcsIGNvbm5lY3QsIHJlcSk7CgogICAgaWYgKGNvbm5lY3Quc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgIHJlcS5vbmNlKCdzb2NrZXQnLCByZXN1bWUpOwoKICAgICAgaWYgKG9wdHMuc2VjdXJlRW5kcG9pbnQpIHsKICAgICAgICAvLyBUaGUgcHJveHkgaXMgY29ubmVjdGluZyB0byBhIFRMUyBzZXJ2ZXIsIHNvIHVwZ3JhZGUKICAgICAgICAvLyB0aGlzIHNvY2tldCBjb25uZWN0aW9uIHRvIGEgVExTIGNvbm5lY3Rpb24uCiAgICAgICAgZGVidWcoJ1VwZ3JhZGluZyBzb2NrZXQgY29ubmVjdGlvbiB0byBUTFMnKTsKICAgICAgICBjb25zdCBzZXJ2ZXJuYW1lID0gb3B0cy5zZXJ2ZXJuYW1lIHx8IG9wdHMuaG9zdDsKICAgICAgICByZXR1cm4gdGxzLmNvbm5lY3QoewogICAgICAgICAgLi4ub21pdChvcHRzLCAnaG9zdCcsICdwYXRoJywgJ3BvcnQnKSwKICAgICAgICAgIHNvY2tldCwKICAgICAgICAgIHNlcnZlcm5hbWU6IG5ldC5pc0lQKHNlcnZlcm5hbWUpID8gdW5kZWZpbmVkIDogc2VydmVybmFtZSwKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNvY2tldDsKICAgIH0KCiAgICAvLyBTb21lIG90aGVyIHN0YXR1cyBjb2RlIHRoYXQncyBub3QgMjAwLi4uIG5lZWQgdG8gcmUtcGxheSB0aGUgSFRUUAogICAgLy8gaGVhZGVyICJkYXRhIiBldmVudHMgb250byB0aGUgc29ja2V0IG9uY2UgdGhlIEhUVFAgbWFjaGluZXJ5IGlzCiAgICAvLyBhdHRhY2hlZCBzbyB0aGF0IHRoZSBub2RlIGNvcmUgYGh0dHBgIGNhbiBwYXJzZSBhbmQgaGFuZGxlIHRoZQogICAgLy8gZXJyb3Igc3RhdHVzIGNvZGUuCgogICAgLy8gQ2xvc2UgdGhlIG9yaWdpbmFsIHNvY2tldCwgYW5kIGEgbmV3ICJmYWtlIiBzb2NrZXQgaXMgcmV0dXJuZWQKICAgIC8vIGluc3RlYWQsIHNvIHRoYXQgdGhlIHByb3h5IGRvZXNuJ3QgZ2V0IHRoZSBIVFRQIHJlcXVlc3QKICAgIC8vIHdyaXR0ZW4gdG8gaXQgKHdoaWNoIG1heSBjb250YWluIGBBdXRob3JpemF0aW9uYCBoZWFkZXJzIG9yIG90aGVyCiAgICAvLyBzZW5zaXRpdmUgZGF0YSkuCiAgICAvLwogICAgLy8gU2VlOiBodHRwczovL2hhY2tlcm9uZS5jb20vcmVwb3J0cy81NDE1MDIKICAgIHNvY2tldC5kZXN0cm95KCk7CgogICAgY29uc3QgZmFrZVNvY2tldCA9IG5ldyBuZXQuU29ja2V0KHsgd3JpdGFibGU6IGZhbHNlIH0pOwogICAgZmFrZVNvY2tldC5yZWFkYWJsZSA9IHRydWU7CgogICAgLy8gTmVlZCB0byB3YWl0IGZvciB0aGUgInNvY2tldCIgZXZlbnQgdG8gcmUtcGxheSB0aGUgImRhdGEiIGV2ZW50cy4KICAgIHJlcS5vbmNlKCdzb2NrZXQnLCAocykgPT4gewogICAgICBkZWJ1ZygnUmVwbGF5aW5nIHByb3h5IGJ1ZmZlciBmb3IgZmFpbGVkIHJlcXVlc3QnKTsKICAgICAgLy8gUmVwbGF5IHRoZSAiYnVmZmVyZWQiIEJ1ZmZlciBvbnRvIHRoZSBmYWtlIGBzb2NrZXRgLCBzaW5jZSBhdAogICAgICAvLyB0aGlzIHBvaW50IHRoZSBIVFRQIG1vZHVsZSBtYWNoaW5lcnkgaGFzIGJlZW4gaG9va2VkIHVwIGZvcgogICAgICAvLyB0aGUgdXNlci4KICAgICAgcy5wdXNoKGJ1ZmZlcmVkKTsKICAgICAgcy5wdXNoKG51bGwpOwogICAgfSk7CgogICAgcmV0dXJuIGZha2VTb2NrZXQ7CiAgfQp9IEh0dHBzUHJveHlBZ2VudC5fX2luaXRTdGF0aWMoKTsKCmZ1bmN0aW9uIHJlc3VtZShzb2NrZXQpIHsKICBzb2NrZXQucmVzdW1lKCk7Cn0KCmZ1bmN0aW9uIG9taXQoCiAgb2JqLAogIC4uLmtleXMKKQoKIHsKICBjb25zdCByZXQgPSB7fQoKOwogIGxldCBrZXk7CiAgZm9yIChrZXkgaW4gb2JqKSB7CiAgICBpZiAoIWtleXMuaW5jbHVkZXMoa2V5KSkgewogICAgICByZXRba2V5XSA9IG9ialtrZXldOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpmdW5jdGlvbiBfbnVsbGlzaENvYWxlc2NlKGxocywgcmhzRm4pIHsgaWYgKGxocyAhPSBudWxsKSB7IHJldHVybiBsaHM7IH0gZWxzZSB7IHJldHVybiByaHNGbigpOyB9IH0KLy8gRXN0aW1hdGVkIG1heGltdW0gc2l6ZSBmb3IgcmVhc29uYWJsZSBzdGFuZGFsb25lIGV2ZW50CmNvbnN0IEdaSVBfVEhSRVNIT0xEID0gMTAyNCAqIDMyOwoKLyoqCiAqIEdldHMgYSBzdHJlYW0gZnJvbSBhIFVpbnQ4QXJyYXkgb3Igc3RyaW5nCiAqIFJlYWRhYmxlLmZyb20gaXMgaWRlYWwgYnV0IHdhcyBhZGRlZCBpbiBub2RlLmpzIHYxMi4zLjAgYW5kIHYxMC4xNy4wCiAqLwpmdW5jdGlvbiBzdHJlYW1Gcm9tQm9keShib2R5KSB7CiAgcmV0dXJuIG5ldyBSZWFkYWJsZSh7CiAgICByZWFkKCkgewogICAgICB0aGlzLnB1c2goYm9keSk7CiAgICAgIHRoaXMucHVzaChudWxsKTsKICAgIH0sCiAgfSk7Cn0KCi8qKgogKiBDcmVhdGVzIGEgVHJhbnNwb3J0IHRoYXQgdXNlcyBuYXRpdmUgdGhlIG5hdGl2ZSAnaHR0cCcgYW5kICdodHRwcycgbW9kdWxlcyB0byBzZW5kIGV2ZW50cyB0byBTZW50cnkuCiAqLwpmdW5jdGlvbiBtYWtlTm9kZVRyYW5zcG9ydChvcHRpb25zKSB7CiAgbGV0IHVybFNlZ21lbnRzOwoKICB0cnkgewogICAgdXJsU2VnbWVudHMgPSBuZXcgVVJMKG9wdGlvbnMudXJsKTsKICB9IGNhdGNoIChlKSB7CiAgICBjb25zb2xlU2FuZGJveCgoKSA9PiB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgIGNvbnNvbGUud2FybigKICAgICAgICAnW0BzZW50cnkvbm9kZV06IEludmFsaWQgZHNuIG9yIHR1bm5lbCBvcHRpb24sIHdpbGwgbm90IHNlbmQgYW55IGV2ZW50cy4gVGhlIHR1bm5lbCBvcHRpb24gbXVzdCBiZSBhIGZ1bGwgVVJMIHdoZW4gdXNlZC4nLAogICAgICApOwogICAgfSk7CiAgICByZXR1cm4gY3JlYXRlVHJhbnNwb3J0KG9wdGlvbnMsICgpID0+IFByb21pc2UucmVzb2x2ZSh7fSkpOwogIH0KCiAgY29uc3QgaXNIdHRwcyA9IHVybFNlZ21lbnRzLnByb3RvY29sID09PSAnaHR0cHM6JzsKCiAgLy8gUHJveHkgcHJpb3JpdGl6YXRpb246IGh0dHAgPT4gYG9wdGlvbnMucHJveHlgIHwgYHByb2Nlc3MuZW52Lmh0dHBfcHJveHlgCiAgLy8gUHJveHkgcHJpb3JpdGl6YXRpb246IGh0dHBzID0+IGBvcHRpb25zLnByb3h5YCB8IGBwcm9jZXNzLmVudi5odHRwc19wcm94eWAgfCBgcHJvY2Vzcy5lbnYuaHR0cF9wcm94eWAKICBjb25zdCBwcm94eSA9IGFwcGx5Tm9Qcm94eU9wdGlvbigKICAgIHVybFNlZ21lbnRzLAogICAgb3B0aW9ucy5wcm94eSB8fCAoaXNIdHRwcyA/IHByb2Nlc3MuZW52Lmh0dHBzX3Byb3h5IDogdW5kZWZpbmVkKSB8fCBwcm9jZXNzLmVudi5odHRwX3Byb3h5LAogICk7CgogIGNvbnN0IG5hdGl2ZUh0dHBNb2R1bGUgPSBpc0h0dHBzID8gaHR0cHMgOiBodHRwOwogIGNvbnN0IGtlZXBBbGl2ZSA9IG9wdGlvbnMua2VlcEFsaXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IG9wdGlvbnMua2VlcEFsaXZlOwoKICAvLyBUT0RPKHY3KTogRXZhbHVhdGUgaWYgd2UgY2FuIHNldCBrZWVwQWxpdmUgdG8gdHJ1ZS4gVGhpcyB3b3VsZCBpbnZvbHZlIHRlc3RpbmcgZm9yIG1lbW9yeSBsZWFrcyBpbiBvbGRlciBub2RlCiAgLy8gdmVyc2lvbnMoPj0gOCkgYXMgdGhleSBoYWQgbWVtb3J5IGxlYWtzIHdoZW4gdXNpbmcgaXQ6ICMyNTU1CiAgY29uc3QgYWdlbnQgPSBwcm94eQogICAgPyAobmV3IEh0dHBzUHJveHlBZ2VudChwcm94eSkgKQogICAgOiBuZXcgbmF0aXZlSHR0cE1vZHVsZS5BZ2VudCh7IGtlZXBBbGl2ZSwgbWF4U29ja2V0czogMzAsIHRpbWVvdXQ6IDIwMDAgfSk7CgogIGNvbnN0IHJlcXVlc3RFeGVjdXRvciA9IGNyZWF0ZVJlcXVlc3RFeGVjdXRvcihvcHRpb25zLCBfbnVsbGlzaENvYWxlc2NlKG9wdGlvbnMuaHR0cE1vZHVsZSwgKCkgPT4gKCBuYXRpdmVIdHRwTW9kdWxlKSksIGFnZW50KTsKICByZXR1cm4gY3JlYXRlVHJhbnNwb3J0KG9wdGlvbnMsIHJlcXVlc3RFeGVjdXRvcik7Cn0KCi8qKgogKiBIb25vcnMgdGhlIGBub19wcm94eWAgZW52IHZhcmlhYmxlIHdpdGggdGhlIGhpZ2hlc3QgcHJpb3JpdHkgdG8gYWxsb3cgZm9yIGhvc3RzIGV4Y2x1c2lvbi4KICoKICogQHBhcmFtIHRyYW5zcG9ydFVybCBUaGUgVVJMIHRoZSB0cmFuc3BvcnQgaW50ZW5kcyB0byBzZW5kIGV2ZW50cyB0by4KICogQHBhcmFtIHByb3h5IFRoZSBjbGllbnQgY29uZmlndXJlZCBwcm94eS4KICogQHJldHVybnMgQSBwcm94eSB0aGUgdHJhbnNwb3J0IHNob3VsZCB1c2UuCiAqLwpmdW5jdGlvbiBhcHBseU5vUHJveHlPcHRpb24odHJhbnNwb3J0VXJsU2VnbWVudHMsIHByb3h5KSB7CiAgY29uc3QgeyBub19wcm94eSB9ID0gcHJvY2Vzcy5lbnY7CgogIGNvbnN0IHVybElzRXhlbXB0RnJvbVByb3h5ID0KICAgIG5vX3Byb3h5ICYmCiAgICBub19wcm94eQogICAgICAuc3BsaXQoJywnKQogICAgICAuc29tZSgKICAgICAgICBleGVtcHRpb24gPT4gdHJhbnNwb3J0VXJsU2VnbWVudHMuaG9zdC5lbmRzV2l0aChleGVtcHRpb24pIHx8IHRyYW5zcG9ydFVybFNlZ21lbnRzLmhvc3RuYW1lLmVuZHNXaXRoKGV4ZW1wdGlvbiksCiAgICAgICk7CgogIGlmICh1cmxJc0V4ZW1wdEZyb21Qcm94eSkgewogICAgcmV0dXJuIHVuZGVmaW5lZDsKICB9IGVsc2UgewogICAgcmV0dXJuIHByb3h5OwogIH0KfQoKLyoqCiAqIENyZWF0ZXMgYSBSZXF1ZXN0RXhlY3V0b3IgdG8gYmUgdXNlZCB3aXRoIGBjcmVhdGVUcmFuc3BvcnRgLgogKi8KZnVuY3Rpb24gY3JlYXRlUmVxdWVzdEV4ZWN1dG9yKAogIG9wdGlvbnMsCiAgaHR0cE1vZHVsZSwKICBhZ2VudCwKKSB7CiAgY29uc3QgeyBob3N0bmFtZSwgcGF0aG5hbWUsIHBvcnQsIHByb3RvY29sLCBzZWFyY2ggfSA9IG5ldyBVUkwob3B0aW9ucy51cmwpOwogIHJldHVybiBmdW5jdGlvbiBtYWtlUmVxdWVzdChyZXF1ZXN0KSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICBsZXQgYm9keSA9IHN0cmVhbUZyb21Cb2R5KHJlcXVlc3QuYm9keSk7CgogICAgICBjb25zdCBoZWFkZXJzID0geyAuLi5vcHRpb25zLmhlYWRlcnMgfTsKCiAgICAgIGlmIChyZXF1ZXN0LmJvZHkubGVuZ3RoID4gR1pJUF9USFJFU0hPTEQpIHsKICAgICAgICBoZWFkZXJzWydjb250ZW50LWVuY29kaW5nJ10gPSAnZ3ppcCc7CiAgICAgICAgYm9keSA9IGJvZHkucGlwZShjcmVhdGVHemlwKCkpOwogICAgICB9CgogICAgICBjb25zdCByZXEgPSBodHRwTW9kdWxlLnJlcXVlc3QoCiAgICAgICAgewogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICBhZ2VudCwKICAgICAgICAgIGhlYWRlcnMsCiAgICAgICAgICBob3N0bmFtZSwKICAgICAgICAgIHBhdGg6IGAke3BhdGhuYW1lfSR7c2VhcmNofWAsCiAgICAgICAgICBwb3J0LAogICAgICAgICAgcHJvdG9jb2wsCiAgICAgICAgICBjYTogb3B0aW9ucy5jYUNlcnRzLAogICAgICAgIH0sCiAgICAgICAgcmVzID0+IHsKICAgICAgICAgIHJlcy5vbignZGF0YScsICgpID0+IHsKICAgICAgICAgICAgLy8gRHJhaW4gc29ja2V0CiAgICAgICAgICB9KTsKCiAgICAgICAgICByZXMub24oJ2VuZCcsICgpID0+IHsKICAgICAgICAgICAgLy8gRHJhaW4gc29ja2V0CiAgICAgICAgICB9KTsKCiAgICAgICAgICByZXMuc2V0RW5jb2RpbmcoJ3V0ZjgnKTsKCiAgICAgICAgICAvLyAiS2V5LXZhbHVlIHBhaXJzIG9mIGhlYWRlciBuYW1lcyBhbmQgdmFsdWVzLiBIZWFkZXIgbmFtZXMgYXJlIGxvd2VyLWNhc2VkLiIKICAgICAgICAgIC8vIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzCiAgICAgICAgICBjb25zdCByZXRyeUFmdGVySGVhZGVyID0gX251bGxpc2hDb2FsZXNjZShyZXMuaGVhZGVyc1sncmV0cnktYWZ0ZXInXSwgKCkgPT4gKCBudWxsKSk7CiAgICAgICAgICBjb25zdCByYXRlTGltaXRzSGVhZGVyID0gX251bGxpc2hDb2FsZXNjZShyZXMuaGVhZGVyc1sneC1zZW50cnktcmF0ZS1saW1pdHMnXSwgKCkgPT4gKCBudWxsKSk7CgogICAgICAgICAgcmVzb2x2ZSh7CiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlcy5zdGF0dXNDb2RlLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ3JldHJ5LWFmdGVyJzogcmV0cnlBZnRlckhlYWRlciwKICAgICAgICAgICAgICAneC1zZW50cnktcmF0ZS1saW1pdHMnOiBBcnJheS5pc0FycmF5KHJhdGVMaW1pdHNIZWFkZXIpID8gcmF0ZUxpbWl0c0hlYWRlclswXSA6IHJhdGVMaW1pdHNIZWFkZXIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICApOwoKICAgICAgcmVxLm9uKCdlcnJvcicsIHJlamVjdCk7CiAgICAgIGJvZHkucGlwZShyZXEpOwogICAgfSk7CiAgfTsKfQoKZnVuY3Rpb24gX29wdGlvbmFsQ2hhaW4ob3BzKSB7IGxldCBsYXN0QWNjZXNzTEhTID0gdW5kZWZpbmVkOyBsZXQgdmFsdWUgPSBvcHNbMF07IGxldCBpID0gMTsgd2hpbGUgKGkgPCBvcHMubGVuZ3RoKSB7IGNvbnN0IG9wID0gb3BzW2ldOyBjb25zdCBmbiA9IG9wc1tpICsgMV07IGkgKz0gMjsgaWYgKChvcCA9PT0gJ29wdGlvbmFsQWNjZXNzJyB8fCBvcCA9PT0gJ29wdGlvbmFsQ2FsbCcpICYmIHZhbHVlID09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBpZiAob3AgPT09ICdhY2Nlc3MnIHx8IG9wID09PSAnb3B0aW9uYWxBY2Nlc3MnKSB7IGxhc3RBY2Nlc3NMSFMgPSB2YWx1ZTsgdmFsdWUgPSBmbih2YWx1ZSk7IH0gZWxzZSBpZiAob3AgPT09ICdjYWxsJyB8fCBvcCA9PT0gJ29wdGlvbmFsQ2FsbCcpIHsgdmFsdWUgPSBmbigoLi4uYXJncykgPT4gdmFsdWUuY2FsbChsYXN0QWNjZXNzTEhTLCAuLi5hcmdzKSk7IGxhc3RBY2Nlc3NMSFMgPSB1bmRlZmluZWQ7IH0gfSByZXR1cm4gdmFsdWU7IH0KY29uc3Qgb3B0aW9ucyA9IHdvcmtlckRhdGE7CmxldCBzZXNzaW9uOwpsZXQgaGFzU2VudEFuckV2ZW50ID0gZmFsc2U7CgpmdW5jdGlvbiBsb2cobXNnKSB7CiAgaWYgKG9wdGlvbnMuZGVidWcpIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICBjb25zb2xlLmxvZyhgW0FOUiBXb3JrZXJdICR7bXNnfWApOwogIH0KfQoKY29uc3QgdXJsID0gZ2V0RW52ZWxvcGVFbmRwb2ludFdpdGhVcmxFbmNvZGVkQXV0aChvcHRpb25zLmRzbik7CmNvbnN0IHRyYW5zcG9ydCA9IG1ha2VOb2RlVHJhbnNwb3J0KHsKICB1cmwsCiAgcmVjb3JkRHJvcHBlZEV2ZW50OiAoKSA9PiB7CiAgICAvLwogIH0sCn0pOwoKYXN5bmMgZnVuY3Rpb24gc2VuZEFibm9ybWFsU2Vzc2lvbigpIHsKICAvLyBvZiB3ZSBoYXZlIGFuIGV4aXN0aW5nIHNlc3Npb24gcGFzc2VkIGZyb20gdGhlIG1haW4gdGhyZWFkLCBzZW5kIGl0IGFzIGFibm9ybWFsCiAgaWYgKHNlc3Npb24pIHsKICAgIGxvZygnU2VuZGluZyBhYm5vcm1hbCBzZXNzaW9uJyk7CiAgICB1cGRhdGVTZXNzaW9uKHNlc3Npb24sIHsgc3RhdHVzOiAnYWJub3JtYWwnLCBhYm5vcm1hbF9tZWNoYW5pc206ICdhbnJfZm9yZWdyb3VuZCcgfSk7CgogICAgY29uc3QgZW52ZWxvcGUgPSBjcmVhdGVTZXNzaW9uRW52ZWxvcGUoc2Vzc2lvbiwgb3B0aW9ucy5kc24sIG9wdGlvbnMuc2RrTWV0YWRhdGEpOwogICAgLy8gTG9nIHRoZSBlbnZlbG9wZSBzbyB0byBhaWQgaW4gdGVzdGluZwogICAgbG9nKEpTT04uc3RyaW5naWZ5KGVudmVsb3BlKSk7CgogICAgYXdhaXQgdHJhbnNwb3J0LnNlbmQoZW52ZWxvcGUpOwoKICAgIHRyeSB7CiAgICAgIC8vIE5vdGlmeSB0aGUgbWFpbiBwcm9jZXNzIHRoYXQgdGhlIHNlc3Npb24gaGFzIGVuZGVkIHNvIHRoZSBzZXNzaW9uIGNhbiBiZSBjbGVhcmVkIGZyb20gdGhlIHNjb3BlCiAgICAgIF9vcHRpb25hbENoYWluKFtwYXJlbnRQb3J0LCAnb3B0aW9uYWxBY2Nlc3MnLCBfMiA9PiBfMi5wb3N0TWVzc2FnZSwgJ2NhbGwnLCBfMyA9PiBfMygnc2Vzc2lvbi1lbmRlZCcpXSk7CiAgICB9IGNhdGNoIChfKSB7CiAgICAgIC8vIGlnbm9yZQogICAgfQogIH0KfQoKbG9nKCdTdGFydGVkJyk7CgpmdW5jdGlvbiBwcmVwYXJlU3RhY2tGcmFtZXMoc3RhY2tGcmFtZXMpIHsKICBpZiAoIXN0YWNrRnJhbWVzKSB7CiAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KCiAgLy8gU3RyaXAgU2VudHJ5IGZyYW1lcyBhbmQgcmV2ZXJzZSB0aGUgc3RhY2sgZnJhbWVzIHNvIHRoZXkgYXJlIGluIHRoZSBjb3JyZWN0IG9yZGVyCiAgY29uc3Qgc3RyaXBwZWRGcmFtZXMgPSBzdHJpcFNlbnRyeUZyYW1lc0FuZFJldmVyc2Uoc3RhY2tGcmFtZXMpOwoKICAvLyBJZiB3ZSBoYXZlIGFuIGFwcCByb290IHBhdGgsIHJld3JpdGUgdGhlIGZpbGVuYW1lcyB0byBiZSByZWxhdGl2ZSB0byB0aGUgYXBwIHJvb3QKICBpZiAob3B0aW9ucy5hcHBSb290UGF0aCkgewogICAgZm9yIChjb25zdCBmcmFtZSBvZiBzdHJpcHBlZEZyYW1lcykgewogICAgICBpZiAoIWZyYW1lLmZpbGVuYW1lKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIGZyYW1lLmZpbGVuYW1lID0gbm9ybWFsaXplVXJsVG9CYXNlKGZyYW1lLmZpbGVuYW1lLCBvcHRpb25zLmFwcFJvb3RQYXRoKTsKICAgIH0KICB9CgogIHJldHVybiBzdHJpcHBlZEZyYW1lczsKfQoKZnVuY3Rpb24gYXBwbHlTY29wZVRvRXZlbnQoZXZlbnQsIHNjb3BlKSB7CiAgYXBwbHlTY29wZURhdGFUb0V2ZW50KGV2ZW50LCBzY29wZSk7CgogIGlmICghX29wdGlvbmFsQ2hhaW4oW2V2ZW50LCAnYWNjZXNzJywgXzQgPT4gXzQuY29udGV4dHMsICdvcHRpb25hbEFjY2VzcycsIF81ID0+IF81LnRyYWNlXSkpIHsKICAgIGNvbnN0IHsgdHJhY2VJZCwgc3BhbklkLCBwYXJlbnRTcGFuSWQgfSA9IHNjb3BlLnByb3BhZ2F0aW9uQ29udGV4dDsKICAgIGV2ZW50LmNvbnRleHRzID0gewogICAgICB0cmFjZTogewogICAgICAgIHRyYWNlX2lkOiB0cmFjZUlkLAogICAgICAgIHNwYW5faWQ6IHNwYW5JZCwKICAgICAgICBwYXJlbnRfc3Bhbl9pZDogcGFyZW50U3BhbklkLAogICAgICB9LAogICAgICAuLi5ldmVudC5jb250ZXh0cywKICAgIH07CiAgfQp9Cgphc3luYyBmdW5jdGlvbiBzZW5kQW5yRXZlbnQoZnJhbWVzLCBzY29wZSkgewogIGlmIChoYXNTZW50QW5yRXZlbnQpIHsKICAgIHJldHVybjsKICB9CgogIGhhc1NlbnRBbnJFdmVudCA9IHRydWU7CgogIGF3YWl0IHNlbmRBYm5vcm1hbFNlc3Npb24oKTsKCiAgbG9nKCdTZW5kaW5nIGV2ZW50Jyk7CgogIGNvbnN0IGV2ZW50ID0gewogICAgZXZlbnRfaWQ6IHV1aWQ0KCksCiAgICBjb250ZXh0czogb3B0aW9ucy5jb250ZXh0cywKICAgIHJlbGVhc2U6IG9wdGlvbnMucmVsZWFzZSwKICAgIGVudmlyb25tZW50OiBvcHRpb25zLmVudmlyb25tZW50LAogICAgZGlzdDogb3B0aW9ucy5kaXN0LAogICAgcGxhdGZvcm06ICdub2RlJywKICAgIGxldmVsOiAnZXJyb3InLAogICAgZXhjZXB0aW9uOiB7CiAgICAgIHZhbHVlczogWwogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICdBcHBsaWNhdGlvbk5vdFJlc3BvbmRpbmcnLAogICAgICAgICAgdmFsdWU6IGBBcHBsaWNhdGlvbiBOb3QgUmVzcG9uZGluZyBmb3IgYXQgbGVhc3QgJHtvcHRpb25zLmFuclRocmVzaG9sZH0gbXNgLAogICAgICAgICAgc3RhY2t0cmFjZTogeyBmcmFtZXM6IHByZXBhcmVTdGFja0ZyYW1lcyhmcmFtZXMpIH0sCiAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIFVJIGRvZXNuJ3Qgc2F5ICdDcmFzaGVkIGluJyBmb3IgdGhlIHN0YWNrIHRyYWNlCiAgICAgICAgICBtZWNoYW5pc206IHsgdHlwZTogJ0FOUicgfSwKICAgICAgICB9LAogICAgICBdLAogICAgfSwKICAgIHRhZ3M6IG9wdGlvbnMuc3RhdGljVGFncywKICB9OwoKICBpZiAoc2NvcGUpIHsKICAgIGFwcGx5U2NvcGVUb0V2ZW50KGV2ZW50LCBzY29wZSk7CiAgfQoKICBjb25zdCBlbnZlbG9wZSA9IGNyZWF0ZUV2ZW50RW52ZWxvcGUoZXZlbnQsIG9wdGlvbnMuZHNuLCBvcHRpb25zLnNka01ldGFkYXRhKTsKICAvLyBMb2cgdGhlIGVudmVsb3BlIHRvIGFpZCBpbiB0ZXN0aW5nCiAgbG9nKEpTT04uc3RyaW5naWZ5KGVudmVsb3BlKSk7CgogIGF3YWl0IHRyYW5zcG9ydC5zZW5kKGVudmVsb3BlKTsKICBhd2FpdCB0cmFuc3BvcnQuZmx1c2goMjAwMCk7CgogIC8vIERlbGF5IGZvciA1IHNlY29uZHMgc28gdGhhdCBzdGRpbyBjYW4gZmx1c2ggaW4gdGhlIG1haW4gZXZlbnQgbG9vcCBldmVyIHJlc3RhcnRzLgogIC8vIFRoaXMgaXMgbWFpbmx5IGZvciB0aGUgYmVuZWZpdCBvZiBsb2dnaW5nL2RlYnVnZ2luZyBpc3N1ZXMuCiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICBwcm9jZXNzLmV4aXQoMCk7CiAgfSwgNTAwMCk7Cn0KCmxldCBkZWJ1Z2dlclBhdXNlOwoKaWYgKG9wdGlvbnMuY2FwdHVyZVN0YWNrVHJhY2UpIHsKICBsb2coJ0Nvbm5lY3RpbmcgdG8gZGVidWdnZXInKTsKCiAgY29uc3Qgc2Vzc2lvbiA9IG5ldyBTZXNzaW9uKCkgOwogIHNlc3Npb24uY29ubmVjdFRvTWFpblRocmVhZCgpOwoKICBsb2coJ0Nvbm5lY3RlZCB0byBkZWJ1Z2dlcicpOwoKICAvLyBDb2xsZWN0IHNjcmlwdElkIC0+IHVybCBtYXAgc28gd2UgY2FuIGxvb2sgdXAgdGhlIGZpbGVuYW1lcyBsYXRlcgogIGNvbnN0IHNjcmlwdHMgPSBuZXcgTWFwKCk7CgogIHNlc3Npb24ub24oJ0RlYnVnZ2VyLnNjcmlwdFBhcnNlZCcsIGV2ZW50ID0+IHsKICAgIHNjcmlwdHMuc2V0KGV2ZW50LnBhcmFtcy5zY3JpcHRJZCwgZXZlbnQucGFyYW1zLnVybCk7CiAgfSk7CgogIHNlc3Npb24ub24oJ0RlYnVnZ2VyLnBhdXNlZCcsIGV2ZW50ID0+IHsKICAgIGlmIChldmVudC5wYXJhbXMucmVhc29uICE9PSAnb3RoZXInKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0cnkgewogICAgICBsb2coJ0RlYnVnZ2VyIHBhdXNlZCcpOwoKICAgICAgLy8gY29weSB0aGUgZnJhbWVzCiAgICAgIGNvbnN0IGNhbGxGcmFtZXMgPSBbLi4uZXZlbnQucGFyYW1zLmNhbGxGcmFtZXNdOwoKICAgICAgY29uc3QgZ2V0TW9kdWxlTmFtZSA9IG9wdGlvbnMuYXBwUm9vdFBhdGggPyBjcmVhdGVHZXRNb2R1bGVGcm9tRmlsZW5hbWUob3B0aW9ucy5hcHBSb290UGF0aCkgOiAoKSA9PiB1bmRlZmluZWQ7CiAgICAgIGNvbnN0IHN0YWNrRnJhbWVzID0gY2FsbEZyYW1lcy5tYXAoZnJhbWUgPT4KICAgICAgICBjYWxsRnJhbWVUb1N0YWNrRnJhbWUoZnJhbWUsIHNjcmlwdHMuZ2V0KGZyYW1lLmxvY2F0aW9uLnNjcmlwdElkKSwgZ2V0TW9kdWxlTmFtZSksCiAgICAgICk7CgogICAgICAvLyBFdmFsdWF0ZSBhIHNjcmlwdCBpbiB0aGUgY3VycmVudGx5IHBhdXNlZCBjb250ZXh0CiAgICAgIHNlc3Npb24ucG9zdCgKICAgICAgICAnUnVudGltZS5ldmFsdWF0ZScsCiAgICAgICAgewogICAgICAgICAgLy8gR3JhYiB0aGUgdHJhY2UgY29udGV4dCBmcm9tIHRoZSBjdXJyZW50IHNjb3BlCiAgICAgICAgICBleHByZXNzaW9uOiAnZ2xvYmFsLl9fU0VOVFJZX0dFVF9TQ09QRVNfXygpOycsCiAgICAgICAgICAvLyBEb24ndCByZS10cmlnZ2VyIHRoZSBkZWJ1Z2dlciBpZiB0aGlzIGNhdXNlcyBhbiBlcnJvcgogICAgICAgICAgc2lsZW50OiB0cnVlLAogICAgICAgICAgLy8gU2VyaWFsaXplIHRoZSByZXN1bHQgdG8ganNvbiBvdGhlcndpc2Ugb25seSBwcmltaXRpdmVzIGFyZSBzdXBwb3J0ZWQKICAgICAgICAgIHJldHVybkJ5VmFsdWU6IHRydWUsCiAgICAgICAgfSwKICAgICAgICAoZXJyLCBwYXJhbSkgPT4gewogICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICBsb2coYEVycm9yIGV4ZWN1dGluZyBzY3JpcHQ6ICcke2Vyci5tZXNzYWdlfSdgKTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBzY29wZXMgPSBwYXJhbSAmJiBwYXJhbS5yZXN1bHQgPyAocGFyYW0ucmVzdWx0LnZhbHVlICkgOiB1bmRlZmluZWQ7CgogICAgICAgICAgc2Vzc2lvbi5wb3N0KCdEZWJ1Z2dlci5yZXN1bWUnKTsKICAgICAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIuZGlzYWJsZScpOwoKICAgICAgICAgIHNlbmRBbnJFdmVudChzdGFja0ZyYW1lcywgc2NvcGVzKS50aGVuKG51bGwsICgpID0+IHsKICAgICAgICAgICAgbG9nKCdTZW5kaW5nIEFOUiBldmVudCBmYWlsZWQuJyk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICApOwogICAgfSBjYXRjaCAoZSkgewogICAgICBzZXNzaW9uLnBvc3QoJ0RlYnVnZ2VyLnJlc3VtZScpOwogICAgICBzZXNzaW9uLnBvc3QoJ0RlYnVnZ2VyLmRpc2FibGUnKTsKICAgICAgdGhyb3cgZTsKICAgIH0KICB9KTsKCiAgZGVidWdnZXJQYXVzZSA9ICgpID0+IHsKICAgIHRyeSB7CiAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIuZW5hYmxlJywgKCkgPT4gewogICAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIucGF1c2UnKTsKICAgICAgfSk7CiAgICB9IGNhdGNoIChfKSB7CiAgICAgIC8vCiAgICB9CiAgfTsKfQoKZnVuY3Rpb24gY3JlYXRlSHJUaW1lcigpIHsKICAvLyBUT0RPICh2OCk6IFdlIGNhbiB1c2UgcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCkgYWZ0ZXIgd2UgZHJvcCBub2RlIHY4CiAgbGV0IGxhc3RQb2xsID0gcHJvY2Vzcy5ocnRpbWUoKTsKCiAgcmV0dXJuIHsKICAgIGdldFRpbWVNczogKCkgPT4gewogICAgICBjb25zdCBbc2Vjb25kcywgbmFub1NlY29uZHNdID0gcHJvY2Vzcy5ocnRpbWUobGFzdFBvbGwpOwogICAgICByZXR1cm4gTWF0aC5mbG9vcihzZWNvbmRzICogMWUzICsgbmFub1NlY29uZHMgLyAxZTYpOwogICAgfSwKICAgIHJlc2V0OiAoKSA9PiB7CiAgICAgIGxhc3RQb2xsID0gcHJvY2Vzcy5ocnRpbWUoKTsKICAgIH0sCiAgfTsKfQoKZnVuY3Rpb24gd2F0Y2hkb2dUaW1lb3V0KCkgewogIGxvZygnV2F0Y2hkb2cgdGltZW91dCcpOwoKICBpZiAoZGVidWdnZXJQYXVzZSkgewogICAgbG9nKCdQYXVzaW5nIGRlYnVnZ2VyIHRvIGNhcHR1cmUgc3RhY2sgdHJhY2UnKTsKICAgIGRlYnVnZ2VyUGF1c2UoKTsKICB9IGVsc2UgewogICAgbG9nKCdDYXB0dXJpbmcgZXZlbnQgd2l0aG91dCBhIHN0YWNrIHRyYWNlJyk7CiAgICBzZW5kQW5yRXZlbnQoKS50aGVuKG51bGwsICgpID0+IHsKICAgICAgbG9nKCdTZW5kaW5nIEFOUiBldmVudCBmYWlsZWQgb24gd2F0Y2hkb2cgdGltZW91dC4nKTsKICAgIH0pOwogIH0KfQoKY29uc3QgeyBwb2xsIH0gPSB3YXRjaGRvZ1RpbWVyKGNyZWF0ZUhyVGltZXIsIG9wdGlvbnMucG9sbEludGVydmFsLCBvcHRpb25zLmFuclRocmVzaG9sZCwgd2F0Y2hkb2dUaW1lb3V0KTsKCl9vcHRpb25hbENoYWluKFtwYXJlbnRQb3J0LCAnb3B0aW9uYWxBY2Nlc3MnLCBfNiA9PiBfNi5vbiwgJ2NhbGwnLCBfNyA9PiBfNygnbWVzc2FnZScsIChtc2cpID0+IHsKICBpZiAobXNnLnNlc3Npb24pIHsKICAgIHNlc3Npb24gPSBtYWtlU2Vzc2lvbihtc2cuc2Vzc2lvbik7CiAgfQoKICBwb2xsKCk7Cn0pXSk7";
- });

--- Removed ZtA (pretty-v2.1.26.js:75395-75545)
- var ZtA = k((ST8, hT8) => {
-   var { _optionalChain: Ja5, _optionalChainDelete: RT8 } = H8();
-   Object.defineProperty(ST8, "__esModule", { value: !0 });
-   var Oa5 = CA("url"),
-     qF = a5(),
-     GtA = H8(),
-     CB1 = d1A(),
-     Xa5 = LT8(),
-     $a5 = 50,
-     _a5 = 5000;
-   function LB1(A, ...K) {
-     GtA.logger.log(`[ANR] ${A}`, ...K);
-   }
-   function Ga5() {
-     return GtA.GLOBAL_OBJ;
-   }
-   function Za5() {
-     let A = qF.getGlobalScope().getScopeData();
-     return (
-       qF.mergeScopeData(A, qF.getIsolationScope().getScopeData()),
-       qF.mergeScopeData(A, qF.getCurrentScope().getScopeData()),
-       (A.attachments = []),
-       (A.eventProcessors = []),
-       A
-     );
-   }
-   function Wa5() {
-     return GtA.dynamicRequire(hT8, "worker_threads");
-   }
-   async function Da5(A) {
-     let K = { message: "ANR" },
-       q = {};
-     for (let Y of A.getEventProcessors()) {
-       if (K === null) break;
-       K = await Y(K, q);
-     }
-     return Ja5([K, "optionalAccess", (Y) => Y.contexts]) || {};
-   }
-   var yT8 = "Anr",
-     ja5 = (A = {}) => {
-       if (
-         CB1.NODE_VERSION.major < 16 ||
-         (CB1.NODE_VERSION.major === 16 && CB1.NODE_VERSION.minor < 17)
-       )
-         throw Error("ANR detection requires Node 16.17.0 or later");
-       let K,
-         q,
-         Y = Ga5();
-       return (
-         (Y.__SENTRY_GET_SCOPES__ = Za5),
-         {
-           name: yT8,
-           setupOnce() {},
-           startWorker: () => {
-             if (K) return;
-             if (q) K = Pa5(q, A);
-           },
-           stopWorker: () => {
-             if (K)
-               K.then((z) => {
-                 (z(), (K = void 0));
-               });
-           },
-           setup(z) {
-             ((q = z), setImmediate(() => this.startWorker()));
-           },
-         }
-       );
-     },
-     IT8 = qF.defineIntegration(ja5),
-     Ma5 = qF.convertIntegrationFnToClass(yT8, IT8);
-   async function Pa5(A, K) {
-     let q = A.getDsn();
-     if (!q) return () => {};
-     let Y = await Da5(A);
-     (RT8([
-       Y,
-       "access",
-       ($) => $.app,
-       "optionalAccess",
-       ($) => delete $.app_memory,
-     ]),
-       RT8([
-         Y,
-         "access",
-         ($) => $.device,
-         "optionalAccess",
-         ($) => delete $.free_memory,
-       ]));
-     let z = A.getOptions(),
-       w = A.getSdkMetadata() || {};
-     if (w.sdk) w.sdk.integrations = z.integrations.map(($) => $.name);
-     let H = {
-       debug: GtA.logger.isEnabled(),
-       dsn: q,
-       environment: z.environment || "production",
-       release: z.release,
-       dist: z.dist,
-       sdkMetadata: w,
-       appRootPath: K.appRootPath,
-       pollInterval: K.pollInterval || $a5,
-       anrThreshold: K.anrThreshold || _a5,
-       captureStackTrace: !!K.captureStackTrace,
-       staticTags: K.staticTags || {},
-       contexts: Y,
-     };
-     if (H.captureStackTrace) {
-       let $ = CA("inspector");
-       if (!$.url()) $.open(0);
-     }
-     let { Worker: J } = Wa5(),
-       O = new J(
-         new Oa5.URL(
-           `data:application/javascript;base64,${Xa5.base64WorkerScript}`,
-         ),
-         { workerData: H },
-       );
-     process.on("exit", () => {
-       O.terminate();
-     });
-     let X = setInterval(() => {
-       try {
-         let $ = qF.getCurrentScope().getSession(),
-           _ = $ ? { ...$, toJSON: void 0 } : void 0;
-         O.postMessage({ session: _ });
-       } catch ($) {}
-     }, H.pollInterval);
-     return (
-       X.unref(),
-       O.on("message", ($) => {
-         if ($ === "session-ended")
-           (LB1(
-             "ANR event sent from ANR worker. Clearing session in this thread.",
-           ),
-             qF.getCurrentScope().setSession(void 0));
-       }),
-       O.once("error", ($) => {
-         (clearInterval(X), LB1("ANR worker error", $));
-       }),
-       O.once("exit", ($) => {
-         (clearInterval(X), LB1("ANR worker exit", $));
-       }),
-       O.unref(),
-       () => {
-         (O.terminate(), clearInterval(X));
-       }
-     );
-   }
-   ST8.Anr = Ma5;
-   ST8.anrIntegration = IT8;
- });

--- Removed xT8 (pretty-v2.1.26.js:75546-75555)
- var xT8 = k((bT8) => {
-   Object.defineProperty(bT8, "__esModule", { value: !0 });
-   var Na5 = a5(),
-     Ta5 = ZtA();
-   function va5(A) {
-     let K = Na5.getClient();
-     return (new Ta5.Anr(A).setup(K), Promise.resolve());
-   }
-   bT8.enableAnrDetection = va5;
- });

--- Removed RB1 (pretty-v2.1.26.js:75556-75619)
- var RB1 = k((mT8) => {
-   var { _optionalChain: uT8 } = H8();
-   Object.defineProperty(mT8, "__esModule", { value: !0 });
-   var _HA = a5(),
-     BT8 = H8();
-   function ka5(A = {}) {
-     return function ({ path: K, type: q, next: Y, rawInput: z }) {
-       let w = uT8([
-           _HA.getClient,
-           "call",
-           (X) => X(),
-           "optionalAccess",
-           (X) => X.getOptions,
-           "call",
-           (X) => X(),
-         ]),
-         H = _HA.getCurrentScope().getTransaction();
-       if (H) {
-         (H.updateName(`trpc/${K}`),
-           H.setAttribute(_HA.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE, "route"),
-           (H.op = "rpc.server"));
-         let X = { procedure_type: q };
-         if (
-           A.attachRpcInput !== void 0
-             ? A.attachRpcInput
-             : uT8([w, "optionalAccess", ($) => $.sendDefaultPii])
-         )
-           X.input = BT8.normalize(z);
-         H.setContext("trpc", X);
-       }
-       function J(X) {
-         if (!X.ok)
-           _HA.captureException(X.error, {
-             mechanism: { handled: !1, data: { function: "trpcMiddleware" } },
-           });
-       }
-       let O;
-       try {
-         O = Y();
-       } catch (X) {
-         throw (
-           _HA.captureException(X, {
-             mechanism: { handled: !1, data: { function: "trpcMiddleware" } },
-           }),
-           X
-         );
-       }
-       if (BT8.isThenable(O))
-         Promise.resolve(O).then(
-           (X) => {
-             J(X);
-           },
-           (X) => {
-             _HA.captureException(X, {
-               mechanism: { handled: !1, data: { function: "trpcMiddleware" } },
-             });
-           },
-         );
-       else J(O);
-       return O;
-     };
-   }
-   mT8.trpcMiddleware = ka5;
- });

--- Removed QT8 (pretty-v2.1.26.js:75620-75631)
- var QT8 = k((FT8) => {
-   Object.defineProperty(FT8, "__esModule", { value: !0 });
-   var gT8 = H8();
-   function La5(A, K) {
-     return gT8.extractRequestData(A, { include: K });
-   }
-   function Ra5(A, K, q = {}) {
-     return gT8.addRequestDataToEvent(A, K, { include: q });
-   }
-   FT8.extractRequestData = La5;
-   FT8.parseRequest = Ra5;
- });

--- Removed dT8 (pretty-v2.1.26.js:75632-75813)
- var dT8 = k((pT8) => {
-   var { _optionalChain: WtA } = H8();
-   Object.defineProperty(pT8, "__esModule", { value: !0 });
-   var p_ = a5(),
-     GHA = H8(),
-     Sa5 = fvA(),
-     DtA = EB1(),
-     ha5 = RB1(),
-     UT8 = QT8();
-   function ba5() {
-     return function (K, q, Y) {
-       let z = WtA([
-         p_.getClient,
-         "call",
-         ($) => $(),
-         "optionalAccess",
-         ($) => $.getOptions,
-         "call",
-         ($) => $(),
-       ]);
-       if (
-         !z ||
-         z.instrumenter !== "sentry" ||
-         WtA([
-           K,
-           "access",
-           ($) => $.method,
-           "optionalAccess",
-           ($) => $.toUpperCase,
-           "call",
-           ($) => $(),
-         ]) === "OPTIONS" ||
-         WtA([
-           K,
-           "access",
-           ($) => $.method,
-           "optionalAccess",
-           ($) => $.toUpperCase,
-           "call",
-           ($) => $(),
-         ]) === "HEAD"
-       )
-         return Y();
-       let w =
-           K.headers && GHA.isString(K.headers["sentry-trace"])
-             ? K.headers["sentry-trace"]
-             : void 0,
-         H = WtA([
-           K,
-           "access",
-           ($) => $.headers,
-           "optionalAccess",
-           ($) => $.baggage,
-         ]);
-       if (!p_.hasTracingEnabled(z)) return Y();
-       let [J, O] = GHA.extractPathForTransaction(K, { path: !0, method: !0 }),
-         X = p_.continueTrace({ sentryTrace: w, baggage: H }, ($) =>
-           p_.startTransaction(
-             {
-               name: J,
-               op: "http.server",
-               origin: "auto.http.node.tracingHandler",
-               ...$,
-               data: { [p_.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: O },
-               metadata: { ...$.metadata, request: K },
-             },
-             { request: GHA.extractRequestData(K) },
-           ),
-         );
-       (p_.getCurrentScope().setSpan(X),
-         (q.__sentry_transaction = X),
-         q.once("finish", () => {
-           setImmediate(() => {
-             (GHA.addRequestDataToTransaction(X, K),
-               p_.setHttpStatus(X, q.statusCode),
-               X.end());
-           });
-         }),
-         Y());
-     };
-   }
-   function xa5(A = {}) {
-     let K;
-     if ("include" in A) K = { include: A.include };
-     else {
-       let { ip: q, request: Y, transaction: z, user: w } = A;
-       if (q || Y || z || w)
-         K = {
-           include: GHA.dropUndefinedKeys({
-             ip: q,
-             request: Y,
-             transaction: z,
-             user: w,
-           }),
-         };
-     }
-     return K;
-   }
-   function ua5(A) {
-     let K = xa5(A),
-       q = p_.getClient();
-     if (q && DtA.isAutoSessionTrackingEnabled(q)) {
-       q.initSessionFlusher();
-       let Y = p_.getCurrentScope();
-       if (Y.getSession()) Y.setSession();
-     }
-     return function (z, w, H) {
-       if (A && A.flushTimeout && A.flushTimeout > 0) {
-         let J = w.end;
-         w.end = function (O, X, $) {
-           p_.flush(A.flushTimeout)
-             .then(() => {
-               J.call(this, O, X, $);
-             })
-             .then(null, (_) => {
-               (Sa5.DEBUG_BUILD && GHA.logger.error(_), J.call(this, O, X, $));
-             });
-         };
-       }
-       p_.runWithAsyncContext(() => {
-         let J = p_.getCurrentScope();
-         J.setSDKProcessingMetadata({
-           request: z,
-           requestDataOptionsFromExpressHandler: K,
-         });
-         let O = p_.getClient();
-         if (DtA.isAutoSessionTrackingEnabled(O))
-           J.setRequestSession({ status: "ok" });
-         (w.once("finish", () => {
-           let X = p_.getClient();
-           if (DtA.isAutoSessionTrackingEnabled(X))
-             setImmediate(() => {
-               if (X && X._captureRequestSession) X._captureRequestSession();
-             });
-         }),
-           H());
-       });
-     };
-   }
-   function Ba5(A) {
-     let K =
-       A.status ||
-       A.statusCode ||
-       A.status_code ||
-       (A.output && A.output.statusCode);
-     return K ? parseInt(K, 10) : 500;
-   }
-   function ma5(A) {
-     return Ba5(A) >= 500;
-   }
-   function ga5(A) {
-     return function (q, Y, z, w) {
-       if (((A && A.shouldHandleError) || ma5)(q)) {
-         p_.withScope((J) => {
-           J.setSDKProcessingMetadata({ request: Y });
-           let O = z.__sentry_transaction;
-           if (O && !p_.getActiveSpan()) J.setSpan(O);
-           let X = p_.getClient();
-           if (X && DtA.isAutoSessionTrackingEnabled(X)) {
-             if (X._sessionFlusher !== void 0) {
-               let G = J.getRequestSession();
-               if (G && G.status !== void 0) G.status = "crashed";
-             }
-           }
-           let $ = p_.captureException(q, {
-             mechanism: { type: "middleware", handled: !1 },
-           });
-           ((z.sentry = $), w(q));
-         });
-         return;
-       }
-       w(q);
-     };
-   }
-   var Fa5 = ha5.trpcMiddleware;
-   pT8.extractRequestData = UT8.extractRequestData;
-   pT8.parseRequest = UT8.parseRequest;
-   pT8.errorHandler = ga5;
-   pT8.requestHandler = ua5;
-   pT8.tracingHandler = ba5;
-   pT8.trpcMiddleware = Fa5;
- });

--- Removed yB1 (pretty-v2.1.26.js:75814-75914)
- var yB1 = k((aT8) => {
-   Object.defineProperty(aT8, "__esModule", { value: !0 });
-   var JV = a5(),
-     lT8 = H8();
-   function cT8(A) {
-     return A && A.statusCode !== void 0;
-   }
-   function ia5(A) {
-     return A && A.error !== void 0;
-   }
-   function na5(A) {
-     JV.captureException(A, {
-       mechanism: {
-         type: "hapi",
-         handled: !1,
-         data: { function: "hapiErrorPlugin" },
-       },
-     });
-   }
-   var iT8 = {
-       name: "SentryHapiErrorPlugin",
-       version: JV.SDK_VERSION,
-       register: async function (A) {
-         A.events.on("request", (q, Y) => {
-           let z = JV.getActiveTransaction();
-           if (ia5(Y)) na5(Y.error);
-           if (z) (z.setStatus("internal_error"), z.end());
-         });
-       },
-     },
-     nT8 = {
-       name: "SentryHapiTracingPlugin",
-       version: JV.SDK_VERSION,
-       register: async function (A) {
-         let K = A;
-         (K.ext("onPreHandler", (q, Y) => {
-           let z = JV.continueTrace(
-             {
-               sentryTrace: q.headers["sentry-trace"] || void 0,
-               baggage: q.headers.baggage || void 0,
-             },
-             (w) => {
-               return JV.startTransaction({
-                 ...w,
-                 op: "hapi.request",
-                 name: q.route.path,
-                 description: `${q.route.method} ${q.path}`,
-               });
-             },
-           );
-           return (JV.getCurrentScope().setSpan(z), Y.continue);
-         }),
-           K.ext("onPreResponse", (q, Y) => {
-             let z = JV.getActiveTransaction();
-             if (q.response && cT8(q.response) && z) {
-               let w = q.response;
-               w.header("sentry-trace", JV.spanToTraceHeader(z));
-               let H = lT8.dynamicSamplingContextToSentryBaggageHeader(
-                 JV.getDynamicSamplingContextFromSpan(z),
-               );
-               if (H) w.header("baggage", H);
-             }
-             return Y.continue;
-           }),
-           K.ext("onPostHandler", (q, Y) => {
-             let z = JV.getActiveTransaction();
-             if (z) {
-               if (q.response && cT8(q.response))
-                 JV.setHttpStatus(z, q.response.statusCode);
-               z.end();
-             }
-             return Y.continue;
-           }));
-       },
-     },
-     rT8 = "Hapi",
-     ra5 = (A = {}) => {
-       let K = A.server;
-       return {
-         name: rT8,
-         setupOnce() {
-           if (!K) return;
-           lT8.fill(K, "start", (q) => {
-             return async function () {
-               return (
-                 await this.register(nT8),
-                 await this.register(iT8),
-                 q.apply(this)
-               );
-             };
-           });
-         },
-       };
-     },
-     oT8 = JV.defineIntegration(ra5),
-     oa5 = JV.convertIntegrationFnToClass(rT8, oT8);
-   aT8.Hapi = oa5;
-   aT8.hapiErrorPlugin = iT8;
-   aT8.hapiIntegration = oT8;
-   aT8.hapiTracingPlugin = nT8;
- });

--- Removed tT8 (pretty-v2.1.26.js:75915-75943)
- var tT8 = k((sT8) => {
-   Object.defineProperty(sT8, "__esModule", { value: !0 });
-   var As5 = rsA(),
-     Ks5 = tsA(),
-     qs5 = wtA(),
-     Ys5 = JtA(),
-     zs5 = qtA(),
-     ws5 = ssA(),
-     Hs5 = osA(),
-     Js5 = a5(),
-     Os5 = KtA(),
-     Xs5 = $tA(),
-     $s5 = OtA(),
-     _s5 = ZtA(),
-     Gs5 = yB1();
-   sT8.Console = As5.Console;
-   sT8.Http = Ks5.Http;
-   sT8.OnUncaughtException = qs5.OnUncaughtException;
-   sT8.OnUnhandledRejection = Ys5.OnUnhandledRejection;
-   sT8.Modules = zs5.Modules;
-   sT8.ContextLines = ws5.ContextLines;
-   sT8.Context = Hs5.Context;
-   sT8.RequestData = Js5.RequestData;
-   sT8.LocalVariables = Os5.LocalVariables;
-   sT8.Undici = Xs5.Undici;
-   sT8.Spotlight = $s5.Spotlight;
-   sT8.Anr = _s5.Anr;
-   sT8.Hapi = Gs5.Hapi;
- });

--- Removed Av8 (pretty-v2.1.26.js:75944-75954)
- var Av8 = k((eT8) => {
-   Object.defineProperty(eT8, "__esModule", { value: !0 });
-   var o1A = JB1();
-   eT8.Apollo = o1A.Apollo;
-   eT8.Express = o1A.Express;
-   eT8.GraphQL = o1A.GraphQL;
-   eT8.Mongo = o1A.Mongo;
-   eT8.Mysql = o1A.Mysql;
-   eT8.Postgres = o1A.Postgres;
-   eT8.Prisma = o1A.Prisma;
- });

--- Removed zv8 (pretty-v2.1.26.js:75955-76004)
- var zv8 = k((Yv8) => {
-   Object.defineProperty(Yv8, "__esModule", { value: !0 });
-   var a1A = a5(),
-     s1A = H8(),
-     Kv8 = "CaptureConsole",
-     bs5 = (A = {}) => {
-       let K = A.levels || s1A.CONSOLE_LEVELS;
-       return {
-         name: Kv8,
-         setupOnce() {},
-         setup(q) {
-           if (!("console" in s1A.GLOBAL_OBJ)) return;
-           s1A.addConsoleInstrumentationHandler(({ args: Y, level: z }) => {
-             if (a1A.getClient() !== q || !K.includes(z)) return;
-             us5(Y, z);
-           });
-         },
-       };
-     },
-     qv8 = a1A.defineIntegration(bs5),
-     xs5 = a1A.convertIntegrationFnToClass(Kv8, qv8);
-   function us5(A, K) {
-     let q = { level: s1A.severityLevelFromString(K), extra: { arguments: A } };
-     a1A.withScope((Y) => {
-       if (
-         (Y.addEventProcessor((H) => {
-           return (
-             (H.logger = "console"),
-             s1A.addExceptionMechanism(H, { handled: !1, type: "console" }),
-             H
-           );
-         }),
-         K === "assert" && A[0] === !1)
-       ) {
-         let H = `Assertion failed: ${s1A.safeJoin(A.slice(1), " ") || "console.assert"}`;
-         (Y.setExtra("arguments", A.slice(1)), a1A.captureMessage(H, q));
-         return;
-       }
-       let z = A.find((H) => H instanceof Error);
-       if (K === "error" && z) {
-         a1A.captureException(z, q);
-         return;
-       }
-       let w = s1A.safeJoin(A, " ");
-       a1A.captureMessage(w, q);
-     });
-   }
-   Yv8.CaptureConsole = xs5;
-   Yv8.captureConsoleIntegration = qv8;
- });

--- Removed Xv8 (pretty-v2.1.26.js:76005-76037)
- var Xv8 = k((Ov8) => {
-   Object.defineProperty(Ov8, "__esModule", { value: !0 });
-   var wv8 = a5(),
-     gs5 = H8(),
-     Hv8 = "Debug",
-     Fs5 = (A = {}) => {
-       let K = { debugger: !1, stringify: !1, ...A };
-       return {
-         name: Hv8,
-         setupOnce() {},
-         setup(q) {
-           if (!q.on) return;
-           q.on("beforeSendEvent", (Y, z) => {
-             if (K.debugger) debugger;
-             gs5.consoleSandbox(() => {
-               if (K.stringify) {
-                 if (
-                   (console.log(JSON.stringify(Y, null, 2)),
-                   z && Object.keys(z).length)
-                 )
-                   console.log(JSON.stringify(z, null, 2));
-               } else if ((console.log(Y), z && Object.keys(z).length))
-                 console.log(z);
-             });
-           });
-         },
-       };
-     },
-     Jv8 = wv8.defineIntegration(Fs5),
-     Qs5 = wv8.convertIntegrationFnToClass(Hv8, Jv8);
-   Ov8.Debug = Qs5;
-   Ov8.debugIntegration = Jv8;
- });

--- Removed TvA (pretty-v2.1.26.js:76038-76042)
- var TvA = k(($v8) => {
-   Object.defineProperty($v8, "__esModule", { value: !0 });
-   var ds5 = typeof __SENTRY_DEBUG__ > "u" || __SENTRY_DEBUG__;
-   $v8.DEBUG_BUILD = ds5;
- });

--- Removed fv8 (pretty-v2.1.26.js:76043-76144)
- var fv8 = k((Vv8) => {
-   Object.defineProperty(Vv8, "__esModule", { value: !0 });
-   var Zv8 = a5(),
-     ls5 = H8(),
-     is5 = TvA(),
-     Wv8 = "Dedupe",
-     ns5 = () => {
-       let A;
-       return {
-         name: Wv8,
-         setupOnce() {},
-         processEvent(K) {
-           if (K.type) return K;
-           try {
-             if (jv8(K, A))
-               return (
-                 is5.DEBUG_BUILD &&
-                   ls5.logger.warn(
-                     "Event dropped due to being a duplicate of previously captured event.",
-                   ),
-                 null
-               );
-           } catch (q) {}
-           return (A = K);
-         },
-       };
-     },
-     Dv8 = Zv8.defineIntegration(ns5),
-     rs5 = Zv8.convertIntegrationFnToClass(Wv8, Dv8);
-   function jv8(A, K) {
-     if (!K) return !1;
-     if (os5(A, K)) return !0;
-     if (as5(A, K)) return !0;
-     return !1;
-   }
-   function os5(A, K) {
-     let q = A.message,
-       Y = K.message;
-     if (!q && !Y) return !1;
-     if ((q && !Y) || (!q && Y)) return !1;
-     if (q !== Y) return !1;
-     if (!Pv8(A, K)) return !1;
-     if (!Mv8(A, K)) return !1;
-     return !0;
-   }
-   function as5(A, K) {
-     let q = _v8(K),
-       Y = _v8(A);
-     if (!q || !Y) return !1;
-     if (q.type !== Y.type || q.value !== Y.value) return !1;
-     if (!Pv8(A, K)) return !1;
-     if (!Mv8(A, K)) return !1;
-     return !0;
-   }
-   function Mv8(A, K) {
-     let q = Gv8(A),
-       Y = Gv8(K);
-     if (!q && !Y) return !0;
-     if ((q && !Y) || (!q && Y)) return !1;
-     if (((q = q), (Y = Y), Y.length !== q.length)) return !1;
-     for (let z = 0; z < Y.length; z++) {
-       let w = Y[z],
-         H = q[z];
-       if (
-         w.filename !== H.filename ||
-         w.lineno !== H.lineno ||
-         w.colno !== H.colno ||
-         w.function !== H.function
-       )
-         return !1;
-     }
-     return !0;
-   }
-   function Pv8(A, K) {
-     let q = A.fingerprint,
-       Y = K.fingerprint;
-     if (!q && !Y) return !0;
-     if ((q && !Y) || (!q && Y)) return !1;
-     ((q = q), (Y = Y));
-     try {
-       return q.join("") === Y.join("");
-     } catch (z) {
-       return !1;
-     }
-   }
-   function _v8(A) {
-     return A.exception && A.exception.values && A.exception.values[0];
-   }
-   function Gv8(A) {
-     let K = A.exception;
-     if (K)
-       try {
-         return K.values[0].stacktrace.frames;
-       } catch (q) {
-         return;
-       }
-     return;
-   }
-   Vv8.Dedupe = rs5;
-   Vv8._shouldDropEvent = jv8;
-   Vv8.dedupeIntegration = Dv8;
- });

--- Removed kv8 (pretty-v2.1.26.js:76145-76218)
- var kv8 = k((Ev8) => {
-   Object.defineProperty(Ev8, "__esModule", { value: !0 });
-   var Nv8 = a5(),
-     Oi = H8(),
-     At5 = TvA(),
-     Tv8 = "ExtraErrorData",
-     Kt5 = (A = {}) => {
-       let K = A.depth || 3,
-         q = A.captureErrorCause || !1;
-       return {
-         name: Tv8,
-         setupOnce() {},
-         processEvent(Y, z) {
-           return Yt5(Y, z, K, q);
-         },
-       };
-     },
-     vv8 = Nv8.defineIntegration(Kt5),
-     qt5 = Nv8.convertIntegrationFnToClass(Tv8, vv8);
-   function Yt5(A, K = {}, q, Y) {
-     if (!K.originalException || !Oi.isError(K.originalException)) return A;
-     let z = K.originalException.name || K.originalException.constructor.name,
-       w = zt5(K.originalException, Y);
-     if (w) {
-       let H = { ...A.contexts },
-         J = Oi.normalize(w, q);
-       if (Oi.isPlainObject(J))
-         (Oi.addNonEnumerableProperty(J, "__sentry_skip_normalization__", !0),
-           (H[z] = J));
-       return { ...A, contexts: H };
-     }
-     return A;
-   }
-   function zt5(A, K) {
-     try {
-       let q = [
-           "name",
-           "message",
-           "stack",
-           "line",
-           "column",
-           "fileName",
-           "lineNumber",
-           "columnNumber",
-           "toJSON",
-         ],
-         Y = {};
-       for (let z of Object.keys(A)) {
-         if (q.indexOf(z) !== -1) continue;
-         let w = A[z];
-         Y[z] = Oi.isError(w) ? w.toString() : w;
-       }
-       if (K && A.cause !== void 0)
-         Y.cause = Oi.isError(A.cause) ? A.cause.toString() : A.cause;
-       if (typeof A.toJSON === "function") {
-         let z = A.toJSON();
-         for (let w of Object.keys(z)) {
-           let H = z[w];
-           Y[w] = Oi.isError(H) ? H.toString() : H;
-         }
-       }
-       return Y;
-     } catch (q) {
-       At5.DEBUG_BUILD &&
-         Oi.logger.error(
-           "Unable to extract extra data from the Error object:",
-           q,
-         );
-     }
-     return null;
-   }
-   Ev8.ExtraErrorData = qt5;
-   Ev8.extraErrorDataIntegration = vv8;
- });

--- Removed Lv8 (pretty-v2.1.26.js:76219-78338)
- var Lv8 = k((Cv8, IB1) => {
-   /*!
-     localForage -- Offline Storage, Improved
-     Version 1.10.0
-     https://localforage.github.io/localForage
-     (c) 2013-2017 Mozilla, Apache License 2.0
- */ (function (A) {
-     if (typeof Cv8 === "object" && typeof IB1 < "u") IB1.exports = A();
-     else if (typeof define === "function" && define.amd) define([], A);
-     else {
-       var K;
-       if (typeof window < "u") K = window;
-       else if (typeof global < "u") K = global;
-       else if (typeof self < "u") K = self;
-       else K = this;
-       K.localforage = A();
-     }
-   })(function () {
-     var A, K, q;
-     return (function Y(z, w, H) {
-       function J($, _) {
-         if (!w[$]) {
-           if (!z[$]) {
-             var G = CA;
-             if (!_ && G) return G($, !0);
-             if (O) return O($, !0);
-             var Z = Error("Cannot find module '" + $ + "'");
-             throw ((Z.code = "MODULE_NOT_FOUND"), Z);
-           }
-           var W = (w[$] = { exports: {} });
-           z[$][0].call(
-             W.exports,
-             function (D) {
-               var j = z[$][1][D];
-               return J(j ? j : D);
-             },
-             W,
-             W.exports,
-             Y,
-             z,
-             w,
-             H,
-           );
-         }
-         return w[$].exports;
-       }
-       var O = CA;
-       for (var X = 0; X < H.length; X++) J(H[X]);
-       return J;
-     })(
-       {
-         1: [
-           function (Y, z, w) {
-             (function (H) {
-               var J = H.MutationObserver || H.WebKitMutationObserver,
-                 O;
-               if (J) {
-                 var X = 0,
-                   $ = new J(D),
-                   _ = H.document.createTextNode("");
-                 ($.observe(_, { characterData: !0 }),
-                   (O = function () {
-                     _.data = X = ++X % 2;
-                   }));
-               } else if (!H.setImmediate && typeof H.MessageChannel < "u") {
-                 var G = new H.MessageChannel();
-                 ((G.port1.onmessage = D),
-                   (O = function () {
-                     G.port2.postMessage(0);
-                   }));
-               } else if (
-                 "document" in H &&
-                 "onreadystatechange" in H.document.createElement("script")
-               )
-                 O = function () {
-                   var M = H.document.createElement("script");
-                   ((M.onreadystatechange = function () {
-                     (D(),
-                       (M.onreadystatechange = null),
-                       M.parentNode.removeChild(M),
-                       (M = null));
-                   }),
-                     H.document.documentElement.appendChild(M));
-                 };
-               else
-                 O = function () {
-                   setTimeout(D, 0);
-                 };
-               var Z,
-                 W = [];
-               function D() {
-                 Z = !0;
-                 var M,
-                   P,
-                   f = W.length;
-                 while (f) {
-                   ((P = W), (W = []), (M = -1));
-                   while (++M < f) P[M]();
-                   f = W.length;
-                 }
-                 Z = !1;
-               }
-               z.exports = j;
-               function j(M) {
-                 if (W.push(M) === 1 && !Z) O();
-               }
-             }).call(
-               this,
-               typeof global < "u"
-                 ? global
-                 : typeof self < "u"
-                   ? self
-                   : typeof window < "u"
-                     ? window
-                     : {},
-             );
-           },
-           {},
-         ],
-         2: [
-           function (Y, z, w) {
-             var H = Y(1);
-             function J() {}
-             var O = {},
-               X = ["REJECTED"],
-               $ = ["FULFILLED"],
-               _ = ["PENDING"];
-             z.exports = G;
-             function G(C) {
-               if (typeof C !== "function")
-                 throw TypeError("resolver must be a function");
-               if (
-                 ((this.state = _),
-                 (this.queue = []),
-                 (this.outcome = void 0),
-                 C !== J)
-               )
-                 j(this, C);
-             }
-             ((G.prototype.catch = function (C) {
-               return this.then(null, C);
-             }),
-               (G.prototype.then = function (C, R) {
-                 if (
-                   (typeof C !== "function" && this.state === $) ||
-                   (typeof R !== "function" && this.state === X)
-                 )
-                   return this;
-                 var x = new this.constructor(J);
-                 if (this.state !== _) {
-                   var y = this.state === $ ? C : R;
-                   W(x, y, this.outcome);
-                 } else this.queue.push(new Z(x, C, R));
-                 return x;
-               }));
-             function Z(C, R, x) {
-               if (((this.promise = C), typeof R === "function"))
-                 ((this.onFulfilled = R),
-                   (this.callFulfilled = this.otherCallFulfilled));
-               if (typeof x === "function")
-                 ((this.onRejected = x),
-                   (this.callRejected = this.otherCallRejected));
-             }
-             ((Z.prototype.callFulfilled = function (C) {
-               O.resolve(this.promise, C);
-             }),
-               (Z.prototype.otherCallFulfilled = function (C) {
-                 W(this.promise, this.onFulfilled, C);
-               }),
-               (Z.prototype.callRejected = function (C) {
-                 O.reject(this.promise, C);
-               }),
-               (Z.prototype.otherCallRejected = function (C) {
-                 W(this.promise, this.onRejected, C);
-               }));
-             function W(C, R, x) {
-               H(function () {
-                 var y;
-                 try {
-                   y = R(x);
-                 } catch (B) {
-                   return O.reject(C, B);
-                 }
-                 if (y === C)
-                   O.reject(C, TypeError("Cannot resolve promise with itself"));
-                 else O.resolve(C, y);
-               });
-             }
-             ((O.resolve = function (C, R) {
-               var x = M(D, R);
-               if (x.status === "error") return O.reject(C, x.value);
-               var y = x.value;
-               if (y) j(C, y);
-               else {
-                 ((C.state = $), (C.outcome = R));
-                 var B = -1,
-                   b = C.queue.length;
-                 while (++B < b) C.queue[B].callFulfilled(R);
-               }
-               return C;
-             }),
-               (O.reject = function (C, R) {
-                 ((C.state = X), (C.outcome = R));
-                 var x = -1,
-                   y = C.queue.length;
-                 while (++x < y) C.queue[x].callRejected(R);
-                 return C;
-               }));
-             function D(C) {
-               var R = C && C.then;
-               if (
-                 C &&
-                 (typeof C === "object" || typeof C === "function") &&
-                 typeof R === "function"
-               )
-                 return function () {
-                   R.apply(C, arguments);
-                 };
-             }
-             function j(C, R) {
-               var x = !1;
-               function y(Q) {
-                 if (x) return;
-                 ((x = !0), O.reject(C, Q));
-               }
-               function B(Q) {
-                 if (x) return;
-                 ((x = !0), O.resolve(C, Q));
-               }
-               function b() {
-                 R(B, y);
-               }
-               var F = M(b);
-               if (F.status === "error") y(F.value);
-             }
-             function M(C, R) {
-               var x = {};
-               try {
-                 ((x.value = C(R)), (x.status = "success"));
-               } catch (y) {
-                 ((x.status = "error"), (x.value = y));
-               }
-               return x;
-             }
-             G.resolve = P;
-             function P(C) {
-               if (C instanceof this) return C;
-               return O.resolve(new this(J), C);
-             }
-             G.reject = f;
-             function f(C) {
-               var R = new this(J);
-               return O.reject(R, C);
-             }
-             G.all = N;
-             function N(C) {
-               var R = this;
-               if (Object.prototype.toString.call(C) !== "[object Array]")
-                 return this.reject(TypeError("must be an array"));
-               var x = C.length,
-                 y = !1;
-               if (!x) return this.resolve([]);
-               var B = Array(x),
-                 b = 0,
-                 F = -1,
-                 Q = new this(J);
-               while (++F < x) u(C[F], F);
-               return Q;
-               function u(d, o) {
-                 R.resolve(d).then(c, function (qA) {
-                   if (!y) ((y = !0), O.reject(Q, qA));
-                 });
-                 function c(qA) {
-                   if (((B[o] = qA), ++b === x && !y))
-                     ((y = !0), O.resolve(Q, B));
-                 }
-               }
-             }
-             G.race = T;
-             function T(C) {
-               var R = this;
-               if (Object.prototype.toString.call(C) !== "[object Array]")
-                 return this.reject(TypeError("must be an array"));
-               var x = C.length,
-                 y = !1;
-               if (!x) return this.resolve([]);
-               var B = -1,
-                 b = new this(J);
-               while (++B < x) F(C[B]);
-               return b;
-               function F(Q) {
-                 R.resolve(Q).then(
-                   function (u) {
-                     if (!y) ((y = !0), O.resolve(b, u));
-                   },
-                   function (u) {
-                     if (!y) ((y = !0), O.reject(b, u));
-                   },
-                 );
-               }
-             }
-           },
-           { 1: 1 },
-         ],
-         3: [
-           function (Y, z, w) {
-             (function (H) {
-               if (typeof H.Promise !== "function") H.Promise = Y(2);
-             }).call(
-               this,
-               typeof global < "u"
-                 ? global
-                 : typeof self < "u"
-                   ? self
-                   : typeof window < "u"
-                     ? window
-                     : {},
-             );
-           },
-           { 2: 2 },
-         ],
-         4: [
-           function (Y, z, w) {
-             var H =
-               typeof Symbol === "function" &&
-               typeof Symbol.iterator === "symbol"
-                 ? function (q1) {
-                     return typeof q1;
-                   }
-                 : function (q1) {
-                     return q1 &&
-                       typeof Symbol === "function" &&
-                       q1.constructor === Symbol &&
-                       q1 !== Symbol.prototype
-                       ? "symbol"
-                       : typeof q1;
-                   };
-             function J(q1, NA) {
-               if (!(q1 instanceof NA))
-                 throw TypeError("Cannot call a class as a function");
-             }
-             function O() {
-               try {
-                 if (typeof indexedDB < "u") return indexedDB;
-                 if (typeof webkitIndexedDB < "u") return webkitIndexedDB;
-                 if (typeof mozIndexedDB < "u") return mozIndexedDB;
-                 if (typeof OIndexedDB < "u") return OIndexedDB;
-                 if (typeof msIndexedDB < "u") return msIndexedDB;
-               } catch (q1) {
-                 return;
-               }
-             }
-             var X = O();
-             function $() {
-               try {
-                 if (!X || !X.open) return !1;
-                 var q1 =
-                     typeof openDatabase < "u" &&
-                     /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) &&
-                     !/Chrome/.test(navigator.userAgent) &&
-                     !/BlackBerry/.test(navigator.platform),
-                   NA =
-                     typeof fetch === "function" &&
-                     fetch.toString().indexOf("[native code") !== -1;
-                 return (
-                   (!q1 || NA) &&
-                   typeof indexedDB < "u" &&
-                   typeof IDBKeyRange < "u"
-                 );
-               } catch (DA) {
-                 return !1;
-               }
-             }
-             function _(q1, NA) {
-               ((q1 = q1 || []), (NA = NA || {}));
-               try {
-                 return new Blob(q1, NA);
-               } catch (cA) {
-                 if (cA.name !== "TypeError") throw cA;
-                 var DA =
-                     typeof BlobBuilder < "u"
-                       ? BlobBuilder
-                       : typeof MSBlobBuilder < "u"
-                         ? MSBlobBuilder
-                         : typeof MozBlobBuilder < "u"
-                           ? MozBlobBuilder
-                           : WebKitBlobBuilder,
-                   gA = new DA();
-                 for (var dA = 0; dA < q1.length; dA += 1) gA.append(q1[dA]);
-                 return gA.getBlob(NA.type);
-               }
-             }
-             if (typeof Promise > "u") Y(3);
-             var G = Promise;
-             function Z(q1, NA) {
-               if (NA)
-                 q1.then(
-                   function (DA) {
-                     NA(null, DA);
-                   },
-                   function (DA) {
-                     NA(DA);
-                   },
-                 );
-             }
-             function W(q1, NA, DA) {
-               if (typeof NA === "function") q1.then(NA);
-               if (typeof DA === "function") q1.catch(DA);
-             }
-             function D(q1) {
-               if (typeof q1 !== "string")
-                 (console.warn(q1 + " used as a key, but it is not a string."),
-                   (q1 = String(q1)));
-               return q1;
-             }
-             function j() {
-               if (
-                 arguments.length &&
-                 typeof arguments[arguments.length - 1] === "function"
-               )
-                 return arguments[arguments.length - 1];
-             }
-             var M = "local-forage-detect-blob-support",
-               P = void 0,
-               f = {},
-               N = Object.prototype.toString,
-               T = "readonly",
-               C = "readwrite";
-             function R(q1) {
-               var NA = q1.length,
-                 DA = new ArrayBuffer(NA),
-                 gA = new Uint8Array(DA);
-               for (var dA = 0; dA < NA; dA++) gA[dA] = q1.charCodeAt(dA);
-               return DA;
-             }
-             function x(q1) {
-               return new G(function (NA) {
-                 var DA = q1.transaction(M, C),
-                   gA = _([""]);
-                 (DA.objectStore(M).put(gA, "key"),
-                   (DA.onabort = function (dA) {
-                     (dA.preventDefault(), dA.stopPropagation(), NA(!1));
-                   }),
-                   (DA.oncomplete = function () {
-                     var dA = navigator.userAgent.match(/Chrome\/(\d+)/),
-                       cA = navigator.userAgent.match(/Edge\//);
-                     NA(cA || !dA || parseInt(dA[1], 10) >= 43);
-                   }));
-               }).catch(function () {
-                 return !1;
-               });
-             }
-             function y(q1) {
-               if (typeof P === "boolean") return G.resolve(P);
-               return x(q1).then(function (NA) {
-                 return ((P = NA), P);
-               });
-             }
-             function B(q1) {
-               var NA = f[q1.name],
-                 DA = {};
-               if (
-                 ((DA.promise = new G(function (gA, dA) {
-                   ((DA.resolve = gA), (DA.reject = dA));
-                 })),
-                 NA.deferredOperations.push(DA),
-                 !NA.dbReady)
-               )
-                 NA.dbReady = DA.promise;
-               else
-                 NA.dbReady = NA.dbReady.then(function () {
-                   return DA.promise;
-                 });
-             }
-             function b(q1) {
-               var NA = f[q1.name],
-                 DA = NA.deferredOperations.pop();
-               if (DA) return (DA.resolve(), DA.promise);
-             }
-             function F(q1, NA) {
-               var DA = f[q1.name],
-                 gA = DA.deferredOperations.pop();
-               if (gA) return (gA.reject(NA), gA.promise);
-             }
-             function Q(q1, NA) {
-               return new G(function (DA, gA) {
-                 if (((f[q1.name] = f[q1.name] || a()), q1.db))
-                   if (NA) (B(q1), q1.db.close());
-                   else return DA(q1.db);
-                 var dA = [q1.name];
-                 if (NA) dA.push(q1.version);
-                 var cA = X.open.apply(X, dA);
-                 if (NA)
-                   cA.onupgradeneeded = function (Z1) {
-                     var y1 = cA.result;
-                     try {
-                       if (
-                         (y1.createObjectStore(q1.storeName), Z1.oldVersion <= 1)
-                       )
-                         y1.createObjectStore(M);
-                     } catch (u1) {
-                       if (u1.name === "ConstraintError")
-                         console.warn(
-                           'The database "' +
-                             q1.name +
-                             '" has been upgraded from version ' +
-                             Z1.oldVersion +
-                             " to version " +
-                             Z1.newVersion +
-                             ', but the storage "' +
-                             q1.storeName +
-                             '" already exists.',
-                         );
-                       else throw u1;
-                     }
-                   };
-                 ((cA.onerror = function (Z1) {
-                   (Z1.preventDefault(), gA(cA.error));
-                 }),
-                   (cA.onsuccess = function () {
-                     var Z1 = cA.result;
-                     ((Z1.onversionchange = function (y1) {
-                       y1.target.close();
-                     }),
-                       DA(Z1),
-                       b(q1));
-                   }));
-               });
-             }
-             function u(q1) {
-               return Q(q1, !1);
-             }
-             function d(q1) {
-               return Q(q1, !0);
-             }
-             function o(q1, NA) {
-               if (!q1.db) return !0;
-               var DA = !q1.db.objectStoreNames.contains(q1.storeName),
-                 gA = q1.version < q1.db.version,
-                 dA = q1.version > q1.db.version;
-               if (gA) {
-                 if (q1.version !== NA)
-                   console.warn(
-                     'The database "' +
-                       q1.name +
-                       `" can't be downgraded from version ` +
-                       q1.db.version +
-                       " to version " +
-                       q1.version +
-                       ".",
-                   );
-                 q1.version = q1.db.version;
-               }
-               if (dA || DA) {
-                 if (DA) {
-                   var cA = q1.db.version + 1;
-                   if (cA > q1.version) q1.version = cA;
-                 }
-                 return !0;
-               }
-               return !1;
-             }
-             function c(q1) {
-               return new G(function (NA, DA) {
-                 var gA = new FileReader();
-                 ((gA.onerror = DA),
-                   (gA.onloadend = function (dA) {
-                     var cA = btoa(dA.target.result || "");
-                     NA({
-                       __local_forage_encoded_blob: !0,
-                       data: cA,
-                       type: q1.type,
-                     });
-                   }),
-                   gA.readAsBinaryString(q1));
-               });
-             }
-             function qA(q1) {
-               var NA = R(atob(q1.data));
-               return _([NA], { type: q1.type });
-             }
-             function YA(q1) {
-               return q1 && q1.__local_forage_encoded_blob;
-             }
-             function e(q1) {
-               var NA = this,
-                 DA = NA._initReady().then(function () {
-                   var gA = f[NA._dbInfo.name];
-                   if (gA && gA.dbReady) return gA.dbReady;
-                 });
-               return (W(DA, q1, q1), DA);
-             }
-             function JA(q1) {
-               B(q1);
-               var NA = f[q1.name],
-                 DA = NA.forages;
-               for (var gA = 0; gA < DA.length; gA++) {
-                 var dA = DA[gA];
-                 if (dA._dbInfo.db)
-                   (dA._dbInfo.db.close(), (dA._dbInfo.db = null));
-               }
-               return (
-                 (q1.db = null),
-                 u(q1)
-                   .then(function (cA) {
-                     if (((q1.db = cA), o(q1))) return d(q1);
-                     return cA;
-                   })
-                   .then(function (cA) {
-                     q1.db = NA.db = cA;
-                     for (var Z1 = 0; Z1 < DA.length; Z1++)
-                       DA[Z1]._dbInfo.db = cA;
-                   })
-                   .catch(function (cA) {
-                     throw (F(q1, cA), cA);
-                   })
-               );
-             }
-             function OA(q1, NA, DA, gA) {
-               if (gA === void 0) gA = 1;
-               try {
-                 var dA = q1.db.transaction(q1.storeName, NA);
-                 DA(null, dA);
-               } catch (cA) {
-                 if (
-                   gA > 0 &&
-                   (!q1.db ||
-                     cA.name === "InvalidStateError" ||
-                     cA.name === "NotFoundError")
-                 )
-                   return G.resolve()
-                     .then(function () {
-                       if (
-                         !q1.db ||
-                         (cA.name === "NotFoundError" &&
-                           !q1.db.objectStoreNames.contains(q1.storeName) &&
-                           q1.version <= q1.db.version)
-                       ) {
-                         if (q1.db) q1.version = q1.db.version + 1;
-                         return d(q1);
-                       }
-                     })
-                     .then(function () {
-                       return JA(q1).then(function () {
-                         OA(q1, NA, DA, gA - 1);
-                       });
-                     })
-                     .catch(DA);
-                 DA(cA);
-               }
-             }
-             function a() {
-               return {
-                 forages: [],
-                 db: null,
-                 dbReady: null,
-                 deferredOperations: [],
-               };
-             }
-             function _A(q1) {
-               var NA = this,
-                 DA = { db: null };
-               if (q1) for (var gA in q1) DA[gA] = q1[gA];
-               var dA = f[DA.name];
-               if (!dA) ((dA = a()), (f[DA.name] = dA));
-               if ((dA.forages.push(NA), !NA._initReady))
-                 ((NA._initReady = NA.ready), (NA.ready = e));
-               var cA = [];
-               function Z1() {
-                 return G.resolve();
-               }
-               for (var y1 = 0; y1 < dA.forages.length; y1++) {
-                 var u1 = dA.forages[y1];
-                 if (u1 !== NA) cA.push(u1._initReady().catch(Z1));
-               }
-               var s1 = dA.forages.slice(0);
-               return G.all(cA)
-                 .then(function () {
-                   return ((DA.db = dA.db), u(DA));
-                 })
-                 .then(function (E1) {
-                   if (((DA.db = E1), o(DA, NA._defaultConfig.version)))
-                     return d(DA);
-                   return E1;
-                 })
-                 .then(function (E1) {
-                   ((DA.db = dA.db = E1), (NA._dbInfo = DA));
-                   for (var G6 = 0; G6 < s1.length; G6++) {
-                     var Z8 = s1[G6];
-                     if (Z8 !== NA)
-                       ((Z8._dbInfo.db = DA.db),
-                         (Z8._dbInfo.version = DA.version));
-                   }
-                 });
-             }
-             function WA(q1, NA) {
-               var DA = this;
-               q1 = D(q1);
-               var gA = new G(function (dA, cA) {
-                 DA.ready()
-                   .then(function () {
-                     OA(DA._dbInfo, T, function (Z1, y1) {
-                       if (Z1) return cA(Z1);
-                       try {
-                         var u1 = y1.objectStore(DA._dbInfo.storeName),
-                           s1 = u1.get(q1);
-                         ((s1.onsuccess = function () {
-                           var E1 = s1.result;
-                           if (E1 === void 0) E1 = null;
-                           if (YA(E1)) E1 = qA(E1);
-                           dA(E1);
-                         }),
-                           (s1.onerror = function () {
-                             cA(s1.error);
-                           }));
-                       } catch (E1) {
-                         cA(E1);
-                       }
-                     });
-                   })
-                   .catch(cA);
-               });
-               return (Z(gA, NA), gA);
-             }
-             function ZA(q1, NA) {
-               var DA = this,
-                 gA = new G(function (dA, cA) {
-                   DA.ready()
-                     .then(function () {
-                       OA(DA._dbInfo, T, function (Z1, y1) {
-                         if (Z1) return cA(Z1);
-                         try {
-                           var u1 = y1.objectStore(DA._dbInfo.storeName),
-                             s1 = u1.openCursor(),
-                             E1 = 1;
-                           ((s1.onsuccess = function () {
-                             var G6 = s1.result;
-                             if (G6) {
-                               var Z8 = G6.value;
-                               if (YA(Z8)) Z8 = qA(Z8);
-                               var j4 = q1(Z8, G6.key, E1++);
-                               if (j4 !== void 0) dA(j4);
-                               else G6.continue();
-                             } else dA();
-                           }),
-                             (s1.onerror = function () {
-                               cA(s1.error);
-                             }));
-                         } catch (G6) {
-                           cA(G6);
-                         }
-                       });
-                     })
-                     .catch(cA);
-                 });
-               return (Z(gA, NA), gA);
-             }
-             function IA(q1, NA, DA) {
-               var gA = this;
-               q1 = D(q1);
-               var dA = new G(function (cA, Z1) {
-                 var y1;
-                 gA.ready()
-                   .then(function () {
-                     if (((y1 = gA._dbInfo), N.call(NA) === "[object Blob]"))
-                       return y(y1.db).then(function (u1) {
-                         if (u1) return NA;
-                         return c(NA);
-                       });
-                     return NA;
-                   })
-                   .then(function (u1) {
-                     OA(gA._dbInfo, C, function (s1, E1) {
-                       if (s1) return Z1(s1);
-                       try {
-                         var G6 = E1.objectStore(gA._dbInfo.storeName);
-                         if (u1 === null) u1 = void 0;
-                         var Z8 = G6.put(u1, q1);
-                         ((E1.oncomplete = function () {
-                           if (u1 === void 0) u1 = null;
-                           cA(u1);
-                         }),
-                           (E1.onabort = E1.onerror =
-                             function () {
-                               var j4 = Z8.error
-                                 ? Z8.error
-                                 : Z8.transaction.error;
-                               Z1(j4);
-                             }));
-                       } catch (j4) {
-                         Z1(j4);
-                       }
-                     });
-                   })
-                   .catch(Z1);
-               });
-               return (Z(dA, DA), dA);
-             }
-             function LA(q1, NA) {
-               var DA = this;
-               q1 = D(q1);
-               var gA = new G(function (dA, cA) {
-                 DA.ready()
-                   .then(function () {
-                     OA(DA._dbInfo, C, function (Z1, y1) {
-                       if (Z1) return cA(Z1);
-                       try {
-                         var u1 = y1.objectStore(DA._dbInfo.storeName),
-                           s1 = u1.delete(q1);
-                         ((y1.oncomplete = function () {
-                           dA();
-                         }),
-                           (y1.onerror = function () {
-                             cA(s1.error);
-                           }),
-                           (y1.onabort = function () {
-                             var E1 = s1.error ? s1.error : s1.transaction.error;
-                             cA(E1);
-                           }));
-                       } catch (E1) {
-                         cA(E1);
-                       }
-                     });
-                   })
-                   .catch(cA);
-               });
-               return (Z(gA, NA), gA);
-             }
-             function AA(q1) {
-               var NA = this,
-                 DA = new G(function (gA, dA) {
-                   NA.ready()
-                     .then(function () {
-                       OA(NA._dbInfo, C, function (cA, Z1) {
-                         if (cA) return dA(cA);
-                         try {
-                           var y1 = Z1.objectStore(NA._dbInfo.storeName),
-                             u1 = y1.clear();
-                           ((Z1.oncomplete = function () {
-                             gA();
-                           }),
-                             (Z1.onabort = Z1.onerror =
-                               function () {
-                                 var s1 = u1.error
-                                   ? u1.error
-                                   : u1.transaction.error;
-                                 dA(s1);
-                               }));
-                         } catch (s1) {
-                           dA(s1);
-                         }
-                       });
-                     })
-                     .catch(dA);
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function wA(q1) {
-               var NA = this,
-                 DA = new G(function (gA, dA) {
-                   NA.ready()
-                     .then(function () {
-                       OA(NA._dbInfo, T, function (cA, Z1) {
-                         if (cA) return dA(cA);
-                         try {
-                           var y1 = Z1.objectStore(NA._dbInfo.storeName),
-                             u1 = y1.count();
-                           ((u1.onsuccess = function () {
-                             gA(u1.result);
-                           }),
-                             (u1.onerror = function () {
-                               dA(u1.error);
-                             }));
-                         } catch (s1) {
-                           dA(s1);
-                         }
-                       });
-                     })
-                     .catch(dA);
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function GA(q1, NA) {
-               var DA = this,
-                 gA = new G(function (dA, cA) {
-                   if (q1 < 0) {
-                     dA(null);
-                     return;
-                   }
-                   DA.ready()
-                     .then(function () {
-                       OA(DA._dbInfo, T, function (Z1, y1) {
-                         if (Z1) return cA(Z1);
-                         try {
-                           var u1 = y1.objectStore(DA._dbInfo.storeName),
-                             s1 = !1,
-                             E1 = u1.openKeyCursor();
-                           ((E1.onsuccess = function () {
-                             var G6 = E1.result;
-                             if (!G6) {
-                               dA(null);
-                               return;
-                             }
-                             if (q1 === 0) dA(G6.key);
-                             else if (!s1) ((s1 = !0), G6.advance(q1));
-                             else dA(G6.key);
-                           }),
-                             (E1.onerror = function () {
-                               cA(E1.error);
-                             }));
-                         } catch (G6) {
-                           cA(G6);
-                         }
-                       });
-                     })
-                     .catch(cA);
-                 });
-               return (Z(gA, NA), gA);
-             }
-             function HA(q1) {
-               var NA = this,
-                 DA = new G(function (gA, dA) {
-                   NA.ready()
-                     .then(function () {
-                       OA(NA._dbInfo, T, function (cA, Z1) {
-                         if (cA) return dA(cA);
-                         try {
-                           var y1 = Z1.objectStore(NA._dbInfo.storeName),
-                             u1 = y1.openKeyCursor(),
-                             s1 = [];
-                           ((u1.onsuccess = function () {
-                             var E1 = u1.result;
-                             if (!E1) {
-                               gA(s1);
-                               return;
-                             }
-                             (s1.push(E1.key), E1.continue());
-                           }),
-                             (u1.onerror = function () {
-                               dA(u1.error);
-                             }));
-                         } catch (E1) {
-                           dA(E1);
-                         }
-                       });
-                     })
-                     .catch(dA);
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function t(q1, NA) {
-               NA = j.apply(this, arguments);
-               var DA = this.config();
-               if (((q1 = (typeof q1 !== "function" && q1) || {}), !q1.name))
-                 ((q1.name = q1.name || DA.name),
-                   (q1.storeName = q1.storeName || DA.storeName));
-               var gA = this,
-                 dA;
-               if (!q1.name) dA = G.reject("Invalid arguments");
-               else {
-                 var cA = q1.name === DA.name && gA._dbInfo.db,
-                   Z1 = cA
-                     ? G.resolve(gA._dbInfo.db)
-                     : u(q1).then(function (y1) {
-                         var u1 = f[q1.name],
-                           s1 = u1.forages;
-                         u1.db = y1;
-                         for (var E1 = 0; E1 < s1.length; E1++)
-                           s1[E1]._dbInfo.db = y1;
-                         return y1;
-                       });
-                 if (!q1.storeName)
-                   dA = Z1.then(function (y1) {
-                     B(q1);
-                     var u1 = f[q1.name],
-                       s1 = u1.forages;
-                     y1.close();
-                     for (var E1 = 0; E1 < s1.length; E1++) {
-                       var G6 = s1[E1];
-                       G6._dbInfo.db = null;
-                     }
-                     var Z8 = new G(function (j4, c4) {
-                       var r4 = X.deleteDatabase(q1.name);
-                       ((r4.onerror = function () {
-                         var Q7 = r4.result;
-                         if (Q7) Q7.close();
-                         c4(r4.error);
-                       }),
-                         (r4.onblocked = function () {
-                           console.warn(
-                             'dropInstance blocked for database "' +
-                               q1.name +
-                               '" until all open connections are closed',
-                           );
-                         }),
-                         (r4.onsuccess = function () {
-                           var Q7 = r4.result;
-                           if (Q7) Q7.close();
-                           j4(Q7);
-                         }));
-                     });
-                     return Z8.then(function (j4) {
-                       u1.db = j4;
-                       for (var c4 = 0; c4 < s1.length; c4++) {
-                         var r4 = s1[c4];
-                         b(r4._dbInfo);
-                       }
-                     }).catch(function (j4) {
-                       throw (
-                         (F(q1, j4) || G.resolve()).catch(function () {}),
-                         j4
-                       );
-                     });
-                   });
-                 else
-                   dA = Z1.then(function (y1) {
-                     if (!y1.objectStoreNames.contains(q1.storeName)) return;
-                     var u1 = y1.version + 1;
-                     B(q1);
-                     var s1 = f[q1.name],
-                       E1 = s1.forages;
-                     y1.close();
-                     for (var G6 = 0; G6 < E1.length; G6++) {
-                       var Z8 = E1[G6];
-                       ((Z8._dbInfo.db = null), (Z8._dbInfo.version = u1));
-                     }
-                     var j4 = new G(function (c4, r4) {
-                       var Q7 = X.open(q1.name, u1);
-                       ((Q7.onerror = function (m5) {
-                         var K2 = Q7.result;
-                         (K2.close(), r4(m5));
-                       }),
-                         (Q7.onupgradeneeded = function () {
-                           var m5 = Q7.result;
-                           m5.deleteObjectStore(q1.storeName);
-                         }),
-                         (Q7.onsuccess = function () {
-                           var m5 = Q7.result;
-                           (m5.close(), c4(m5));
-                         }));
-                     });
-                     return j4
-                       .then(function (c4) {
-                         s1.db = c4;
-                         for (var r4 = 0; r4 < E1.length; r4++) {
-                           var Q7 = E1[r4];
-                           ((Q7._dbInfo.db = c4), b(Q7._dbInfo));
-                         }
-                       })
-                       .catch(function (c4) {
-                         throw (
-                           (F(q1, c4) || G.resolve()).catch(function () {}),
-                           c4
-                         );
-                       });
-                   });
-               }
-               return (Z(dA, NA), dA);
-             }
-             var $A = {
-               _driver: "asyncStorage",
-               _initStorage: _A,
-               _support: $(),
-               iterate: ZA,
-               getItem: WA,
-               setItem: IA,
-               removeItem: LA,
-               clear: AA,
-               length: wA,
-               key: GA,
-               keys: HA,
-               dropInstance: t,
-             };
-             function VA() {
-               return typeof openDatabase === "function";
-             }
-             var vA =
-                 "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
-               yA = "~~local_forage_type~",
-               xA = /^~~local_forage_type~([^~]+)~/,
-               fA = "__lfsc__:",
-               RA = fA.length,
-               hA = "arbf",
-               pA = "blob",
-               lA = "si08",
-               v1 = "ui08",
-               R1 = "uic8",
-               B1 = "si16",
-               F1 = "si32",
-               T6 = "ur16",
-               w1 = "ui32",
-               $1 = "fl32",
-               N1 = "fl64",
-               A6 = RA + hA.length,
-               c1 = Object.prototype.toString;
-             function z6(q1) {
-               var NA = q1.length * 0.75,
-                 DA = q1.length,
-                 gA,
-                 dA = 0,
-                 cA,
-                 Z1,
-                 y1,
-                 u1;
-               if (q1[q1.length - 1] === "=") {
-                 if ((NA--, q1[q1.length - 2] === "=")) NA--;
-               }
-               var s1 = new ArrayBuffer(NA),
-                 E1 = new Uint8Array(s1);
-               for (gA = 0; gA < DA; gA += 4)
-                 ((cA = vA.indexOf(q1[gA])),
-                   (Z1 = vA.indexOf(q1[gA + 1])),
-                   (y1 = vA.indexOf(q1[gA + 2])),
-                   (u1 = vA.indexOf(q1[gA + 3])),
-                   (E1[dA++] = (cA << 2) | (Z1 >> 4)),
-                   (E1[dA++] = ((Z1 & 15) << 4) | (y1 >> 2)),
-                   (E1[dA++] = ((y1 & 3) << 6) | (u1 & 63)));
-               return s1;
-             }
-             function MA(q1) {
-               var NA = new Uint8Array(q1),
-                 DA = "",
-                 gA;
-               for (gA = 0; gA < NA.length; gA += 3)
-                 ((DA += vA[NA[gA] >> 2]),
-                   (DA += vA[((NA[gA] & 3) << 4) | (NA[gA + 1] >> 4)]),
-                   (DA += vA[((NA[gA + 1] & 15) << 2) | (NA[gA + 2] >> 6)]),
-                   (DA += vA[NA[gA + 2] & 63]));
-               if (NA.length % 3 === 2)
-                 DA = DA.substring(0, DA.length - 1) + "=";
-               else if (NA.length % 3 === 1)
-                 DA = DA.substring(0, DA.length - 2) + "==";
-               return DA;
-             }
-             function EA(q1, NA) {
-               var DA = "";
-               if (q1) DA = c1.call(q1);
-               if (
-                 q1 &&
-                 (DA === "[object ArrayBuffer]" ||
-                   (q1.buffer && c1.call(q1.buffer) === "[object ArrayBuffer]"))
-               ) {
-                 var gA,
-                   dA = fA;
-                 if (q1 instanceof ArrayBuffer) ((gA = q1), (dA += hA));
-                 else if (((gA = q1.buffer), DA === "[object Int8Array]"))
-                   dA += lA;
-                 else if (DA === "[object Uint8Array]") dA += v1;
-                 else if (DA === "[object Uint8ClampedArray]") dA += R1;
-                 else if (DA === "[object Int16Array]") dA += B1;
-                 else if (DA === "[object Uint16Array]") dA += T6;
-                 else if (DA === "[object Int32Array]") dA += F1;
-                 else if (DA === "[object Uint32Array]") dA += w1;
-                 else if (DA === "[object Float32Array]") dA += $1;
-                 else if (DA === "[object Float64Array]") dA += N1;
-                 else NA(Error("Failed to get type for BinaryArray"));
-                 NA(dA + MA(gA));
-               } else if (DA === "[object Blob]") {
-                 var cA = new FileReader();
-                 ((cA.onload = function () {
-                   var Z1 = yA + q1.type + "~" + MA(this.result);
-                   NA(fA + pA + Z1);
-                 }),
-                   cA.readAsArrayBuffer(q1));
-               } else
-                 try {
-                   NA(JSON.stringify(q1));
-                 } catch (Z1) {
-                   (console.error(
-                     "Couldn't convert value into a JSON string: ",
-                     q1,
-                   ),
-                     NA(null, Z1));
-                 }
-             }
-             function oA(q1) {
-               if (q1.substring(0, RA) !== fA) return JSON.parse(q1);
-               var NA = q1.substring(A6),
-                 DA = q1.substring(RA, A6),
-                 gA;
-               if (DA === pA && xA.test(NA)) {
-                 var dA = NA.match(xA);
-                 ((gA = dA[1]), (NA = NA.substring(dA[0].length)));
-               }
-               var cA = z6(NA);
-               switch (DA) {
-                 case hA:
-                   return cA;
-                 case pA:
-                   return _([cA], { type: gA });
-                 case lA:
-                   return new Int8Array(cA);
-                 case v1:
-                   return new Uint8Array(cA);
-                 case R1:
-                   return new Uint8ClampedArray(cA);
-                 case B1:
-                   return new Int16Array(cA);
-                 case T6:
-                   return new Uint16Array(cA);
-                 case F1:
-                   return new Int32Array(cA);
-                 case w1:
-                   return new Uint32Array(cA);
-                 case $1:
-                   return new Float32Array(cA);
-                 case N1:
-                   return new Float64Array(cA);
-                 default:
-                   throw Error("Unkown type: " + DA);
-               }
-             }
-             var J1 = {
-               serialize: EA,
-               deserialize: oA,
-               stringToBuffer: z6,
-               bufferToString: MA,
-             };
-             function sA(q1, NA, DA, gA) {
-               q1.executeSql(
-                 "CREATE TABLE IF NOT EXISTS " +
-                   NA.storeName +
-                   " (id INTEGER PRIMARY KEY, key unique, value)",
-                 [],
-                 DA,
-                 gA,
-               );
-             }
-             function z1(q1) {
-               var NA = this,
-                 DA = { db: null };
-               if (q1)
-                 for (var gA in q1)
-                   DA[gA] =
-                     typeof q1[gA] !== "string" ? q1[gA].toString() : q1[gA];
-               var dA = new G(function (cA, Z1) {
-                 try {
-                   DA.db = openDatabase(
-                     DA.name,
-                     String(DA.version),
-                     DA.description,
-                     DA.size,
-                   );
-                 } catch (y1) {
-                   return Z1(y1);
-                 }
-                 DA.db.transaction(function (y1) {
-                   sA(
-                     y1,
-                     DA,
-                     function () {
-                       ((NA._dbInfo = DA), cA());
-                     },
-                     function (u1, s1) {
-                       Z1(s1);
-                     },
-                   );
-                 }, Z1);
-               });
-               return ((DA.serializer = J1), dA);
-             }
-             function f1(q1, NA, DA, gA, dA, cA) {
-               q1.executeSql(
-                 DA,
-                 gA,
-                 dA,
-                 function (Z1, y1) {
-                   if (y1.code === y1.SYNTAX_ERR)
-                     Z1.executeSql(
-                       "SELECT name FROM sqlite_master WHERE type='table' AND name = ?",
-                       [NA.storeName],
-                       function (u1, s1) {
-                         if (!s1.rows.length)
-                           sA(
-                             u1,
-                             NA,
-                             function () {
-                               u1.executeSql(DA, gA, dA, cA);
-                             },
-                             cA,
-                           );
-                         else cA(u1, y1);
-                       },
-                       cA,
-                     );
-                   else cA(Z1, y1);
-                 },
-                 cA,
-               );
-             }
-             function T1(q1, NA) {
-               var DA = this;
-               q1 = D(q1);
-               var gA = new G(function (dA, cA) {
-                 DA.ready()
-                   .then(function () {
-                     var Z1 = DA._dbInfo;
-                     Z1.db.transaction(function (y1) {
-                       f1(
-                         y1,
-                         Z1,
-                         "SELECT * FROM " +
-                           Z1.storeName +
-                           " WHERE key = ? LIMIT 1",
-                         [q1],
-                         function (u1, s1) {
-                           var E1 = s1.rows.length
-                             ? s1.rows.item(0).value
-                             : null;
-                           if (E1) E1 = Z1.serializer.deserialize(E1);
-                           dA(E1);
-                         },
-                         function (u1, s1) {
-                           cA(s1);
-                         },
-                       );
-                     });
-                   })
-                   .catch(cA);
-               });
-               return (Z(gA, NA), gA);
-             }
-             function q6(q1, NA) {
-               var DA = this,
-                 gA = new G(function (dA, cA) {
-                   DA.ready()
-                     .then(function () {
-                       var Z1 = DA._dbInfo;
-                       Z1.db.transaction(function (y1) {
-                         f1(
-                           y1,
-                           Z1,
-                           "SELECT * FROM " + Z1.storeName,
-                           [],
-                           function (u1, s1) {
-                             var E1 = s1.rows,
-                               G6 = E1.length;
-                             for (var Z8 = 0; Z8 < G6; Z8++) {
-                               var j4 = E1.item(Z8),
-                                 c4 = j4.value;
-                               if (c4) c4 = Z1.serializer.deserialize(c4);
-                               if (
-                                 ((c4 = q1(c4, j4.key, Z8 + 1)), c4 !== void 0)
-                               ) {
-                                 dA(c4);
-                                 return;
-                               }
-                             }
-                             dA();
-                           },
-                           function (u1, s1) {
-                             cA(s1);
-                           },
-                         );
-                       });
-                     })
-                     .catch(cA);
-                 });
-               return (Z(gA, NA), gA);
-             }
-             function U6(q1, NA, DA, gA) {
-               var dA = this;
-               q1 = D(q1);
-               var cA = new G(function (Z1, y1) {
-                 dA.ready()
-                   .then(function () {
-                     if (NA === void 0) NA = null;
-                     var u1 = NA,
-                       s1 = dA._dbInfo;
-                     s1.serializer.serialize(NA, function (E1, G6) {
-                       if (G6) y1(G6);
-                       else
-                         s1.db.transaction(
-                           function (Z8) {
-                             f1(
-                               Z8,
-                               s1,
-                               "INSERT OR REPLACE INTO " +
-                                 s1.storeName +
-                                 " (key, value) VALUES (?, ?)",
-                               [q1, E1],
-                               function () {
-                                 Z1(u1);
-                               },
-                               function (j4, c4) {
-                                 y1(c4);
-                               },
-                             );
-                           },
-                           function (Z8) {
-                             if (Z8.code === Z8.QUOTA_ERR) {
-                               if (gA > 0) {
-                                 Z1(U6.apply(dA, [q1, u1, DA, gA - 1]));
-                                 return;
-                               }
-                               y1(Z8);
-                             }
-                           },
-                         );
-                     });
-                   })
-                   .catch(y1);
-               });
-               return (Z(cA, DA), cA);
-             }
-             function A4(q1, NA, DA) {
-               return U6.apply(this, [q1, NA, DA, 1]);
-             }
-             function j8(q1, NA) {
-               var DA = this;
-               q1 = D(q1);
-               var gA = new G(function (dA, cA) {
-                 DA.ready()
-                   .then(function () {
-                     var Z1 = DA._dbInfo;
-                     Z1.db.transaction(function (y1) {
-                       f1(
-                         y1,
-                         Z1,
-                         "DELETE FROM " + Z1.storeName + " WHERE key = ?",
-                         [q1],
-                         function () {
-                           dA();
-                         },
-                         function (u1, s1) {
-                           cA(s1);
-                         },
-                       );
-                     });
-                   })
-                   .catch(cA);
-               });
-               return (Z(gA, NA), gA);
-             }
-             function z7(q1) {
-               var NA = this,
-                 DA = new G(function (gA, dA) {
-                   NA.ready()
-                     .then(function () {
-                       var cA = NA._dbInfo;
-                       cA.db.transaction(function (Z1) {
-                         f1(
-                           Z1,
-                           cA,
-                           "DELETE FROM " + cA.storeName,
-                           [],
-                           function () {
-                             gA();
-                           },
-                           function (y1, u1) {
-                             dA(u1);
-                           },
-                         );
-                       });
-                     })
-                     .catch(dA);
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function T7(q1) {
-               var NA = this,
-                 DA = new G(function (gA, dA) {
-                   NA.ready()
-                     .then(function () {
-                       var cA = NA._dbInfo;
-                       cA.db.transaction(function (Z1) {
-                         f1(
-                           Z1,
-                           cA,
-                           "SELECT COUNT(key) as c FROM " + cA.storeName,
-                           [],
-                           function (y1, u1) {
-                             var s1 = u1.rows.item(0).c;
-                             gA(s1);
-                           },
-                           function (y1, u1) {
-                             dA(u1);
-                           },
-                         );
-                       });
-                     })
-                     .catch(dA);
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function J4(q1, NA) {
-               var DA = this,
-                 gA = new G(function (dA, cA) {
-                   DA.ready()
-                     .then(function () {
-                       var Z1 = DA._dbInfo;
-                       Z1.db.transaction(function (y1) {
-                         f1(
-                           y1,
-                           Z1,
-                           "SELECT key FROM " +
-                             Z1.storeName +
-                             " WHERE id = ? LIMIT 1",
-                           [q1 + 1],
-                           function (u1, s1) {
-                             var E1 = s1.rows.length
-                               ? s1.rows.item(0).key
-                               : null;
-                             dA(E1);
-                           },
-                           function (u1, s1) {
-                             cA(s1);
-                           },
-                         );
-                       });
-                     })
-                     .catch(cA);
-                 });
-               return (Z(gA, NA), gA);
-             }
-             function B7(q1) {
-               var NA = this,
-                 DA = new G(function (gA, dA) {
-                   NA.ready()
-                     .then(function () {
-                       var cA = NA._dbInfo;
-                       cA.db.transaction(function (Z1) {
-                         f1(
-                           Z1,
-                           cA,
-                           "SELECT key FROM " + cA.storeName,
-                           [],
-                           function (y1, u1) {
-                             var s1 = [];
-                             for (var E1 = 0; E1 < u1.rows.length; E1++)
-                               s1.push(u1.rows.item(E1).key);
-                             gA(s1);
-                           },
-                           function (y1, u1) {
-                             dA(u1);
-                           },
-                         );
-                       });
-                     })
-                     .catch(dA);
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function s7(q1) {
-               return new G(function (NA, DA) {
-                 q1.transaction(
-                   function (gA) {
-                     gA.executeSql(
-                       "SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",
-                       [],
-                       function (dA, cA) {
-                         var Z1 = [];
-                         for (var y1 = 0; y1 < cA.rows.length; y1++)
-                           Z1.push(cA.rows.item(y1).name);
-                         NA({ db: q1, storeNames: Z1 });
-                       },
-                       function (dA, cA) {
-                         DA(cA);
-                       },
-                     );
-                   },
-                   function (gA) {
-                     DA(gA);
-                   },
-                 );
-               });
-             }
-             function Eq(q1, NA) {
-               NA = j.apply(this, arguments);
-               var DA = this.config();
-               if (((q1 = (typeof q1 !== "function" && q1) || {}), !q1.name))
-                 ((q1.name = q1.name || DA.name),
-                   (q1.storeName = q1.storeName || DA.storeName));
-               var gA = this,
-                 dA;
-               if (!q1.name) dA = G.reject("Invalid arguments");
-               else
-                 dA = new G(function (cA) {
-                   var Z1;
-                   if (q1.name === DA.name) Z1 = gA._dbInfo.db;
-                   else Z1 = openDatabase(q1.name, "", "", 0);
-                   if (!q1.storeName) cA(s7(Z1));
-                   else cA({ db: Z1, storeNames: [q1.storeName] });
-                 }).then(function (cA) {
-                   return new G(function (Z1, y1) {
-                     cA.db.transaction(
-                       function (u1) {
-                         function s1(j4) {
-                           return new G(function (c4, r4) {
-                             u1.executeSql(
-                               "DROP TABLE IF EXISTS " + j4,
-                               [],
-                               function () {
-                                 c4();
-                               },
-                               function (Q7, m5) {
-                                 r4(m5);
-                               },
-                             );
-                           });
-                         }
-                         var E1 = [];
-                         for (
-                           var G6 = 0, Z8 = cA.storeNames.length;
-                           G6 < Z8;
-                           G6++
-                         )
-                           E1.push(s1(cA.storeNames[G6]));
-                         G.all(E1)
-                           .then(function () {
-                             Z1();
-                           })
-                           .catch(function (j4) {
-                             y1(j4);
-                           });
-                       },
-                       function (u1) {
-                         y1(u1);
-                       },
-                     );
-                   });
-                 });
-               return (Z(dA, NA), dA);
-             }
-             var l5 = {
-               _driver: "webSQLStorage",
-               _initStorage: z1,
-               _support: VA(),
-               iterate: q6,
-               getItem: T1,
-               setItem: A4,
-               removeItem: j8,
-               clear: z7,
-               length: T7,
-               key: J4,
-               keys: B7,
-               dropInstance: Eq,
-             };
-             function o8() {
-               try {
-                 return (
-                   typeof localStorage < "u" &&
-                   "setItem" in localStorage &&
-                   !!localStorage.setItem
-                 );
-               } catch (q1) {
-                 return !1;
-               }
-             }
-             function C8(q1, NA) {
-               var DA = q1.name + "/";
-               if (q1.storeName !== NA.storeName) DA += q1.storeName + "/";
-               return DA;
-             }
-             function J9() {
-               var q1 = "_localforage_support_test";
-               try {
-                 return (
-                   localStorage.setItem(q1, !0),
-                   localStorage.removeItem(q1),
-                   !1
-                 );
-               } catch (NA) {
-                 return !0;
-               }
-             }
-             function S3() {
-               return !J9() || localStorage.length > 0;
-             }
-             function G3(q1) {
-               var NA = this,
-                 DA = {};
-               if (q1) for (var gA in q1) DA[gA] = q1[gA];
-               if (((DA.keyPrefix = C8(q1, NA._defaultConfig)), !S3()))
-                 return G.reject();
-               return ((NA._dbInfo = DA), (DA.serializer = J1), G.resolve());
-             }
-             function h3(q1) {
-               var NA = this,
-                 DA = NA.ready().then(function () {
-                   var gA = NA._dbInfo.keyPrefix;
-                   for (var dA = localStorage.length - 1; dA >= 0; dA--) {
-                     var cA = localStorage.key(dA);
-                     if (cA.indexOf(gA) === 0) localStorage.removeItem(cA);
-                   }
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function QY(q1, NA) {
-               var DA = this;
-               q1 = D(q1);
-               var gA = DA.ready().then(function () {
-                 var dA = DA._dbInfo,
-                   cA = localStorage.getItem(dA.keyPrefix + q1);
-                 if (cA) cA = dA.serializer.deserialize(cA);
-                 return cA;
-               });
-               return (Z(gA, NA), gA);
-             }
-             function fY(q1, NA) {
-               var DA = this,
-                 gA = DA.ready().then(function () {
-                   var dA = DA._dbInfo,
-                     cA = dA.keyPrefix,
-                     Z1 = cA.length,
-                     y1 = localStorage.length,
-                     u1 = 1;
-                   for (var s1 = 0; s1 < y1; s1++) {
-                     var E1 = localStorage.key(s1);
-                     if (E1.indexOf(cA) !== 0) continue;
-                     var G6 = localStorage.getItem(E1);
-                     if (G6) G6 = dA.serializer.deserialize(G6);
-                     if (((G6 = q1(G6, E1.substring(Z1), u1++)), G6 !== void 0))
-                       return G6;
-                   }
-                 });
-               return (Z(gA, NA), gA);
-             }
-             function O9(q1, NA) {
-               var DA = this,
-                 gA = DA.ready().then(function () {
-                   var dA = DA._dbInfo,
-                     cA;
-                   try {
-                     cA = localStorage.key(q1);
-                   } catch (Z1) {
-                     cA = null;
-                   }
-                   if (cA) cA = cA.substring(dA.keyPrefix.length);
-                   return cA;
-                 });
-               return (Z(gA, NA), gA);
-             }
-             function NY(q1) {
-               var NA = this,
-                 DA = NA.ready().then(function () {
-                   var gA = NA._dbInfo,
-                     dA = localStorage.length,
-                     cA = [];
-                   for (var Z1 = 0; Z1 < dA; Z1++) {
-                     var y1 = localStorage.key(Z1);
-                     if (y1.indexOf(gA.keyPrefix) === 0)
-                       cA.push(y1.substring(gA.keyPrefix.length));
-                   }
-                   return cA;
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function Kw(q1) {
-               var NA = this,
-                 DA = NA.keys().then(function (gA) {
-                   return gA.length;
-                 });
-               return (Z(DA, q1), DA);
-             }
-             function QK(q1, NA) {
-               var DA = this;
-               q1 = D(q1);
-               var gA = DA.ready().then(function () {
-                 var dA = DA._dbInfo;
-                 localStorage.removeItem(dA.keyPrefix + q1);
-               });
-               return (Z(gA, NA), gA);
-             }
-             function X9(q1, NA, DA) {
-               var gA = this;
-               q1 = D(q1);
-               var dA = gA.ready().then(function () {
-                 if (NA === void 0) NA = null;
-                 var cA = NA;
-                 return new G(function (Z1, y1) {
-                   var u1 = gA._dbInfo;
-                   u1.serializer.serialize(NA, function (s1, E1) {
-                     if (E1) y1(E1);
-                     else
-                       try {
-                         (localStorage.setItem(u1.keyPrefix + q1, s1), Z1(cA));
-                       } catch (G6) {
-                         if (
-                           G6.name === "QuotaExceededError" ||
-                           G6.name === "NS_ERROR_DOM_QUOTA_REACHED"
-                         )
-                           y1(G6);
-                         y1(G6);
-                       }
-                   });
-                 });
-               });
-               return (Z(dA, DA), dA);
-             }
-             function TY(q1, NA) {
-               if (
-                 ((NA = j.apply(this, arguments)),
-                 (q1 = (typeof q1 !== "function" && q1) || {}),
-                 !q1.name)
-               ) {
-                 var DA = this.config();
-                 ((q1.name = q1.name || DA.name),
-                   (q1.storeName = q1.storeName || DA.storeName));
-               }
-               var gA = this,
-                 dA;
-               if (!q1.name) dA = G.reject("Invalid arguments");
-               else
-                 dA = new G(function (cA) {
-                   if (!q1.storeName) cA(q1.name + "/");
-                   else cA(C8(q1, gA._defaultConfig));
-                 }).then(function (cA) {
-                   for (var Z1 = localStorage.length - 1; Z1 >= 0; Z1--) {
-                     var y1 = localStorage.key(Z1);
-                     if (y1.indexOf(cA) === 0) localStorage.removeItem(y1);
-                   }
-                 });
-               return (Z(dA, NA), dA);
-             }
-             var B5 = {
-                 _driver: "localStorageWrapper",
-                 _initStorage: G3,
-                 _support: o8(),
-                 iterate: fY,
-                 getItem: QY,
-                 setItem: X9,
-                 removeItem: QK,
-                 clear: h3,
-                 length: Kw,
-                 key: O9,
-                 keys: NY,
-                 dropInstance: TY,
-               },
-               v6 = function (NA, DA) {
-                 return (
-                   NA === DA ||
-                   (typeof NA === "number" &&
-                     typeof DA === "number" &&
-                     isNaN(NA) &&
-                     isNaN(DA))
-                 );
-               },
-               W7 = function (NA, DA) {
-                 var gA = NA.length,
-                   dA = 0;
-                 while (dA < gA) {
-                   if (v6(NA[dA], DA)) return !0;
-                   dA++;
-                 }
-                 return !1;
-               },
-               U8 =
-                 Array.isArray ||
-                 function (q1) {
-                   return (
-                     Object.prototype.toString.call(q1) === "[object Array]"
-                   );
-                 },
-               d4 = {},
-               q5 = {},
-               SK = { INDEXEDDB: $A, WEBSQL: l5, LOCALSTORAGE: B5 },
-               b3 = [
-                 SK.INDEXEDDB._driver,
-                 SK.WEBSQL._driver,
-                 SK.LOCALSTORAGE._driver,
-               ],
-               z4 = ["dropInstance"],
-               l8 = [
-                 "clear",
-                 "getItem",
-                 "iterate",
-                 "key",
-                 "keys",
-                 "length",
-                 "removeItem",
-                 "setItem",
-               ].concat(z4),
-               w4 = {
-                 description: "",
-                 driver: b3.slice(),
-                 name: "localforage",
-                 size: 4980736,
-                 storeName: "keyvaluepairs",
-                 version: 1,
-               };
-             function _5(q1, NA) {
-               q1[NA] = function () {
-                 var DA = arguments;
-                 return q1.ready().then(function () {
-                   return q1[NA].apply(q1, DA);
-                 });
-               };
-             }
-             function d3() {
-               for (var q1 = 1; q1 < arguments.length; q1++) {
-                 var NA = arguments[q1];
-                 if (NA) {
-                   for (var DA in NA)
-                     if (NA.hasOwnProperty(DA))
-                       if (U8(NA[DA])) arguments[0][DA] = NA[DA].slice();
-                       else arguments[0][DA] = NA[DA];
-                 }
-               }
-               return arguments[0];
-             }
-             var hq = (function () {
-                 function q1(NA) {
-                   J(this, q1);
-                   for (var DA in SK)
-                     if (SK.hasOwnProperty(DA)) {
-                       var gA = SK[DA],
-                         dA = gA._driver;
-                       if (((this[DA] = dA), !d4[dA])) this.defineDriver(gA);
-                     }
-                   ((this._defaultConfig = d3({}, w4)),
-                     (this._config = d3({}, this._defaultConfig, NA)),
-                     (this._driverSet = null),
-                     (this._initDriver = null),
-                     (this._ready = !1),
-                     (this._dbInfo = null),
-                     this._wrapLibraryMethodsWithReady(),
-                     this.setDriver(this._config.driver).catch(function () {}));
-                 }
-                 return (
-                   (q1.prototype.config = function (DA) {
-                     if ((typeof DA > "u" ? "undefined" : H(DA)) === "object") {
-                       if (this._ready)
-                         return Error(
-                           "Can't call config() after localforage has been used.",
-                         );
-                       for (var gA in DA) {
-                         if (gA === "storeName")
-                           DA[gA] = DA[gA].replace(/\W/g, "_");
-                         if (gA === "version" && typeof DA[gA] !== "number")
-                           return Error("Database version must be a number.");
-                         this._config[gA] = DA[gA];
-                       }
-                       if ("driver" in DA && DA.driver)
-                         return this.setDriver(this._config.driver);
-                       return !0;
-                     } else if (typeof DA === "string") return this._config[DA];
-                     else return this._config;
-                   }),
-                   (q1.prototype.defineDriver = function (DA, gA, dA) {
-                     var cA = new G(function (Z1, y1) {
-                       try {
-                         var u1 = DA._driver,
-                           s1 = Error(
-                             "Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver",
-                           );
-                         if (!DA._driver) {
-                           y1(s1);
-                           return;
-                         }
-                         var E1 = l8.concat("_initStorage");
-                         for (var G6 = 0, Z8 = E1.length; G6 < Z8; G6++) {
-                           var j4 = E1[G6],
-                             c4 = !W7(z4, j4);
-                           if ((c4 || DA[j4]) && typeof DA[j4] !== "function") {
-                             y1(s1);
-                             return;
-                           }
-                         }
-                         var r4 = function () {
-                           var K2 = function (qJ) {
-                             return function () {
-                               var VH = Error(
-                                   "Method " +
-                                     qJ +
-                                     " is not implemented by the current driver",
-                                 ),
-                                 Uw = G.reject(VH);
-                               return (
-                                 Z(Uw, arguments[arguments.length - 1]),
-                                 Uw
-                               );
-                             };
-                           };
-                           for (var x3 = 0, qw = z4.length; x3 < qw; x3++) {
-                             var Qw = z4[x3];
-                             if (!DA[Qw]) DA[Qw] = K2(Qw);
-                           }
-                         };
-                         r4();
-                         var Q7 = function (K2) {
-                           if (d4[u1])
-                             console.info(
-                               "Redefining LocalForage driver: " + u1,
-                             );
-                           ((d4[u1] = DA), (q5[u1] = K2), Z1());
-                         };
-                         if ("_support" in DA)
-                           if (DA._support && typeof DA._support === "function")
-                             DA._support().then(Q7, y1);
-                           else Q7(!!DA._support);
-                         else Q7(!0);
-                       } catch (m5) {
-                         y1(m5);
-                       }
-                     });
-                     return (W(cA, gA, dA), cA);
-                   }),
-                   (q1.prototype.driver = function () {
-                     return this._driver || null;
-                   }),
-                   (q1.prototype.getDriver = function (DA, gA, dA) {
-                     var cA = d4[DA]
-                       ? G.resolve(d4[DA])
-                       : G.reject(Error("Driver not found."));
-                     return (W(cA, gA, dA), cA);
-                   }),
-                   (q1.prototype.getSerializer = function (DA) {
-                     var gA = G.resolve(J1);
-                     return (W(gA, DA), gA);
-                   }),
-                   (q1.prototype.ready = function (DA) {
-                     var gA = this,
-                       dA = gA._driverSet.then(function () {
-                         if (gA._ready === null) gA._ready = gA._initDriver();
-                         return gA._ready;
-                       });
-                     return (W(dA, DA, DA), dA);
-                   }),
-                   (q1.prototype.setDriver = function (DA, gA, dA) {
-                     var cA = this;
-                     if (!U8(DA)) DA = [DA];
-                     var Z1 = this._getSupportedDrivers(DA);
-                     function y1() {
-                       cA._config.driver = cA.driver();
-                     }
-                     function u1(G6) {
-                       return (
-                         cA._extend(G6),
-                         y1(),
-                         (cA._ready = cA._initStorage(cA._config)),
-                         cA._ready
-                       );
-                     }
-                     function s1(G6) {
-                       return function () {
-                         var Z8 = 0;
-                         function j4() {
-                           while (Z8 < G6.length) {
-                             var c4 = G6[Z8];
-                             return (
-                               Z8++,
-                               (cA._dbInfo = null),
-                               (cA._ready = null),
-                               cA.getDriver(c4).then(u1).catch(j4)
-                             );
-                           }
-                           y1();
-                           var r4 = Error("No available storage method found.");
-                           return (
-                             (cA._driverSet = G.reject(r4)),
-                             cA._driverSet
-                           );
-                         }
-                         return j4();
-                       };
-                     }
-                     var E1 =
-                       this._driverSet !== null
-                         ? this._driverSet.catch(function () {
-                             return G.resolve();
-                           })
-                         : G.resolve();
-                     return (
-                       (this._driverSet = E1.then(function () {
-                         var G6 = Z1[0];
-                         return (
-                           (cA._dbInfo = null),
-                           (cA._ready = null),
-                           cA.getDriver(G6).then(function (Z8) {
-                             ((cA._driver = Z8._driver),
-                               y1(),
-                               cA._wrapLibraryMethodsWithReady(),
-                               (cA._initDriver = s1(Z1)));
-                           })
-                         );
-                       }).catch(function () {
-                         y1();
-                         var G6 = Error("No available storage method found.");
-                         return ((cA._driverSet = G.reject(G6)), cA._driverSet);
-                       })),
-                       W(this._driverSet, gA, dA),
-                       this._driverSet
-                     );
-                   }),
-                   (q1.prototype.supports = function (DA) {
-                     return !!q5[DA];
-                   }),
-                   (q1.prototype._extend = function (DA) {
-                     d3(this, DA);
-                   }),
-                   (q1.prototype._getSupportedDrivers = function (DA) {
-                     var gA = [];
-                     for (var dA = 0, cA = DA.length; dA < cA; dA++) {
-                       var Z1 = DA[dA];
-                       if (this.supports(Z1)) gA.push(Z1);
-                     }
-                     return gA;
-                   }),
-                   (q1.prototype._wrapLibraryMethodsWithReady = function () {
-                     for (var DA = 0, gA = l8.length; DA < gA; DA++)
-                       _5(this, l8[DA]);
-                   }),
-                   (q1.prototype.createInstance = function (DA) {
-                     return new q1(DA);
-                   }),
-                   q1
-                 );
-               })(),
-               Z3 = new hq();
-             z.exports = Z3;
-           },
-           { 3: 3 },
-         ],
-       },
-       {},
-       [4],
-     )(4);
-   });
- });

--- Removed yv8 (pretty-v2.1.26.js:78339-78443)
- var yv8 = k((Rv8) => {
-   Object.defineProperty(Rv8, "__esModule", { value: !0 });
-   var vb = H8(),
-     Jt5 = Lv8(),
-     t1A = TvA(),
-     Xi = vb.GLOBAL_OBJ;
-   class vvA {
-     static __initStatic() {
-       this.id = "Offline";
-     }
-     constructor(A = {}) {
-       ((this.name = vvA.id),
-         (this.maxStoredEvents = A.maxStoredEvents || 30),
-         (this.offlineEventStore = Jt5.createInstance({
-           name: "sentry/offlineEventStore",
-         })));
-     }
-     setupOnce(A, K) {
-       if (((this.hub = K()), "addEventListener" in Xi))
-         Xi.addEventListener("online", () => {
-           this._sendEvents().catch(() => {
-             t1A.DEBUG_BUILD && vb.logger.warn("could not send cached events");
-           });
-         });
-       let q = (Y) => {
-         if (this.hub && this.hub.getIntegration(vvA)) {
-           if (
-             "navigator" in Xi &&
-             "onLine" in Xi.navigator &&
-             !Xi.navigator.onLine
-           )
-             return (
-               t1A.DEBUG_BUILD &&
-                 vb.logger.log(
-                   "Event dropped due to being a offline - caching instead",
-                 ),
-               this._cacheEvent(Y)
-                 .then((z) => this._enforceMaxEvents())
-                 .catch((z) => {
-                   t1A.DEBUG_BUILD &&
-                     vb.logger.warn("could not cache event while offline");
-                 }),
-               null
-             );
-         }
-         return Y;
-       };
-       if (
-         ((q.id = this.name),
-         A(q),
-         "navigator" in Xi && "onLine" in Xi.navigator && Xi.navigator.onLine)
-       )
-         this._sendEvents().catch(() => {
-           t1A.DEBUG_BUILD && vb.logger.warn("could not send cached events");
-         });
-     }
-     async _cacheEvent(A) {
-       return this.offlineEventStore.setItem(vb.uuid4(), vb.normalize(A));
-     }
-     async _enforceMaxEvents() {
-       let A = [];
-       return this.offlineEventStore
-         .iterate((K, q, Y) => {
-           A.push({ cacheKey: q, event: K });
-         })
-         .then(() =>
-           this._purgeEvents(
-             A.sort(
-               (K, q) => (q.event.timestamp || 0) - (K.event.timestamp || 0),
-             )
-               .slice(
-                 this.maxStoredEvents < A.length
-                   ? this.maxStoredEvents
-                   : A.length,
-               )
-               .map((K) => K.cacheKey),
-           ),
-         )
-         .catch((K) => {
-           t1A.DEBUG_BUILD && vb.logger.warn("could not enforce max events");
-         });
-     }
-     async _purgeEvent(A) {
-       return this.offlineEventStore.removeItem(A);
-     }
-     async _purgeEvents(A) {
-       return Promise.all(A.map((K) => this._purgeEvent(K))).then();
-     }
-     async _sendEvents() {
-       return this.offlineEventStore.iterate((A, K, q) => {
-         if (this.hub)
-           (this.hub.captureEvent(A),
-             this._purgeEvent(K).catch((Y) => {
-               t1A.DEBUG_BUILD &&
-                 vb.logger.warn("could not purge event from cache");
-             }));
-         else
-           t1A.DEBUG_BUILD &&
-             vb.logger.warn("no hub found - could not send cached event");
-       });
-     }
-   }
-   vvA.__initStatic();
-   Rv8.Offline = vvA;
- });

--- Removed uv8 (pretty-v2.1.26.js:78444-78486)
- var uv8 = k((xv8) => {
-   Object.defineProperty(xv8, "__esModule", { value: !0 });
-   var EvA = a5(),
-     Sv8 = H8(),
-     Xt5 = Sv8.GLOBAL_OBJ,
-     hv8 = "ReportingObserver",
-     Iv8 = new WeakMap(),
-     $t5 = (A = {}) => {
-       let K = A.types || ["crash", "deprecation", "intervention"];
-       function q(Y) {
-         if (!Iv8.has(EvA.getClient())) return;
-         for (let z of Y)
-           EvA.withScope((w) => {
-             w.setExtra("url", z.url);
-             let H = `ReportingObserver [${z.type}]`,
-               J = "No details available";
-             if (z.body) {
-               let O = {};
-               for (let X in z.body) O[X] = z.body[X];
-               if ((w.setExtra("body", O), z.type === "crash")) {
-                 let X = z.body;
-                 J = [X.crashId || "", X.reason || ""].join(" ").trim() || J;
-               } else J = z.body.message || J;
-             }
-             EvA.captureMessage(`${H}: ${J}`);
-           });
-       }
-       return {
-         name: hv8,
-         setupOnce() {
-           if (!Sv8.supportsReportingObserver()) return;
-           new Xt5.ReportingObserver(q, { buffered: !0, types: K }).observe();
-         },
-         setup(Y) {
-           Iv8.set(Y, !0);
-         },
-       };
-     },
-     bv8 = EvA.defineIntegration($t5),
-     _t5 = EvA.convertIntegrationFnToClass(hv8, bv8);
-   xv8.ReportingObserver = _t5;
-   xv8.reportingObserverIntegration = bv8;
- });

--- Removed Uv8 (pretty-v2.1.26.js:78487-78545)
- var Uv8 = k((Qv8) => {
-   Object.defineProperty(Qv8, "__esModule", { value: !0 });
-   var mv8 = a5(),
-     Bv8 = H8(),
-     gv8 = "RewriteFrames",
-     Wt5 = (A = {}) => {
-       let K = A.root,
-         q = A.prefix || "app:///",
-         Y =
-           A.iteratee ||
-           ((H) => {
-             if (!H.filename) return H;
-             let J =
-                 /^[a-zA-Z]:\\/.test(H.filename) ||
-                 (H.filename.includes("\\") && !H.filename.includes("/")),
-               O = /^\//.test(H.filename);
-             if (J || O) {
-               let X = J
-                   ? H.filename.replace(/^[a-zA-Z]:/, "").replace(/\\/g, "/")
-                   : H.filename,
-                 $ = K ? Bv8.relative(K, X) : Bv8.basename(X);
-               H.filename = `${q}${$}`;
-             }
-             return H;
-           });
-       function z(H) {
-         try {
-           return {
-             ...H,
-             exception: {
-               ...H.exception,
-               values: H.exception.values.map((J) => ({
-                 ...J,
-                 ...(J.stacktrace && { stacktrace: w(J.stacktrace) }),
-               })),
-             },
-           };
-         } catch (J) {
-           return H;
-         }
-       }
-       function w(H) {
-         return { ...H, frames: H && H.frames && H.frames.map((J) => Y(J)) };
-       }
-       return {
-         name: gv8,
-         setupOnce() {},
-         processEvent(H) {
-           let J = H;
-           if (H.exception && Array.isArray(H.exception.values)) J = z(J);
-           return J;
-         },
-       };
-     },
-     Fv8 = mv8.defineIntegration(Wt5),
-     Dt5 = mv8.convertIntegrationFnToClass(gv8, Fv8);
-   Qv8.RewriteFrames = Dt5;
-   Qv8.rewriteFramesIntegration = Fv8;
- });

--- Removed iv8 (pretty-v2.1.26.js:78546-78573)
- var iv8 = k((lv8) => {
-   Object.defineProperty(lv8, "__esModule", { value: !0 });
-   var pv8 = a5(),
-     dv8 = "SessionTiming",
-     Pt5 = () => {
-       let A = Date.now();
-       return {
-         name: dv8,
-         setupOnce() {},
-         processEvent(K) {
-           let q = Date.now();
-           return {
-             ...K,
-             extra: {
-               ...K.extra,
-               ["session:start"]: A,
-               ["session:duration"]: q - A,
-               ["session:end"]: q,
-             },
-           };
-         },
-       };
-     },
-     cv8 = pv8.defineIntegration(Pt5),
-     Vt5 = pv8.convertIntegrationFnToClass(dv8, cv8);
-   lv8.SessionTiming = Vt5;
-   lv8.sessionTimingIntegration = cv8;
- });

--- Removed ov8 (pretty-v2.1.26.js:78574-78606)
- var ov8 = k((rv8) => {
-   Object.defineProperty(rv8, "__esModule", { value: !0 });
-   var Tt5 = a5(),
-     nv8 = "Transaction",
-     vt5 = () => {
-       return {
-         name: nv8,
-         setupOnce() {},
-         processEvent(A) {
-           let K = kt5(A);
-           for (let q = K.length - 1; q >= 0; q--) {
-             let Y = K[q];
-             if (Y.in_app === !0) {
-               A.transaction = Ct5(Y);
-               break;
-             }
-           }
-           return A;
-         },
-       };
-     },
-     Et5 = Tt5.convertIntegrationFnToClass(nv8, vt5);
-   function kt5(A) {
-     let K = A.exception && A.exception.values && A.exception.values[0];
-     return (K && K.stacktrace && K.stacktrace.frames) || [];
-   }
-   function Ct5(A) {
-     return A.module || A.function
-       ? `${A.module || "?"}/${A.function || "?"}`
-       : "<unknown>";
-   }
-   rv8.Transaction = Et5;
- });

--- Removed YE8 (pretty-v2.1.26.js:78607-78814)
- var YE8 = k((qE8) => {
-   Object.defineProperty(qE8, "__esModule", { value: !0 });
-   var YF = a5(),
-     Eb = H8(),
-     jtA = TvA(),
-     av8 = "HttpClient",
-     Rt5 = (A = {}) => {
-       let K = {
-         failedRequestStatusCodes: [[500, 599]],
-         failedRequestTargets: [/.*/],
-         ...A,
-       };
-       return {
-         name: av8,
-         setupOnce() {},
-         setup(q) {
-           (mt5(q, K), gt5(q, K));
-         },
-       };
-     },
-     sv8 = YF.defineIntegration(Rt5),
-     yt5 = YF.convertIntegrationFnToClass(av8, sv8);
-   function It5(A, K, q, Y) {
-     if (ev8(A, q.status, q.url)) {
-       let z = Ft5(K, Y),
-         w,
-         H,
-         J,
-         O;
-       if (KE8())
-         [{ headers: w, cookies: J }, { headers: H, cookies: O }] = [
-           { cookieHeader: "Cookie", obj: z },
-           { cookieHeader: "Set-Cookie", obj: q },
-         ].map(({ cookieHeader: $, obj: _ }) => {
-           let G = bt5(_.headers),
-             Z;
-           try {
-             let W = G[$] || G[$.toLowerCase()] || void 0;
-             if (W) Z = tv8(W);
-           } catch (W) {
-             jtA.DEBUG_BUILD &&
-               Eb.logger.log(`Could not extract cookies from header ${$}`);
-           }
-           return { headers: G, cookies: Z };
-         });
-       let X = AE8({
-         url: z.url,
-         method: z.method,
-         status: q.status,
-         requestHeaders: w,
-         responseHeaders: H,
-         requestCookies: J,
-         responseCookies: O,
-       });
-       YF.captureEvent(X);
-     }
-   }
-   function St5(A, K, q, Y) {
-     if (ev8(A, K.status, K.responseURL)) {
-       let z, w, H;
-       if (KE8()) {
-         try {
-           let O =
-             K.getResponseHeader("Set-Cookie") ||
-             K.getResponseHeader("set-cookie") ||
-             void 0;
-           if (O) w = tv8(O);
-         } catch (O) {
-           jtA.DEBUG_BUILD &&
-             Eb.logger.log("Could not extract cookies from response headers");
-         }
-         try {
-           H = xt5(K);
-         } catch (O) {
-           jtA.DEBUG_BUILD &&
-             Eb.logger.log("Could not extract headers from response");
-         }
-         z = Y;
-       }
-       let J = AE8({
-         url: K.responseURL,
-         method: q,
-         status: K.status,
-         requestHeaders: z,
-         responseHeaders: H,
-         responseCookies: w,
-       });
-       YF.captureEvent(J);
-     }
-   }
-   function ht5(A) {
-     if (A) {
-       let K = A["Content-Length"] || A["content-length"];
-       if (K) return parseInt(K, 10);
-     }
-     return;
-   }
-   function tv8(A) {
-     return A.split("; ").reduce((K, q) => {
-       let [Y, z] = q.split("=");
-       return ((K[Y] = z), K);
-     }, {});
-   }
-   function bt5(A) {
-     let K = {};
-     return (
-       A.forEach((q, Y) => {
-         K[Y] = q;
-       }),
-       K
-     );
-   }
-   function xt5(A) {
-     let K = A.getAllResponseHeaders();
-     if (!K) return {};
-     return K.split(
-       `\r
- `,
-     ).reduce((q, Y) => {
-       let [z, w] = Y.split(": ");
-       return ((q[z] = w), q);
-     }, {});
-   }
-   function ut5(A, K) {
-     return A.some((q) => {
-       if (typeof q === "string") return K.includes(q);
-       return q.test(K);
-     });
-   }
-   function Bt5(A, K) {
-     return A.some((q) => {
-       if (typeof q === "number") return q === K;
-       return K >= q[0] && K <= q[1];
-     });
-   }
-   function mt5(A, K) {
-     if (!Eb.supportsNativeFetch()) return;
-     Eb.addFetchInstrumentationHandler((q) => {
-       if (YF.getClient() !== A) return;
-       let { response: Y, args: z } = q,
-         [w, H] = z;
-       if (!Y) return;
-       It5(K, w, Y, H);
-     });
-   }
-   function gt5(A, K) {
-     if (!("XMLHttpRequest" in Eb.GLOBAL_OBJ)) return;
-     Eb.addXhrInstrumentationHandler((q) => {
-       if (YF.getClient() !== A) return;
-       let Y = q.xhr,
-         z = Y[Eb.SENTRY_XHR_DATA_KEY];
-       if (!z) return;
-       let { method: w, request_headers: H } = z;
-       try {
-         St5(K, Y, w, H);
-       } catch (J) {
-         jtA.DEBUG_BUILD &&
-           Eb.logger.warn(
-             "Error while extracting response event form XHR response",
-             J,
-           );
-       }
-     });
-   }
-   function ev8(A, K, q) {
-     return (
-       Bt5(A.failedRequestStatusCodes, K) &&
-       ut5(A.failedRequestTargets, q) &&
-       !YF.isSentryRequestUrl(q, YF.getClient())
-     );
-   }
-   function AE8(A) {
-     let K = `HTTP Client Error with status code: ${A.status}`,
-       q = {
-         message: K,
-         exception: { values: [{ type: "Error", value: K }] },
-         request: {
-           url: A.url,
-           method: A.method,
-           headers: A.requestHeaders,
-           cookies: A.requestCookies,
-         },
-         contexts: {
-           response: {
-             status_code: A.status,
-             headers: A.responseHeaders,
-             cookies: A.responseCookies,
-             body_size: ht5(A.responseHeaders),
-           },
-         },
-       };
-     return (
-       Eb.addExceptionMechanism(q, { type: "http.client", handled: !1 }),
-       q
-     );
-   }
-   function Ft5(A, K) {
-     if (!K && A instanceof Request) return A;
-     if (A instanceof Request && A.bodyUsed) return A;
-     return new Request(A, K);
-   }
-   function KE8() {
-     let A = YF.getClient();
-     return A ? Boolean(A.getOptions().sendDefaultPii) : !1;
-   }
-   qE8.HttpClient = yt5;
-   qE8.httpClientIntegration = sv8;
- });

--- Removed XE8 (pretty-v2.1.26.js:78815-78864)
- var XE8 = k((OE8) => {
-   Object.defineProperty(OE8, "__esModule", { value: !0 });
-   var zE8 = a5(),
-     hB1 = H8(),
-     SB1 = hB1.GLOBAL_OBJ,
-     pt5 = 7,
-     wE8 = "ContextLines",
-     dt5 = (A = {}) => {
-       let K = A.frameContextLines != null ? A.frameContextLines : pt5;
-       return {
-         name: wE8,
-         setupOnce() {},
-         processEvent(q) {
-           return lt5(q, K);
-         },
-       };
-     },
-     HE8 = zE8.defineIntegration(dt5),
-     ct5 = zE8.convertIntegrationFnToClass(wE8, HE8);
-   function lt5(A, K) {
-     let q = SB1.document,
-       Y = SB1.location && hB1.stripUrlQueryAndFragment(SB1.location.href);
-     if (!q || !Y) return A;
-     let z = A.exception && A.exception.values;
-     if (!z || !z.length) return A;
-     let w = q.documentElement.innerHTML;
-     if (!w) return A;
-     let H = [
-       "<!DOCTYPE html>",
-       "<html>",
-       ...w.split(`
- `),
-       "</html>",
-     ];
-     return (
-       z.forEach((J) => {
-         let O = J.stacktrace;
-         if (O && O.frames) O.frames = O.frames.map((X) => JE8(X, H, Y, K));
-       }),
-       A
-     );
-   }
-   function JE8(A, K, q, Y) {
-     if (A.filename !== q || !A.lineno || !K.length) return A;
-     return (hB1.addContextToFrame(K, A, Y), A);
-   }
-   OE8.ContextLines = ct5;
-   OE8.applySourceContextToFrame = JE8;
-   OE8.contextLinesIntegration = HE8;
- });

--- Removed fE8 (pretty-v2.1.26.js:78865-78898)
- var fE8 = k((VE8) => {
-   Object.defineProperty(VE8, "__esModule", { value: !0 });
-   var $E8 = zv8(),
-     _E8 = Xv8(),
-     GE8 = fv8(),
-     ZE8 = kv8(),
-     ot5 = yv8(),
-     WE8 = uv8(),
-     DE8 = Uv8(),
-     jE8 = iv8(),
-     at5 = ov8(),
-     ME8 = YE8(),
-     PE8 = XE8();
-   VE8.CaptureConsole = $E8.CaptureConsole;
-   VE8.captureConsoleIntegration = $E8.captureConsoleIntegration;
-   VE8.Debug = _E8.Debug;
-   VE8.debugIntegration = _E8.debugIntegration;
-   VE8.Dedupe = GE8.Dedupe;
-   VE8.dedupeIntegration = GE8.dedupeIntegration;
-   VE8.ExtraErrorData = ZE8.ExtraErrorData;
-   VE8.extraErrorDataIntegration = ZE8.extraErrorDataIntegration;
-   VE8.Offline = ot5.Offline;
-   VE8.ReportingObserver = WE8.ReportingObserver;
-   VE8.reportingObserverIntegration = WE8.reportingObserverIntegration;
-   VE8.RewriteFrames = DE8.RewriteFrames;
-   VE8.rewriteFramesIntegration = DE8.rewriteFramesIntegration;
-   VE8.SessionTiming = jE8.SessionTiming;
-   VE8.sessionTimingIntegration = jE8.sessionTimingIntegration;
-   VE8.Transaction = at5.Transaction;
-   VE8.HttpClient = ME8.HttpClient;
-   VE8.httpClientIntegration = ME8.httpClientIntegration;
-   VE8.ContextLines = PE8.ContextLines;
-   VE8.contextLinesIntegration = PE8.contextLinesIntegration;
- });

--- Removed MtA (pretty-v2.1.26.js:78899-78945)
- var MtA = k((NE8) => {
-   Object.defineProperty(NE8, "__esModule", { value: !0 });
-   var Me5 = [
-     ["january", "1"],
-     ["february", "2"],
-     ["march", "3"],
-     ["april", "4"],
-     ["may", "5"],
-     ["june", "6"],
-     ["july", "7"],
-     ["august", "8"],
-     ["september", "9"],
-     ["october", "10"],
-     ["november", "11"],
-     ["december", "12"],
-     ["jan", "1"],
-     ["feb", "2"],
-     ["mar", "3"],
-     ["apr", "4"],
-     ["may", "5"],
-     ["jun", "6"],
-     ["jul", "7"],
-     ["aug", "8"],
-     ["sep", "9"],
-     ["oct", "10"],
-     ["nov", "11"],
-     ["dec", "12"],
-     ["sunday", "0"],
-     ["monday", "1"],
-     ["tuesday", "2"],
-     ["wednesday", "3"],
-     ["thursday", "4"],
-     ["friday", "5"],
-     ["saturday", "6"],
-     ["sun", "0"],
-     ["mon", "1"],
-     ["tue", "2"],
-     ["wed", "3"],
-     ["thu", "4"],
-     ["fri", "5"],
-     ["sat", "6"],
-   ];
-   function Pe5(A) {
-     return Me5.reduce((K, [q, Y]) => K.replace(new RegExp(q, "gi"), Y), A);
-   }
-   NE8.replaceCronNames = Pe5;
- });

--- Removed CE8 (pretty-v2.1.26.js:78946-79000)
- var CE8 = k((kE8) => {
-   Object.defineProperty(kE8, "__esModule", { value: !0 });
-   var TE8 = a5(),
-     vE8 = MtA(),
-     EE8 = "Automatic instrumentation of CronJob only supports crontab string";
-   function fe5(A, K) {
-     let q = !1;
-     return new Proxy(A, {
-       construct(Y, z) {
-         let [w, H, J, O, X, ...$] = z;
-         if (typeof w !== "string") throw Error(EE8);
-         if (q) throw Error(`A job named '${K}' has already been scheduled`);
-         q = !0;
-         let _ = vE8.replaceCronNames(w);
-         function G(Z, W) {
-           return TE8.withMonitor(
-             K,
-             () => {
-               return H(Z, W);
-             },
-             { schedule: { type: "crontab", value: _ }, timezone: X || void 0 },
-           );
-         }
-         return new Y(w, G, J, O, X, ...$);
-       },
-       get(Y, z) {
-         if (z === "from")
-           return (w) => {
-             let { cronTime: H, onTick: J, timeZone: O } = w;
-             if (typeof H !== "string") throw Error(EE8);
-             if (q) throw Error(`A job named '${K}' has already been scheduled`);
-             q = !0;
-             let X = vE8.replaceCronNames(H);
-             return (
-               (w.onTick = ($, _) => {
-                 return TE8.withMonitor(
-                   K,
-                   () => {
-                     return J($, _);
-                   },
-                   {
-                     schedule: { type: "crontab", value: X },
-                     timezone: O || void 0,
-                   },
-                 );
-               }),
-               Y.from(w)
-             );
-           };
-         else return Y[z];
-       },
-     });
-   }
-   kE8.instrumentCron = fe5;
- });

--- Removed yE8 (pretty-v2.1.26.js:79001-79034)
- var yE8 = k((RE8) => {
-   var { _optionalChain: LE8 } = H8();
-   Object.defineProperty(RE8, "__esModule", { value: !0 });
-   var Te5 = a5(),
-     ve5 = MtA();
-   function Ee5(A) {
-     return new Proxy(A, {
-       get(K, q) {
-         if (q === "schedule" && K.schedule)
-           return new Proxy(K.schedule, {
-             apply(Y, z, w) {
-               let [H, , J] = w;
-               if (!LE8([J, "optionalAccess", (O) => O.name]))
-                 throw Error(
-                   'Missing "name" for scheduled job. A name is required for Sentry check-in monitoring.',
-                 );
-               return Te5.withMonitor(
-                 J.name,
-                 () => {
-                   return Y.apply(z, w);
-                 },
-                 {
-                   schedule: { type: "crontab", value: ve5.replaceCronNames(H) },
-                   timezone: LE8([J, "optionalAccess", (O) => O.timezone]),
-                 },
-               );
-             },
-           });
-         else return K[q];
-       },
-     });
-   }
-   RE8.instrumentNodeCron = Ee5;
- });

--- Removed SE8 (pretty-v2.1.26.js:79035-79068)
- var SE8 = k((IE8) => {
-   Object.defineProperty(IE8, "__esModule", { value: !0 });
-   var Ce5 = a5(),
-     Le5 = MtA();
-   function Re5(A) {
-     return new Proxy(A, {
-       get(K, q) {
-         if (q === "scheduleJob")
-           return new Proxy(K.scheduleJob, {
-             apply(Y, z, w) {
-               let [H, J] = w;
-               if (typeof H !== "string" || typeof J !== "string")
-                 throw Error(
-                   "Automatic instrumentation of 'node-schedule' requires the first parameter of 'scheduleJob' to be a job name string and the second parameter to be a crontab string",
-                 );
-               let O = H,
-                 X = J;
-               return Ce5.withMonitor(
-                 O,
-                 () => {
-                   return Y.apply(z, w);
-                 },
-                 {
-                   schedule: { type: "crontab", value: Le5.replaceCronNames(X) },
-                 },
-               );
-             },
-           });
-         return K[q];
-       },
-     });
-   }
-   IE8.instrumentNodeSchedule = Re5;
- });

--- Removed zF (pretty-v2.1.26.js:79069-79214)
- var zF = k((BE8) => {
-   Object.defineProperty(BE8, "__esModule", { value: !0 });
-   var U7 = a5(),
-     Ie5 = mf8(),
-     Se5 = OB1(),
-     he5 = _B1(),
-     kvA = EB1(),
-     bB1 = H8(),
-     be5 = CT8(),
-     hE8 = vB1(),
-     xe5 = xT8(),
-     ue5 = dT8(),
-     Be5 = tT8(),
-     me5 = Av8(),
-     $i = fE8(),
-     ge5 = rsA(),
-     Fe5 = wtA(),
-     Qe5 = JtA(),
-     Ue5 = qtA(),
-     pe5 = ssA(),
-     de5 = osA(),
-     ce5 = KtA(),
-     le5 = OtA(),
-     ie5 = ZtA(),
-     bE8 = yB1(),
-     xE8 = $tA(),
-     uE8 = tsA(),
-     ne5 = RB1(),
-     re5 = CE8(),
-     oe5 = yE8(),
-     ae5 = SE8(),
-     se5 = hE8.createGetModuleFromFilename(),
-     te5 = { ...U7.Integrations, ...Be5, ...me5 },
-     ee5 = {
-       instrumentCron: re5.instrumentCron,
-       instrumentNodeCron: oe5.instrumentNodeCron,
-       instrumentNodeSchedule: ae5.instrumentNodeSchedule,
-     };
-   BE8.Hub = U7.Hub;
-   BE8.SDK_VERSION = U7.SDK_VERSION;
-   BE8.SEMANTIC_ATTRIBUTE_SENTRY_OP = U7.SEMANTIC_ATTRIBUTE_SENTRY_OP;
-   BE8.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN = U7.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN;
-   BE8.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE =
-     U7.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE;
-   BE8.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE = U7.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE;
-   BE8.Scope = U7.Scope;
-   BE8.addBreadcrumb = U7.addBreadcrumb;
-   BE8.addEventProcessor = U7.addEventProcessor;
-   BE8.addGlobalEventProcessor = U7.addGlobalEventProcessor;
-   BE8.addIntegration = U7.addIntegration;
-   BE8.captureCheckIn = U7.captureCheckIn;
-   BE8.captureEvent = U7.captureEvent;
-   BE8.captureException = U7.captureException;
-   BE8.captureMessage = U7.captureMessage;
-   BE8.captureSession = U7.captureSession;
-   BE8.close = U7.close;
-   BE8.configureScope = U7.configureScope;
-   BE8.continueTrace = U7.continueTrace;
-   BE8.createTransport = U7.createTransport;
-   BE8.endSession = U7.endSession;
-   BE8.extractTraceparentData = U7.extractTraceparentData;
-   BE8.flush = U7.flush;
-   BE8.functionToStringIntegration = U7.functionToStringIntegration;
-   BE8.getActiveSpan = U7.getActiveSpan;
-   BE8.getActiveTransaction = U7.getActiveTransaction;
-   BE8.getClient = U7.getClient;
-   BE8.getCurrentHub = U7.getCurrentHub;
-   BE8.getCurrentScope = U7.getCurrentScope;
-   BE8.getGlobalScope = U7.getGlobalScope;
-   BE8.getHubFromCarrier = U7.getHubFromCarrier;
-   BE8.getIsolationScope = U7.getIsolationScope;
-   BE8.getSpanStatusFromHttpCode = U7.getSpanStatusFromHttpCode;
-   BE8.inboundFiltersIntegration = U7.inboundFiltersIntegration;
-   BE8.isInitialized = U7.isInitialized;
-   BE8.lastEventId = U7.lastEventId;
-   BE8.linkedErrorsIntegration = U7.linkedErrorsIntegration;
-   BE8.makeMain = U7.makeMain;
-   BE8.metrics = U7.metrics;
-   BE8.parameterize = U7.parameterize;
-   BE8.requestDataIntegration = U7.requestDataIntegration;
-   BE8.runWithAsyncContext = U7.runWithAsyncContext;
-   BE8.setContext = U7.setContext;
-   BE8.setCurrentClient = U7.setCurrentClient;
-   BE8.setExtra = U7.setExtra;
-   BE8.setExtras = U7.setExtras;
-   BE8.setHttpStatus = U7.setHttpStatus;
-   BE8.setMeasurement = U7.setMeasurement;
-   BE8.setTag = U7.setTag;
-   BE8.setTags = U7.setTags;
-   BE8.setUser = U7.setUser;
-   BE8.spanStatusfromHttpCode = U7.spanStatusfromHttpCode;
-   BE8.startActiveSpan = U7.startActiveSpan;
-   BE8.startInactiveSpan = U7.startInactiveSpan;
-   BE8.startSession = U7.startSession;
-   BE8.startSpan = U7.startSpan;
-   BE8.startSpanManual = U7.startSpanManual;
-   BE8.startTransaction = U7.startTransaction;
-   BE8.trace = U7.trace;
-   BE8.withActiveSpan = U7.withActiveSpan;
-   BE8.withIsolationScope = U7.withIsolationScope;
-   BE8.withMonitor = U7.withMonitor;
-   BE8.withScope = U7.withScope;
-   BE8.autoDiscoverNodePerformanceMonitoringIntegrations =
-     Ie5.autoDiscoverNodePerformanceMonitoringIntegrations;
-   BE8.NodeClient = Se5.NodeClient;
-   BE8.makeNodeTransport = he5.makeNodeTransport;
-   BE8.defaultIntegrations = kvA.defaultIntegrations;
-   BE8.defaultStackParser = kvA.defaultStackParser;
-   BE8.getDefaultIntegrations = kvA.getDefaultIntegrations;
-   BE8.getSentryRelease = kvA.getSentryRelease;
-   BE8.init = kvA.init;
-   BE8.DEFAULT_USER_INCLUDES = bB1.DEFAULT_USER_INCLUDES;
-   BE8.addRequestDataToEvent = bB1.addRequestDataToEvent;
-   BE8.extractRequestData = bB1.extractRequestData;
-   BE8.deepReadDirSync = be5.deepReadDirSync;
-   BE8.createGetModuleFromFilename = hE8.createGetModuleFromFilename;
-   BE8.enableAnrDetection = xe5.enableAnrDetection;
-   BE8.Handlers = ue5;
-   BE8.captureConsoleIntegration = $i.captureConsoleIntegration;
-   BE8.debugIntegration = $i.debugIntegration;
-   BE8.dedupeIntegration = $i.dedupeIntegration;
-   BE8.extraErrorDataIntegration = $i.extraErrorDataIntegration;
-   BE8.httpClientIntegration = $i.httpClientIntegration;
-   BE8.reportingObserverIntegration = $i.reportingObserverIntegration;
-   BE8.rewriteFramesIntegration = $i.rewriteFramesIntegration;
-   BE8.sessionTimingIntegration = $i.sessionTimingIntegration;
-   BE8.consoleIntegration = ge5.consoleIntegration;
-   BE8.onUncaughtExceptionIntegration = Fe5.onUncaughtExceptionIntegration;
-   BE8.onUnhandledRejectionIntegration = Qe5.onUnhandledRejectionIntegration;
-   BE8.modulesIntegration = Ue5.modulesIntegration;
-   BE8.contextLinesIntegration = pe5.contextLinesIntegration;
-   BE8.nodeContextIntegration = de5.nodeContextIntegration;
-   BE8.localVariablesIntegration = ce5.localVariablesIntegration;
-   BE8.spotlightIntegration = le5.spotlightIntegration;
-   BE8.anrIntegration = ie5.anrIntegration;
-   BE8.hapiErrorPlugin = bE8.hapiErrorPlugin;
-   BE8.hapiIntegration = bE8.hapiIntegration;
-   BE8.Undici = xE8.Undici;
-   BE8.nativeNodeFetchintegration = xE8.nativeNodeFetchintegration;
-   BE8.Http = uE8.Http;
-   BE8.httpIntegration = uE8.httpIntegration;
-   BE8.trpcMiddleware = ne5.trpcMiddleware;
-   BE8.Integrations = te5;
-   BE8.cron = ee5;
-   BE8.getModuleFromFilename = se5;
- });

--- Removed Eh8 (pretty-v2.1.26.js:102726-102734)
- async function Eh8(A) {
-   let K = BA(),
-     Y = K.statSync(A).size;
-   if (Y === 0) throw Error(`PDF file is empty: ${A}`);
-   if (Y > jd1)
-     throw Error(`PDF file exceeds maximum allowed size of ${Q0(jd1)}.`);
-   let w = K.readFileBytesSync(A).toString("base64");
-   return { type: "pdf", file: { filePath: A, base64: w, originalSize: Y } };
- }

--- Removed ez4 (pretty-v2.1.26.js:160592-160776)
- var ez4 = E(() => {
-   sz4 = `Use this tool to create and manage a structured task list for your current coding session. This helps you track progress, organize complex tasks, and demonstrate thoroughness to the user.
- It also helps the user understand the progress of the task and overall progress of their requests.
- 
- ## When to Use This Tool
- Use this tool proactively in these scenarios:
- 
- 1. Complex multi-step tasks - When a task requires 3 or more distinct steps or actions
- 2. Non-trivial and complex tasks - Tasks that require careful planning or multiple operations
- 3. User explicitly requests todo list - When the user directly asks you to use the todo list
- 4. User provides multiple tasks - When users provide a list of things to be done (numbered or comma-separated)
- 5. After receiving new instructions - Immediately capture user requirements as todos
- 6. When you start working on a task - Mark it as in_progress BEFORE beginning work. Ideally you should only have one todo as in_progress at a time
- 7. After completing a task - Mark it as completed and add any new follow-up tasks discovered during implementation
- 
- ## When NOT to Use This Tool
- 
- Skip using this tool when:
- 1. There is only a single, straightforward task
- 2. The task is trivial and tracking it provides no organizational benefit
- 3. The task can be completed in less than 3 trivial steps
- 4. The task is purely conversational or informational
- 
- NOTE that you should not use this tool if there is only one trivial task to do. In this case you are better off just doing the task directly.
- 
- ## Examples of When to Use the Todo List
- 
- <example>
- User: I want to add a dark mode toggle to the application settings. Make sure you run the tests and build when you're done!
- Assistant: I'll help add a dark mode toggle to your application settings. Let me create a todo list to track this implementation.
- *Creates todo list with the following items:*
- 1. Creating dark mode toggle component in Settings page
- 2. Adding dark mode state management (context/store)
- 3. Implementing CSS-in-JS styles for dark theme
- 4. Updating existing components to support theme switching
- 5. Running tests and build process, addressing any failures or errors that occur
- *Begins working on the first task*
- 
- <reasoning>
- The assistant used the todo list because:
- 1. Adding dark mode is a multi-step feature requiring UI, state management, and styling changes
- 2. The user explicitly requested tests and build be run afterward
- 3. The assistant inferred that tests and build need to pass by adding "Ensure tests and build succeed" as the final task
- </reasoning>
- </example>
- 
- <example>
- User: Help me rename the function getCwd to getCurrentWorkingDirectory across my project
- Assistant: Let me first search through your codebase to find all occurrences of 'getCwd'.
- *Uses grep or search tools to locate all instances of getCwd in the codebase*
- Assistant: I've found 15 instances of 'getCwd' across 8 different files. Let me create a todo list to track these changes.
- *Creates todo list with specific items for each file that needs updating*
- 
- <reasoning>
- The assistant used the todo list because:
- 1. First, the assistant searched to understand the scope of the task
- 2. Upon finding multiple occurrences across different files, it determined this was a complex task with multiple steps
- 3. The todo list helps ensure every instance is tracked and updated systematically
- 4. This approach prevents missing any occurrences and maintains code consistency
- </reasoning>
- </example>
- 
- 
- <example>
- User: I need to implement these features for my e-commerce site: user registration, product catalog, shopping cart, and checkout flow.
- Assistant: I'll help implement these features. First, let's add all the features to the todo list.
- *Creates a todo list breaking down each feature into specific tasks based on the project architecture*
- Assistant: Let's start with user registration. This will involve creating database models, API endpoints, and frontend forms that integrate with your existing authentication system.
- 
- <reasoning>
- The assistant used the todo list because:
- 1. The user provided multiple complex features to implement in a comma separated list
- 2. The todo list helps organize these large features into manageable tasks
- 3. This approach allows for tracking progress across the entire implementation
- </reasoning>
- </example>
- 
- <example>
- User: Can you help optimize my React application? It's rendering slowly and has performance issues.</user>
- Assistant: I'll help optimize your React application. First, let me examine your codebase to identify potential performance bottlenecks.
- *Reviews component structure, render patterns, state management, and data fetching*
- Assistant: After analyzing your codebase, I've identified several performance issues. Let me create a todo list to track our optimization efforts.
- *Creates todo list with items like: 1) Implementing memoization for expensive calculations in ProductList, 2) Adding virtualization for long lists in Dashboard, 3) Optimizing image loading in Gallery component, 4) Fixing state update loops in ShoppingCart, 5) Reviewing bundle size and implementing code splitting*
- Let's start by implementing memoization for the expensive calculations in your ProductList component.</assistant>
- 
- <reasoning>
- The assistant used the todo list because:
- 1. First, the assistant examined the codebase to identify specific performance issues
- 2. Based on this analysis, it identified multiple optimization opportunities
- 3. Performance optimization is a non-trivial task requiring multiple steps
- 4. The todo list helps methodically track improvements across different components
- 5. This systematic approach ensures all performance bottlenecks are addressed
- </reasoning>
- </example>
- 
- ## Examples of When NOT to Use the Todo List
- 
- <example>
- User: How do I print 'Hello World' in Python?
- Assistant: In Python, you can print "Hello World" with this simple code:
- 
- python
- print("Hello World")
- 
- This will output the text "Hello World" to the console when executed.</assistant>
- 
- <reasoning>
- The assistant did not use the todo list because this is a single, trivial task that can be completed in one step. There's no need to track multiple tasks or steps for such a straightforward request.
- </reasoning>
- </example>
- 
- <example>
- User: What does the git status command do?
- Assistant: The git status command shows the current state of your working directory and staging area. It displays which changes have been staged, which haven't, and which files aren't being tracked by Git. This is a fundamental command for understanding the current state of your repository before making commits.
- 
- <reasoning>
- The assistant did not use the todo list because this is an informational request with no actual coding task to complete. The user is simply asking for an explanation, not for the assistant to perform multiple steps or tasks.
- </reasoning>
- </example>
- 
- <example>
- User: Can you add a comment to the calculateTotal function to explain what it does?
- Assistant: Sure, let me add a comment to the calculateTotal function to explain what it does.
- * Uses the ${Dq} tool to add a comment to the calculateTotal function *
- 
- <reasoning>
- The assistant did not use the todo list because this is a single, straightforward task confined to one location in the code. Adding a comment doesn't require tracking multiple steps or systematic organization.
- </reasoning>
- </example>
- 
- <example>
- User: Run npm install for me and tell me what happens.
- Assistant: I'll run the npm install command for you.
- 
- *Executes: npm install*
- 
- The command completed successfully. Here's the output:
- [Output of npm install command]
- 
- All dependencies have been installed according to your package.json file.
- 
- <reasoning>
- The assistant did not use the todo list because this is a single command execution with immediate results. There are no multiple steps to track or organize, making the todo list unnecessary for this straightforward task.
- </reasoning>
- </example>
- 
- ## Task States and Management
- 
- 1. **Task States**: Use these states to track progress:
-    - pending: Task not yet started
-    - in_progress: Currently working on (limit to ONE task at a time)
-    - completed: Task finished successfully
- 
-    **IMPORTANT**: Task descriptions must have two forms:
-    - content: The imperative form describing what needs to be done (e.g., "Run tests", "Build the project")
-    - activeForm: The present continuous form shown during execution (e.g., "Running tests", "Building the project")
- 
- 2. **Task Management**:
-    - Update task status in real-time as you work
-    - Mark tasks complete IMMEDIATELY after finishing (don't batch completions)
-    - Exactly ONE task must be in_progress at any time (not less, not more)
-    - Complete current tasks before starting new ones
-    - Remove tasks that are no longer relevant from the list entirely
- 
- 3. **Task Completion Requirements**:
-    - ONLY mark a task as completed when you have FULLY accomplished it
-    - If you encounter errors, blockers, or cannot finish, keep the task as in_progress
-    - When blocked, create a new task describing what needs to be resolved
-    - Never mark a task as completed if:
-      - Tests are failing
-      - Implementation is partial
-      - You encountered unresolved errors
-      - You couldn't find necessary files or dependencies
- 
- 4. **Task Breakdown**:
-    - Create specific, actionable items
-    - Break complex tasks into smaller, manageable steps
-    - Use clear, descriptive task names
-    - Always provide both forms:
-      - content: "Fix authentication bug"
-      - activeForm: "Fixing authentication bug"
- 
- When in doubt, use this tool. Being proactive with task management demonstrates attentiveness and ensures you complete all requirements successfully.
- `;
- });

--- Removed r46 (pretty-v2.1.26.js:175021-175025)
-   r46 = (A) => {
-     let K = A;
-     while (K.parentNode) K = K.parentNode;
-     return K;
-   },

--- Removed a46 (pretty-v2.1.26.js:175026-175034)
-   a46 = (A) => {
-     if (A.internal_static) return A;
-     for (let K of A.childNodes) {
-       if (K.nodeName === "#text") continue;
-       let q = a46(K);
-       if (q) return q;
-     }
-     return;
-   },

--- Removed YXA (pretty-v2.1.26.js:176672-176678)
- var YXA = E(() => {
-   g46();
-   O76();
-   n8A();
-   ((uJ4 = new RegExp(`^${an}\\]8${tn}${tn}([^${sn}]*)${sn}$`)),
-     (GyA = `${an}]8${tn}`));
- });

--- Removed _XA (pretty-v2.1.26.js:179135-179269)
- var _XA = k((ux, gO4) => {
-   var {
-       MAX_SAFE_COMPONENT_LENGTH: h76,
-       MAX_SAFE_BUILD_LENGTH: or3,
-       MAX_LENGTH: ar3,
-     } = MyA(),
-     sr3 = PyA();
-   ux = gO4.exports = {};
-   var tr3 = (ux.re = []),
-     er3 = (ux.safeRe = []),
-     k7 = (ux.src = []),
-     Ao3 = (ux.safeSrc = []),
-     C7 = (ux.t = {}),
-     Ko3 = 0,
-     b76 = "[a-zA-Z0-9-]",
-     qo3 = [
-       ["\\s", 1],
-       ["\\d", ar3],
-       [b76, or3],
-     ],
-     Yo3 = (A) => {
-       for (let [K, q] of qo3)
-         A = A.split(`${K}*`)
-           .join(`${K}{0,${q}}`)
-           .split(`${K}+`)
-           .join(`${K}{1,${q}}`);
-       return A;
-     },
-     mq = (A, K, q) => {
-       let Y = Yo3(K),
-         z = Ko3++;
-       (sr3(A, z, K),
-         (C7[A] = z),
-         (k7[z] = K),
-         (Ao3[z] = Y),
-         (tr3[z] = new RegExp(K, q ? "g" : void 0)),
-         (er3[z] = new RegExp(Y, q ? "g" : void 0)));
-     };
-   mq("NUMERICIDENTIFIER", "0|[1-9]\\d*");
-   mq("NUMERICIDENTIFIERLOOSE", "\\d+");
-   mq("NONNUMERICIDENTIFIER", `\\d*[a-zA-Z-]${b76}*`);
-   mq(
-     "MAINVERSION",
-     `(${k7[C7.NUMERICIDENTIFIER]})\\.(${k7[C7.NUMERICIDENTIFIER]})\\.(${k7[C7.NUMERICIDENTIFIER]})`,
-   );
-   mq(
-     "MAINVERSIONLOOSE",
-     `(${k7[C7.NUMERICIDENTIFIERLOOSE]})\\.(${k7[C7.NUMERICIDENTIFIERLOOSE]})\\.(${k7[C7.NUMERICIDENTIFIERLOOSE]})`,
-   );
-   mq(
-     "PRERELEASEIDENTIFIER",
-     `(?:${k7[C7.NONNUMERICIDENTIFIER]}|${k7[C7.NUMERICIDENTIFIER]})`,
-   );
-   mq(
-     "PRERELEASEIDENTIFIERLOOSE",
-     `(?:${k7[C7.NONNUMERICIDENTIFIER]}|${k7[C7.NUMERICIDENTIFIERLOOSE]})`,
-   );
-   mq(
-     "PRERELEASE",
-     `(?:-(${k7[C7.PRERELEASEIDENTIFIER]}(?:\\.${k7[C7.PRERELEASEIDENTIFIER]})*))`,
-   );
-   mq(
-     "PRERELEASELOOSE",
-     `(?:-?(${k7[C7.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${k7[C7.PRERELEASEIDENTIFIERLOOSE]})*))`,
-   );
-   mq("BUILDIDENTIFIER", `${b76}+`);
-   mq(
-     "BUILD",
-     `(?:\\+(${k7[C7.BUILDIDENTIFIER]}(?:\\.${k7[C7.BUILDIDENTIFIER]})*))`,
-   );
-   mq(
-     "FULLPLAIN",
-     `v?${k7[C7.MAINVERSION]}${k7[C7.PRERELEASE]}?${k7[C7.BUILD]}?`,
-   );
-   mq("FULL", `^${k7[C7.FULLPLAIN]}$`);
-   mq(
-     "LOOSEPLAIN",
-     `[v=\\s]*${k7[C7.MAINVERSIONLOOSE]}${k7[C7.PRERELEASELOOSE]}?${k7[C7.BUILD]}?`,
-   );
-   mq("LOOSE", `^${k7[C7.LOOSEPLAIN]}$`);
-   mq("GTLT", "((?:<|>)?=?)");
-   mq("XRANGEIDENTIFIERLOOSE", `${k7[C7.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);
-   mq("XRANGEIDENTIFIER", `${k7[C7.NUMERICIDENTIFIER]}|x|X|\\*`);
-   mq(
-     "XRANGEPLAIN",
-     `[v=\\s]*(${k7[C7.XRANGEIDENTIFIER]})(?:\\.(${k7[C7.XRANGEIDENTIFIER]})(?:\\.(${k7[C7.XRANGEIDENTIFIER]})(?:${k7[C7.PRERELEASE]})?${k7[C7.BUILD]}?)?)?`,
-   );
-   mq(
-     "XRANGEPLAINLOOSE",
-     `[v=\\s]*(${k7[C7.XRANGEIDENTIFIERLOOSE]})(?:\\.(${k7[C7.XRANGEIDENTIFIERLOOSE]})(?:\\.(${k7[C7.XRANGEIDENTIFIERLOOSE]})(?:${k7[C7.PRERELEASELOOSE]})?${k7[C7.BUILD]}?)?)?`,
-   );
-   mq("XRANGE", `^${k7[C7.GTLT]}\\s*${k7[C7.XRANGEPLAIN]}$`);
-   mq("XRANGELOOSE", `^${k7[C7.GTLT]}\\s*${k7[C7.XRANGEPLAINLOOSE]}$`);
-   mq(
-     "COERCEPLAIN",
-     `(^|[^\\d])(\\d{1,${h76}})(?:\\.(\\d{1,${h76}}))?(?:\\.(\\d{1,${h76}}))?`,
-   );
-   mq("COERCE", `${k7[C7.COERCEPLAIN]}(?:$|[^\\d])`);
-   mq(
-     "COERCEFULL",
-     k7[C7.COERCEPLAIN] +
-       `(?:${k7[C7.PRERELEASE]})?(?:${k7[C7.BUILD]})?(?:$|[^\\d])`,
-   );
-   mq("COERCERTL", k7[C7.COERCE], !0);
-   mq("COERCERTLFULL", k7[C7.COERCEFULL], !0);
-   mq("LONETILDE", "(?:~>?)");
-   mq("TILDETRIM", `(\\s*)${k7[C7.LONETILDE]}\\s+`, !0);
-   ux.tildeTrimReplace = "$1~";
-   mq("TILDE", `^${k7[C7.LONETILDE]}${k7[C7.XRANGEPLAIN]}$`);
-   mq("TILDELOOSE", `^${k7[C7.LONETILDE]}${k7[C7.XRANGEPLAINLOOSE]}$`);
-   mq("LONECARET", "(?:\\^)");
-   mq("CARETTRIM", `(\\s*)${k7[C7.LONECARET]}\\s+`, !0);
-   ux.caretTrimReplace = "$1^";
-   mq("CARET", `^${k7[C7.LONECARET]}${k7[C7.XRANGEPLAIN]}$`);
-   mq("CARETLOOSE", `^${k7[C7.LONECARET]}${k7[C7.XRANGEPLAINLOOSE]}$`);
-   mq("COMPARATORLOOSE", `^${k7[C7.GTLT]}\\s*(${k7[C7.LOOSEPLAIN]})$|^$`);
-   mq("COMPARATOR", `^${k7[C7.GTLT]}\\s*(${k7[C7.FULLPLAIN]})$|^$`);
-   mq(
-     "COMPARATORTRIM",
-     `(\\s*)${k7[C7.GTLT]}\\s*(${k7[C7.LOOSEPLAIN]}|${k7[C7.XRANGEPLAIN]})`,
-     !0,
-   );
-   ux.comparatorTrimReplace = "$1$2$3";
-   mq(
-     "HYPHENRANGE",
-     `^\\s*(${k7[C7.XRANGEPLAIN]})\\s+-\\s+(${k7[C7.XRANGEPLAIN]})\\s*$`,
-   );
-   mq(
-     "HYPHENRANGELOOSE",
-     `^\\s*(${k7[C7.XRANGEPLAINLOOSE]})\\s+-\\s+(${k7[C7.XRANGEPLAINLOOSE]})\\s*$`,
-   );
-   mq("STAR", "(<|>)?=?\\s*\\*");
-   mq("GTE0", "^\\s*>=\\s*0\\.0\\.0\\s*$");
-   mq("GTE0PRE", "^\\s*>=\\s*0\\.0\\.0-0\\s*$");
- });

--- Removed pIA (pretty-v2.1.26.js:203855-203989)
- var pIA = k((tx, OS4) => {
-   var {
-       MAX_SAFE_COMPONENT_LENGTH: Y96,
-       MAX_SAFE_BUILD_LENGTH: kV9,
-       MAX_LENGTH: CV9,
-     } = Q91(),
-     LV9 = UIA();
-   tx = OS4.exports = {};
-   var RV9 = (tx.re = []),
-     yV9 = (tx.safeRe = []),
-     L7 = (tx.src = []),
-     IV9 = (tx.safeSrc = []),
-     R7 = (tx.t = {}),
-     SV9 = 0,
-     z96 = "[a-zA-Z0-9-]",
-     hV9 = [
-       ["\\s", 1],
-       ["\\d", CV9],
-       [z96, kV9],
-     ],
-     bV9 = (A) => {
-       for (let [K, q] of hV9)
-         A = A.split(`${K}*`)
-           .join(`${K}{0,${q}}`)
-           .split(`${K}+`)
-           .join(`${K}{1,${q}}`);
-       return A;
-     },
-     gq = (A, K, q) => {
-       let Y = bV9(K),
-         z = SV9++;
-       (LV9(A, z, K),
-         (R7[A] = z),
-         (L7[z] = K),
-         (IV9[z] = Y),
-         (RV9[z] = new RegExp(K, q ? "g" : void 0)),
-         (yV9[z] = new RegExp(Y, q ? "g" : void 0)));
-     };
-   gq("NUMERICIDENTIFIER", "0|[1-9]\\d*");
-   gq("NUMERICIDENTIFIERLOOSE", "\\d+");
-   gq("NONNUMERICIDENTIFIER", `\\d*[a-zA-Z-]${z96}*`);
-   gq(
-     "MAINVERSION",
-     `(${L7[R7.NUMERICIDENTIFIER]})\\.(${L7[R7.NUMERICIDENTIFIER]})\\.(${L7[R7.NUMERICIDENTIFIER]})`,
-   );
-   gq(
-     "MAINVERSIONLOOSE",
-     `(${L7[R7.NUMERICIDENTIFIERLOOSE]})\\.(${L7[R7.NUMERICIDENTIFIERLOOSE]})\\.(${L7[R7.NUMERICIDENTIFIERLOOSE]})`,
-   );
-   gq(
-     "PRERELEASEIDENTIFIER",
-     `(?:${L7[R7.NUMERICIDENTIFIER]}|${L7[R7.NONNUMERICIDENTIFIER]})`,
-   );
-   gq(
-     "PRERELEASEIDENTIFIERLOOSE",
-     `(?:${L7[R7.NUMERICIDENTIFIERLOOSE]}|${L7[R7.NONNUMERICIDENTIFIER]})`,
-   );
-   gq(
-     "PRERELEASE",
-     `(?:-(${L7[R7.PRERELEASEIDENTIFIER]}(?:\\.${L7[R7.PRERELEASEIDENTIFIER]})*))`,
-   );
-   gq(
-     "PRERELEASELOOSE",
-     `(?:-?(${L7[R7.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L7[R7.PRERELEASEIDENTIFIERLOOSE]})*))`,
-   );
-   gq("BUILDIDENTIFIER", `${z96}+`);
-   gq(
-     "BUILD",
-     `(?:\\+(${L7[R7.BUILDIDENTIFIER]}(?:\\.${L7[R7.BUILDIDENTIFIER]})*))`,
-   );
-   gq(
-     "FULLPLAIN",
-     `v?${L7[R7.MAINVERSION]}${L7[R7.PRERELEASE]}?${L7[R7.BUILD]}?`,
-   );
-   gq("FULL", `^${L7[R7.FULLPLAIN]}$`);
-   gq(
-     "LOOSEPLAIN",
-     `[v=\\s]*${L7[R7.MAINVERSIONLOOSE]}${L7[R7.PRERELEASELOOSE]}?${L7[R7.BUILD]}?`,
-   );
-   gq("LOOSE", `^${L7[R7.LOOSEPLAIN]}$`);
-   gq("GTLT", "((?:<|>)?=?)");
-   gq("XRANGEIDENTIFIERLOOSE", `${L7[R7.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);
-   gq("XRANGEIDENTIFIER", `${L7[R7.NUMERICIDENTIFIER]}|x|X|\\*`);
-   gq(
-     "XRANGEPLAIN",
-     `[v=\\s]*(${L7[R7.XRANGEIDENTIFIER]})(?:\\.(${L7[R7.XRANGEIDENTIFIER]})(?:\\.(${L7[R7.XRANGEIDENTIFIER]})(?:${L7[R7.PRERELEASE]})?${L7[R7.BUILD]}?)?)?`,
-   );
-   gq(
-     "XRANGEPLAINLOOSE",
-     `[v=\\s]*(${L7[R7.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L7[R7.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L7[R7.XRANGEIDENTIFIERLOOSE]})(?:${L7[R7.PRERELEASELOOSE]})?${L7[R7.BUILD]}?)?)?`,
-   );
-   gq("XRANGE", `^${L7[R7.GTLT]}\\s*${L7[R7.XRANGEPLAIN]}$`);
-   gq("XRANGELOOSE", `^${L7[R7.GTLT]}\\s*${L7[R7.XRANGEPLAINLOOSE]}$`);
-   gq(
-     "COERCEPLAIN",
-     `(^|[^\\d])(\\d{1,${Y96}})(?:\\.(\\d{1,${Y96}}))?(?:\\.(\\d{1,${Y96}}))?`,
-   );
-   gq("COERCE", `${L7[R7.COERCEPLAIN]}(?:$|[^\\d])`);
-   gq(
-     "COERCEFULL",
-     L7[R7.COERCEPLAIN] +
-       `(?:${L7[R7.PRERELEASE]})?(?:${L7[R7.BUILD]})?(?:$|[^\\d])`,
-   );
-   gq("COERCERTL", L7[R7.COERCE], !0);
-   gq("COERCERTLFULL", L7[R7.COERCEFULL], !0);
-   gq("LONETILDE", "(?:~>?)");
-   gq("TILDETRIM", `(\\s*)${L7[R7.LONETILDE]}\\s+`, !0);
-   tx.tildeTrimReplace = "$1~";
-   gq("TILDE", `^${L7[R7.LONETILDE]}${L7[R7.XRANGEPLAIN]}$`);
-   gq("TILDELOOSE", `^${L7[R7.LONETILDE]}${L7[R7.XRANGEPLAINLOOSE]}$`);
-   gq("LONECARET", "(?:\\^)");
-   gq("CARETTRIM", `(\\s*)${L7[R7.LONECARET]}\\s+`, !0);
-   tx.caretTrimReplace = "$1^";
-   gq("CARET", `^${L7[R7.LONECARET]}${L7[R7.XRANGEPLAIN]}$`);
-   gq("CARETLOOSE", `^${L7[R7.LONECARET]}${L7[R7.XRANGEPLAINLOOSE]}$`);
-   gq("COMPARATORLOOSE", `^${L7[R7.GTLT]}\\s*(${L7[R7.LOOSEPLAIN]})$|^$`);
-   gq("COMPARATOR", `^${L7[R7.GTLT]}\\s*(${L7[R7.FULLPLAIN]})$|^$`);
-   gq(
-     "COMPARATORTRIM",
-     `(\\s*)${L7[R7.GTLT]}\\s*(${L7[R7.LOOSEPLAIN]}|${L7[R7.XRANGEPLAIN]})`,
-     !0,
-   );
-   tx.comparatorTrimReplace = "$1$2$3";
-   gq(
-     "HYPHENRANGE",
-     `^\\s*(${L7[R7.XRANGEPLAIN]})\\s+-\\s+(${L7[R7.XRANGEPLAIN]})\\s*$`,
-   );
-   gq(
-     "HYPHENRANGELOOSE",
-     `^\\s*(${L7[R7.XRANGEPLAINLOOSE]})\\s+-\\s+(${L7[R7.XRANGEPLAINLOOSE]})\\s*$`,
-   );
-   gq("STAR", "(<|>)?=?\\s*\\*");
-   gq("GTE0", "^\\s*>=\\s*0\\.0\\.0\\s*$");
-   gq("GTE0PRE", "^\\s*>=\\s*0\\.0\\.0-0\\s*$");
- });

--- Removed r_A (pretty-v2.1.26.js:257017-257151)
- var r_A = k((Lu, Y67) => {
-   var {
-       MAX_SAFE_COMPONENT_LENGTH: c06,
-       MAX_SAFE_BUILD_LENGTH: K6Y,
-       MAX_LENGTH: q6Y,
-     } = BbA(),
-     Y6Y = mbA();
-   Lu = Y67.exports = {};
-   var z6Y = (Lu.re = []),
-     w6Y = (Lu.safeRe = []),
-     y7 = (Lu.src = []),
-     H6Y = (Lu.safeSrc = []),
-     I7 = (Lu.t = {}),
-     J6Y = 0,
-     l06 = "[a-zA-Z0-9-]",
-     O6Y = [
-       ["\\s", 1],
-       ["\\d", q6Y],
-       [l06, K6Y],
-     ],
-     X6Y = (A) => {
-       for (let [K, q] of O6Y)
-         A = A.split(`${K}*`)
-           .join(`${K}{0,${q}}`)
-           .split(`${K}+`)
-           .join(`${K}{1,${q}}`);
-       return A;
-     },
-     Uq = (A, K, q) => {
-       let Y = X6Y(K),
-         z = J6Y++;
-       (Y6Y(A, z, K),
-         (I7[A] = z),
-         (y7[z] = K),
-         (H6Y[z] = Y),
-         (z6Y[z] = new RegExp(K, q ? "g" : void 0)),
-         (w6Y[z] = new RegExp(Y, q ? "g" : void 0)));
-     };
-   Uq("NUMERICIDENTIFIER", "0|[1-9]\\d*");
-   Uq("NUMERICIDENTIFIERLOOSE", "\\d+");
-   Uq("NONNUMERICIDENTIFIER", `\\d*[a-zA-Z-]${l06}*`);
-   Uq(
-     "MAINVERSION",
-     `(${y7[I7.NUMERICIDENTIFIER]})\\.(${y7[I7.NUMERICIDENTIFIER]})\\.(${y7[I7.NUMERICIDENTIFIER]})`,
-   );
-   Uq(
-     "MAINVERSIONLOOSE",
-     `(${y7[I7.NUMERICIDENTIFIERLOOSE]})\\.(${y7[I7.NUMERICIDENTIFIERLOOSE]})\\.(${y7[I7.NUMERICIDENTIFIERLOOSE]})`,
-   );
-   Uq(
-     "PRERELEASEIDENTIFIER",
-     `(?:${y7[I7.NUMERICIDENTIFIER]}|${y7[I7.NONNUMERICIDENTIFIER]})`,
-   );
-   Uq(
-     "PRERELEASEIDENTIFIERLOOSE",
-     `(?:${y7[I7.NUMERICIDENTIFIERLOOSE]}|${y7[I7.NONNUMERICIDENTIFIER]})`,
-   );
-   Uq(
-     "PRERELEASE",
-     `(?:-(${y7[I7.PRERELEASEIDENTIFIER]}(?:\\.${y7[I7.PRERELEASEIDENTIFIER]})*))`,
-   );
-   Uq(
-     "PRERELEASELOOSE",
-     `(?:-?(${y7[I7.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${y7[I7.PRERELEASEIDENTIFIERLOOSE]})*))`,
-   );
-   Uq("BUILDIDENTIFIER", `${l06}+`);
-   Uq(
-     "BUILD",
-     `(?:\\+(${y7[I7.BUILDIDENTIFIER]}(?:\\.${y7[I7.BUILDIDENTIFIER]})*))`,
-   );
-   Uq(
-     "FULLPLAIN",
-     `v?${y7[I7.MAINVERSION]}${y7[I7.PRERELEASE]}?${y7[I7.BUILD]}?`,
-   );
-   Uq("FULL", `^${y7[I7.FULLPLAIN]}$`);
-   Uq(
-     "LOOSEPLAIN",
-     `[v=\\s]*${y7[I7.MAINVERSIONLOOSE]}${y7[I7.PRERELEASELOOSE]}?${y7[I7.BUILD]}?`,
-   );
-   Uq("LOOSE", `^${y7[I7.LOOSEPLAIN]}$`);
-   Uq("GTLT", "((?:<|>)?=?)");
-   Uq("XRANGEIDENTIFIERLOOSE", `${y7[I7.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);
-   Uq("XRANGEIDENTIFIER", `${y7[I7.NUMERICIDENTIFIER]}|x|X|\\*`);
-   Uq(
-     "XRANGEPLAIN",
-     `[v=\\s]*(${y7[I7.XRANGEIDENTIFIER]})(?:\\.(${y7[I7.XRANGEIDENTIFIER]})(?:\\.(${y7[I7.XRANGEIDENTIFIER]})(?:${y7[I7.PRERELEASE]})?${y7[I7.BUILD]}?)?)?`,
-   );
-   Uq(
-     "XRANGEPLAINLOOSE",
-     `[v=\\s]*(${y7[I7.XRANGEIDENTIFIERLOOSE]})(?:\\.(${y7[I7.XRANGEIDENTIFIERLOOSE]})(?:\\.(${y7[I7.XRANGEIDENTIFIERLOOSE]})(?:${y7[I7.PRERELEASELOOSE]})?${y7[I7.BUILD]}?)?)?`,
-   );
-   Uq("XRANGE", `^${y7[I7.GTLT]}\\s*${y7[I7.XRANGEPLAIN]}$`);
-   Uq("XRANGELOOSE", `^${y7[I7.GTLT]}\\s*${y7[I7.XRANGEPLAINLOOSE]}$`);
-   Uq(
-     "COERCEPLAIN",
-     `(^|[^\\d])(\\d{1,${c06}})(?:\\.(\\d{1,${c06}}))?(?:\\.(\\d{1,${c06}}))?`,
-   );
-   Uq("COERCE", `${y7[I7.COERCEPLAIN]}(?:$|[^\\d])`);
-   Uq(
-     "COERCEFULL",
-     y7[I7.COERCEPLAIN] +
-       `(?:${y7[I7.PRERELEASE]})?(?:${y7[I7.BUILD]})?(?:$|[^\\d])`,
-   );
-   Uq("COERCERTL", y7[I7.COERCE], !0);
-   Uq("COERCERTLFULL", y7[I7.COERCEFULL], !0);
-   Uq("LONETILDE", "(?:~>?)");
-   Uq("TILDETRIM", `(\\s*)${y7[I7.LONETILDE]}\\s+`, !0);
-   Lu.tildeTrimReplace = "$1~";
-   Uq("TILDE", `^${y7[I7.LONETILDE]}${y7[I7.XRANGEPLAIN]}$`);
-   Uq("TILDELOOSE", `^${y7[I7.LONETILDE]}${y7[I7.XRANGEPLAINLOOSE]}$`);
-   Uq("LONECARET", "(?:\\^)");
-   Uq("CARETTRIM", `(\\s*)${y7[I7.LONECARET]}\\s+`, !0);
-   Lu.caretTrimReplace = "$1^";
-   Uq("CARET", `^${y7[I7.LONECARET]}${y7[I7.XRANGEPLAIN]}$`);
-   Uq("CARETLOOSE", `^${y7[I7.LONECARET]}${y7[I7.XRANGEPLAINLOOSE]}$`);
-   Uq("COMPARATORLOOSE", `^${y7[I7.GTLT]}\\s*(${y7[I7.LOOSEPLAIN]})$|^$`);
-   Uq("COMPARATOR", `^${y7[I7.GTLT]}\\s*(${y7[I7.FULLPLAIN]})$|^$`);
-   Uq(
-     "COMPARATORTRIM",
-     `(\\s*)${y7[I7.GTLT]}\\s*(${y7[I7.LOOSEPLAIN]}|${y7[I7.XRANGEPLAIN]})`,
-     !0,
-   );
-   Lu.comparatorTrimReplace = "$1$2$3";
-   Uq(
-     "HYPHENRANGE",
-     `^\\s*(${y7[I7.XRANGEPLAIN]})\\s+-\\s+(${y7[I7.XRANGEPLAIN]})\\s*$`,
-   );
-   Uq(
-     "HYPHENRANGELOOSE",
-     `^\\s*(${y7[I7.XRANGEPLAINLOOSE]})\\s+-\\s+(${y7[I7.XRANGEPLAINLOOSE]})\\s*$`,
-   );
-   Uq("STAR", "(<|>)?=?\\s*\\*");
-   Uq("GTE0", "^\\s*>=\\s*0\\.0\\.0\\s*$");
-   Uq("GTE0PRE", "^\\s*>=\\s*0\\.0\\.0-0\\s*$");
- });

--- Removed rH1 (pretty-v2.1.26.js:262055-262073)
-   rH1 =
-     (A, K = zw1 ? "Node" : "Browser") =>
-     (q, Y, z) => {
-       if (z) return;
-       switch (q) {
-         case gT.LogLevel.Error:
-           A.info(`MSAL ${K} V2 error: ${Y}`);
-           return;
-         case gT.LogLevel.Info:
-           A.info(`MSAL ${K} V2 info message: ${Y}`);
-           return;
-         case gT.LogLevel.Verbose:
-           A.info(`MSAL ${K} V2 verbose message: ${Y}`);
-           return;
-         case gT.LogLevel.Warning:
-           A.info(`MSAL ${K} V2 warning: ${Y}`);
-           return;
-       }
-     };

--- Removed RBA (pretty-v2.1.26.js:310899-310930)
- var RBA = E(() => {
-   w0();
-   G1();
-   C1();
-   w0();
-   eoA();
-   Yz();
-   Ij6 = J6(async (A) => {
-     return `Execute a skill within the main conversation
- 
- When users ask you to perform tasks, check if any of the available skills match. Skills provide specialized capabilities and domain knowledge.
- 
- When users reference a "slash command" or "/<something>" (e.g., "/commit", "/review-pr"), they are referring to a skill. Use this tool to invoke it.
- 
- How to invoke:
- - Use this tool with the skill name and optional arguments
- - Examples:
-   - \`skill: "pdf"\` - invoke the pdf skill
-   - \`skill: "commit", args: "-m 'Fix bug'"\` - invoke with arguments
-   - \`skill: "review-pr", args: "123"\` - invoke with arguments
-   - \`skill: "ms-office-suite:pdf"\` - invoke using fully qualified name
- 
- Important:
- - Available skills are listed in system-reminder messages in the conversation
- - When a skill matches the user's request, this is a BLOCKING REQUIREMENT: invoke the relevant Skill tool BEFORE generating any other response about the task
- - NEVER mention a skill without actually calling this tool
- - Do not invoke a skill that is already running
- - Do not use this tool for built-in CLI commands (like /help, /clear, etc.)
- - If you see a <${IN}> tag in the current conversation turn, the skill has ALREADY been loaded - follow the instructions directly instead of calling this tool again
- `;
-   });
- });

--- Removed PN7 (pretty-v2.1.26.js:322893-323092)
- function PN7(A) {
-   let K,
-     q,
-     Y,
-     z = !1,
-     w = !1,
-     H,
-     J = !1,
-     O = [],
-     X = [];
-   function $() {
-     if (w) throw H || Error(`LSP server ${A} failed to start`);
-   }
-   return {
-     get capabilities() {
-       return Y;
-     },
-     get isInitialized() {
-       return z;
-     },
-     async start(_, G, Z) {
-       try {
-         if (
-           ((K = jbY(_, G, {
-             stdio: ["pipe", "pipe", "pipe"],
-             env: Z?.env ? { ...globalThis.process.env, ...Z.env } : void 0,
-             cwd: Z?.cwd,
-           })),
-           !K.stdout || !K.stdin)
-         )
-           throw Error("LSP server process stdio not available");
-         let W = K;
-         if (
-           (await new Promise((M, P) => {
-             let f = () => {
-                 (T(), M());
-               },
-               N = (C) => {
-                 (T(), P(C));
-               },
-               T = () => {
-                 (W.removeListener("spawn", f), W.removeListener("error", N));
-               };
-             (W.once("spawn", f), W.once("error", N));
-           }),
-           K.stderr)
-         )
-           K.stderr.on("data", (M) => {
-             let P = M.toString().trim();
-             if (P) h(`[LSP SERVER ${A}] ${P}`);
-           });
-         (K.on("error", (M) => {
-           if (!J)
-             ((w = !0),
-               (H = M),
-               KA(Error(`LSP server ${A} failed to start: ${M.message}`)));
-         }),
-           K.on("exit", (M, P) => {
-             if (M !== 0 && M !== null && !J)
-               ((z = !1),
-                 (w = !1),
-                 (H = void 0),
-                 KA(Error(`LSP server ${A} crashed with exit code ${M}`)));
-           }),
-           K.stdin.on("error", (M) => {
-             if (!J) h(`LSP server ${A} stdin error: ${M.message}`);
-           }));
-         let D = new qs.StreamMessageReader(K.stdout),
-           j = new qs.StreamMessageWriter(K.stdin);
-         ((q = qs.createMessageConnection(D, j)),
-           q.onError(([M, P, f]) => {
-             if (!J)
-               ((w = !0),
-                 (H = M),
-                 KA(Error(`LSP server ${A} connection error: ${M.message}`)));
-           }),
-           q.onClose(() => {
-             if (!J) ((z = !1), h(`LSP server ${A} connection closed`));
-           }),
-           q.listen(),
-           q
-             .trace(qs.Trace.Verbose, {
-               log: (M) => {
-                 h(`[LSP PROTOCOL ${A}] ${M}`);
-               },
-             })
-             .catch((M) => {
-               h(`Failed to enable tracing for ${A}: ${M.message}`);
-             }));
-         for (let { method: M, handler: P } of O)
-           (q.onNotification(M, P),
-             h(`Applied queued notification handler for ${A}.${M}`));
-         O.length = 0;
-         for (let { method: M, handler: P } of X)
-           (q.onRequest(M, P),
-             h(`Applied queued request handler for ${A}.${M}`));
-         ((X.length = 0), h(`LSP client started for ${A}`));
-       } catch (W) {
-         throw (KA(Error(`LSP server ${A} failed to start: ${W.message}`)), W);
-       }
-     },
-     async initialize(_) {
-       if (!q) throw Error("LSP client not started");
-       $();
-       try {
-         let G = await q.sendRequest("initialize", _);
-         return (
-           (Y = G.capabilities),
-           await q.sendNotification("initialized", {}),
-           (z = !0),
-           h(`LSP server ${A} initialized`),
-           G
-         );
-       } catch (G) {
-         throw (KA(Error(`LSP server ${A} initialize failed: ${G.message}`)), G);
-       }
-     },
-     async sendRequest(_, G) {
-       if (!q) throw Error("LSP client not started");
-       if (($(), !z)) throw Error("LSP server not initialized");
-       try {
-         return await q.sendRequest(_, G);
-       } catch (Z) {
-         throw (
-           KA(Error(`LSP server ${A} request ${_} failed: ${Z.message}`)),
-           Z
-         );
-       }
-     },
-     async sendNotification(_, G) {
-       if (!q) throw Error("LSP client not started");
-       $();
-       try {
-         await q.sendNotification(_, G);
-       } catch (Z) {
-         (KA(Error(`LSP server ${A} notification ${_} failed: ${Z.message}`)),
-           h(`Notification ${_} failed but continuing`));
-       }
-     },
-     onNotification(_, G) {
-       if (!q) {
-         (O.push({ method: _, handler: G }),
-           h(
-             `Queued notification handler for ${A}.${_} (connection not ready)`,
-           ));
-         return;
-       }
-       ($(), q.onNotification(_, G));
-     },
-     onRequest(_, G) {
-       if (!q) {
-         (X.push({ method: _, handler: G }),
-           h(`Queued request handler for ${A}.${_} (connection not ready)`));
-         return;
-       }
-       ($(), q.onRequest(_, G));
-     },
-     async stop() {
-       let _;
-       J = !0;
-       try {
-         if (q)
-           (await q.sendRequest("shutdown", null),
-             await q.sendNotification("exit", null));
-       } catch (G) {
-         let Z = G;
-         (KA(Error(`LSP server ${A} stop failed: ${Z.message}`)), (_ = Z));
-       } finally {
-         if (q) {
-           try {
-             q.dispose();
-           } catch (G) {
-             h(`Connection disposal failed for ${A}: ${G.message}`);
-           }
-           q = void 0;
-         }
-         if (K) {
-           if (
-             (K.removeAllListeners("error"),
-             K.removeAllListeners("exit"),
-             K.stdin)
-           )
-             K.stdin.removeAllListeners("error");
-           if (K.stderr) K.stderr.removeAllListeners("data");
-           try {
-             K.kill();
-           } catch (G) {
-             h(
-               `Process kill failed for ${A} (may already be dead): ${G.message}`,
-             );
-           }
-           K = void 0;
-         }
-         if (((z = !1), (Y = void 0), (J = !1), _)) ((w = !0), (H = _));
-         h(`LSP client stopped for ${A}`);
-       }
-       if (_) throw _;
-     },
-   };
- }

--- Removed RN7 (pretty-v2.1.26.js:323503-323695)
- function RN7() {
-   let A = new Map(),
-     K = new Map(),
-     q = new Map();
-   async function Y() {
-     let W;
-     try {
-       ((W = (await CN7()).servers),
-         h(
-           `[LSP SERVER MANAGER] getAllLspServers returned ${Object.keys(W).length} server(s)`,
-         ));
-     } catch (D) {
-       throw (
-         KA(Error(`Failed to load LSP server configuration: ${D.message}`)),
-         D
-       );
-     }
-     for (let [D, j] of Object.entries(W))
-       try {
-         if (!j.command)
-           throw Error(`Server ${D} missing required 'command' field`);
-         if (
-           !j.extensionToLanguage ||
-           Object.keys(j.extensionToLanguage).length === 0
-         )
-           throw Error(
-             `Server ${D} missing required 'extensionToLanguage' field`,
-           );
-         let M = Object.keys(j.extensionToLanguage);
-         for (let f of M) {
-           let N = f.toLowerCase();
-           if (!K.has(N)) K.set(N, []);
-           let T = K.get(N);
-           if (T) T.push(D);
-         }
-         let P = NN7(D, j);
-         (A.set(D, P),
-           P.onRequest("workspace/configuration", (f) => {
-             return (
-               h(`LSP: Received workspace/configuration request from ${D}`),
-               f.items.map(() => null)
-             );
-           }),
-           P.start().catch((f) => {
-             KA(Error(`Failed to start LSP server ${D}: ${f.message}`));
-           }));
-       } catch (M) {
-         KA(Error(`Failed to initialize LSP server ${D}: ${M.message}`));
-       }
-     h(`LSP manager initialized with ${A.size} servers`);
-   }
-   async function z() {
-     let W = [];
-     for (let [D, j] of A.entries())
-       if (j.state === "running")
-         try {
-           await j.stop();
-         } catch (M) {
-           let P = M;
-           (KA(Error(`Failed to stop LSP server ${D}: ${P.message}`)),
-             W.push(P));
-         }
-     if ((A.clear(), K.clear(), q.clear(), W.length > 0)) {
-       let D = Error(
-         `Failed to stop ${W.length} LSP server(s): ${W.map((j) => j.message).join("; ")}`,
-       );
-       throw (KA(D), D);
-     }
-   }
-   function w(W) {
-     let D = Ip.extname(W).toLowerCase(),
-       j = K.get(D);
-     if (!j || j.length === 0) return;
-     let M = j[0];
-     if (!M) return;
-     return A.get(M);
-   }
-   async function H(W) {
-     let D = w(W);
-     if (!D) return;
-     if (D.state === "stopped")
-       try {
-         await D.start();
-       } catch (j) {
-         throw (
-           KA(Error(`Failed to start LSP server for file ${W}: ${j.message}`)),
-           j
-         );
-       }
-     return D;
-   }
-   async function J(W, D, j) {
-     let M = await H(W);
-     if (!M) return;
-     try {
-       return await M.sendRequest(D, j);
-     } catch (P) {
-       throw (
-         KA(
-           Error(
-             `LSP request failed for file ${W}, method '${D}': ${P.message}`,
-           ),
-         ),
-         P
-       );
-     }
-   }
-   function O() {
-     return A;
-   }
-   async function X(W, D) {
-     let j = await H(W);
-     if (!j) return;
-     let M = `file://${Ip.resolve(W)}`;
-     if (q.get(M) === j.name) {
-       h(`LSP: File already open, skipping didOpen for ${W}`);
-       return;
-     }
-     let P = Ip.extname(W).toLowerCase(),
-       f = j.config.extensionToLanguage[P] || "plaintext";
-     try {
-       (await j.sendNotification("textDocument/didOpen", {
-         textDocument: { uri: M, languageId: f, version: 1, text: D },
-       }),
-         q.set(M, j.name),
-         h(`LSP: Sent didOpen for ${W} (languageId: ${f})`));
-     } catch (N) {
-       let T = Error(`Failed to sync file open ${W}: ${N.message}`);
-       throw (KA(T), T);
-     }
-   }
-   async function $(W, D) {
-     let j = w(W);
-     if (!j || j.state !== "running") return X(W, D);
-     let M = `file://${Ip.resolve(W)}`;
-     if (q.get(M) !== j.name) return X(W, D);
-     try {
-       (await j.sendNotification("textDocument/didChange", {
-         textDocument: { uri: M, version: 1 },
-         contentChanges: [{ text: D }],
-       }),
-         h(`LSP: Sent didChange for ${W}`));
-     } catch (P) {
-       let f = Error(`Failed to sync file change ${W}: ${P.message}`);
-       throw (KA(f), f);
-     }
-   }
-   async function _(W) {
-     let D = w(W);
-     if (!D || D.state !== "running") return;
-     try {
-       (await D.sendNotification("textDocument/didSave", {
-         textDocument: { uri: `file://${Ip.resolve(W)}` },
-       }),
-         h(`LSP: Sent didSave for ${W}`));
-     } catch (j) {
-       let M = Error(`Failed to sync file save ${W}: ${j.message}`);
-       throw (KA(M), M);
-     }
-   }
-   async function G(W) {
-     let D = w(W);
-     if (!D || D.state !== "running") return;
-     let j = `file://${Ip.resolve(W)}`;
-     try {
-       (await D.sendNotification("textDocument/didClose", {
-         textDocument: { uri: j },
-       }),
-         q.delete(j),
-         h(`LSP: Sent didClose for ${W}`));
-     } catch (M) {
-       let P = Error(`Failed to sync file close ${W}: ${M.message}`);
-       throw (KA(P), P);
-     }
-   }
-   function Z(W) {
-     let D = `file://${Ip.resolve(W)}`;
-     return q.has(D);
-   }
-   return {
-     initialize: Y,
-     shutdown: z,
-     getServerForFile: w,
-     ensureServerStarted: H,
-     sendRequest: J,
-     getAllServers: O,
-     openFile: X,
-     changeFile: $,
-     saveFile: _,
-     closeFile: G,
-     isFileOpen: Z,
-   };
- }

--- Removed BN7 (pretty-v2.1.26.js:323897-324013)
- function BN7(A) {
-   let K = A.getAllServers(),
-     q = [],
-     Y = 0,
-     z = new Map();
-   for (let [H, J] of K.entries())
-     try {
-       if (!J || typeof J.onNotification !== "function") {
-         let O = !J
-           ? "Server instance is null/undefined"
-           : "Server instance has no onNotification method";
-         q.push({ serverName: H, error: O });
-         let X = Error(`${O} for ${H}`);
-         (KA(X), h(`Skipping handler registration for ${H}: ${O}`));
-         continue;
-       }
-       (J.onNotification("textDocument/publishDiagnostics", async (O) => {
-         h(
-           `[PASSIVE DIAGNOSTICS] Handler invoked for ${H}! Params type: ${typeof O}`,
-         );
-         try {
-           if (
-             !O ||
-             typeof O !== "object" ||
-             !("uri" in O) ||
-             !("diagnostics" in O)
-           ) {
-             let G = Error(
-               `LSP server ${H} sent invalid diagnostic params (missing uri or diagnostics)`,
-             );
-             (KA(G), h(`Invalid diagnostic params from ${H}: ${FA(O)}`));
-             return;
-           }
-           let X = O;
-           h(
-             `Received diagnostics from ${H}: ${X.diagnostics.length} diagnostic(s) for ${X.uri}`,
-           );
-           let $ = hbY(X),
-             _ = $[0];
-           if (!_ || $.length === 0 || _.diagnostics.length === 0) {
-             h(`Skipping empty diagnostics from ${H} for ${X.uri}`);
-             return;
-           }
-           try {
-             (hN7({ serverName: H, files: $ }),
-               h(
-                 `LSP Diagnostics: Registered ${$.length} diagnostic file(s) from ${H} for async delivery`,
-               ),
-               z.delete(H));
-           } catch (G) {
-             let Z =
-               G instanceof Error
-                 ? G
-                 : Error(`Failed to register LSP diagnostics: ${String(G)}`);
-             (KA(Z),
-               h(
-                 `Error registering LSP diagnostics from ${H}: URI: ${X.uri}, Diagnostic count: ${_.diagnostics.length}, Error: ${Z.message}`,
-               ));
-             let W = z.get(H) || { count: 0, lastError: "" };
-             if (
-               (W.count++, (W.lastError = Z.message), z.set(H, W), W.count >= 3)
-             )
-               h(
-                 `WARNING: LSP diagnostic handler for ${H} has failed ${W.count} times consecutively. Last error: ${W.lastError}. This may indicate a problem with the LSP server or diagnostic processing. Check logs for details.`,
-               );
-           }
-         } catch (X) {
-           let $ =
-             X instanceof Error
-               ? X
-               : Error(`Unexpected error in diagnostic handler: ${String(X)}`);
-           (KA($),
-             h(
-               `Unexpected error processing diagnostics from ${H}: ${$.message}`,
-             ));
-           let _ = z.get(H) || { count: 0, lastError: "" };
-           if ((_.count++, (_.lastError = $.message), z.set(H, _), _.count >= 3))
-             h(
-               `WARNING: LSP diagnostic handler for ${H} has failed ${_.count} times consecutively. Last error: ${_.lastError}. This may indicate a problem with the LSP server or diagnostic processing. Check logs for details.`,
-             );
-         }
-       }),
-         h(`Registered diagnostics handler for ${H}`),
-         Y++);
-     } catch (O) {
-       let X =
-         O instanceof Error
-           ? O
-           : Error(`Handler registration failed: ${String(O)}`);
-       (q.push({ serverName: H, error: X.message }),
-         KA(X),
-         h(
-           `Failed to register diagnostics handler for ${H}: Error: ${X.message}`,
-         ));
-     }
-   let w = K.size;
-   if (q.length > 0) {
-     let H = q.map((J) => `${J.serverName} (${J.error})`).join(", ");
-     (KA(
-       Error(
-         `Failed to register diagnostics for ${q.length} LSP server(s): ${H}`,
-       ),
-     ),
-       h(
-         `LSP notification handler registration: ${Y}/${w} succeeded. Failed servers: ${H}. Diagnostics from failed servers will not be delivered.`,
-       ));
-   } else
-     h(
-       `LSP notification handlers registered successfully for all ${w} server(s)`,
-     );
-   return {
-     totalServers: w,
-     successCount: Y,
-     registrationErrors: q,
-     diagnosticFailures: z,
-   };
- }

--- Removed WlY (pretty-v2.1.26.js:341075-341096)
- function WlY() {
-   let A = new zr();
-   A.setMaxListeners(100);
-   let K = null,
-     q = !0;
-   return {
-     subscribe(Y) {
-       if ((A.on("blink", Y), A.listenerCount("blink") === 1))
-         K = setInterval(() => {
-           ((q = !q), A.emit("blink"));
-         }, 600);
-       return q;
-     },
-     unsubscribe(Y) {
-       if ((A.off("blink", Y), A.listenerCount("blink") === 0 && K))
-         (clearInterval(K), (K = null));
-     },
-     getCurrentState() {
-       return q;
-     },
-   };
- }

--- Removed UR7 (pretty-v2.1.26.js:341097-341115)
- function UR7(A) {
-   let K = QR7(),
-     [q, Y] = vZ1.useState(K.getCurrentState());
-   return (
-     vZ1.useEffect(() => {
-       if (!A) return;
-       let z = QR7(),
-         w = () => Y(z.getCurrentState()),
-         H = z.subscribe(w);
-       return (
-         Y(H),
-         () => {
-           z.unsubscribe(w);
-         }
-       );
-     }, [A]),
-     A ? q : !0
-   );
- }

--- Removed Yj (pretty-v2.1.26.js:341529-341540)
- async function Yj(A) {
-   let K = o6(),
-     q = flY[K];
-   for (let Y of q)
-     try {
-       return (await qY(Y, { input: A, shell: !0, reject: !0 }), !0);
-     } catch (z) {
-       KA(Error(`Failed to execute clipboard command "${Y}": ${z}`));
-       continue;
-     }
-   return (KA(Error(`Failed to copy to clipboard on ${K}`)), !1);
- }

--- Removed WC6 (pretty-v2.1.26.js:385874-385892)
- function WC6(A) {
-   let K = s(7),
-     { char: q, flashOpacity: Y } = A,
-     z,
-     w;
-   if (K[0] !== Y) {
-     let X = wd({ r: 215, g: 119, b: 87 }, { r: 245, g: 149, b: 117 }, Y);
-     ((z = V), (w = Ot(X)), (K[0] = Y), (K[1] = z), (K[2] = w));
-   } else ((z = K[1]), (w = K[2]));
-   let H;
-   if (K[3] !== z || K[4] !== q || K[5] !== w)
-     ((H = ZC6.createElement(z, { color: w }, q)),
-       (K[3] = z),
-       (K[4] = q),
-       (K[5] = w),
-       (K[6] = H));
-   else H = K[6];
-   return H;
- }

--- Removed VC6 (pretty-v2.1.26.js:386145-386158)
- function VC6(A) {
-   let [K, q] = $r7.useState(0);
-   return (
-     r9(() => {
-       if (A === "tool-use")
-         q(() => {
-           let Y = Date.now() / 1000;
-           return (Math.sin(Y * Math.PI) + 1) / 2;
-         });
-       else q(0);
-     }, 50),
-     K
-   );
- }

--- Removed Qz2 (pretty-v2.1.26.js:386541-386543)
- function Qz2(A) {
-   return (A + 1) % Pr7.length;
- }

--- Removed QO2 (pretty-v2.1.26.js:404420-404429)
- function QO2(A) {
-   return A.map((K) => {
-     let q = K.color ? ` color="${K.color}"` : "";
-     return `<${u0} teammate_id="${K.from}"${q}>
- ${K.text}
- </${u0}>`;
-   }).join(`
- 
- `);
- }

--- Removed BAK (pretty-v2.1.26.js:406265-406790)
- function BAK(A) {
-   let K = s(114),
-     { attachment: q, addMargin: Y, verbose: z } = A;
-   if (x8() && q.type === "teammate_mailbox") return null;
-   switch (q.type) {
-     case "directory": {
-       let w;
-       if (K[0] !== q.path)
-         ((w = $3A(x1(), q.path)), (K[0] = q.path), (K[1] = w));
-       else w = K[1];
-       let H = w + X02,
-         J;
-       if (K[2] !== H)
-         ((J = lq.default.createElement(
-           D_,
-           null,
-           "Listed directory",
-           " ",
-           lq.default.createElement(V, { bold: !0 }, H),
-         )),
-           (K[2] = H),
-           (K[3] = J));
-       else J = K[3];
-       return J;
-     }
-     case "file":
-     case "already_read_file": {
-       if (q.content.type === "notebook") {
-         let X;
-         if (K[4] !== q.filename)
-           ((X = $3A(x1(), q.filename)), (K[4] = q.filename), (K[5] = X));
-         else X = K[5];
-         let $;
-         if (K[6] !== X)
-           (($ = lq.default.createElement(V, { bold: !0 }, X)),
-             (K[6] = X),
-             (K[7] = $));
-         else $ = K[7];
-         let _;
-         if (K[8] !== q.content.file.cells.length || K[9] !== $)
-           ((_ = lq.default.createElement(
-             D_,
-             null,
-             "Read ",
-             $,
-             " (",
-             q.content.file.cells.length,
-             " cells)",
-           )),
-             (K[8] = q.content.file.cells.length),
-             (K[9] = $),
-             (K[10] = _));
-         else _ = K[10];
-         return _;
-       }
-       let w;
-       if (K[11] !== q.filename)
-         ((w = $3A(x1(), q.filename)), (K[11] = q.filename), (K[12] = w));
-       else w = K[12];
-       let H;
-       if (K[13] !== w)
-         ((H = lq.default.createElement(V, { bold: !0 }, w)),
-           (K[13] = w),
-           (K[14] = H));
-       else H = K[14];
-       let J;
-       if (
-         K[15] !== q.content.file.numLines ||
-         K[16] !== q.content.file.originalSize ||
-         K[17] !== q.content.type ||
-         K[18] !== q.truncated
-       )
-         ((J =
-           q.content.type === "text"
-             ? `${q.content.file.numLines}${q.truncated ? "+" : ""} lines`
-             : Q0(q.content.file.originalSize)),
-           (K[15] = q.content.file.numLines),
-           (K[16] = q.content.file.originalSize),
-           (K[17] = q.content.type),
-           (K[18] = q.truncated),
-           (K[19] = J));
-       else J = K[19];
-       let O;
-       if (K[20] !== H || K[21] !== J)
-         ((O = lq.default.createElement(D_, null, "Read ", H, " (", J, ")")),
-           (K[20] = H),
-           (K[21] = J),
-           (K[22] = O));
-       else O = K[22];
-       return O;
-     }
-     case "compact_file_reference": {
-       let w;
-       if (K[23] !== q.filename)
-         ((w = $3A(x1(), q.filename)), (K[23] = q.filename), (K[24] = w));
-       else w = K[24];
-       let H;
-       if (K[25] !== w)
-         ((H = lq.default.createElement(
-           D_,
-           null,
-           "Referenced file",
-           " ",
-           lq.default.createElement(V, { bold: !0 }, w),
-         )),
-           (K[25] = w),
-           (K[26] = H));
-       else H = K[26];
-       return H;
-     }
-     case "selected_lines_in_ide": {
-       let w = q.lineEnd - q.lineStart + 1,
-         H;
-       if (K[27] !== w)
-         ((H = lq.default.createElement(V, { bold: !0 }, w)),
-           (K[27] = w),
-           (K[28] = H));
-       else H = K[28];
-       let J;
-       if (K[29] !== q.filename)
-         ((J = $3A(x1(), q.filename)), (K[29] = q.filename), (K[30] = J));
-       else J = K[30];
-       let O;
-       if (K[31] !== J)
-         ((O = lq.default.createElement(V, { bold: !0 }, J)),
-           (K[31] = J),
-           (K[32] = O));
-       else O = K[32];
-       let X;
-       if (K[33] !== q.ideName || K[34] !== H || K[35] !== O)
-         ((X = lq.default.createElement(
-           D_,
-           null,
-           " Selected",
-           " ",
-           H,
-           " ",
-           "lines from ",
-           O,
-           " ",
-           "in ",
-           q.ideName,
-         )),
-           (K[33] = q.ideName),
-           (K[34] = H),
-           (K[35] = O),
-           (K[36] = X));
-       else X = K[36];
-       return X;
-     }
-     case "nested_memory": {
-       let w;
-       if (K[37] !== q.path)
-         ((w = $3A(x1(), q.path)), (K[37] = q.path), (K[38] = w));
-       else w = K[38];
-       let H;
-       if (K[39] !== w)
-         ((H = lq.default.createElement(
-           D_,
-           null,
-           "Loaded ",
-           lq.default.createElement(V, { bold: !0 }, w),
-         )),
-           (K[39] = w),
-           (K[40] = H));
-       else H = K[40];
-       return H;
-     }
-     case "dynamic_skill": {
-       let w;
-       if (K[41] !== q.skillDir)
-         ((w = $3A(x1(), q.skillDir)), (K[41] = q.skillDir), (K[42] = w));
-       else w = K[42];
-       let H = w,
-         J = q.skillNames.length,
-         O = J !== 1 ? "s" : "",
-         X;
-       if (K[43] !== J || K[44] !== O)
-         ((X = lq.default.createElement(V, { bold: !0 }, J, " skill", O)),
-           (K[43] = J),
-           (K[44] = O),
-           (K[45] = X));
-       else X = K[45];
-       let $;
-       if (K[46] !== H)
-         (($ = lq.default.createElement(V, { bold: !0 }, H)),
-           (K[46] = H),
-           (K[47] = $));
-       else $ = K[47];
-       let _;
-       if (K[48] !== X || K[49] !== $)
-         ((_ = lq.default.createElement(
-           D_,
-           null,
-           "Loaded",
-           " ",
-           X,
-           " ",
-           "from ",
-           $,
-         )),
-           (K[48] = X),
-           (K[49] = $),
-           (K[50] = _));
-       else _ = K[50];
-       return _;
-     }
-     case "skill_listing": {
-       if (q.isInitial) return null;
-       let w;
-       if (K[51] !== q.skillCount)
-         ((w = lq.default.createElement(V, { bold: !0 }, q.skillCount)),
-           (K[51] = q.skillCount),
-           (K[52] = w));
-       else w = K[52];
-       let H = q.skillCount !== 1 ? "s" : "",
-         J;
-       if (K[53] !== w || K[54] !== H)
-         ((J = lq.default.createElement(D_, null, w, " skill", H, " available")),
-           (K[53] = w),
-           (K[54] = H),
-           (K[55] = J));
-       else J = K[55];
-       return J;
-     }
-     case "queued_command": {
-       let w;
-       if (K[56] !== q.prompt)
-         ((w = typeof q.prompt === "string" ? q.prompt : _3A(q.prompt) || ""),
-           (K[56] = q.prompt),
-           (K[57] = w));
-       else w = K[57];
-       let H = w,
-         J = q.imagePasteIds && q.imagePasteIds.length > 0,
-         O;
-       if (K[58] !== H)
-         ((O = { text: H, type: "text" }), (K[58] = H), (K[59] = O));
-       else O = K[59];
-       let X;
-       if (K[60] !== Y || K[61] !== O || K[62] !== z)
-         ((X = lq.default.createElement(O3A, {
-           addMargin: Y,
-           param: O,
-           verbose: z,
-         })),
-           (K[60] = Y),
-           (K[61] = O),
-           (K[62] = z),
-           (K[63] = X));
-       else X = K[63];
-       let $;
-       if (K[64] !== q.imagePasteIds || K[65] !== J)
-         (($ = J && q.imagePasteIds?.map(_02)),
-           (K[64] = q.imagePasteIds),
-           (K[65] = J),
-           (K[66] = $));
-       else $ = K[66];
-       let _;
-       if (K[67] !== X || K[68] !== $)
-         ((_ = lq.default.createElement(S, { flexDirection: "column" }, X, $)),
-           (K[67] = X),
-           (K[68] = $),
-           (K[69] = _));
-       else _ = K[69];
-       return _;
-     }
-     case "todo": {
-       if (q.context === "post-compact") {
-         let w = q.itemCount === 1 ? "item" : "items",
-           H;
-         if (K[70] !== q.itemCount || K[71] !== w)
-           ((H = lq.default.createElement(
-             D_,
-             null,
-             "Todo list read (",
-             q.itemCount,
-             " ",
-             w,
-             ")",
-           )),
-             (K[70] = q.itemCount),
-             (K[71] = w),
-             (K[72] = H));
-         else H = K[72];
-         return H;
-       }
-       return null;
-     }
-     case "plan_file_reference": {
-       let w;
-       if (K[73] !== q.planFilePath)
-         ((w = _q(q.planFilePath)), (K[73] = q.planFilePath), (K[74] = w));
-       else w = K[74];
-       let H;
-       if (K[75] !== w)
-         ((H = lq.default.createElement(
-           D_,
-           null,
-           "Plan file referenced (",
-           w,
-           ")",
-         )),
-           (K[75] = w),
-           (K[76] = H));
-       else H = K[76];
-       return H;
-     }
-     case "invoked_skills": {
-       if (q.skills.length === 0) return null;
-       let w;
-       if (K[77] !== q.skills)
-         ((w = q.skills.map($02).join(", ")), (K[77] = q.skills), (K[78] = w));
-       else w = K[78];
-       let H = w,
-         J;
-       if (K[79] !== H)
-         ((J = lq.default.createElement(D_, null, "Skills restored (", H, ")")),
-           (K[79] = H),
-           (K[80] = J));
-       else J = K[80];
-       return J;
-     }
-     case "diagnostics": {
-       let w;
-       if (K[81] !== q || K[82] !== z)
-         ((w = lq.default.createElement(xAK, { attachment: q, verbose: z })),
-           (K[81] = q),
-           (K[82] = z),
-           (K[83] = w));
-       else w = K[83];
-       return w;
-     }
-     case "mcp_resource": {
-       let w;
-       if (K[84] !== q.name)
-         ((w = lq.default.createElement(V, { bold: !0 }, q.name)),
-           (K[84] = q.name),
-           (K[85] = w));
-       else w = K[85];
-       let H;
-       if (K[86] !== q.server || K[87] !== w)
-         ((H = lq.default.createElement(
-           D_,
-           null,
-           "Read MCP resource ",
-           w,
-           " from",
-           " ",
-           q.server,
-         )),
-           (K[86] = q.server),
-           (K[87] = w),
-           (K[88] = H));
-       else H = K[88];
-       return H;
-     }
-     case "command_permissions":
-       return null;
-     case "async_hook_response": {
-       if (q.hookEvent === "SessionStart" && !z) return null;
-       let w;
-       if (K[89] !== q.hookEvent)
-         ((w = lq.default.createElement(
-           D_,
-           null,
-           "Async hook ",
-           lq.default.createElement(V, { bold: !0 }, q.hookEvent),
-           " completed",
-         )),
-           (K[89] = q.hookEvent),
-           (K[90] = w));
-       else w = K[90];
-       return w;
-     }
-     case "hook_blocking_error": {
-       if (q.hookEvent === "Stop" || q.hookEvent === "SubagentStop") return null;
-       let w;
-       if (K[91] !== q.hookName)
-         ((w = lq.default.createElement(
-           D_,
-           { color: "error" },
-           q.hookName,
-           " hook returned blocking error",
-         )),
-           (K[91] = q.hookName),
-           (K[92] = w));
-       else w = K[92];
-       return w;
-     }
-     case "hook_non_blocking_error": {
-       if (q.hookEvent === "Stop" || q.hookEvent === "SubagentStop") return null;
-       let w;
-       if (K[93] !== q.hookName)
-         ((w = lq.default.createElement(
-           D_,
-           { color: "error" },
-           q.hookName,
-           " hook error",
-         )),
-           (K[93] = q.hookName),
-           (K[94] = w));
-       else w = K[94];
-       return w;
-     }
-     case "hook_error_during_execution": {
-       if (q.hookEvent === "Stop" || q.hookEvent === "SubagentStop") return null;
-       let w;
-       if (K[95] !== q.hookName)
-         ((w = lq.default.createElement(D_, null, q.hookName, " hook warning")),
-           (K[95] = q.hookName),
-           (K[96] = w));
-       else w = K[96];
-       return w;
-     }
-     case "hook_success":
-       return null;
-     case "hook_stopped_continuation": {
-       if (q.hookEvent === "Stop" || q.hookEvent === "SubagentStop") return null;
-       let w;
-       if (K[97] !== q.hookName || K[98] !== q.message)
-         ((w = lq.default.createElement(
-           D_,
-           { color: "warning" },
-           q.hookName,
-           " hook stopped continuation: ",
-           q.message,
-         )),
-           (K[97] = q.hookName),
-           (K[98] = q.message),
-           (K[99] = w));
-       else w = K[99];
-       return w;
-     }
-     case "hook_system_message": {
-       let w;
-       if (K[100] !== q.content || K[101] !== q.hookName)
-         ((w = lq.default.createElement(
-           D_,
-           null,
-           q.hookName,
-           " says: ",
-           q.content,
-         )),
-           (K[100] = q.content),
-           (K[101] = q.hookName),
-           (K[102] = w));
-       else w = K[102];
-       return w;
-     }
-     case "hook_permission_decision": {
-       let w = q.decision === "allow" ? "Allowed" : "Denied",
-         H;
-       if (K[103] !== q.hookEvent)
-         ((H = lq.default.createElement(V, { bold: !0 }, q.hookEvent)),
-           (K[103] = q.hookEvent),
-           (K[104] = H));
-       else H = K[104];
-       let J;
-       if (K[105] !== w || K[106] !== H)
-         ((J = lq.default.createElement(D_, null, w, " by ", H, " hook")),
-           (K[105] = w),
-           (K[106] = H),
-           (K[107] = J));
-       else J = K[107];
-       return J;
-     }
-     case "task_status": {
-       if (x8() && q.taskType === "in_process_teammate") return null;
-       let w = q.status === "completed" ? "completed in background" : q.status,
-         H;
-       if (K[108] === Symbol.for("react.memo_cache_sentinel"))
-         ((H = lq.default.createElement(V, { dimColor: !0 }, hY, " ")),
-           (K[108] = H));
-       else H = K[108];
-       let J;
-       if (K[109] !== q.description)
-         ((J = lq.default.createElement(V, { bold: !0 }, q.description)),
-           (K[109] = q.description),
-           (K[110] = J));
-       else J = K[110];
-       let O;
-       if (K[111] !== w || K[112] !== J)
-         ((O = lq.default.createElement(
-           S,
-           { flexDirection: "row", width: "100%", marginTop: 1 },
-           H,
-           lq.default.createElement(
-             V,
-             { dimColor: !0 },
-             'Task "',
-             J,
-             '"',
-             " ",
-             w,
-           ),
-         )),
-           (K[111] = w),
-           (K[112] = J),
-           (K[113] = O));
-       else O = K[113];
-       return O;
-     }
-     case "task_progress":
-       return null;
-     case "agent_mention":
-     case "budget_usd":
-     case "critical_system_reminder":
-     case "delegate_mode":
-     case "delegate_mode_exit":
-     case "edited_image_file":
-     case "edited_text_file":
-     case "hook_additional_context":
-     case "hook_cancelled":
-     case "opened_file_in_ide":
-     case "output_style":
-     case "plan_mode":
-     case "plan_mode_exit":
-     case "plan_mode_reentry":
-     case "structured_output":
-     case "team_context":
-     case "todo_reminder":
-     case "ultramemory":
-     case "token_usage":
-       return null;
-   }
- }

--- Removed _02 (pretty-v2.1.26.js:406794-406796)
- function _02(A) {
-   return lq.default.createElement(wM1, { key: A, imageId: A });
- }

--- Removed t02 (pretty-v2.1.26.js:410924-410926)
- function t02(A) {
-   return "success" in A && "message" in A && !("lead_agent_id" in A);
- }

--- Removed tM1 (pretty-v2.1.26.js:419927-419931)
- function tM1(A) {
-   V_2(A).catch((K) => {
-     h(`[inProcessRunner] Unhandled error in ${A.identity.agentId}: ${K}`);
-   });
- }

--- Removed D8K (pretty-v2.1.26.js:420203-420209)
- function D8K() {
-   if (ajA)
-     ((It = ajA), h(`[TeammateModeSnapshot] Captured from CLI override: ${It}`));
-   else
-     ((It = M1().teammateMode ?? "auto"),
-       h(`[TeammateModeSnapshot] Captured from config: ${It}`));
- }

--- Removed X3K (pretty-v2.1.26.js:443472-443625)
- var X3K = E(() => {
-   ((TM2 = `Use this tool proactively when you're about to start a non-trivial implementation task. Getting user sign-off on your approach before writing code prevents wasted effort and ensures alignment. This tool transitions you into plan mode where you can explore the codebase and design an implementation approach for user approval.
- 
- ## When to Use This Tool
- 
- **Prefer using EnterPlanMode** for implementation tasks unless they're simple. Use it when ANY of these conditions apply:
- 
- 1. **New Feature Implementation**: Adding meaningful new functionality
-    - Example: "Add a logout button" - where should it go? What should happen on click?
-    - Example: "Add form validation" - what rules? What error messages?
- 
- 2. **Multiple Valid Approaches**: The task can be solved in several different ways
-    - Example: "Add caching to the API" - could use Redis, in-memory, file-based, etc.
-    - Example: "Improve performance" - many optimization strategies possible
- 
- 3. **Code Modifications**: Changes that affect existing behavior or structure
-    - Example: "Update the login flow" - what exactly should change?
-    - Example: "Refactor this component" - what's the target architecture?
- 
- 4. **Architectural Decisions**: The task requires choosing between patterns or technologies
-    - Example: "Add real-time updates" - WebSockets vs SSE vs polling
-    - Example: "Implement state management" - Redux vs Context vs custom solution
- 
- 5. **Multi-File Changes**: The task will likely touch more than 2-3 files
-    - Example: "Refactor the authentication system"
-    - Example: "Add a new API endpoint with tests"
- 
- 6. **Unclear Requirements**: You need to explore before understanding the full scope
-    - Example: "Make the app faster" - need to profile and identify bottlenecks
-    - Example: "Fix the bug in checkout" - need to investigate root cause
- 
- 7. **User Preferences Matter**: The implementation could reasonably go multiple ways
-    - If you would use ${IJ} to clarify the approach, use EnterPlanMode instead
-    - Plan mode lets you explore first, then present options with context
- 
- ## When NOT to Use This Tool
- 
- Only skip EnterPlanMode for simple tasks:
- - Single-line or few-line fixes (typos, obvious bugs, small tweaks)
- - Adding a single function with clear requirements
- - Tasks where the user has given very specific, detailed instructions
- - Pure research/exploration tasks (use the Task tool with explore agent instead)
- 
- ## What Happens in Plan Mode
- 
- In plan mode, you'll:
- 1. Thoroughly explore the codebase using Glob, Grep, and Read tools
- 2. Understand existing patterns and architecture
- 3. Design an implementation approach
- 4. Present your plan to the user for approval
- 5. Use ${IJ} if you need to clarify approaches
- 6. Exit plan mode with ExitPlanMode when ready to implement
- 
- ## Examples
- 
- ### GOOD - Use EnterPlanMode:
- User: "Add user authentication to the app"
- - Requires architectural decisions (session vs JWT, where to store tokens, middleware structure)
- 
- User: "Optimize the database queries"
- - Multiple approaches possible, need to profile first, significant impact
- 
- User: "Implement dark mode"
- - Architectural decision on theme system, affects many components
- 
- User: "Add a delete button to the user profile"
- - Seems simple but involves: where to place it, confirmation dialog, API call, error handling, state updates
- 
- User: "Update the error handling in the API"
- - Affects multiple files, user should approve the approach
- 
- ### BAD - Don't use EnterPlanMode:
- User: "Fix the typo in the README"
- - Straightforward, no planning needed
- 
- User: "Add a console.log to debug this function"
- - Simple, obvious implementation
- 
- User: "What files handle routing?"
- - Research task, not implementation planning
- 
- ## Important Notes
- 
- - This tool REQUIRES user approval - they must consent to entering plan mode
- - If unsure whether to use it, err on the side of planning - it's better to get alignment upfront than to redo work
- - Users appreciate being consulted before significant changes are made to their codebase
- `),
-     (WoH = `Use this tool when a task has genuine ambiguity about the right approach and getting user input before coding would prevent significant rework. This tool transitions you into plan mode where you can explore the codebase and design an implementation approach for user approval.
- 
- ## When to Use This Tool
- 
- Plan mode is valuable when the implementation approach is genuinely unclear. Use it when:
- 
- 1. **Significant Architectural Ambiguity**: Multiple reasonable approaches exist and the choice meaningfully affects the codebase
-    - Example: "Add caching to the API" - Redis vs in-memory vs file-based
-    - Example: "Add real-time updates" - WebSockets vs SSE vs polling
- 
- 2. **Unclear Requirements**: You need to explore and clarify before you can make progress
-    - Example: "Make the app faster" - need to profile and identify bottlenecks
-    - Example: "Refactor this module" - need to understand what the target architecture should be
- 
- 3. **High-Impact Restructuring**: The task will significantly restructure existing code and getting buy-in first reduces risk
-    - Example: "Redesign the authentication system"
-    - Example: "Migrate from one state management approach to another"
- 
- ## When NOT to Use This Tool
- 
- Skip plan mode when you can reasonably infer the right approach:
- - The task is straightforward even if it touches multiple files
- - The user's request is specific enough that the implementation path is clear
- - You're adding a feature with an obvious implementation pattern (e.g., adding a button, a new endpoint following existing conventions)
- - Bug fixes where the fix is clear once you understand the bug
- - Research/exploration tasks (use the Task tool with explore agent instead)
- - The user says something like "can we work on X" or "let's do X"  just get started
- 
- When in doubt, prefer starting work and using ${IJ} for specific questions over entering a full planning phase.
- 
- ## What Happens in Plan Mode
- 
- In plan mode, you'll:
- 1. Explore the codebase using Glob, Grep, and Read tools
- 2. Understand existing patterns and architecture
- 3. Design an implementation approach
- 4. Present your plan to the user for approval
- 5. Use ${IJ} if you need to clarify approaches
- 6. Exit plan mode with ExitPlanMode when ready to implement
- 
- ## Examples
- 
- ### GOOD - Use EnterPlanMode:
- User: "Add user authentication to the app"
- - Genuinely ambiguous: session vs JWT, where to store tokens, middleware structure
- 
- User: "Redesign the data pipeline"
- - Major restructuring where the wrong approach wastes significant effort
- 
- ### BAD - Don't use EnterPlanMode:
- User: "Add a delete button to the user profile"
- - Implementation path is clear; just do it
- 
- User: "Can we work on the search feature?"
- - User wants to get started, not plan
- 
- User: "Update the error handling in the API"
- - Start working; ask specific questions if needed
- 
- User: "Fix the typo in the README"
- - Straightforward, no planning needed
- 
- ## Important Notes
- 
- - This tool REQUIRES user approval - they must consent to entering plan mode
- `));
- });

--- Removed Bd (pretty-v2.1.26.js:458246-458271)
- var Bd = E(() => {
-   xO();
-   nj6();
-   n2K();
-   il();
-   C1();
-   l1();
-   ij6();
-   A8();
-   K6();
-   ZwA();
-   uq();
-   G1();
-   a2K();
-   e2K();
-   l7();
-   I4();
-   yH();
-   r$1();
-   Jz();
-   YzK();
-   i6();
-   tN2 =
-     o6() === "windows" && !process.env.SHELLOPTS ? { SHELLOPTS: "igncr" } : {};
-   yb6 = J6(KT2);
- });

--- Removed KZK (pretty-v2.1.26.js:499418-499429)
- function KZK(A, K) {
-   switch (A) {
-     case "npm":
-       return `npm update ${K}`;
-     case "yarn":
-       return `yarn upgrade ${K}`;
-     case "pnpm":
-       return `pnpm update ${K}`;
-     case "bun":
-       return `bun update ${K}`;
-   }
- }

--- Removed bQ2 (pretty-v2.1.26.js:520788-520837)
- function bQ2(A) {
-   let K = s(12),
-     { onDone: q } = A,
-     Y = p1(uQ2),
-     z = p1(xQ2),
-     w = F4(),
-     H;
-   if (K[0] !== Y || K[1] !== q)
-     ((H = function () {
-       n("tengu_model_command_menu", { action: "cancel" });
-       let G = Y ?? Fn().label;
-       q(`Kept model as ${O1.bold(G)}`, { display: "system" });
-     }),
-       (K[0] = Y),
-       (K[1] = q),
-       (K[2] = H));
-   else H = K[2];
-   let J = H,
-     O;
-   if (K[3] !== Y || K[4] !== q || K[5] !== w)
-     ((O = function (G, Z) {
-       (n("tengu_model_command_menu", { action: G, from_model: Y, to_model: G }),
-         w((D) => ({ ...D, mainLoopModel: G, mainLoopModelForSession: null })));
-       let W = `Set model to ${O1.bold(kk(G))}`;
-       if (Z !== void 0) W = W + ` with ${O1.bold(Z)} effort`;
-       q(W);
-     }),
-       (K[3] = Y),
-       (K[4] = q),
-       (K[5] = w),
-       (K[6] = O));
-   else O = K[6];
-   let X = O,
-     $;
-   if (K[7] !== J || K[8] !== X || K[9] !== Y || K[10] !== z)
-     (($ = Xh.createElement(GPA, {
-       initial: Y,
-       sessionModel: z,
-       onSelect: X,
-       onCancel: J,
-       isStandaloneCommand: !0,
-     })),
-       (K[7] = J),
-       (K[8] = X),
-       (K[9] = Y),
-       (K[10] = z),
-       (K[11] = $));
-   else $ = K[11];
-   return $;
- }

--- Removed Pp2 (pretty-v2.1.26.js:525079-525107)
- function Pp2(A, K) {
-   let q = A.has(N5)
-       ? `
- - When doing file search, prefer to use the ${N5} tool in order to reduce context usage.
- - You should proactively use the ${N5} tool with specialized agents when the task at hand matches the agent's description.${
-           K
-             ? `
- ${K}`
-             : ""
-         }`
-       : "",
-     Y = A.has(qO)
-       ? `
- - When ${qO} returns a message about a redirect to a different host, you should immediately make a new ${qO} request with the redirect URL provided in the response.`
-       : "";
-   return `# Tool usage policy${q}${Y}
- - You can call multiple tools in a single response. If you intend to call multiple tools and there are no dependencies between them, make all independent tool calls in parallel. Maximize use of parallel tool calls where possible to increase efficiency. However, if some tool calls depend on previous calls to inform dependent values, do NOT call these tools in parallel and instead call them sequentially. For instance, if one operation must complete before another starts, run these operations sequentially instead. Never use placeholders or guess missing parameters in tool calls.
- - If the user specifies that they want you to run tools "in parallel", you MUST send a single message with multiple tool use content blocks. For example, if you need to launch multiple agents in parallel, send a single message with multiple ${N5} tool calls.
- - Use specialized tools instead of bash commands when possible, as this provides a better user experience. For file operations, use dedicated tools: ${t5} for reading files instead of cat/head/tail, ${Dq} for editing instead of sed/awk, and ${I2} for creating files instead of cat with heredoc or echo redirection. Reserve bash tools exclusively for actual system commands and terminal operations that require shell execution. NEVER use bash echo or other command-line tools to communicate thoughts, explanations, or instructions to the user. Output all communication directly in your response text instead.
- - ${`VERY IMPORTANT: When exploring the codebase to gather context or to answer a question that is not a needle query for a specific file/class/function, it is CRITICAL that you use the ${N5} tool with subagent_type=${TC.agentType} instead of running search commands directly.`} 
- <example>
- user: Where are errors from the client handled?
- assistant: [Uses the ${N5} tool with subagent_type=${TC.agentType} to find the files that handle client errors instead of using ${IH} or ${mz} directly]
- </example>
- <example>
- user: What is the codebase structure?
- assistant: [Uses the ${N5} tool with subagent_type=${TC.agentType}]
- </example>`;
- }

--- Removed YfK (pretty-v2.1.26.js:529434-529438)
- function YfK() {
-   return Object.fromEntries(
-     [...xdA.entries()].filter(([A, K]) => typeof K === "boolean"),
-   );
- }

--- Removed xNK (pretty-v2.1.26.js:534373-534426)
- function xNK() {
-   let A = !(
-     j1(process.env.CLAUDE_CODE_USE_BEDROCK) ||
-     j1(process.env.CLAUDE_CODE_USE_VERTEX) ||
-     j1(process.env.CLAUDE_CODE_USE_FOUNDRY) ||
-     process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC ||
-     process.env.DISABLE_ERROR_REPORTING
-   );
-   pe.init({
-     dsn: fG8,
-     enabled: A,
-     environment: "external",
-     release: {
-       ISSUES_EXPLAINER:
-         "report the issue at https://github.com/anthropics/claude-code/issues",
-       PACKAGE_URL: "@anthropic-ai/claude-code",
-       README_URL: "https://code.claude.com/docs/en/overview",
-       VERSION: "2.1.26",
-       FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-       BUILD_TIME: "2026-01-30T02:12:23Z",
-     }.VERSION,
-     integrations: [
-       new pe.Integrations.OnUncaughtException({
-         exitEvenIfOtherHandlersAreRegistered: !1,
-       }),
-       new pe.Integrations.OnUnhandledRejection({ mode: "warn" }),
-       new pe.Integrations.Http({ tracing: !0 }),
-       pe.rewriteFramesIntegration(),
-     ],
-     tracesSampleRate: 1,
-     tracePropagationTargets: ["localhost"],
-     beforeSend(K) {
-       try {
-         let q = rk();
-         if (q.deviceId) {
-           let Y = Yi2("sha256").update(q.deviceId).digest("hex");
-           K.user = { id: Y };
-         }
-       } catch {}
-       try {
-         K.tags = {
-           ...K.tags,
-           terminal: g6.terminal,
-           userType: "external",
-           ...YfK(),
-         };
-       } catch {}
-       try {
-         K.extra = { ...K.extra, sessionId: d1() };
-       } catch {}
-       return K;
-     },
-   });
- }

--- Removed iCK (pretty-v2.1.26.js:555210-555210)
-   iCK = () => !1,

--- Removed is2 (pretty-v2.1.26.js:556285-556287)
- function is2(A) {
-   return A + 1;
- }

--- Removed rs2 (pretty-v2.1.26.js:556291-556293)
- function rs2(A) {
-   return A + 1;
- }

--- Removed IVA (pretty-v2.1.26.js:556696-556699)
- function IVA(A, K, q, Y) {
-   if (!A.toolDecisions) A.toolDecisions = new Map();
-   A.toolDecisions.set(K, { source: Y, decision: q, timestamp: Date.now() });
- }

--- Removed SVA (pretty-v2.1.26.js:556716-556718)
- async function SVA(A, K, q) {
-   await hG("tool_decision", { decision: K, source: q, tool_name: MK(A) });
- }

--- Removed xLK (pretty-v2.1.26.js:556719-556732)
- function xLK(A, K, q, Y, z) {
-   if (
-     (n("tengu_tool_use_granted_in_config", {
-       messageID: Y,
-       toolName: MK(A.name),
-       sandboxEnabled: h8.isSandboxingEnabled(),
-     }),
-     CE1(A.name))
-   ) {
-     let w = LE1(A, K, "accept", "config");
-     wNA()?.add(1, w);
-   }
-   (IVA(q, z, "accept", "config"), SVA(A.name, "accept", "config"));
- }

--- Removed JYA (pretty-v2.1.26.js:556741-556773)
- function JYA(A, K, q, Y, z, w, H) {
-   let J = H !== void 0 ? Date.now() - H : void 0;
-   switch (w.type) {
-     case "user":
-       n(
-         w.permanent
-           ? "tengu_tool_use_granted_in_prompt_permanent"
-           : "tengu_tool_use_granted_in_prompt_temporary",
-         {
-           messageID: Y,
-           toolName: MK(A.name),
-           sandboxEnabled: h8.isSandboxingEnabled(),
-           ...(J !== void 0 && { waiting_for_user_permission_ms: J }),
-         },
-       );
-       break;
-     case "hook":
-       n("tengu_tool_use_granted_by_permission_hook", {
-         messageID: Y,
-         toolName: MK(A.name),
-         sandboxEnabled: h8.isSandboxingEnabled(),
-         permanent: w.permanent ?? !1,
-         ...(J !== void 0 && { waiting_for_user_permission_ms: J }),
-       });
-       break;
-   }
-   let O = At2(w);
-   if (CE1(A.name)) {
-     let X = LE1(A, K, "accept", O);
-     wNA()?.add(1, X);
-   }
-   (IVA(q, z, "accept", O), SVA(A.name, "accept", O));
- }

--- Removed McA (pretty-v2.1.26.js:556774-556801)
- function McA(A, K, q, Y, z, w, H) {
-   let J = w.type === "hook",
-     O = J ? "hook" : w.type,
-     X = H !== void 0 ? Date.now() - H : void 0;
-   if (J)
-     n("tengu_tool_use_rejected_in_prompt", {
-       messageID: Y,
-       toolName: MK(A.name),
-       sandboxEnabled: h8.isSandboxingEnabled(),
-       isHook: !0,
-       ...(X !== void 0 && { waiting_for_user_permission_ms: X }),
-     });
-   else {
-     let $ = w.type === "user_reject" ? w.hasFeedback : !1;
-     n("tengu_tool_use_rejected_in_prompt", {
-       messageID: Y,
-       toolName: MK(A.name),
-       sandboxEnabled: h8.isSandboxingEnabled(),
-       hasFeedback: $,
-       ...(X !== void 0 && { waiting_for_user_permission_ms: X }),
-     });
-   }
-   if (CE1(A.name)) {
-     let $ = LE1(A, K, "reject", O);
-     wNA()?.add(1, $);
-   }
-   (IVA(q, z, "reject", O), SVA(A.name, "reject", O));
- }

--- Removed Kt2 (pretty-v2.1.26.js:556802-557312)
- function Kt2(A, K) {
-   return uLK.useCallback(
-     async (q, Y, z, w, H, J) => {
-       return new Promise((O) => {
-         function X() {
-           n("tengu_tool_use_cancelled", {
-             messageID: w.message.id,
-             toolName: MK(q.name),
-           });
-         }
-         function $(G, Z) {
-           let W = !!z.agentId,
-             M = G ? `${W ? VQA : BmA}${G}` : W ? US : _qA;
-           if ((O({ behavior: "ask", message: M }), Z || (!G && !W)))
-             (h(
-               `Aborting: tool=${q.name} isAbort=${Z} hasFeedback=${!!G} isSubagent=${W}`,
-             ),
-               z.abortController.abort());
-         }
-         if (z.abortController.signal.aborted) {
-           (X(), $(void 0, !0));
-           return;
-         }
-         return (J !== void 0 ? Promise.resolve(J) : j_(q, Y, z, w, H))
-           .then(async (G) => {
-             if (G.behavior === "allow") {
-               (xLK(q, Y, z, w.message.id, H),
-                 O({
-                   ...G,
-                   updatedInput: G.updatedInput ?? Y,
-                   userModified: !1,
-                 }));
-               return;
-             }
-             let Z = await z.getAppState(),
-               W = await q.description(Y, {
-                 isNonInteractiveSession: z.options.isNonInteractiveSession,
-                 toolPermissionContext: Z.toolPermissionContext,
-                 tools: z.options.tools,
-               });
-             if (z.abortController.signal.aborted) {
-               (X(), $(void 0, !0));
-               return;
-             }
-             switch (G.behavior) {
-               case "deny": {
-                 if (
-                   (n("tengu_tool_use_denied_in_config", {
-                     messageID: w.message.id,
-                     toolName: MK(q.name),
-                     sandboxEnabled: h8.isSandboxingEnabled(),
-                   }),
-                   CE1(q.name))
-                 ) {
-                   let D = LE1(q, Y, "reject", "config");
-                   wNA()?.add(1, D);
-                 }
-                 (IVA(z, H, "reject", "config"),
-                   SVA(q.name, "reject", "config"),
-                   O(G));
-                 return;
-               }
-               case "ask": {
-                 let f = function () {
-                     A((N) =>
-                       N.map((T) =>
-                         T.toolUseID === H
-                           ? { ...T, classifierCheckInProgress: !1 }
-                           : T,
-                       ),
-                     );
-                   },
-                   D = !1,
-                   j = !1;
-                 if (Z.toolPermissionContext.awaitAutomatedChecksBeforeDialog)
-                   try {
-                     if (q.name === G7 && G.pendingClassifierCheck) {
-                       let N = await PQA(
-                         G.pendingClassifierCheck,
-                         z.abortController.signal,
-                         z.options.isNonInteractiveSession,
-                       );
-                       if (N) {
-                         (IVA(z, H, "accept", "classifier"),
-                           SVA(q.name, "accept", "classifier"),
-                           JYA(q, Y, z, w.message.id, H, { type: "classifier" }),
-                           O({
-                             behavior: "allow",
-                             updatedInput: G.updatedInput ?? Y,
-                             userModified: !1,
-                             decisionReason: N,
-                           }));
-                         return;
-                       }
-                     }
-                     for await (let N of SMA(
-                       q.name,
-                       H,
-                       Y,
-                       z,
-                       Z.toolPermissionContext.mode,
-                       G.suggestions,
-                       z.abortController.signal,
-                     ))
-                       if (N.permissionRequestResult) {
-                         let T = N.permissionRequestResult;
-                         if (T.behavior === "allow") {
-                           let C = T.updatedInput ?? G.updatedInput ?? Y,
-                             R = T.updatedPermissions ?? [];
-                           if (R.length > 0) {
-                             BE(R);
-                             let y = await z.getAppState(),
-                               B = zD(y.toolPermissionContext, R);
-                             K(B);
-                           }
-                           let x = R.some((y) => RHA(y.destination));
-                           (JYA(q, C, z, w.message.id, H, {
-                             type: "hook",
-                             permanent: x,
-                           }),
-                             O({
-                               behavior: "allow",
-                               updatedInput: C,
-                               userModified: !1,
-                               decisionReason: {
-                                 type: "hook",
-                                 hookName: "PermissionRequest",
-                               },
-                             }));
-                           return;
-                         } else if (T.behavior === "deny") {
-                           if (
-                             (McA(q, Y, z, w.message.id, H, { type: "hook" }),
-                             O({
-                               behavior: "deny",
-                               message: T.message || "Permission denied by hook",
-                               decisionReason: {
-                                 type: "hook",
-                                 hookName: "PermissionRequest",
-                                 reason: T.message,
-                               },
-                             }),
-                             T.interrupt)
-                           )
-                             (h(
-                               `Hook interrupt: tool=${q.name} hookMessage=${T.message}`,
-                             ),
-                               z.abortController.abort());
-                           return;
-                         }
-                       }
-                   } catch (N) {
-                     KA(
-                       N instanceof Error
-                         ? N
-                         : Error(
-                             `Automated permission check failed: ${String(N)}`,
-                           ),
-                     );
-                   }
-                 if (z.abortController.signal.aborted) {
-                   (X(), $(void 0, !0));
-                   return;
-                 }
-                 if (
-                   x8() &&
-                   ujA() &&
-                   q.name === G7 &&
-                   G.pendingClassifierCheck
-                 ) {
-                   let N = await PQA(
-                     G.pendingClassifierCheck,
-                     z.abortController.signal,
-                     z.options.isNonInteractiveSession,
-                   );
-                   if (N) {
-                     (IVA(z, H, "accept", "classifier"),
-                       SVA(q.name, "accept", "classifier"),
-                       JYA(q, Y, z, w.message.id, H, { type: "classifier" }),
-                       O({
-                         behavior: "allow",
-                         updatedInput: G.updatedInput ?? Y,
-                         userModified: !1,
-                         decisionReason: N,
-                       }));
-                     return;
-                   }
-                 }
-                 if (x8() && ujA())
-                   try {
-                     let N = kM1({
-                       toolName: q.name,
-                       toolUseId: H,
-                       input: Y,
-                       description: W,
-                       permissionSuggestions: G.suggestions,
-                     });
-                     (yM1({
-                       requestId: N.id,
-                       toolUseId: H,
-                       onAllow: async (T, C, R) => {
-                         if (D) return;
-                         if (
-                           ((D = !0),
-                           z.setAppState((F) => ({
-                             ...F,
-                             pendingWorkerRequest: null,
-                           })),
-                           C.length > 0)
-                         ) {
-                           BE(C);
-                           let F = await z.getAppState(),
-                             Q = zD(F.toolPermissionContext, C);
-                           K(Q);
-                         }
-                         let x = C.some((F) => RHA(F.destination));
-                         JYA(q, T, z, w.message.id, H, {
-                           type: "user",
-                           permanent: x,
-                         });
-                         let y = T && Object.keys(T).length > 0 ? T : Y,
-                           B = q.inputsEquivalent
-                             ? !q.inputsEquivalent(Y, y)
-                             : !1,
-                           b = R?.trim();
-                         O({
-                           behavior: "allow",
-                           updatedInput: y,
-                           userModified: B,
-                           acceptFeedback: b || void 0,
-                         });
-                       },
-                       onReject: (T) => {
-                         if (D) return;
-                         ((D = !0),
-                           z.setAppState((C) => ({
-                             ...C,
-                             pendingWorkerRequest: null,
-                           })),
-                           McA(q, Y, z, w.message.id, H, {
-                             type: "user_reject",
-                             hasFeedback: !!T,
-                           }),
-                           $(T));
-                       },
-                     }),
-                       CM1(N),
-                       z.setAppState((T) => ({
-                         ...T,
-                         pendingWorkerRequest: {
-                           toolName: q.name,
-                           toolUseId: H,
-                           description: W,
-                         },
-                       })));
-                     return;
-                   } catch (N) {
-                     KA(
-                       N instanceof Error
-                         ? N
-                         : Error(
-                             `Failed to submit swarm permission request: ${String(N)}`,
-                           ),
-                     );
-                   }
-                 let M = Date.now(),
-                   P = G.updatedInput ?? Y;
-                 if (
-                   (A((N) => [
-                     ...N,
-                     {
-                       assistantMessage: w,
-                       tool: q,
-                       description: W,
-                       input: P,
-                       toolUseContext: z,
-                       toolUseID: H,
-                       permissionResult: G,
-                       permissionPromptStartTimeMs: M,
-                       classifierCheckInProgress: !!G.pendingClassifierCheck,
-                       onUserInteraction() {
-                         ((j = !0), NZ1(H), f());
-                       },
-                       onAbort() {
-                         if (D) return;
-                         ((D = !0),
-                           X(),
-                           McA(
-                             q,
-                             Y,
-                             z,
-                             w.message.id,
-                             H,
-                             { type: "user_abort" },
-                             M,
-                           ),
-                           $(void 0, !0));
-                       },
-                       async onAllow(T, C, R) {
-                         if (D) return;
-                         if (((D = !0), C.length > 0)) {
-                           BE(C);
-                           let b = await z.getAppState(),
-                             F = zD(b.toolPermissionContext, C);
-                           K(F);
-                         }
-                         let x = C.some((b) => RHA(b.destination));
-                         JYA(
-                           q,
-                           T,
-                           z,
-                           w.message.id,
-                           H,
-                           { type: "user", permanent: x },
-                           M,
-                         );
-                         let y = q.inputsEquivalent
-                             ? !q.inputsEquivalent(Y, T)
-                             : !1,
-                           B = R?.trim();
-                         O({
-                           behavior: "allow",
-                           updatedInput: T,
-                           userModified: y,
-                           acceptFeedback: B || void 0,
-                         });
-                       },
-                       onReject(T) {
-                         if (D) return;
-                         ((D = !0),
-                           McA(
-                             q,
-                             Y,
-                             z,
-                             w.message.id,
-                             H,
-                             { type: "user_reject", hasFeedback: !!T },
-                             M,
-                           ),
-                           $(T));
-                       },
-                       async recheckPermission() {
-                         if (D) return;
-                         let T = await j_(q, Y, z, w, H);
-                         if (T.behavior === "allow")
-                           (A((C) => C.filter((R) => R.toolUseID !== H)),
-                             xLK(q, Y, z, w.message.id, H),
-                             (D = !0),
-                             O({
-                               behavior: "allow",
-                               updatedInput: T.updatedInput ?? Y,
-                               userModified: !1,
-                             }));
-                       },
-                     },
-                   ]),
-                   !Z.toolPermissionContext.awaitAutomatedChecksBeforeDialog)
-                 ) {
-                   let N = await z.getAppState();
-                   (async () => {
-                     for await (let T of GWA([
-                       SMA(
-                         q.name,
-                         H,
-                         Y,
-                         z,
-                         N.toolPermissionContext.mode,
-                         G.suggestions,
-                         z.abortController.signal,
-                       ),
-                     ])) {
-                       if (D) return;
-                       if (
-                         T.permissionRequestResult &&
-                         (T.permissionRequestResult.behavior === "allow" ||
-                           T.permissionRequestResult.behavior === "deny")
-                       ) {
-                         ((D = !0),
-                           A((R) => R.filter((x) => x.toolUseID !== H)));
-                         let C = T.permissionRequestResult;
-                         if (C.behavior === "allow") {
-                           let R = C.updatedInput ?? G.updatedInput ?? Y,
-                             x = C.updatedPermissions ?? [];
-                           if (x.length > 0) {
-                             BE(x);
-                             let B = await z.getAppState(),
-                               b = zD(B.toolPermissionContext, x);
-                             K(b);
-                           }
-                           let y = x.some((B) => RHA(B.destination));
-                           (JYA(
-                             q,
-                             R,
-                             z,
-                             w.message.id,
-                             H,
-                             { type: "hook", permanent: y },
-                             M,
-                           ),
-                             O({
-                               behavior: "allow",
-                               updatedInput: R,
-                               userModified: !1,
-                               decisionReason: {
-                                 type: "hook",
-                                 hookName: "PermissionRequest",
-                               },
-                             }));
-                           return;
-                         } else if (C.behavior === "deny") {
-                           if (
-                             (McA(q, Y, z, w.message.id, H, { type: "hook" }, M),
-                             O({
-                               behavior: "deny",
-                               message: C.message || "Permission denied by hook",
-                               decisionReason: {
-                                 type: "hook",
-                                 hookName: "PermissionRequest",
-                                 reason: C.message,
-                               },
-                             }),
-                             C.interrupt)
-                           )
-                             (h(
-                               `Hook interrupt: tool=${q.name} hookMessage=${C.message}`,
-                             ),
-                               z.abortController.abort());
-                           return;
-                         }
-                       }
-                     }
-                   })();
-                 }
-                 if (
-                   G.pendingClassifierCheck &&
-                   q.name === G7 &&
-                   !Z.toolPermissionContext.awaitAutomatedChecksBeforeDialog
-                 )
-                   (hR7(H),
-                     H8K(
-                       G.pendingClassifierCheck,
-                       z.abortController.signal,
-                       z.options.isNonInteractiveSession,
-                       {
-                         shouldContinue: () => !D && !j,
-                         onComplete: () => {
-                           (NZ1(H), f());
-                         },
-                         onAllow: (N) => {
-                           ((D = !0), NZ1(H));
-                           let T =
-                             N.type === "classifier"
-                               ? (N.reason.match(
-                                   /^Allowed by prompt rule: "(.+)"$/,
-                                 )?.[1] ?? N.reason)
-                               : void 0;
-                           (A((R) =>
-                             R.map((x) =>
-                               x.toolUseID === H
-                                 ? {
-                                     ...x,
-                                     classifierCheckInProgress: !1,
-                                     classifierAutoApproved: !0,
-                                     classifierMatchedRule: T,
-                                   }
-                                 : x,
-                             ),
-                           ),
-                             JYA(
-                               q,
-                               Y,
-                               z,
-                               w.message.id,
-                               H,
-                               { type: "classifier" },
-                               M,
-                             ),
-                             O({
-                               behavior: "allow",
-                               updatedInput: Y,
-                               userModified: !1,
-                               decisionReason: N,
-                             }));
-                           let C = setTimeout(() => {
-                             A((R) => R.filter((x) => x.toolUseID !== H));
-                           }, 1000);
-                           z.abortController.signal.addEventListener(
-                             "abort",
-                             () => clearTimeout(C),
-                           );
-                         },
-                       },
-                     ));
-                 return;
-               }
-             }
-           })
-           .catch((G) => {
-             if (G instanceof C2 || G instanceof y2)
-               (h(
-                 `Permission check threw ${G.constructor.name} for tool=${q.name}: ${G.message}`,
-               ),
-                 X(),
-                 $(void 0, !0));
-             else KA(G);
-           });
-       });
-     },
-     [A, K],
-   );
- }

--- Removed a1z (pretty-v2.1.26.js:574245-574247)
- function a1z(A) {
-   return (A + 1) % kp6.length;
- }

=== Added ===

+++ Added nEq (pretty-v2.1.27.js:2142-2146)
+ function nEq() {
+   ((l6.totalAPIDuration = 0),
+     (l6.totalAPIDurationWithoutRetries = 0),
+     (l6.totalCostUSD = 0));
+ }

+++ Added _gA (pretty-v2.1.27.js:2280-2282)
+ function _gA() {
+   throw Error("resetStateForTests can only be called in tests");
+ }

+++ Added rEq (pretty-v2.1.27.js:2289-2291)
+ function rEq() {
+   l6.modelStrings = null;
+ }

+++ Added aEq (pretty-v2.1.27.js:2426-2428)
+ function aEq() {
+   return [...l6.inMemoryErrorLog];
+ }

+++ Added sEq (pretty-v2.1.27.js:2429-2432)
+ function sEq(A) {
+   if (l6.inMemoryErrorLog.length >= 100) l6.inMemoryErrorLog.shift();
+   l6.inMemoryErrorLog.push(A);
+ }

+++ Added eEq (pretty-v2.1.27.js:2523-2525)
+ function eEq() {
+   l6.registeredHooks = null;
+ }

+++ Added JgA (pretty-v2.1.27.js:2535-2537)
+ function JgA() {
+   ((l6.initJsonSchema = null), (l6.registeredHooks = null));
+ }

+++ Added DgA (pretty-v2.1.27.js:2572-2580)
+ function DgA() {
+   let A = Date.now();
+   return (
+     (l6.slowOperations = l6.slowOperations.filter(
+       (q) => A - q.timestamp < XgA,
+     )),
+     [...l6.slowOperations]
+   );
+ }

+++ Added jgA (pretty-v2.1.27.js:2587-2595)
+ function jgA() {
+   let A = Date.now();
+   return (
+     (l6.promptCacheBreaks = l6.promptCacheBreaks.filter(
+       (q) => A - q.timestamp < Ykq,
+     )),
+     [...l6.promptCacheBreaks]
+   );
+ }

+++ Added Av6 (pretty-v2.1.27.js:2596-2598)
+ function Av6() {
+   l6.promptCacheBreaks = [];
+ }

+++ Added Yv6 (pretty-v2.1.27.js:2614-2616)
+ function Yv6(A) {
+   l6.additionalDirectoriesForClaudeMd = A;
+ }

+++ Added zc (pretty-v2.1.27.js:5676-5676)
+   zc = "goal",

+++ Added C8 (pretty-v2.1.27.js:76137-76157)
+ var C8 = E(() => {
+   V28();
+   o4();
+   oA();
+   s2();
+   f6();
+   $6();
+   LW();
+   R3();
+   KO();
+   em();
+   n6();
+   kb6();
+   gA();
+   Sb6();
+   u11();
+   ic();
+   nb6();
+   R6();
+   J8 = Fq;
+ });

+++ Added Q16 (pretty-v2.1.27.js:138255-138257)
+ function Q16() {
+   o61.cache.clear();
+ }

+++ Added DJ7 (pretty-v2.1.27.js:168250-168434)
+ var DJ7 = E(() => {
+   JJ7 = `Use this tool to create and manage a structured task list for your current coding session. This helps you track progress, organize complex tasks, and demonstrate thoroughness to the user.
+ It also helps the user understand the progress of the task and overall progress of their requests.
+ 
+ ## When to Use This Tool
+ Use this tool proactively in these scenarios:
+ 
+ 1. Complex multi-step tasks - When a task requires 3 or more distinct steps or actions
+ 2. Non-trivial and complex tasks - Tasks that require careful planning or multiple operations
+ 3. User explicitly requests todo list - When the user directly asks you to use the todo list
+ 4. User provides multiple tasks - When users provide a list of things to be done (numbered or comma-separated)
+ 5. After receiving new instructions - Immediately capture user requirements as todos
+ 6. When you start working on a task - Mark it as in_progress BEFORE beginning work. Ideally you should only have one todo as in_progress at a time
+ 7. After completing a task - Mark it as completed and add any new follow-up tasks discovered during implementation
+ 
+ ## When NOT to Use This Tool
+ 
+ Skip using this tool when:
+ 1. There is only a single, straightforward task
+ 2. The task is trivial and tracking it provides no organizational benefit
+ 3. The task can be completed in less than 3 trivial steps
+ 4. The task is purely conversational or informational
+ 
+ NOTE that you should not use this tool if there is only one trivial task to do. In this case you are better off just doing the task directly.
+ 
+ ## Examples of When to Use the Todo List
+ 
+ <example>
+ User: I want to add a dark mode toggle to the application settings. Make sure you run the tests and build when you're done!
+ Assistant: I'll help add a dark mode toggle to your application settings. Let me create a todo list to track this implementation.
+ *Creates todo list with the following items:*
+ 1. Creating dark mode toggle component in Settings page
+ 2. Adding dark mode state management (context/store)
+ 3. Implementing CSS-in-JS styles for dark theme
+ 4. Updating existing components to support theme switching
+ 5. Running tests and build process, addressing any failures or errors that occur
+ *Begins working on the first task*
+ 
+ <reasoning>
+ The assistant used the todo list because:
+ 1. Adding dark mode is a multi-step feature requiring UI, state management, and styling changes
+ 2. The user explicitly requested tests and build be run afterward
+ 3. The assistant inferred that tests and build need to pass by adding "Ensure tests and build succeed" as the final task
+ </reasoning>
+ </example>
+ 
+ <example>
+ User: Help me rename the function getCwd to getCurrentWorkingDirectory across my project
+ Assistant: Let me first search through your codebase to find all occurrences of 'getCwd'.
+ *Uses grep or search tools to locate all instances of getCwd in the codebase*
+ Assistant: I've found 15 instances of 'getCwd' across 8 different files. Let me create a todo list to track these changes.
+ *Creates todo list with specific items for each file that needs updating*
+ 
+ <reasoning>
+ The assistant used the todo list because:
+ 1. First, the assistant searched to understand the scope of the task
+ 2. Upon finding multiple occurrences across different files, it determined this was a complex task with multiple steps
+ 3. The todo list helps ensure every instance is tracked and updated systematically
+ 4. This approach prevents missing any occurrences and maintains code consistency
+ </reasoning>
+ </example>
+ 
+ 
+ <example>
+ User: I need to implement these features for my e-commerce site: user registration, product catalog, shopping cart, and checkout flow.
+ Assistant: I'll help implement these features. First, let's add all the features to the todo list.
+ *Creates a todo list breaking down each feature into specific tasks based on the project architecture*
+ Assistant: Let's start with user registration. This will involve creating database models, API endpoints, and frontend forms that integrate with your existing authentication system.
+ 
+ <reasoning>
+ The assistant used the todo list because:
+ 1. The user provided multiple complex features to implement in a comma separated list
+ 2. The todo list helps organize these large features into manageable tasks
+ 3. This approach allows for tracking progress across the entire implementation
+ </reasoning>
+ </example>
+ 
+ <example>
+ User: Can you help optimize my React application? It's rendering slowly and has performance issues.</user>
+ Assistant: I'll help optimize your React application. First, let me examine your codebase to identify potential performance bottlenecks.
+ *Reviews component structure, render patterns, state management, and data fetching*
+ Assistant: After analyzing your codebase, I've identified several performance issues. Let me create a todo list to track our optimization efforts.
+ *Creates todo list with items like: 1) Implementing memoization for expensive calculations in ProductList, 2) Adding virtualization for long lists in Dashboard, 3) Optimizing image loading in Gallery component, 4) Fixing state update loops in ShoppingCart, 5) Reviewing bundle size and implementing code splitting*
+ Let's start by implementing memoization for the expensive calculations in your ProductList component.</assistant>
+ 
+ <reasoning>
+ The assistant used the todo list because:
+ 1. First, the assistant examined the codebase to identify specific performance issues
+ 2. Based on this analysis, it identified multiple optimization opportunities
+ 3. Performance optimization is a non-trivial task requiring multiple steps
+ 4. The todo list helps methodically track improvements across different components
+ 5. This systematic approach ensures all performance bottlenecks are addressed
+ </reasoning>
+ </example>
+ 
+ ## Examples of When NOT to Use the Todo List
+ 
+ <example>
+ User: How do I print 'Hello World' in Python?
+ Assistant: In Python, you can print "Hello World" with this simple code:
+ 
+ python
+ print("Hello World")
+ 
+ This will output the text "Hello World" to the console when executed.</assistant>
+ 
+ <reasoning>
+ The assistant did not use the todo list because this is a single, trivial task that can be completed in one step. There's no need to track multiple tasks or steps for such a straightforward request.
+ </reasoning>
+ </example>
+ 
+ <example>
+ User: What does the git status command do?
+ Assistant: The git status command shows the current state of your working directory and staging area. It displays which changes have been staged, which haven't, and which files aren't being tracked by Git. This is a fundamental command for understanding the current state of your repository before making commits.
+ 
+ <reasoning>
+ The assistant did not use the todo list because this is an informational request with no actual coding task to complete. The user is simply asking for an explanation, not for the assistant to perform multiple steps or tasks.
+ </reasoning>
+ </example>
+ 
+ <example>
+ User: Can you add a comment to the calculateTotal function to explain what it does?
+ Assistant: Sure, let me add a comment to the calculateTotal function to explain what it does.
+ * Uses the ${$3} tool to add a comment to the calculateTotal function *
+ 
+ <reasoning>
+ The assistant did not use the todo list because this is a single, straightforward task confined to one location in the code. Adding a comment doesn't require tracking multiple steps or systematic organization.
+ </reasoning>
+ </example>
+ 
+ <example>
+ User: Run npm install for me and tell me what happens.
+ Assistant: I'll run the npm install command for you.
+ 
+ *Executes: npm install*
+ 
+ The command completed successfully. Here's the output:
+ [Output of npm install command]
+ 
+ All dependencies have been installed according to your package.json file.
+ 
+ <reasoning>
+ The assistant did not use the todo list because this is a single command execution with immediate results. There are no multiple steps to track or organize, making the todo list unnecessary for this straightforward task.
+ </reasoning>
+ </example>
+ 
+ ## Task States and Management
+ 
+ 1. **Task States**: Use these states to track progress:
+    - pending: Task not yet started
+    - in_progress: Currently working on (limit to ONE task at a time)
+    - completed: Task finished successfully
+ 
+    **IMPORTANT**: Task descriptions must have two forms:
+    - content: The imperative form describing what needs to be done (e.g., "Run tests", "Build the project")
+    - activeForm: The present continuous form shown during execution (e.g., "Running tests", "Building the project")
+ 
+ 2. **Task Management**:
+    - Update task status in real-time as you work
+    - Mark tasks complete IMMEDIATELY after finishing (don't batch completions)
+    - Exactly ONE task must be in_progress at any time (not less, not more)
+    - Complete current tasks before starting new ones
+    - Remove tasks that are no longer relevant from the list entirely
+ 
+ 3. **Task Completion Requirements**:
+    - ONLY mark a task as completed when you have FULLY accomplished it
+    - If you encounter errors, blockers, or cannot finish, keep the task as in_progress
+    - When blocked, create a new task describing what needs to be resolved
+    - Never mark a task as completed if:
+      - Tests are failing
+      - Implementation is partial
+      - You encountered unresolved errors
+      - You couldn't find necessary files or dependencies
+ 
+ 4. **Task Breakdown**:
+    - Create specific, actionable items
+    - Break complex tasks into smaller, manageable steps
+    - Use clear, descriptive task names
+    - Always provide both forms:
+      - content: "Fix authentication bug"
+      - activeForm: "Fixing authentication bug"
+ 
+ When in doubt, use this tool. Being proactive with task management demonstrates attentiveness and ensures you complete all requirements successfully.
+ `;
+ });

+++ Added I$1 (pretty-v2.1.27.js:183841-183847)
+ var I$1 = E(() => {
+   T8A();
+   c8A();
+   q81();
+   ((c07 = new RegExp(`^${ci}\\]8${ii}${ii}([^${li}]*)${li}$`)),
+     (yR1 = `${ci}]8${ii}`));
+ });

+++ Added yD7 (pretty-v2.1.27.js:185404-185436)
+ function yD7(A) {
+   let q = new Map(),
+     K = null,
+     Y = 0;
+   function z() {
+     let w = [...q.values()].some((H) => H.isVisible);
+     if (w && !K) {
+       if (Y === 0) Y = Date.now();
+       K = setInterval(() => {
+         for (let { onChange: H } of q.values()) H();
+       }, A);
+     } else if (!w && K) (clearInterval(K), (K = null));
+   }
+   return {
+     subscribe(w, H, O) {
+       return (
+         q.set(w, { isVisible: H, onChange: O }),
+         z(),
+         () => {
+           (q.delete(w), z());
+         }
+       );
+     },
+     setVisibility(w, H) {
+       let O = q.get(w);
+       if (O) ((O.isVisible = H), z());
+     },
+     getTime() {
+       if (Y === 0) Y = Date.now();
+       return Date.now() - Y;
+     },
+   };
+ }

+++ Added J7A (pretty-v2.1.27.js:185438-185441)
+ var J7A = E(() => {
+   RD7 = r($1(), 1);
+   W46 = RD7.createContext(null);
+ });

+++ Added G46 (pretty-v2.1.27.js:185442-185442)
+ var G46 = 16;

+++ Added U$1 (pretty-v2.1.27.js:186354-186488)
+ var U$1 = R((lx, aD7) => {
+   var {
+       MAX_SAFE_COMPONENT_LENGTH: W7A,
+       MAX_SAFE_BUILD_LENGTH: Xm5,
+       MAX_LENGTH: Dm5,
+     } = xR1(),
+     jm5 = bR1();
+   lx = aD7.exports = {};
+   var Mm5 = (lx.re = []),
+     Pm5 = (lx.safeRe = []),
+     E4 = (lx.src = []),
+     Wm5 = (lx.safeSrc = []),
+     k4 = (lx.t = {}),
+     Gm5 = 0,
+     G7A = "[a-zA-Z0-9-]",
+     Zm5 = [
+       ["\\s", 1],
+       ["\\d", Dm5],
+       [G7A, Xm5],
+     ],
+     fm5 = (A) => {
+       for (let [q, K] of Zm5)
+         A = A.split(`${q}*`)
+           .join(`${q}{0,${K}}`)
+           .split(`${q}+`)
+           .join(`${q}{1,${K}}`);
+       return A;
+     },
+     m3 = (A, q, K) => {
+       let Y = fm5(q),
+         z = Gm5++;
+       (jm5(A, z, q),
+         (k4[A] = z),
+         (E4[z] = q),
+         (Wm5[z] = Y),
+         (Mm5[z] = new RegExp(q, K ? "g" : void 0)),
+         (Pm5[z] = new RegExp(Y, K ? "g" : void 0)));
+     };
+   m3("NUMERICIDENTIFIER", "0|[1-9]\\d*");
+   m3("NUMERICIDENTIFIERLOOSE", "\\d+");
+   m3("NONNUMERICIDENTIFIER", `\\d*[a-zA-Z-]${G7A}*`);
+   m3(
+     "MAINVERSION",
+     `(${E4[k4.NUMERICIDENTIFIER]})\\.(${E4[k4.NUMERICIDENTIFIER]})\\.(${E4[k4.NUMERICIDENTIFIER]})`,
+   );
+   m3(
+     "MAINVERSIONLOOSE",
+     `(${E4[k4.NUMERICIDENTIFIERLOOSE]})\\.(${E4[k4.NUMERICIDENTIFIERLOOSE]})\\.(${E4[k4.NUMERICIDENTIFIERLOOSE]})`,
+   );
+   m3(
+     "PRERELEASEIDENTIFIER",
+     `(?:${E4[k4.NONNUMERICIDENTIFIER]}|${E4[k4.NUMERICIDENTIFIER]})`,
+   );
+   m3(
+     "PRERELEASEIDENTIFIERLOOSE",
+     `(?:${E4[k4.NONNUMERICIDENTIFIER]}|${E4[k4.NUMERICIDENTIFIERLOOSE]})`,
+   );
+   m3(
+     "PRERELEASE",
+     `(?:-(${E4[k4.PRERELEASEIDENTIFIER]}(?:\\.${E4[k4.PRERELEASEIDENTIFIER]})*))`,
+   );
+   m3(
+     "PRERELEASELOOSE",
+     `(?:-?(${E4[k4.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${E4[k4.PRERELEASEIDENTIFIERLOOSE]})*))`,
+   );
+   m3("BUILDIDENTIFIER", `${G7A}+`);
+   m3(
+     "BUILD",
+     `(?:\\+(${E4[k4.BUILDIDENTIFIER]}(?:\\.${E4[k4.BUILDIDENTIFIER]})*))`,
+   );
+   m3(
+     "FULLPLAIN",
+     `v?${E4[k4.MAINVERSION]}${E4[k4.PRERELEASE]}?${E4[k4.BUILD]}?`,
+   );
+   m3("FULL", `^${E4[k4.FULLPLAIN]}$`);
+   m3(
+     "LOOSEPLAIN",
+     `[v=\\s]*${E4[k4.MAINVERSIONLOOSE]}${E4[k4.PRERELEASELOOSE]}?${E4[k4.BUILD]}?`,
+   );
+   m3("LOOSE", `^${E4[k4.LOOSEPLAIN]}$`);
+   m3("GTLT", "((?:<|>)?=?)");
+   m3("XRANGEIDENTIFIERLOOSE", `${E4[k4.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);
+   m3("XRANGEIDENTIFIER", `${E4[k4.NUMERICIDENTIFIER]}|x|X|\\*`);
+   m3(
+     "XRANGEPLAIN",
+     `[v=\\s]*(${E4[k4.XRANGEIDENTIFIER]})(?:\\.(${E4[k4.XRANGEIDENTIFIER]})(?:\\.(${E4[k4.XRANGEIDENTIFIER]})(?:${E4[k4.PRERELEASE]})?${E4[k4.BUILD]}?)?)?`,
+   );
+   m3(
+     "XRANGEPLAINLOOSE",
+     `[v=\\s]*(${E4[k4.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E4[k4.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E4[k4.XRANGEIDENTIFIERLOOSE]})(?:${E4[k4.PRERELEASELOOSE]})?${E4[k4.BUILD]}?)?)?`,
+   );
+   m3("XRANGE", `^${E4[k4.GTLT]}\\s*${E4[k4.XRANGEPLAIN]}$`);
+   m3("XRANGELOOSE", `^${E4[k4.GTLT]}\\s*${E4[k4.XRANGEPLAINLOOSE]}$`);
+   m3(
+     "COERCEPLAIN",
+     `(^|[^\\d])(\\d{1,${W7A}})(?:\\.(\\d{1,${W7A}}))?(?:\\.(\\d{1,${W7A}}))?`,
+   );
+   m3("COERCE", `${E4[k4.COERCEPLAIN]}(?:$|[^\\d])`);
+   m3(
+     "COERCEFULL",
+     E4[k4.COERCEPLAIN] +
+       `(?:${E4[k4.PRERELEASE]})?(?:${E4[k4.BUILD]})?(?:$|[^\\d])`,
+   );
+   m3("COERCERTL", E4[k4.COERCE], !0);
+   m3("COERCERTLFULL", E4[k4.COERCEFULL], !0);
+   m3("LONETILDE", "(?:~>?)");
+   m3("TILDETRIM", `(\\s*)${E4[k4.LONETILDE]}\\s+`, !0);
+   lx.tildeTrimReplace = "$1~";
+   m3("TILDE", `^${E4[k4.LONETILDE]}${E4[k4.XRANGEPLAIN]}$`);
+   m3("TILDELOOSE", `^${E4[k4.LONETILDE]}${E4[k4.XRANGEPLAINLOOSE]}$`);
+   m3("LONECARET", "(?:\\^)");
+   m3("CARETTRIM", `(\\s*)${E4[k4.LONECARET]}\\s+`, !0);
+   lx.caretTrimReplace = "$1^";
+   m3("CARET", `^${E4[k4.LONECARET]}${E4[k4.XRANGEPLAIN]}$`);
+   m3("CARETLOOSE", `^${E4[k4.LONECARET]}${E4[k4.XRANGEPLAINLOOSE]}$`);
+   m3("COMPARATORLOOSE", `^${E4[k4.GTLT]}\\s*(${E4[k4.LOOSEPLAIN]})$|^$`);
+   m3("COMPARATOR", `^${E4[k4.GTLT]}\\s*(${E4[k4.FULLPLAIN]})$|^$`);
+   m3(
+     "COMPARATORTRIM",
+     `(\\s*)${E4[k4.GTLT]}\\s*(${E4[k4.LOOSEPLAIN]}|${E4[k4.XRANGEPLAIN]})`,
+     !0,
+   );
+   lx.comparatorTrimReplace = "$1$2$3";
+   m3(
+     "HYPHENRANGE",
+     `^\\s*(${E4[k4.XRANGEPLAIN]})\\s+-\\s+(${E4[k4.XRANGEPLAIN]})\\s*$`,
+   );
+   m3(
+     "HYPHENRANGELOOSE",
+     `^\\s*(${E4[k4.XRANGEPLAINLOOSE]})\\s+-\\s+(${E4[k4.XRANGEPLAINLOOSE]})\\s*$`,
+   );
+   m3("STAR", "(<|>)?=?\\s*\\*");
+   m3("GTE0", "^\\s*>=\\s*0\\.0\\.0\\s*$");
+   m3("GTE0PRE", "^\\s*>=\\s*0\\.0\\.0-0\\s*$");
+ });

+++ Added nx (pretty-v2.1.27.js:191419-191439)
+ function nx(A = 16) {
+   let q = On.useContext(W46),
+     [K, { isVisible: Y }] = G81(),
+     [z, w] = On.useState(() => q?.getTime() ?? 0),
+     [H] = On.useState(() => Symbol("animation"));
+   return (
+     On.useEffect(() => {
+       if (!q) return;
+       let O = q.getTime(),
+         $ = () => {
+           let _ = q.getTime();
+           if (_ - O >= A) ((O = _), w(_));
+         };
+       return q.subscribe(H, Y, $);
+     }, [q, H, A, Y]),
+     On.useEffect(() => {
+       q?.setVisibility(H, Y);
+     }, [q, H, Y]),
+     [K, z]
+   );
+ }

+++ Added $y1 (pretty-v2.1.27.js:195333-195467)
+ var $y1 = R((Ab, ZG7) => {
+   var {
+       MAX_SAFE_COMPONENT_LENGTH: f4A,
+       MAX_SAFE_BUILD_LENGTH: op5,
+       MAX_LENGTH: ap5,
+     } = xq6(),
+     sp5 = Oy1();
+   Ab = ZG7.exports = {};
+   var tp5 = (Ab.re = []),
+     ep5 = (Ab.safeRe = []),
+     L4 = (Ab.src = []),
+     Ad5 = (Ab.safeSrc = []),
+     R4 = (Ab.t = {}),
+     qd5 = 0,
+     N4A = "[a-zA-Z0-9-]",
+     Kd5 = [
+       ["\\s", 1],
+       ["\\d", ap5],
+       [N4A, op5],
+     ],
+     Yd5 = (A) => {
+       for (let [q, K] of Kd5)
+         A = A.split(`${q}*`)
+           .join(`${q}{0,${K}}`)
+           .split(`${q}+`)
+           .join(`${q}{1,${K}}`);
+       return A;
+     },
+     F3 = (A, q, K) => {
+       let Y = Yd5(q),
+         z = qd5++;
+       (sp5(A, z, q),
+         (R4[A] = z),
+         (L4[z] = q),
+         (Ad5[z] = Y),
+         (tp5[z] = new RegExp(q, K ? "g" : void 0)),
+         (ep5[z] = new RegExp(Y, K ? "g" : void 0)));
+     };
+   F3("NUMERICIDENTIFIER", "0|[1-9]\\d*");
+   F3("NUMERICIDENTIFIERLOOSE", "\\d+");
+   F3("NONNUMERICIDENTIFIER", `\\d*[a-zA-Z-]${N4A}*`);
+   F3(
+     "MAINVERSION",
+     `(${L4[R4.NUMERICIDENTIFIER]})\\.(${L4[R4.NUMERICIDENTIFIER]})\\.(${L4[R4.NUMERICIDENTIFIER]})`,
+   );
+   F3(
+     "MAINVERSIONLOOSE",
+     `(${L4[R4.NUMERICIDENTIFIERLOOSE]})\\.(${L4[R4.NUMERICIDENTIFIERLOOSE]})\\.(${L4[R4.NUMERICIDENTIFIERLOOSE]})`,
+   );
+   F3(
+     "PRERELEASEIDENTIFIER",
+     `(?:${L4[R4.NUMERICIDENTIFIER]}|${L4[R4.NONNUMERICIDENTIFIER]})`,
+   );
+   F3(
+     "PRERELEASEIDENTIFIERLOOSE",
+     `(?:${L4[R4.NUMERICIDENTIFIERLOOSE]}|${L4[R4.NONNUMERICIDENTIFIER]})`,
+   );
+   F3(
+     "PRERELEASE",
+     `(?:-(${L4[R4.PRERELEASEIDENTIFIER]}(?:\\.${L4[R4.PRERELEASEIDENTIFIER]})*))`,
+   );
+   F3(
+     "PRERELEASELOOSE",
+     `(?:-?(${L4[R4.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L4[R4.PRERELEASEIDENTIFIERLOOSE]})*))`,
+   );
+   F3("BUILDIDENTIFIER", `${N4A}+`);
+   F3(
+     "BUILD",
+     `(?:\\+(${L4[R4.BUILDIDENTIFIER]}(?:\\.${L4[R4.BUILDIDENTIFIER]})*))`,
+   );
+   F3(
+     "FULLPLAIN",
+     `v?${L4[R4.MAINVERSION]}${L4[R4.PRERELEASE]}?${L4[R4.BUILD]}?`,
+   );
+   F3("FULL", `^${L4[R4.FULLPLAIN]}$`);
+   F3(
+     "LOOSEPLAIN",
+     `[v=\\s]*${L4[R4.MAINVERSIONLOOSE]}${L4[R4.PRERELEASELOOSE]}?${L4[R4.BUILD]}?`,
+   );
+   F3("LOOSE", `^${L4[R4.LOOSEPLAIN]}$`);
+   F3("GTLT", "((?:<|>)?=?)");
+   F3("XRANGEIDENTIFIERLOOSE", `${L4[R4.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);
+   F3("XRANGEIDENTIFIER", `${L4[R4.NUMERICIDENTIFIER]}|x|X|\\*`);
+   F3(
+     "XRANGEPLAIN",
+     `[v=\\s]*(${L4[R4.XRANGEIDENTIFIER]})(?:\\.(${L4[R4.XRANGEIDENTIFIER]})(?:\\.(${L4[R4.XRANGEIDENTIFIER]})(?:${L4[R4.PRERELEASE]})?${L4[R4.BUILD]}?)?)?`,
+   );
+   F3(
+     "XRANGEPLAINLOOSE",
+     `[v=\\s]*(${L4[R4.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L4[R4.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L4[R4.XRANGEIDENTIFIERLOOSE]})(?:${L4[R4.PRERELEASELOOSE]})?${L4[R4.BUILD]}?)?)?`,
+   );
+   F3("XRANGE", `^${L4[R4.GTLT]}\\s*${L4[R4.XRANGEPLAIN]}$`);
+   F3("XRANGELOOSE", `^${L4[R4.GTLT]}\\s*${L4[R4.XRANGEPLAINLOOSE]}$`);
+   F3(
+     "COERCEPLAIN",
+     `(^|[^\\d])(\\d{1,${f4A}})(?:\\.(\\d{1,${f4A}}))?(?:\\.(\\d{1,${f4A}}))?`,
+   );
+   F3("COERCE", `${L4[R4.COERCEPLAIN]}(?:$|[^\\d])`);
+   F3(
+     "COERCEFULL",
+     L4[R4.COERCEPLAIN] +
+       `(?:${L4[R4.PRERELEASE]})?(?:${L4[R4.BUILD]})?(?:$|[^\\d])`,
+   );
+   F3("COERCERTL", L4[R4.COERCE], !0);
+   F3("COERCERTLFULL", L4[R4.COERCEFULL], !0);
+   F3("LONETILDE", "(?:~>?)");
+   F3("TILDETRIM", `(\\s*)${L4[R4.LONETILDE]}\\s+`, !0);
+   Ab.tildeTrimReplace = "$1~";
+   F3("TILDE", `^${L4[R4.LONETILDE]}${L4[R4.XRANGEPLAIN]}$`);
+   F3("TILDELOOSE", `^${L4[R4.LONETILDE]}${L4[R4.XRANGEPLAINLOOSE]}$`);
+   F3("LONECARET", "(?:\\^)");
+   F3("CARETTRIM", `(\\s*)${L4[R4.LONECARET]}\\s+`, !0);
+   Ab.caretTrimReplace = "$1^";
+   F3("CARET", `^${L4[R4.LONECARET]}${L4[R4.XRANGEPLAIN]}$`);
+   F3("CARETLOOSE", `^${L4[R4.LONECARET]}${L4[R4.XRANGEPLAINLOOSE]}$`);
+   F3("COMPARATORLOOSE", `^${L4[R4.GTLT]}\\s*(${L4[R4.LOOSEPLAIN]})$|^$`);
+   F3("COMPARATOR", `^${L4[R4.GTLT]}\\s*(${L4[R4.FULLPLAIN]})$|^$`);
+   F3(
+     "COMPARATORTRIM",
+     `(\\s*)${L4[R4.GTLT]}\\s*(${L4[R4.LOOSEPLAIN]}|${L4[R4.XRANGEPLAIN]})`,
+     !0,
+   );
+   Ab.comparatorTrimReplace = "$1$2$3";
+   F3(
+     "HYPHENRANGE",
+     `^\\s*(${L4[R4.XRANGEPLAIN]})\\s+-\\s+(${L4[R4.XRANGEPLAIN]})\\s*$`,
+   );
+   F3(
+     "HYPHENRANGELOOSE",
+     `^\\s*(${L4[R4.XRANGEPLAINLOOSE]})\\s+-\\s+(${L4[R4.XRANGEPLAINLOOSE]})\\s*$`,
+   );
+   F3("STAR", "(<|>)?=?\\s*\\*");
+   F3("GTE0", "^\\s*>=\\s*0\\.0\\.0\\s*$");
+   F3("GTE0PRE", "^\\s*>=\\s*0\\.0\\.0-0\\s*$");
+ });

+++ Added Zf7 (pretty-v2.1.27.js:200661-200661)
+   Zf7 = 3145728,

+++ Added l4A (pretty-v2.1.27.js:200662-200662)
+   l4A = 104857600;

+++ Added XK6 (pretty-v2.1.27.js:203020-203071)
+ function XK6(A, q) {
+   if (!q) q = vN7;
+   if (Array.isArray(A)) {
+     if (A.length > 1 && !q.includeFileHeaders)
+       throw Error(
+         "Cannot omit file headers on a multi-file patch. (The result would be unparseable; how would a tool trying to apply the patch know which changes are to which file?)",
+       );
+     return A.map((Y) => XK6(Y, q)).join(`
+ `);
+   }
+   let K = [];
+   if (q.includeIndex && A.oldFileName == A.newFileName)
+     K.push("Index: " + A.oldFileName);
+   if (q.includeUnderline)
+     K.push(
+       "===================================================================",
+     );
+   if (q.includeFileHeaders)
+     (K.push(
+       "--- " +
+         A.oldFileName +
+         (typeof A.oldHeader > "u" ? "" : "\t" + A.oldHeader),
+     ),
+       K.push(
+         "+++ " +
+           A.newFileName +
+           (typeof A.newHeader > "u" ? "" : "\t" + A.newHeader),
+       ));
+   for (let Y = 0; Y < A.hunks.length; Y++) {
+     let z = A.hunks[Y];
+     if (z.oldLines === 0) z.oldStart -= 1;
+     if (z.newLines === 0) z.newStart -= 1;
+     K.push(
+       "@@ -" +
+         z.oldStart +
+         "," +
+         z.oldLines +
+         " +" +
+         z.newStart +
+         "," +
+         z.newLines +
+         " @@",
+     );
+     for (let w of z.lines) K.push(w);
+   }
+   return (
+     K.join(`
+ `) +
+     `
+ `
+   );
+ }

+++ Added EN7 (pretty-v2.1.27.js:203072-203095)
+ function EN7(A, q, K, Y, z, w, H) {
+   if (typeof H === "function") H = { callback: H };
+   if (!(H === null || H === void 0 ? void 0 : H.callback)) {
+     let O = En(A, q, K, Y, z, w, H);
+     if (!O) return;
+     return XK6(O, H === null || H === void 0 ? void 0 : H.headerOptions);
+   } else {
+     let { callback: O } = H;
+     En(
+       A,
+       q,
+       K,
+       Y,
+       z,
+       w,
+       Object.assign(Object.assign({}, H), {
+         callback: ($) => {
+           if (!$) O(void 0);
+           else O(XK6($, H.headerOptions));
+         },
+       }),
+     );
+   }
+ }

+++ Added PqA (pretty-v2.1.27.js:203096-203098)
+ function PqA(A, q, K, Y, z, w) {
+   return EN7(A, A, q, K, Y, z, w);
+ }

+++ Added kN7 (pretty-v2.1.27.js:203116-203119)
+ var kN7 = E(() => {
+   _K6();
+   vN7 = { includeIndex: !0, includeUnderline: !0, includeFileHeaders: !0 };
+ });

+++ Added FX1 (pretty-v2.1.27.js:259721-259855)
+ var FX1 = R((Bb, Hn7) => {
+   var {
+       MAX_SAFE_COMPONENT_LENGTH: YOA,
+       MAX_SAFE_BUILD_LENGTH: pZ9,
+       MAX_LENGTH: dZ9,
+     } = AI1(),
+     cZ9 = qI1();
+   Bb = Hn7.exports = {};
+   var lZ9 = (Bb.re = []),
+     iZ9 = (Bb.safeRe = []),
+     y4 = (Bb.src = []),
+     nZ9 = (Bb.safeSrc = []),
+     C4 = (Bb.t = {}),
+     rZ9 = 0,
+     zOA = "[a-zA-Z0-9-]",
+     oZ9 = [
+       ["\\s", 1],
+       ["\\d", dZ9],
+       [zOA, pZ9],
+     ],
+     aZ9 = (A) => {
+       for (let [q, K] of oZ9)
+         A = A.split(`${q}*`)
+           .join(`${q}{0,${K}}`)
+           .split(`${q}+`)
+           .join(`${q}{1,${K}}`);
+       return A;
+     },
+     U3 = (A, q, K) => {
+       let Y = aZ9(q),
+         z = rZ9++;
+       (cZ9(A, z, q),
+         (C4[A] = z),
+         (y4[z] = q),
+         (nZ9[z] = Y),
+         (lZ9[z] = new RegExp(q, K ? "g" : void 0)),
+         (iZ9[z] = new RegExp(Y, K ? "g" : void 0)));
+     };
+   U3("NUMERICIDENTIFIER", "0|[1-9]\\d*");
+   U3("NUMERICIDENTIFIERLOOSE", "\\d+");
+   U3("NONNUMERICIDENTIFIER", `\\d*[a-zA-Z-]${zOA}*`);
+   U3(
+     "MAINVERSION",
+     `(${y4[C4.NUMERICIDENTIFIER]})\\.(${y4[C4.NUMERICIDENTIFIER]})\\.(${y4[C4.NUMERICIDENTIFIER]})`,
+   );
+   U3(
+     "MAINVERSIONLOOSE",
+     `(${y4[C4.NUMERICIDENTIFIERLOOSE]})\\.(${y4[C4.NUMERICIDENTIFIERLOOSE]})\\.(${y4[C4.NUMERICIDENTIFIERLOOSE]})`,
+   );
+   U3(
+     "PRERELEASEIDENTIFIER",
+     `(?:${y4[C4.NUMERICIDENTIFIER]}|${y4[C4.NONNUMERICIDENTIFIER]})`,
+   );
+   U3(
+     "PRERELEASEIDENTIFIERLOOSE",
+     `(?:${y4[C4.NUMERICIDENTIFIERLOOSE]}|${y4[C4.NONNUMERICIDENTIFIER]})`,
+   );
+   U3(
+     "PRERELEASE",
+     `(?:-(${y4[C4.PRERELEASEIDENTIFIER]}(?:\\.${y4[C4.PRERELEASEIDENTIFIER]})*))`,
+   );
+   U3(
+     "PRERELEASELOOSE",
+     `(?:-?(${y4[C4.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${y4[C4.PRERELEASEIDENTIFIERLOOSE]})*))`,
+   );
+   U3("BUILDIDENTIFIER", `${zOA}+`);
+   U3(
+     "BUILD",
+     `(?:\\+(${y4[C4.BUILDIDENTIFIER]}(?:\\.${y4[C4.BUILDIDENTIFIER]})*))`,
+   );
+   U3(
+     "FULLPLAIN",
+     `v?${y4[C4.MAINVERSION]}${y4[C4.PRERELEASE]}?${y4[C4.BUILD]}?`,
+   );
+   U3("FULL", `^${y4[C4.FULLPLAIN]}$`);
+   U3(
+     "LOOSEPLAIN",
+     `[v=\\s]*${y4[C4.MAINVERSIONLOOSE]}${y4[C4.PRERELEASELOOSE]}?${y4[C4.BUILD]}?`,
+   );
+   U3("LOOSE", `^${y4[C4.LOOSEPLAIN]}$`);
+   U3("GTLT", "((?:<|>)?=?)");
+   U3("XRANGEIDENTIFIERLOOSE", `${y4[C4.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);
+   U3("XRANGEIDENTIFIER", `${y4[C4.NUMERICIDENTIFIER]}|x|X|\\*`);
+   U3(
+     "XRANGEPLAIN",
+     `[v=\\s]*(${y4[C4.XRANGEIDENTIFIER]})(?:\\.(${y4[C4.XRANGEIDENTIFIER]})(?:\\.(${y4[C4.XRANGEIDENTIFIER]})(?:${y4[C4.PRERELEASE]})?${y4[C4.BUILD]}?)?)?`,
+   );
+   U3(
+     "XRANGEPLAINLOOSE",
+     `[v=\\s]*(${y4[C4.XRANGEIDENTIFIERLOOSE]})(?:\\.(${y4[C4.XRANGEIDENTIFIERLOOSE]})(?:\\.(${y4[C4.XRANGEIDENTIFIERLOOSE]})(?:${y4[C4.PRERELEASELOOSE]})?${y4[C4.BUILD]}?)?)?`,
+   );
+   U3("XRANGE", `^${y4[C4.GTLT]}\\s*${y4[C4.XRANGEPLAIN]}$`);
+   U3("XRANGELOOSE", `^${y4[C4.GTLT]}\\s*${y4[C4.XRANGEPLAINLOOSE]}$`);
+   U3(
+     "COERCEPLAIN",
+     `(^|[^\\d])(\\d{1,${YOA}})(?:\\.(\\d{1,${YOA}}))?(?:\\.(\\d{1,${YOA}}))?`,
+   );
+   U3("COERCE", `${y4[C4.COERCEPLAIN]}(?:$|[^\\d])`);
+   U3(
+     "COERCEFULL",
+     y4[C4.COERCEPLAIN] +
+       `(?:${y4[C4.PRERELEASE]})?(?:${y4[C4.BUILD]})?(?:$|[^\\d])`,
+   );
+   U3("COERCERTL", y4[C4.COERCE], !0);
+   U3("COERCERTLFULL", y4[C4.COERCEFULL], !0);
+   U3("LONETILDE", "(?:~>?)");
+   U3("TILDETRIM", `(\\s*)${y4[C4.LONETILDE]}\\s+`, !0);
+   Bb.tildeTrimReplace = "$1~";
+   U3("TILDE", `^${y4[C4.LONETILDE]}${y4[C4.XRANGEPLAIN]}$`);
+   U3("TILDELOOSE", `^${y4[C4.LONETILDE]}${y4[C4.XRANGEPLAINLOOSE]}$`);
+   U3("LONECARET", "(?:\\^)");
+   U3("CARETTRIM", `(\\s*)${y4[C4.LONECARET]}\\s+`, !0);
+   Bb.caretTrimReplace = "$1^";
+   U3("CARET", `^${y4[C4.LONECARET]}${y4[C4.XRANGEPLAIN]}$`);
+   U3("CARETLOOSE", `^${y4[C4.LONECARET]}${y4[C4.XRANGEPLAINLOOSE]}$`);
+   U3("COMPARATORLOOSE", `^${y4[C4.GTLT]}\\s*(${y4[C4.LOOSEPLAIN]})$|^$`);
+   U3("COMPARATOR", `^${y4[C4.GTLT]}\\s*(${y4[C4.FULLPLAIN]})$|^$`);
+   U3(
+     "COMPARATORTRIM",
+     `(\\s*)${y4[C4.GTLT]}\\s*(${y4[C4.LOOSEPLAIN]}|${y4[C4.XRANGEPLAIN]})`,
+     !0,
+   );
+   Bb.comparatorTrimReplace = "$1$2$3";
+   U3(
+     "HYPHENRANGE",
+     `^\\s*(${y4[C4.XRANGEPLAIN]})\\s+-\\s+(${y4[C4.XRANGEPLAIN]})\\s*$`,
+   );
+   U3(
+     "HYPHENRANGELOOSE",
+     `^\\s*(${y4[C4.XRANGEPLAINLOOSE]})\\s+-\\s+(${y4[C4.XRANGEPLAINLOOSE]})\\s*$`,
+   );
+   U3("STAR", "(<|>)?=?\\s*\\*");
+   U3("GTE0", "^\\s*>=\\s*0\\.0\\.0\\s*$");
+   U3("GTE0PRE", "^\\s*>=\\s*0\\.0\\.0-0\\s*$");
+ });

+++ Added Z26 (pretty-v2.1.27.js:264759-264777)
+   Z26 =
+     (A, q = yY6 ? "Node" : "Browser") =>
+     (K, Y, z) => {
+       if (z) return;
+       switch (K) {
+         case LT.LogLevel.Error:
+           A.info(`MSAL ${q} V2 error: ${Y}`);
+           return;
+         case LT.LogLevel.Info:
+           A.info(`MSAL ${q} V2 info message: ${Y}`);
+           return;
+         case LT.LogLevel.Verbose:
+           A.info(`MSAL ${q} V2 verbose message: ${Y}`);
+           return;
+         case LT.LogLevel.Warning:
+           A.info(`MSAL ${q} V2 warning: ${Y}`);
+           return;
+       }
+     };

+++ Added F$A (pretty-v2.1.27.js:270652-270654)
+ function F$A(A) {
+   ((oL9 = A), q_.cache.clear?.(), A_.cache.clear?.());
+ }

+++ Added Lx1 (pretty-v2.1.27.js:292886-292917)
+ var Lx1 = E(() => {
+   w_();
+   $6();
+   f6();
+   w_();
+   si1();
+   nz();
+   JXA = qA(async (A) => {
+     return `Execute a skill within the main conversation
+ 
+ When users ask you to perform tasks, check if any of the available skills match. Skills provide specialized capabilities and domain knowledge.
+ 
+ When users reference a "slash command" or "/<something>" (e.g., "/commit", "/review-pr"), they are referring to a skill. Use this tool to invoke it.
+ 
+ How to invoke:
+ - Use this tool with the skill name and optional arguments
+ - Examples:
+   - \`skill: "pdf"\` - invoke the pdf skill
+   - \`skill: "commit", args: "-m 'Fix bug'"\` - invoke with arguments
+   - \`skill: "review-pr", args: "123"\` - invoke with arguments
+   - \`skill: "ms-office-suite:pdf"\` - invoke using fully qualified name
+ 
+ Important:
+ - Available skills are listed in system-reminder messages in the conversation
+ - When a skill matches the user's request, this is a BLOCKING REQUIREMENT: invoke the relevant Skill tool BEFORE generating any other response about the task
+ - NEVER mention a skill without actually calling this tool
+ - Do not invoke a skill that is already running
+ - Do not use this tool for built-in CLI commands (like /help, /clear, etc.)
+ - If you see a <${fV}> tag in the current conversation turn, the skill has ALREADY been loaded - follow the instructions directly instead of calling this tool again
+ `;
+   });
+ });

+++ Added EF9 (pretty-v2.1.27.js:298338-298342)
+ function EF9() {
+   return e7()
+     ? "Your account does not have access to Claude. Please login again or contact your administrator."
+     : OO6;
+ }

+++ Added kF9 (pretty-v2.1.27.js:298343-298347)
+ function kF9() {
+   return e7()
+     ? "Your organization does not have access to Claude. Please login again or contact your administrator."
+     : vF9;
+ }

+++ Added xo (pretty-v2.1.27.js:298730-298738)
+ var xo = E(() => {
+   C8();
+   F6();
+   $6();
+   n6();
+   V7();
+   gw();
+   RF9 = { status: "active" };
+ });

+++ Added FF9 (pretty-v2.1.27.js:298917-298924)
+ function FF9(A) {
+   let q = j34(A);
+   if (q) {
+     let K = parseInt(q, 10);
+     if (!isNaN(K)) return K * 1000;
+   }
+   return null;
+ }

+++ Added UF9 (pretty-v2.1.27.js:298973-298978)
+ function UF9() {
+   let q = "";
+   for (let K = 0; K < 4; K++)
+     q += "abcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(Math.random() * 36)];
+   return `/tmp/claude/cache-break-${q}.diff`;
+ }

+++ Added iF9 (pretty-v2.1.27.js:299004-299020)
+ function iF9(A, q, K) {
+   let Y = A.map((w) => w.text).join(`
+ 
+ `),
+     z = [...q].map((w) => ("name" in w ? w.name : "unknown")).sort().join(`
+ `);
+   return `Model: ${K}
+ 
+ === System Prompt ===
+ 
+ ${Y}
+ 
+ === Tools (${q.length}) ===
+ 
+ ${z}
+ `;
+ }

+++ Added nF9 (pretty-v2.1.27.js:299146-299155)
+ function nF9(A, q) {
+   try {
+     let K = UF9();
+     gF9("/tmp/claude", { recursive: !0 });
+     let Y = PqA("prompt-state", A, q, "before", "after");
+     return (QF9(K, Y), K);
+   } catch {
+     return;
+   }
+ }

+++ Added uY4 (pretty-v2.1.27.js:309535-309540)
+ function uY4(A) {
+   let [q, K] = nx(bY4);
+   if (!A) return [q, !0];
+   let Y = Math.floor(K / bY4) % 2 === 0;
+   return [q, Y];
+ }

+++ Added bY4 (pretty-v2.1.27.js:309541-309541)
+ var bY4 = 600;

+++ Added Ec9 (pretty-v2.1.27.js:309985-310002)
+ async function Ec9() {
+   let A = cA(),
+     q = vc9[A];
+   for (let K of q)
+     try {
+       let Y = K.split(" ")[0];
+       return (
+         await T9(A === "windows" ? "where" : "which", [Y], {
+           timeout: 1000,
+           reject: !0,
+         }),
+         K
+       );
+     } catch {
+       continue;
+     }
+   return null;
+ }

+++ Added QY4 (pretty-v2.1.27.js:310003-310016)
+ async function QY4() {
+   if (!process.stdout.isTTY) return !1;
+   try {
+     if (
+       (await T9("tput", ["Ms"], { timeout: 1000, reject: !0 })).stdout.includes(
+         "]52",
+       )
+     )
+       return !0;
+   } catch {}
+   let A = ["ITERM_SESSION_ID", "WT_SESSION", "KONSOLE_VERSION"];
+   for (let q of A) if (process.env[q]) return !0;
+   return !1;
+ }

+++ Added kc9 (pretty-v2.1.27.js:310017-310031)
+ async function kc9() {
+   if (fS !== null) return fS;
+   let A = !!(process.env.SSH_CLIENT || process.env.SSH_TTY),
+     q = await QY4(),
+     K = await Ec9();
+   tO6 = K;
+   let Y = K !== null;
+   if (A && q) fS = "osc52";
+   else if (A && Y) fS = "native";
+   else if (A && process.stdout.isTTY) fS = "osc52";
+   else if (!A && Y) fS = "native";
+   else if (q) fS = "osc52";
+   else fS = "none";
+   return fS;
+ }

+++ Added Lc9 (pretty-v2.1.27.js:310032-310037)
+ function Lc9(A) {
+   if (process.env.TMUX)
+     return `\x1BPtmux;${A.replaceAll("\x1B", "\x1B\x1B")}\x1B\\`;
+   if (process.env.STY) return `\x1BP${A}\x1B\\`;
+   return A;
+ }

+++ Added Rc9 (pretty-v2.1.27.js:310038-310052)
+ async function Rc9(A) {
+   if (!process.stdout.isTTY) return !1;
+   try {
+     let K = `\x1B]52;c;${Buffer.from(A).toString("base64")}\x07`,
+       Y = Lc9(K),
+       { promise: z, resolve: w, reject: H } = Promise.withResolvers();
+     return (process.stdout.write(Y, (O) => (O ? H(O) : w())), await z, !0);
+   } catch (q) {
+     return (
+       q1(Error(`Failed to copy via OSC52: ${q}`)),
+       (fS = tO6 ? "native" : "none"),
+       !1
+     );
+   }
+ }

+++ Added yc9 (pretty-v2.1.27.js:310053-310063)
+ async function yc9(A, q) {
+   try {
+     return (await T9(q, { input: A, shell: !0, reject: !0 }), !0);
+   } catch (K) {
+     return (
+       q1(Error(`Failed to execute clipboard command "${q}": ${K}`)),
+       (fS = (await QY4()) ? "osc52" : "none"),
+       !1
+     );
+   }
+ }

+++ Added xP (pretty-v2.1.27.js:310064-310074)
+ async function xP(A) {
+   switch (await kc9()) {
+     case "osc52":
+       return Rc9(A);
+     case "native":
+       if (tO6) return yc9(A, tO6);
+       return !1;
+     case "none":
+       return (q1(Error("No clipboard method available")), !1);
+   }
+ }

+++ Added JDA (pretty-v2.1.27.js:310263-310266)
+ async function JDA() {
+   if (TL) (clearTimeout(TL), (TL = null));
+   await A$6();
+ }

+++ Added YV4 (pretty-v2.1.27.js:354634-354642)
+ function YV4(A) {
+   let q = A.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);
+   if (!q) return null;
+   return {
+     r: parseInt(q[1], 10),
+     g: parseInt(q[2], 10),
+     b: parseInt(q[3], 10),
+   };
+ }

+++ Added VGA (pretty-v2.1.27.js:354643-354695)
+ function VGA(A) {
+   let q = s(21),
+     { char: K, flashOpacity: Y, messageColor: z, shimmerColor: w } = A,
+     [H] = E7(),
+     O;
+   if (q[0] !== H) ((O = jT(H)), (q[0] = H), (q[1] = O));
+   else O = q[1];
+   let $ = O,
+     _ = $[z],
+     J = $[w],
+     X;
+   if (q[2] !== _) ((X = _ ? YV4(_) : null), (q[2] = _), (q[3] = X));
+   else X = q[3];
+   let D;
+   if (q[4] !== J) ((D = J ? YV4(J) : null), (q[4] = J), (q[5] = D));
+   else D = q[5];
+   let j;
+   if (q[6] !== X || q[7] !== D)
+     ((j = { baseRGB: X, shimmerRGB: D }), (q[6] = X), (q[7] = D), (q[8] = j));
+   else j = q[8];
+   let { baseRGB: M, shimmerRGB: P } = j;
+   if (M && P) {
+     let N, V;
+     if (q[9] !== M || q[10] !== Y || q[11] !== P) {
+       let k = hU(M, P, Y);
+       ((N = f),
+         (V = Za(k)),
+         (q[9] = M),
+         (q[10] = Y),
+         (q[11] = P),
+         (q[12] = N),
+         (q[13] = V));
+     } else ((N = q[12]), (V = q[13]));
+     let T;
+     if (q[14] !== N || q[15] !== K || q[16] !== V)
+       ((T = uu1.createElement(N, { color: V }, K)),
+         (q[14] = N),
+         (q[15] = K),
+         (q[16] = V),
+         (q[17] = T));
+     else T = q[17];
+     return T;
+   }
+   let G = Y > 0.5 ? w : z,
+     Z;
+   if (q[18] !== K || q[19] !== G)
+     ((Z = uu1.createElement(f, { color: G }, K)),
+       (q[18] = K),
+       (q[19] = G),
+       (q[20] = Z));
+   else Z = q[20];
+   return Z;
+ }

+++ Added w$Y (pretty-v2.1.27.js:373210-373219)
+ function w$Y(A) {
+   return A.map((q) => {
+     let K = q.color ? ` color="${q.color}"` : "";
+     return `<${S_} teammate_id="${q.from}"${K}>
+ ${q.text}
+ </${S_}>`;
+   }).join(`
+ 
+ `);
+ }

+++ Added JR4 (pretty-v2.1.27.js:373799-373808)
+ function JR4(A) {
+   let q = ha(A);
+   if (q)
+     return `[Shutdown Request from ${q.from}]${q.reason ? ` ${q.reason}` : ""}`;
+   let K = FS(A);
+   if (K) return `[Shutdown Approved] ${K.from} is now exiting`;
+   let Y = VX6(A);
+   if (Y) return `[Shutdown Rejected] ${Y.from}: ${Y.reason}`;
+   return null;
+ }

+++ Added DR4 (pretty-v2.1.27.js:373982-373993)
+ function DR4(A) {
+   let q = yX6(A);
+   if (q) {
+     let z = q.capabilities ? ` - ${q.capabilities}` : "";
+     return `[Join Request] ${q.proposedName} wants to join${z}`;
+   }
+   let K = uj1(A);
+   if (K) return `[Join Approved] You are now ${K.agentName} in ${K.teamName}`;
+   let Y = Bj1(A);
+   if (Y) return `[Join Rejected] ${Y.reason || "Request was rejected"}`;
+   return null;
+ }

+++ Added MR4 (pretty-v2.1.27.js:374075-374079)
+ function MR4(A) {
+   let q = TX6(A);
+   if (q) return `[Task Assigned] #${q.taskId} - ${q.subject}`;
+   return null;
+ }

+++ Added G$Y (pretty-v2.1.27.js:374288-374297)
+ function G$Y(A) {
+   let q = NX6(A);
+   if (q) return `[Plan Approval Request from ${q.from}]`;
+   let K = bj1(A);
+   if (K)
+     if (K.approved)
+       return "[Plan Approved] You can now proceed with implementation";
+     else return `[Plan Rejected] ${K.feedback || "Please revise your plan"}`;
+   return null;
+ }

+++ Added Z$Y (pretty-v2.1.27.js:374298-374304)
+ function Z$Y(A) {
+   if (A.completedTaskId) {
+     let q = A.completedStatus || "completed";
+     return `Agent idle  Task ${A.completedTaskId} ${q}`;
+   }
+   return "Agent idle";
+ }

+++ Added PR4 (pretty-v2.1.27.js:374305-374321)
+ function PR4(A) {
+   let q = G$Y(A);
+   if (q) return q;
+   let K = JR4(A);
+   if (K) return K;
+   let Y = DR4(A);
+   if (Y) return Y;
+   let z = mZA(A);
+   if (z) return Z$Y(z);
+   let w = MR4(A);
+   if (w) return w;
+   try {
+     let H = wA(A);
+     if (H?.type === "teammate_terminated" && H.message) return H.message;
+   } catch {}
+   return A;
+ }

+++ Added hR4 (pretty-v2.1.27.js:375112-375460)
+ function hR4({ attachment: A, addMargin: q, verbose: K }) {
+   let Y = h6((z) => z.tasks);
+   if (i8() && A.type === "teammate_mailbox") {
+     let z = A.messages.filter((w) => {
+       try {
+         return wA(w.text)?.type !== "idle_notification";
+       } catch {
+         return !0;
+       }
+     });
+     if (z.length === 0) return null;
+     return d4.default.createElement(
+       h,
+       { flexDirection: "column" },
+       d4.default.createElement(
+         PX,
+         { dimColor: !1 },
+         d4.default.createElement(
+           f,
+           { bold: !0 },
+           z.length,
+           " message",
+           z.length !== 1 ? "s" : "",
+           " in mailbox:",
+         ),
+       ),
+       z.map((w, H) => {
+         let O = null;
+         try {
+           O = wA(w.text);
+         } catch {}
+         if (O?.type === "task_assignment")
+           return d4.default.createElement(
+             h,
+             { key: H, paddingLeft: 2 },
+             d4.default.createElement(f, null, n9, " "),
+             d4.default.createElement(f, null, "Task assigned: "),
+             d4.default.createElement(f, { bold: !0 }, "#", O.taskId),
+             d4.default.createElement(f, null, " - ", O.subject),
+             d4.default.createElement(
+               f,
+               { dimColor: !0 },
+               " (from ",
+               O.assignedBy || w.from,
+               ")",
+             ),
+           );
+         let $ = hX6(w.text, w.from);
+         if ($)
+           return d4.default.createElement(d4.default.Fragment, { key: H }, $);
+         let _ = EN(w.color),
+           J = PR4(w.text) ?? w.text;
+         return d4.default.createElement(
+           h,
+           { key: H, flexDirection: "column", paddingLeft: 5 },
+           d4.default.createElement(
+             f,
+             { color: _ },
+             n9,
+             " ",
+             d4.default.createElement(f, { bold: !0 }, w.from),
+           ),
+           d4.default.createElement(
+             h,
+             { paddingLeft: 5 },
+             d4.default.createElement(mH, null, J),
+           ),
+         );
+       }),
+     );
+   }
+   switch (A.type) {
+     case "directory":
+       return d4.default.createElement(
+         PX,
+         null,
+         "Listed directory",
+         " ",
+         d4.default.createElement(f, { bold: !0 }, MK1(y6(), A.path) + S$Y),
+       );
+     case "file":
+     case "already_read_file":
+       if (A.content.type === "notebook")
+         return d4.default.createElement(
+           PX,
+           null,
+           "Read ",
+           d4.default.createElement(f, { bold: !0 }, MK1(y6(), A.filename)),
+           " (",
+           A.content.file.cells.length,
+           " cells)",
+         );
+       return d4.default.createElement(
+         PX,
+         null,
+         "Read ",
+         d4.default.createElement(f, { bold: !0 }, MK1(y6(), A.filename)),
+         " (",
+         A.content.type === "text"
+           ? `${A.content.file.numLines}${A.truncated ? "+" : ""} lines`
+           : Y_(A.content.file.originalSize),
+         ")",
+       );
+     case "compact_file_reference":
+       return d4.default.createElement(
+         PX,
+         null,
+         "Referenced file",
+         " ",
+         d4.default.createElement(f, { bold: !0 }, MK1(y6(), A.filename)),
+       );
+     case "selected_lines_in_ide":
+       return d4.default.createElement(
+         PX,
+         null,
+         " Selected",
+         " ",
+         d4.default.createElement(f, { bold: !0 }, A.lineEnd - A.lineStart + 1),
+         " ",
+         "lines from ",
+         d4.default.createElement(f, { bold: !0 }, MK1(y6(), A.filename)),
+         " ",
+         "in ",
+         A.ideName,
+       );
+     case "nested_memory":
+       return d4.default.createElement(
+         PX,
+         null,
+         "Loaded ",
+         d4.default.createElement(f, { bold: !0 }, MK1(y6(), A.path)),
+       );
+     case "dynamic_skill": {
+       let z = MK1(y6(), A.skillDir),
+         w = A.skillNames.length;
+       return d4.default.createElement(
+         PX,
+         null,
+         "Loaded",
+         " ",
+         d4.default.createElement(
+           f,
+           { bold: !0 },
+           w,
+           " skill",
+           w !== 1 ? "s" : "",
+         ),
+         " ",
+         "from ",
+         d4.default.createElement(f, { bold: !0 }, z),
+       );
+     }
+     case "skill_listing": {
+       if (A.isInitial) return null;
+       return d4.default.createElement(
+         PX,
+         null,
+         d4.default.createElement(f, { bold: !0 }, A.skillCount),
+         " skill",
+         A.skillCount !== 1 ? "s" : "",
+         " available",
+       );
+     }
+     case "queued_command": {
+       let z = typeof A.prompt === "string" ? A.prompt : PK1(A.prompt) || "",
+         w = A.imagePasteIds && A.imagePasteIds.length > 0;
+       return d4.default.createElement(
+         h,
+         { flexDirection: "column" },
+         d4.default.createElement(XK1, {
+           addMargin: q,
+           param: { text: z, type: "text" },
+           verbose: K,
+         }),
+         w &&
+           A.imagePasteIds?.map((H) =>
+             d4.default.createElement(BX6, { key: H, imageId: H }),
+           ),
+       );
+     }
+     case "todo":
+       if (A.context === "post-compact")
+         return d4.default.createElement(
+           PX,
+           null,
+           "Todo list read (",
+           A.itemCount,
+           " ",
+           A.itemCount === 1 ? "item" : "items",
+           ")",
+         );
+       return null;
+     case "plan_file_reference":
+       return d4.default.createElement(
+         PX,
+         null,
+         "Plan file referenced (",
+         J3(A.planFilePath),
+         ")",
+       );
+     case "invoked_skills": {
+       if (A.skills.length === 0) return null;
+       let z = A.skills.map((w) => w.name).join(", ");
+       return d4.default.createElement(PX, null, "Skills restored (", z, ")");
+     }
+     case "diagnostics":
+       return d4.default.createElement(CR4, { attachment: A, verbose: K });
+     case "mcp_resource":
+       return d4.default.createElement(
+         PX,
+         null,
+         "Read MCP resource ",
+         d4.default.createElement(f, { bold: !0 }, A.name),
+         " from",
+         " ",
+         A.server,
+       );
+     case "command_permissions":
+       return null;
+     case "async_hook_response": {
+       if (A.hookEvent === "SessionStart" && !K) return null;
+       return d4.default.createElement(
+         PX,
+         null,
+         "Async hook ",
+         d4.default.createElement(f, { bold: !0 }, A.hookEvent),
+         " completed",
+       );
+     }
+     case "hook_blocking_error": {
+       if (A.hookEvent === "Stop" || A.hookEvent === "SubagentStop") return null;
+       return d4.default.createElement(
+         PX,
+         { color: "error" },
+         A.hookName,
+         " hook returned blocking error",
+       );
+     }
+     case "hook_non_blocking_error": {
+       if (A.hookEvent === "Stop" || A.hookEvent === "SubagentStop") return null;
+       return d4.default.createElement(
+         PX,
+         { color: "error" },
+         A.hookName,
+         " hook error",
+       );
+     }
+     case "hook_error_during_execution":
+       if (A.hookEvent === "Stop" || A.hookEvent === "SubagentStop") return null;
+       return d4.default.createElement(PX, null, A.hookName, " hook warning");
+     case "hook_success":
+       return null;
+     case "hook_stopped_continuation":
+       if (A.hookEvent === "Stop" || A.hookEvent === "SubagentStop") return null;
+       return d4.default.createElement(
+         PX,
+         { color: "warning" },
+         A.hookName,
+         " hook stopped continuation: ",
+         A.message,
+       );
+     case "hook_system_message":
+       return d4.default.createElement(
+         PX,
+         null,
+         A.hookName,
+         " says: ",
+         A.content,
+       );
+     case "hook_permission_decision": {
+       let z = A.decision === "allow" ? "Allowed" : "Denied";
+       return d4.default.createElement(
+         PX,
+         null,
+         z,
+         " by ",
+         d4.default.createElement(f, { bold: !0 }, A.hookEvent),
+         " hook",
+       );
+     }
+     case "task_status": {
+       if (i8()) {
+         let w = Y[A.taskId];
+         if (
+           A.taskType === "in_process_teammate" &&
+           w?.type === "in_process_teammate"
+         ) {
+           let H = EN(w.identity.color),
+             O = A.status === "completed" ? "shut down gracefully" : A.status;
+           return d4.default.createElement(
+             h,
+             { flexDirection: "row", width: "100%", marginTop: 1 },
+             d4.default.createElement(f, { color: H }, n9, " "),
+             d4.default.createElement(
+               f,
+               { dimColor: !0 },
+               "Teammate ",
+               d4.default.createElement(
+                 f,
+                 { bold: !0 },
+                 "@",
+                 w.identity.agentName,
+               ),
+               " ",
+               O,
+             ),
+           );
+         }
+       }
+       let z = A.status === "completed" ? "completed in background" : A.status;
+       return d4.default.createElement(
+         h,
+         { flexDirection: "row", width: "100%", marginTop: 1 },
+         d4.default.createElement(f, { dimColor: !0 }, n9, " "),
+         d4.default.createElement(
+           f,
+           { dimColor: !0 },
+           'Task "',
+           d4.default.createElement(f, { bold: !0 }, A.description),
+           '"',
+           " ",
+           z,
+         ),
+       );
+     }
+     case "task_progress":
+       return null;
+     case "agent_mention":
+     case "budget_usd":
+     case "critical_system_reminder":
+     case "delegate_mode":
+     case "delegate_mode_exit":
+     case "edited_image_file":
+     case "edited_text_file":
+     case "hook_additional_context":
+     case "hook_cancelled":
+     case "opened_file_in_ide":
+     case "output_style":
+     case "plan_mode":
+     case "plan_mode_exit":
+     case "plan_mode_reentry":
+     case "structured_output":
+     case "team_context":
+     case "todo_reminder":
+     case "ultramemory":
+     case "token_usage":
+       return null;
+   }
+ }

+++ Added By4 (pretty-v2.1.27.js:379279-379281)
+ function By4() {
+   VfA = null;
+ }

+++ Added T06 (pretty-v2.1.27.js:386719-386723)
+ function T06(A) {
+   WXY(A).catch((q) => {
+     I(`[inProcessRunner] Unhandled error in ${A.identity.agentId}: ${q}`);
+   });
+ }

+++ Added aC4 (pretty-v2.1.27.js:386996-387002)
+ function aC4() {
+   if (YM1)
+     ((da = YM1), I(`[TeammateModeSnapshot] Captured from CLI override: ${da}`));
+   else
+     ((da = j6().teammateMode ?? "auto"),
+       I(`[TeammateModeSnapshot] Captured from config: ${da}`));
+ }

+++ Added II4 (pretty-v2.1.27.js:392968-393166)
+ function II4(A) {
+   let q,
+     K,
+     Y,
+     z = !1,
+     w = !1,
+     H,
+     O = !1,
+     $ = [],
+     _ = [];
+   function J() {
+     if (w) throw H || Error(`LSP server ${A} failed to start`);
+   }
+   return {
+     get capabilities() {
+       return Y;
+     },
+     get isInitialized() {
+       return z;
+     },
+     async start(X, D, j) {
+       try {
+         if (
+           ((q = lDY(X, D, {
+             stdio: ["pipe", "pipe", "pipe"],
+             env: j?.env ? { ...globalThis.process.env, ...j.env } : void 0,
+             cwd: j?.cwd,
+             windowsHide: !0,
+           })),
+           !q.stdout || !q.stdin)
+         )
+           throw Error("LSP server process stdio not available");
+         let M = q;
+         if (
+           (await new Promise((G, Z) => {
+             let N = () => {
+                 (T(), G());
+               },
+               V = (k) => {
+                 (T(), Z(k));
+               },
+               T = () => {
+                 (M.removeListener("spawn", N), M.removeListener("error", V));
+               };
+             (M.once("spawn", N), M.once("error", V));
+           }),
+           q.stderr)
+         )
+           q.stderr.on("data", (G) => {
+             let Z = G.toString().trim();
+             if (Z) I(`[LSP SERVER ${A}] ${Z}`);
+           });
+         (q.on("error", (G) => {
+           if (!O)
+             ((w = !0),
+               (H = G),
+               q1(Error(`LSP server ${A} failed to start: ${G.message}`)));
+         }),
+           q.on("exit", (G, Z) => {
+             if (G !== 0 && G !== null && !O)
+               ((z = !1),
+                 (w = !1),
+                 (H = void 0),
+                 q1(Error(`LSP server ${A} crashed with exit code ${G}`)));
+           }),
+           q.stdin.on("error", (G) => {
+             if (!O) I(`LSP server ${A} stdin error: ${G.message}`);
+           }));
+         let P = new ra.StreamMessageReader(q.stdout),
+           W = new ra.StreamMessageWriter(q.stdin);
+         ((K = ra.createMessageConnection(P, W)),
+           K.onError(([G, Z, N]) => {
+             if (!O)
+               ((w = !0),
+                 (H = G),
+                 q1(Error(`LSP server ${A} connection error: ${G.message}`)));
+           }),
+           K.onClose(() => {
+             if (!O) ((z = !1), I(`LSP server ${A} connection closed`));
+           }),
+           K.listen(),
+           K.trace(ra.Trace.Verbose, {
+             log: (G) => {
+               I(`[LSP PROTOCOL ${A}] ${G}`);
+             },
+           }).catch((G) => {
+             I(`Failed to enable tracing for ${A}: ${G.message}`);
+           }));
+         for (let { method: G, handler: Z } of $)
+           (K.onNotification(G, Z),
+             I(`Applied queued notification handler for ${A}.${G}`));
+         $.length = 0;
+         for (let { method: G, handler: Z } of _)
+           (K.onRequest(G, Z),
+             I(`Applied queued request handler for ${A}.${G}`));
+         ((_.length = 0), I(`LSP client started for ${A}`));
+       } catch (M) {
+         throw (q1(Error(`LSP server ${A} failed to start: ${M.message}`)), M);
+       }
+     },
+     async initialize(X) {
+       if (!K) throw Error("LSP client not started");
+       J();
+       try {
+         let D = await K.sendRequest("initialize", X);
+         return (
+           (Y = D.capabilities),
+           await K.sendNotification("initialized", {}),
+           (z = !0),
+           I(`LSP server ${A} initialized`),
+           D
+         );
+       } catch (D) {
+         throw (q1(Error(`LSP server ${A} initialize failed: ${D.message}`)), D);
+       }
+     },
+     async sendRequest(X, D) {
+       if (!K) throw Error("LSP client not started");
+       if ((J(), !z)) throw Error("LSP server not initialized");
+       try {
+         return await K.sendRequest(X, D);
+       } catch (j) {
+         throw (
+           q1(Error(`LSP server ${A} request ${X} failed: ${j.message}`)),
+           j
+         );
+       }
+     },
+     async sendNotification(X, D) {
+       if (!K) throw Error("LSP client not started");
+       J();
+       try {
+         await K.sendNotification(X, D);
+       } catch (j) {
+         (q1(Error(`LSP server ${A} notification ${X} failed: ${j.message}`)),
+           I(`Notification ${X} failed but continuing`));
+       }
+     },
+     onNotification(X, D) {
+       if (!K) {
+         ($.push({ method: X, handler: D }),
+           I(
+             `Queued notification handler for ${A}.${X} (connection not ready)`,
+           ));
+         return;
+       }
+       (J(), K.onNotification(X, D));
+     },
+     onRequest(X, D) {
+       if (!K) {
+         (_.push({ method: X, handler: D }),
+           I(`Queued request handler for ${A}.${X} (connection not ready)`));
+         return;
+       }
+       (J(), K.onRequest(X, D));
+     },
+     async stop() {
+       let X;
+       O = !0;
+       try {
+         if (K)
+           (await K.sendRequest("shutdown", null),
+             await K.sendNotification("exit", null));
+       } catch (D) {
+         let j = D;
+         (q1(Error(`LSP server ${A} stop failed: ${j.message}`)), (X = j));
+       } finally {
+         if (K) {
+           try {
+             K.dispose();
+           } catch (D) {
+             I(`Connection disposal failed for ${A}: ${D.message}`);
+           }
+           K = void 0;
+         }
+         if (q) {
+           if (
+             (q.removeAllListeners("error"),
+             q.removeAllListeners("exit"),
+             q.stdin)
+           )
+             q.stdin.removeAllListeners("error");
+           if (q.stderr) q.stderr.removeAllListeners("data");
+           try {
+             q.kill();
+           } catch (D) {
+             I(
+               `Process kill failed for ${A} (may already be dead): ${D.message}`,
+             );
+           }
+           q = void 0;
+         }
+         if (((z = !1), (Y = void 0), (O = !1), X)) ((w = !0), (H = X));
+         I(`LSP client stopped for ${A}`);
+       }
+       if (X) throw X;
+     },
+   };
+ }

+++ Added pI4 (pretty-v2.1.27.js:393577-393769)
+ function pI4() {
+   let A = new Map(),
+     q = new Map(),
+     K = new Map();
+   async function Y() {
+     let M;
+     try {
+       ((M = (await QI4()).servers),
+         I(
+           `[LSP SERVER MANAGER] getAllLspServers returned ${Object.keys(M).length} server(s)`,
+         ));
+     } catch (P) {
+       throw (
+         q1(Error(`Failed to load LSP server configuration: ${P.message}`)),
+         P
+       );
+     }
+     for (let [P, W] of Object.entries(M))
+       try {
+         if (!W.command)
+           throw Error(`Server ${P} missing required 'command' field`);
+         if (
+           !W.extensionToLanguage ||
+           Object.keys(W.extensionToLanguage).length === 0
+         )
+           throw Error(
+             `Server ${P} missing required 'extensionToLanguage' field`,
+           );
+         let G = Object.keys(W.extensionToLanguage);
+         for (let N of G) {
+           let V = N.toLowerCase();
+           if (!q.has(V)) q.set(V, []);
+           let T = q.get(V);
+           if (T) T.push(P);
+         }
+         let Z = uI4(P, W);
+         (A.set(P, Z),
+           Z.onRequest("workspace/configuration", (N) => {
+             return (
+               I(`LSP: Received workspace/configuration request from ${P}`),
+               N.items.map(() => null)
+             );
+           }),
+           Z.start().catch((N) => {
+             q1(Error(`Failed to start LSP server ${P}: ${N.message}`));
+           }));
+       } catch (G) {
+         q1(Error(`Failed to initialize LSP server ${P}: ${G.message}`));
+       }
+     I(`LSP manager initialized with ${A.size} servers`);
+   }
+   async function z() {
+     let M = [];
+     for (let [P, W] of A.entries())
+       if (W.state === "running")
+         try {
+           await W.stop();
+         } catch (G) {
+           let Z = G;
+           (q1(Error(`Failed to stop LSP server ${P}: ${Z.message}`)),
+             M.push(Z));
+         }
+     if ((A.clear(), q.clear(), K.clear(), M.length > 0)) {
+       let P = Error(
+         `Failed to stop ${M.length} LSP server(s): ${M.map((W) => W.message).join("; ")}`,
+       );
+       throw (q1(P), P);
+     }
+   }
+   function w(M) {
+     let P = tU.extname(M).toLowerCase(),
+       W = q.get(P);
+     if (!W || W.length === 0) return;
+     let G = W[0];
+     if (!G) return;
+     return A.get(G);
+   }
+   async function H(M) {
+     let P = w(M);
+     if (!P) return;
+     if (P.state === "stopped")
+       try {
+         await P.start();
+       } catch (W) {
+         throw (
+           q1(Error(`Failed to start LSP server for file ${M}: ${W.message}`)),
+           W
+         );
+       }
+     return P;
+   }
+   async function O(M, P, W) {
+     let G = await H(M);
+     if (!G) return;
+     try {
+       return await G.sendRequest(P, W);
+     } catch (Z) {
+       throw (
+         q1(
+           Error(
+             `LSP request failed for file ${M}, method '${P}': ${Z.message}`,
+           ),
+         ),
+         Z
+       );
+     }
+   }
+   function $() {
+     return A;
+   }
+   async function _(M, P) {
+     let W = await H(M);
+     if (!W) return;
+     let G = `file://${tU.resolve(M)}`;
+     if (K.get(G) === W.name) {
+       I(`LSP: File already open, skipping didOpen for ${M}`);
+       return;
+     }
+     let Z = tU.extname(M).toLowerCase(),
+       N = W.config.extensionToLanguage[Z] || "plaintext";
+     try {
+       (await W.sendNotification("textDocument/didOpen", {
+         textDocument: { uri: G, languageId: N, version: 1, text: P },
+       }),
+         K.set(G, W.name),
+         I(`LSP: Sent didOpen for ${M} (languageId: ${N})`));
+     } catch (V) {
+       let T = Error(`Failed to sync file open ${M}: ${V.message}`);
+       throw (q1(T), T);
+     }
+   }
+   async function J(M, P) {
+     let W = w(M);
+     if (!W || W.state !== "running") return _(M, P);
+     let G = `file://${tU.resolve(M)}`;
+     if (K.get(G) !== W.name) return _(M, P);
+     try {
+       (await W.sendNotification("textDocument/didChange", {
+         textDocument: { uri: G, version: 1 },
+         contentChanges: [{ text: P }],
+       }),
+         I(`LSP: Sent didChange for ${M}`));
+     } catch (Z) {
+       let N = Error(`Failed to sync file change ${M}: ${Z.message}`);
+       throw (q1(N), N);
+     }
+   }
+   async function X(M) {
+     let P = w(M);
+     if (!P || P.state !== "running") return;
+     try {
+       (await P.sendNotification("textDocument/didSave", {
+         textDocument: { uri: `file://${tU.resolve(M)}` },
+       }),
+         I(`LSP: Sent didSave for ${M}`));
+     } catch (W) {
+       let G = Error(`Failed to sync file save ${M}: ${W.message}`);
+       throw (q1(G), G);
+     }
+   }
+   async function D(M) {
+     let P = w(M);
+     if (!P || P.state !== "running") return;
+     let W = `file://${tU.resolve(M)}`;
+     try {
+       (await P.sendNotification("textDocument/didClose", {
+         textDocument: { uri: W },
+       }),
+         K.delete(W),
+         I(`LSP: Sent didClose for ${M}`));
+     } catch (G) {
+       let Z = Error(`Failed to sync file close ${M}: ${G.message}`);
+       throw (q1(Z), Z);
+     }
+   }
+   function j(M) {
+     let P = `file://${tU.resolve(M)}`;
+     return K.has(P);
+   }
+   return {
+     initialize: Y,
+     shutdown: z,
+     getServerForFile: w,
+     ensureServerStarted: H,
+     sendRequest: O,
+     getAllServers: $,
+     openFile: _,
+     changeFile: J,
+     saveFile: X,
+     closeFile: D,
+     isFileOpen: j,
+   };
+ }

+++ Added aI4 (pretty-v2.1.27.js:393971-394087)
+ function aI4(A) {
+   let q = A.getAllServers(),
+     K = [],
+     Y = 0,
+     z = new Map();
+   for (let [H, O] of q.entries())
+     try {
+       if (!O || typeof O.onNotification !== "function") {
+         let $ = !O
+           ? "Server instance is null/undefined"
+           : "Server instance has no onNotification method";
+         K.push({ serverName: H, error: $ });
+         let _ = Error(`${$} for ${H}`);
+         (q1(_), I(`Skipping handler registration for ${H}: ${$}`));
+         continue;
+       }
+       (O.onNotification("textDocument/publishDiagnostics", async ($) => {
+         I(
+           `[PASSIVE DIAGNOSTICS] Handler invoked for ${H}! Params type: ${typeof $}`,
+         );
+         try {
+           if (
+             !$ ||
+             typeof $ !== "object" ||
+             !("uri" in $) ||
+             !("diagnostics" in $)
+           ) {
+             let D = Error(
+               `LSP server ${H} sent invalid diagnostic params (missing uri or diagnostics)`,
+             );
+             (q1(D), I(`Invalid diagnostic params from ${H}: ${B1($)}`));
+             return;
+           }
+           let _ = $;
+           I(
+             `Received diagnostics from ${H}: ${_.diagnostics.length} diagnostic(s) for ${_.uri}`,
+           );
+           let J = OjY(_),
+             X = J[0];
+           if (!X || J.length === 0 || X.diagnostics.length === 0) {
+             I(`Skipping empty diagnostics from ${H} for ${_.uri}`);
+             return;
+           }
+           try {
+             (iI4({ serverName: H, files: J }),
+               I(
+                 `LSP Diagnostics: Registered ${J.length} diagnostic file(s) from ${H} for async delivery`,
+               ),
+               z.delete(H));
+           } catch (D) {
+             let j =
+               D instanceof Error
+                 ? D
+                 : Error(`Failed to register LSP diagnostics: ${String(D)}`);
+             (q1(j),
+               I(
+                 `Error registering LSP diagnostics from ${H}: URI: ${_.uri}, Diagnostic count: ${X.diagnostics.length}, Error: ${j.message}`,
+               ));
+             let M = z.get(H) || { count: 0, lastError: "" };
+             if (
+               (M.count++, (M.lastError = j.message), z.set(H, M), M.count >= 3)
+             )
+               I(
+                 `WARNING: LSP diagnostic handler for ${H} has failed ${M.count} times consecutively. Last error: ${M.lastError}. This may indicate a problem with the LSP server or diagnostic processing. Check logs for details.`,
+               );
+           }
+         } catch (_) {
+           let J =
+             _ instanceof Error
+               ? _
+               : Error(`Unexpected error in diagnostic handler: ${String(_)}`);
+           (q1(J),
+             I(
+               `Unexpected error processing diagnostics from ${H}: ${J.message}`,
+             ));
+           let X = z.get(H) || { count: 0, lastError: "" };
+           if ((X.count++, (X.lastError = J.message), z.set(H, X), X.count >= 3))
+             I(
+               `WARNING: LSP diagnostic handler for ${H} has failed ${X.count} times consecutively. Last error: ${X.lastError}. This may indicate a problem with the LSP server or diagnostic processing. Check logs for details.`,
+             );
+         }
+       }),
+         I(`Registered diagnostics handler for ${H}`),
+         Y++);
+     } catch ($) {
+       let _ =
+         $ instanceof Error
+           ? $
+           : Error(`Handler registration failed: ${String($)}`);
+       (K.push({ serverName: H, error: _.message }),
+         q1(_),
+         I(
+           `Failed to register diagnostics handler for ${H}: Error: ${_.message}`,
+         ));
+     }
+   let w = q.size;
+   if (K.length > 0) {
+     let H = K.map((O) => `${O.serverName} (${O.error})`).join(", ");
+     (q1(
+       Error(
+         `Failed to register diagnostics for ${K.length} LSP server(s): ${H}`,
+       ),
+     ),
+       I(
+         `LSP notification handler registration: ${Y}/${w} succeeded. Failed servers: ${H}. Diagnostics from failed servers will not be delivered.`,
+       ));
+   } else
+     I(
+       `LSP notification handlers registered successfully for all ${w} server(s)`,
+     );
+   return {
+     totalServers: w,
+     successCount: Y,
+     registrationErrors: K,
+     diagnosticFailures: z,
+   };
+ }

+++ Added tF4 (pretty-v2.1.27.js:416340-416493)
+ var tF4 = E(() => {
+   ((VfY = `Use this tool proactively when you're about to start a non-trivial implementation task. Getting user sign-off on your approach before writing code prevents wasted effort and ensures alignment. This tool transitions you into plan mode where you can explore the codebase and design an implementation approach for user approval.
+ 
+ ## When to Use This Tool
+ 
+ **Prefer using EnterPlanMode** for implementation tasks unless they're simple. Use it when ANY of these conditions apply:
+ 
+ 1. **New Feature Implementation**: Adding meaningful new functionality
+    - Example: "Add a logout button" - where should it go? What should happen on click?
+    - Example: "Add form validation" - what rules? What error messages?
+ 
+ 2. **Multiple Valid Approaches**: The task can be solved in several different ways
+    - Example: "Add caching to the API" - could use Redis, in-memory, file-based, etc.
+    - Example: "Improve performance" - many optimization strategies possible
+ 
+ 3. **Code Modifications**: Changes that affect existing behavior or structure
+    - Example: "Update the login flow" - what exactly should change?
+    - Example: "Refactor this component" - what's the target architecture?
+ 
+ 4. **Architectural Decisions**: The task requires choosing between patterns or technologies
+    - Example: "Add real-time updates" - WebSockets vs SSE vs polling
+    - Example: "Implement state management" - Redux vs Context vs custom solution
+ 
+ 5. **Multi-File Changes**: The task will likely touch more than 2-3 files
+    - Example: "Refactor the authentication system"
+    - Example: "Add a new API endpoint with tests"
+ 
+ 6. **Unclear Requirements**: You need to explore before understanding the full scope
+    - Example: "Make the app faster" - need to profile and identify bottlenecks
+    - Example: "Fix the bug in checkout" - need to investigate root cause
+ 
+ 7. **User Preferences Matter**: The implementation could reasonably go multiple ways
+    - If you would use ${TO} to clarify the approach, use EnterPlanMode instead
+    - Plan mode lets you explore first, then present options with context
+ 
+ ## When NOT to Use This Tool
+ 
+ Only skip EnterPlanMode for simple tasks:
+ - Single-line or few-line fixes (typos, obvious bugs, small tweaks)
+ - Adding a single function with clear requirements
+ - Tasks where the user has given very specific, detailed instructions
+ - Pure research/exploration tasks (use the Task tool with explore agent instead)
+ 
+ ## What Happens in Plan Mode
+ 
+ In plan mode, you'll:
+ 1. Thoroughly explore the codebase using Glob, Grep, and Read tools
+ 2. Understand existing patterns and architecture
+ 3. Design an implementation approach
+ 4. Present your plan to the user for approval
+ 5. Use ${TO} if you need to clarify approaches
+ 6. Exit plan mode with ExitPlanMode when ready to implement
+ 
+ ## Examples
+ 
+ ### GOOD - Use EnterPlanMode:
+ User: "Add user authentication to the app"
+ - Requires architectural decisions (session vs JWT, where to store tokens, middleware structure)
+ 
+ User: "Optimize the database queries"
+ - Multiple approaches possible, need to profile first, significant impact
+ 
+ User: "Implement dark mode"
+ - Architectural decision on theme system, affects many components
+ 
+ User: "Add a delete button to the user profile"
+ - Seems simple but involves: where to place it, confirmation dialog, API call, error handling, state updates
+ 
+ User: "Update the error handling in the API"
+ - Affects multiple files, user should approve the approach
+ 
+ ### BAD - Don't use EnterPlanMode:
+ User: "Fix the typo in the README"
+ - Straightforward, no planning needed
+ 
+ User: "Add a console.log to debug this function"
+ - Simple, obvious implementation
+ 
+ User: "What files handle routing?"
+ - Research task, not implementation planning
+ 
+ ## Important Notes
+ 
+ - This tool REQUIRES user approval - they must consent to entering plan mode
+ - If unsure whether to use it, err on the side of planning - it's better to get alignment upfront than to redo work
+ - Users appreciate being consulted before significant changes are made to their codebase
+ `),
+     (Urw = `Use this tool when a task has genuine ambiguity about the right approach and getting user input before coding would prevent significant rework. This tool transitions you into plan mode where you can explore the codebase and design an implementation approach for user approval.
+ 
+ ## When to Use This Tool
+ 
+ Plan mode is valuable when the implementation approach is genuinely unclear. Use it when:
+ 
+ 1. **Significant Architectural Ambiguity**: Multiple reasonable approaches exist and the choice meaningfully affects the codebase
+    - Example: "Add caching to the API" - Redis vs in-memory vs file-based
+    - Example: "Add real-time updates" - WebSockets vs SSE vs polling
+ 
+ 2. **Unclear Requirements**: You need to explore and clarify before you can make progress
+    - Example: "Make the app faster" - need to profile and identify bottlenecks
+    - Example: "Refactor this module" - need to understand what the target architecture should be
+ 
+ 3. **High-Impact Restructuring**: The task will significantly restructure existing code and getting buy-in first reduces risk
+    - Example: "Redesign the authentication system"
+    - Example: "Migrate from one state management approach to another"
+ 
+ ## When NOT to Use This Tool
+ 
+ Skip plan mode when you can reasonably infer the right approach:
+ - The task is straightforward even if it touches multiple files
+ - The user's request is specific enough that the implementation path is clear
+ - You're adding a feature with an obvious implementation pattern (e.g., adding a button, a new endpoint following existing conventions)
+ - Bug fixes where the fix is clear once you understand the bug
+ - Research/exploration tasks (use the Task tool with explore agent instead)
+ - The user says something like "can we work on X" or "let's do X"  just get started
+ 
+ When in doubt, prefer starting work and using ${TO} for specific questions over entering a full planning phase.
+ 
+ ## What Happens in Plan Mode
+ 
+ In plan mode, you'll:
+ 1. Explore the codebase using Glob, Grep, and Read tools
+ 2. Understand existing patterns and architecture
+ 3. Design an implementation approach
+ 4. Present your plan to the user for approval
+ 5. Use ${TO} if you need to clarify approaches
+ 6. Exit plan mode with ExitPlanMode when ready to implement
+ 
+ ## Examples
+ 
+ ### GOOD - Use EnterPlanMode:
+ User: "Add user authentication to the app"
+ - Genuinely ambiguous: session vs JWT, where to store tokens, middleware structure
+ 
+ User: "Redesign the data pipeline"
+ - Major restructuring where the wrong approach wastes significant effort
+ 
+ ### BAD - Don't use EnterPlanMode:
+ User: "Add a delete button to the user profile"
+ - Implementation path is clear; just do it
+ 
+ User: "Can we work on the search feature?"
+ - User wants to get started, not plan
+ 
+ User: "Update the error handling in the API"
+ - Start working; ask specific questions if needed
+ 
+ User: "Fix the typo in the README"
+ - Straightforward, no planning needed
+ 
+ ## Important Notes
+ 
+ - This tool REQUIRES user approval - they must consent to entering plan mode
+ `));
+ });

+++ Added AQ4 (pretty-v2.1.27.js:417818-417840)
+ function AQ4(A, q, { verbose: K }) {
+   let Y = typeof A === "string" ? wA(A) : A;
+   if ("recipients" in Y && Array.isArray(Y.recipients))
+     return nM1.default.createElement(
+       f,
+       { dimColor: !0 },
+       "  ",
+       "broadcast to ",
+       Y.recipients.length,
+       " teammate",
+       Y.recipients.length === 1 ? "" : "s",
+       Y.recipients.length > 0 ? `: ${Y.recipients.join(", ")}` : "",
+     );
+   if ("request_id" in Y && "target" in Y)
+     return nM1.default.createElement(
+       f,
+       { dimColor: !0 },
+       "  ",
+       "shutdown request sent to @",
+       Y.target,
+     );
+   return nM1.default.createElement(f, { dimColor: !0 }, "  ", Y.message);
+ }

+++ Added AU4 (pretty-v2.1.27.js:422395-422397)
+ function AU4(A) {
+   lQ4 = A;
+ }

+++ Added RVY (pretty-v2.1.27.js:423143-423143)
+   RVY = 20000,

+++ Added sG (pretty-v2.1.27.js:434294-434294)
+ var sG = 600000;

+++ Added rIY (pretty-v2.1.27.js:445791-445791)
+ var rIY = 1800000,

+++ Added kp (pretty-v2.1.27.js:445793-445816)
+ var kp = E(() => {
+   m$();
+   bXA();
+   jr4();
+   ym();
+   f6();
+   F6();
+   xXA();
+   oA();
+   n6();
+   yz1();
+   R3();
+   $6();
+   Wr4();
+   fr4();
+   n4();
+   R7();
+   EH();
+   hH6();
+   $2();
+   vr4();
+   gA();
+   ORA = qA(sIY);
+ });

+++ Added hr4 (pretty-v2.1.27.js:446102-446132)
+ async function hr4(A) {
+   try {
+     let Y = (await x1().stat(A)).size;
+     if (Y === 0)
+       return {
+         success: !1,
+         error: { reason: "empty", message: `PDF file is empty: ${A}` },
+       };
+     if (Y > c4A)
+       return {
+         success: !1,
+         error: {
+           reason: "too_large",
+           message: `PDF file exceeds maximum allowed size of ${Y_(c4A)}.`,
+         },
+       };
+     let z = (await OxY(A)).toString("base64");
+     return {
+       success: !0,
+       data: { type: "pdf", file: { filePath: A, base64: z, originalSize: Y } },
+     };
+   } catch (q) {
+     return {
+       success: !1,
+       error: {
+         reason: "unknown",
+         message: q instanceof Error ? q.message : String(q),
+       },
+     };
+   }
+ }

+++ Added $xY (pretty-v2.1.27.js:446133-446140)
+ async function $xY() {
+   if (QP6 !== void 0) return QP6;
+   let { code: A, stderr: q } = await GA("pdftoppm", ["-v"], {
+     timeout: 5000,
+     useCwd: !1,
+   });
+   return ((QP6 = A === 0 || q.length > 0), QP6);
+ }

+++ Added Ir4 (pretty-v2.1.27.js:446141-446224)
+ async function Ir4(A) {
+   try {
+     let Y = (await x1().stat(A)).size;
+     if (Y === 0)
+       return {
+         success: !1,
+         error: { reason: "empty", message: `PDF file is empty: ${A}` },
+       };
+     if (Y > l4A)
+       return {
+         success: !1,
+         error: {
+           reason: "too_large",
+           message: `PDF file exceeds maximum allowed size for text extraction (${Y_(l4A)}).`,
+         },
+       };
+     if (!(await $xY()))
+       return {
+         success: !1,
+         error: {
+           reason: "unavailable",
+           message:
+             "pdftoppm is not installed. Install poppler-utils (e.g. `brew install poppler` or `apt-get install poppler-utils`) to enable PDF page rendering.",
+         },
+       };
+     let w = zxY(),
+       H = Sr4(z01(), `pdf-${w}`);
+     await wxY(H, { recursive: !0 });
+     let O = Sr4(H, "page"),
+       { code: $, stderr: _ } = await GA(
+         "pdftoppm",
+         ["-jpeg", "-r", "100", A, O],
+         { timeout: 120000, useCwd: !1 },
+       );
+     if ($ !== 0) {
+       if (/password/i.test(_))
+         return {
+           success: !1,
+           error: {
+             reason: "password_protected",
+             message:
+               "PDF is password-protected. Please provide an unprotected version.",
+           },
+         };
+       if (/damaged|corrupt|invalid/i.test(_))
+         return {
+           success: !1,
+           error: {
+             reason: "corrupted",
+             message: "PDF file is corrupted or invalid.",
+           },
+         };
+       return {
+         success: !1,
+         error: { reason: "unknown", message: `pdftoppm failed: ${_}` },
+       };
+     }
+     let X = (await HxY(H)).filter((M) => M.endsWith(".jpg")).sort();
+     if (X.length === 0)
+       return {
+         success: !1,
+         error: {
+           reason: "corrupted",
+           message: "pdftoppm produced no output pages. The PDF may be invalid.",
+         },
+       };
+     let j = X.length;
+     return {
+       success: !0,
+       data: {
+         type: "parts",
+         file: { filePath: A, originalSize: Y, outputDir: H, count: j },
+       },
+     };
+   } catch (q) {
+     return {
+       success: !1,
+       error: {
+         reason: "unknown",
+         message: q instanceof Error ? q.message : String(q),
+       },
+     };
+   }
+ }

+++ Added mxY (pretty-v2.1.27.js:447054-447059)
+ function mxY(A) {
+   let q = A.match(/https:\/\/github\.com\/([^/]+\/[^/]+)\/pull\/(\d+)/);
+   if (q?.[1] && q?.[2])
+     return { prNumber: parseInt(q[2], 10), prUrl: A, prRepository: q[1] };
+   return null;
+ }

+++ Added hp (pretty-v2.1.27.js:455292-455296)
+ function hp() {
+   let A = m11(),
+     K = ["user", "project", "local"].flatMap((Y) => HJ(Y).errors);
+   return { settings: A.settings, errors: [...A.errors, ...K] };
+ }

+++ Added agY (pretty-v2.1.27.js:472401-472411)
+ function agY(A) {
+   let { name: q } = lr(A),
+     K = pj();
+   if (K.plugins[A]?.length) return { pluginId: A, pluginName: q };
+   let Y = Object.keys(K.plugins).find((z) => {
+     let { name: w } = lr(z);
+     return w === q && (K.plugins[z]?.length ?? 0) > 0;
+   });
+   if (Y) return { pluginId: Y, pluginName: q };
+   return null;
+ }

+++ Added X8q (pretty-v2.1.27.js:481092-481103)
+ function X8q(A, q) {
+   switch (A) {
+     case "npm":
+       return `npm update ${q}`;
+     case "yarn":
+       return `yarn upgrade ${q}`;
+     case "pnpm":
+       return `pnpm update ${q}`;
+     case "bun":
+       return `bun update ${q}`;
+   }
+ }

+++ Added ilY (pretty-v2.1.27.js:483239-483241)
+ function ilY(A) {
+   return A.type === "tool_result";
+ }

+++ Added znY (pretty-v2.1.27.js:489130-489132)
+ function znY() {
+   return YnY;
+ }

+++ Added YaY (pretty-v2.1.27.js:502520-502544)
+ function YaY({ onDone: A }) {
+   let q = h6((O) => O.mainLoopModel),
+     K = h6((O) => O.mainLoopModelForSession),
+     Y = !1,
+     z = b7();
+   function w() {
+     n("tengu_model_command_menu", { action: "cancel" });
+     let O = q ?? zi().label;
+     A(`Kept model as ${K6.bold(O)}`, { display: "system" });
+   }
+   function H(O, $) {
+     (n("tengu_model_command_menu", { action: O, from_model: q, to_model: O }),
+       z((J) => ({ ...J, mainLoopModel: O, mainLoopModelForSession: null })));
+     let _ = `Set model to ${K6.bold(Iy(O))}`;
+     if ($ !== void 0) _ += ` with ${K6.bold($)} effort`;
+     A(_);
+   }
+   return Sh.createElement(sP1, {
+     initial: q,
+     sessionModel: K,
+     onSelect: H,
+     onCancel: w,
+     isStandaloneCommand: !0,
+   });
+ }

+++ Added QsY (pretty-v2.1.27.js:506782-506810)
+ function QsY(A, q) {
+   let K = A.has(vK)
+       ? `
+ - When doing file search, prefer to use the ${vK} tool in order to reduce context usage.
+ - You should proactively use the ${vK} tool with specialized agents when the task at hand matches the agent's description.${
+           q
+             ? `
+ ${q}`
+             : ""
+         }`
+       : "",
+     Y = A.has(Y$)
+       ? `
+ - When ${Y$} returns a message about a redirect to a different host, you should immediately make a new ${Y$} request with the redirect URL provided in the response.`
+       : "";
+   return `# Tool usage policy${K}${Y}
+ - You can call multiple tools in a single response. If you intend to call multiple tools and there are no dependencies between them, make all independent tool calls in parallel. Maximize use of parallel tool calls where possible to increase efficiency. However, if some tool calls depend on previous calls to inform dependent values, do NOT call these tools in parallel and instead call them sequentially. For instance, if one operation must complete before another starts, run these operations sequentially instead. Never use placeholders or guess missing parameters in tool calls.
+ - If the user specifies that they want you to run tools "in parallel", you MUST send a single message with multiple tool use content blocks. For example, if you need to launch multiple agents in parallel, send a single message with multiple ${vK} tool calls.
+ - Use specialized tools instead of bash commands when possible, as this provides a better user experience. For file operations, use dedicated tools: ${pK} for reading files instead of cat/head/tail, ${$3} for editing instead of sed/awk, and ${wz} for creating files instead of cat with heredoc or echo redirection. Reserve bash tools exclusively for actual system commands and terminal operations that require shell execution. NEVER use bash echo or other command-line tools to communicate thoughts, explanations, or instructions to the user. Output all communication directly in your response text instead.
+ - ${`VERY IMPORTANT: When exploring the codebase to gather context or to answer a question that is not a needle query for a specific file/class/function, it is CRITICAL that you use the ${vK} tool with subagent_type=${KL.agentType} instead of running search commands directly.`} 
+ <example>
+ user: Where are errors from the client handled?
+ assistant: [Uses the ${vK} tool with subagent_type=${KL.agentType} to find the files that handle client errors instead of using ${cw} or ${J2} directly]
+ </example>
+ <example>
+ user: What is the codebase structure?
+ assistant: [Uses the ${vK} tool with subagent_type=${KL.agentType}]
+ </example>`;
+ }

+++ Added MeY (pretty-v2.1.27.js:512135-512137)
+ function MeY() {
+   if (Gt) ((Gt.pendingWriteCount = 0), (Gt.flushResolvers = []));
+ }

+++ Added PeY (pretty-v2.1.27.js:512138-512140)
+ function PeY() {
+   Gt = null;
+ }

+++ Added WeY (pretty-v2.1.27.js:512501-512503)
+ async function WeY(A) {
+   await lD().insertAttributionSnapshot(A);
+ }

+++ Added GeY (pretty-v2.1.27.js:512508-512510)
+ async function GeY() {
+   await lD().flush();
+ }

+++ Added ZeY (pretty-v2.1.27.js:512610-512655)
+ async function ZeY(A) {
+   let q = x1();
+   if (!q.existsSync(A)) throw Error(`File not found: ${A}`);
+   if (A.endsWith(".jsonl")) {
+     let {
+       messages: w,
+       summaries: H,
+       customTitles: O,
+       tags: $,
+       fileHistorySnapshots: _,
+       attributionSnapshots: J,
+       leafUuids: X,
+     } = await ft(A);
+     if (w.size === 0) throw Error("No messages found in JSONL file");
+     let D = [...w.values()]
+       .filter((G) => X.has(G.uuid))
+       .sort(
+         (G, Z) =>
+           new Date(Z.timestamp).getTime() - new Date(G.timestamp).getTime(),
+       )[0];
+     if (!D) throw Error("No valid conversation chain found in JSONL file");
+     let j = UW1(w, D),
+       M = H.get(D.uuid),
+       P = O.get(D.sessionId),
+       W = $.get(D.sessionId);
+     return ZIA(j, 0, M, P, xZ6(_, j), W, A, bZ6(J, j));
+   }
+   let K = q.readFileSync(A, { encoding: "utf-8" }),
+     Y;
+   try {
+     Y = wA(K);
+   } catch (w) {
+     throw Error(`Invalid JSON in transcript file: ${w}`);
+   }
+   let z;
+   if (Array.isArray(Y)) z = Y;
+   else if (Y && typeof Y === "object" && "messages" in Y) {
+     if (!Array.isArray(Y.messages))
+       throw Error("Transcript messages must be an array");
+     z = Y.messages;
+   } else
+     throw Error(
+       "Transcript must be an array of messages or an object with a messages array",
+     );
+   return ZIA(z, 0, void 0, void 0, void 0, void 0, A);
+ }

+++ Added TeY (pretty-v2.1.27.js:512784-512800)
+ async function TeY(A, q, K, Y, z) {
+   let w = z ?? OJ(A);
+   (FQ1(
+     w,
+     A,
+     {
+       type: "pr-link",
+       sessionId: A,
+       prNumber: q,
+       prUrl: K,
+       prRepository: Y,
+       timestamp: new Date().toISOString(),
+     },
+     { prNumber: q, prUrl: K, prRepository: Y },
+   ),
+     n("tengu_session_linked_to_pr", { prNumber: q }));
+ }

+++ Added veY (pretty-v2.1.27.js:512837-512840)
+ function veY(A) {
+   if (A === B6()) return lD().currentSessionAgentName;
+   return;
+ }

+++ Added EeY (pretty-v2.1.27.js:512841-512844)
+ function EeY(A) {
+   if (A === B6()) return lD().currentSessionAgentColor;
+   return;
+ }

+++ Added IYq (pretty-v2.1.27.js:517622-517622)
+ var IYq = {};

+++ Added Izq (pretty-v2.1.27.js:520496-520496)
+   Izq = !1;

+++ Added Nf6 (pretty-v2.1.27.js:532110-532110)
+   Nf6 = null;

+++ Added qqz (pretty-v2.1.27.js:533792-533792)
+   qqz = 20000,

+++ Added hf6 (pretty-v2.1.27.js:534330-534330)
+   hf6 = null,

+++ Added GU1 (pretty-v2.1.27.js:540604-540611)
+ function GU1(A, q, K) {
+   return {
+     messageID: A,
+     toolName: gq(q),
+     sandboxEnabled: g8.isSandboxingEnabled(),
+     ...(K !== void 0 && { waiting_for_user_permission_ms: K }),
+   };
+ }

+++ Added oKz (pretty-v2.1.27.js:540612-540633)
+ function oKz(A, q, K, Y) {
+   if (K === "config") {
+     n("tengu_tool_use_granted_in_config", GU1(q, A.name, void 0));
+     return;
+   }
+   switch (K.type) {
+     case "user":
+       n(
+         K.permanent
+           ? "tengu_tool_use_granted_in_prompt_permanent"
+           : "tengu_tool_use_granted_in_prompt_temporary",
+         GU1(q, A.name, Y),
+       );
+       break;
+     case "hook":
+       n("tengu_tool_use_granted_by_permission_hook", {
+         ...GU1(q, A.name, Y),
+         permanent: K.permanent ?? !1,
+       });
+       break;
+   }
+ }

+++ Added aKz (pretty-v2.1.27.js:540634-540645)
+ function aKz(A, q, K, Y) {
+   if (K === "config") {
+     n("tengu_tool_use_denied_in_config", GU1(q, A.name, void 0));
+     return;
+   }
+   n("tengu_tool_use_rejected_in_prompt", {
+     ...GU1(q, A.name, Y),
+     ...(K.type === "hook"
+       ? { isHook: !0 }
+       : { hasFeedback: K.type === "user_reject" ? K.hasFeedback : !1 }),
+   });
+ }

+++ Added gf6 (pretty-v2.1.27.js:540646-540660)
+ function gf6(A, q, K) {
+   let { tool: Y, input: z, toolUseContext: w, messageId: H, toolUseID: O } = A,
+     { decision: $, source: _ } = q,
+     J = K !== void 0 ? Date.now() - K : void 0;
+   if (q.decision === "accept") oKz(Y, H, q.source, J);
+   else aKz(Y, H, q.source, J);
+   let X = _ === "config" ? "config" : rKz(_);
+   if (iKz(Y.name)) {
+     let D = nKz(Y, z, $, X);
+     ET6()?.add(1, D);
+   }
+   if (!w.toolDecisions) w.toolDecisions = new Map();
+   (w.toolDecisions.set(O, { source: X, decision: $, timestamp: Date.now() }),
+     fD("tool_decision", { decision: $, source: X, tool_name: gq(Y.name) }));
+ }

+++ Added Qf6 (pretty-v2.1.27.js:540671-540687)
+ function Qf6(A) {
+   let q = !1,
+     K = !1;
+   return {
+     resolve(Y) {
+       if (K) return;
+       ((K = !0), (q = !0), A(Y));
+     },
+     isResolved() {
+       return q;
+     },
+     claim() {
+       if (q) return !1;
+       return ((q = !0), !0);
+     },
+   };
+ }

+++ Added l$q (pretty-v2.1.27.js:540688-540825)
+ function l$q(A, q, K, Y, z, w, H) {
+   let O = Y.message.id;
+   return Object.freeze({
+     tool: A,
+     input: q,
+     toolUseContext: K,
+     assistantMessage: Y,
+     messageId: O,
+     toolUseID: z,
+     logDecision(_, J) {
+       gf6(
+         {
+           tool: A,
+           input: J?.input ?? q,
+           toolUseContext: K,
+           messageId: O,
+           toolUseID: z,
+         },
+         _,
+         J?.permissionPromptStartTimeMs,
+       );
+     },
+     logCancelled() {
+       n("tengu_tool_use_cancelled", { messageID: O, toolName: gq(A.name) });
+     },
+     async persistPermissions(_) {
+       if (_.length === 0) return !1;
+       Kg(_);
+       let J = await K.getAppState();
+       return (
+         w(YT(J.toolPermissionContext, _)),
+         _.some((X) => R1A(X.destination))
+       );
+     },
+     resolveIfAborted(_) {
+       if (!K.abortController.signal.aborted) return !1;
+       return (this.logCancelled(), _(this.cancelAndAbort(void 0, !0)), !0);
+     },
+     cancelAndAbort(_, J) {
+       let X = !!K.agentId,
+         D = _ ? `${X ? gB1 : Hb1}${_}` : X ? nS : Pq1;
+       if (J || (!_ && !X))
+         (I(
+           `Aborting: tool=${A.name} isAbort=${J} hasFeedback=${!!_} isSubagent=${X}`,
+         ),
+           K.abortController.abort());
+       return { behavior: "ask", message: D };
+     },
+     async tryClassifier(_, J) {
+       if (A.name !== X4 || !_) return null;
+       let X = await V06(
+         _,
+         K.abortController.signal,
+         K.options.isNonInteractiveSession,
+       );
+       if (!X) return null;
+       return (
+         this.logDecision({
+           decision: "accept",
+           source: { type: "classifier" },
+         }),
+         this.buildAllow(J ?? q, { decisionReason: X })
+       );
+     },
+     async runHooks(_, J, X, D) {
+       for await (let j of CF1(A.name, z, q, K, _, J, K.abortController.signal))
+         if (j.permissionRequestResult) {
+           let M = j.permissionRequestResult;
+           if (M.behavior === "allow") {
+             let P = M.updatedInput ?? X ?? q;
+             return await this.handleHookAllow(P, M.updatedPermissions ?? [], D);
+           } else if (M.behavior === "deny") {
+             if (
+               (this.logDecision(
+                 { decision: "reject", source: { type: "hook" } },
+                 { permissionPromptStartTimeMs: D },
+               ),
+               M.interrupt)
+             )
+               (I(`Hook interrupt: tool=${A.name} hookMessage=${M.message}`),
+                 K.abortController.abort());
+             return this.buildDeny(M.message || "Permission denied by hook", {
+               type: "hook",
+               hookName: "PermissionRequest",
+               reason: M.message,
+             });
+           }
+         }
+       return null;
+     },
+     buildAllow(_, J) {
+       return {
+         behavior: "allow",
+         updatedInput: _,
+         userModified: J?.userModified ?? !1,
+         ...(J?.decisionReason && { decisionReason: J.decisionReason }),
+         ...(J?.acceptFeedback && { acceptFeedback: J.acceptFeedback }),
+       };
+     },
+     buildDeny(_, J) {
+       return { behavior: "deny", message: _, decisionReason: J };
+     },
+     async handleUserAllow(_, J, X, D) {
+       let j = await this.persistPermissions(J);
+       this.logDecision(
+         { decision: "accept", source: { type: "user", permanent: j } },
+         { input: _, permissionPromptStartTimeMs: D },
+       );
+       let M = A.inputsEquivalent ? !A.inputsEquivalent(q, _) : !1,
+         P = X?.trim();
+       return this.buildAllow(_, {
+         userModified: M,
+         acceptFeedback: P || void 0,
+       });
+     },
+     async handleHookAllow(_, J, X) {
+       let D = await this.persistPermissions(J);
+       return (
+         this.logDecision(
+           { decision: "accept", source: { type: "hook", permanent: D } },
+           { input: _, permissionPromptStartTimeMs: X },
+         ),
+         this.buildAllow(_, {
+           decisionReason: { type: "hook", hookName: "PermissionRequest" },
+         })
+       );
+     },
+     pushToQueue(_) {
+       H?.((J) => [...J, _]);
+     },
+     removeFromQueue() {
+       H?.((_) => _.filter((J) => J.toolUseID !== z));
+     },
+     updateQueueItem(_) {
+       H?.((J) => J.map((X) => (X.toolUseID === z ? { ...X, ..._ } : X)));
+     },
+   });
+ }

+++ Added i$q (pretty-v2.1.27.js:540837-540858)
+ async function i$q(A) {
+   let {
+     ctx: q,
+     pendingClassifierCheck: K,
+     updatedInput: Y,
+     suggestions: z,
+     permissionMode: w,
+   } = A;
+   try {
+     let H = await q.runHooks(w, z, Y);
+     if (H) return H;
+     let O = await q.tryClassifier(K, Y);
+     if (O) return O;
+   } catch (H) {
+     q1(
+       H instanceof Error
+         ? H
+         : Error(`Automated permission check failed: ${String(H)}`),
+     );
+   }
+   return null;
+ }

+++ Added r$q (pretty-v2.1.27.js:540862-540935)
+ async function r$q(A) {
+   if (!i8() || !TB1()) return null;
+   let {
+       ctx: q,
+       description: K,
+       pendingClassifierCheck: Y,
+       updatedInput: z,
+       suggestions: w,
+     } = A,
+     H = await q.tryClassifier(Y, z);
+   if (H) return H;
+   try {
+     let O = () =>
+       q.toolUseContext.setAppState((_) => ({
+         ..._,
+         pendingWorkerRequest: null,
+       }));
+     return await new Promise((_) => {
+       let { resolve: J, claim: X } = Qf6(_),
+         D = rX6({
+           toolName: q.tool.name,
+           toolUseId: q.toolUseID,
+           input: q.input,
+           description: K,
+           permissionSuggestions: w,
+         });
+       (tX6({
+         requestId: D.id,
+         toolUseId: q.toolUseID,
+         async onAllow(j, M, P) {
+           if (!X()) return;
+           O();
+           let W = j && Object.keys(j).length > 0 ? j : q.input;
+           J(await q.handleUserAllow(W, M, P));
+         },
+         onReject(j) {
+           if (!X()) return;
+           (O(),
+             q.logDecision({
+               decision: "reject",
+               source: { type: "user_reject", hasFeedback: !!j },
+             }),
+             J(q.cancelAndAbort(j)));
+         },
+       }),
+         oX6(D),
+         q.toolUseContext.setAppState((j) => ({
+           ...j,
+           pendingWorkerRequest: {
+             toolName: q.tool.name,
+             toolUseId: q.toolUseID,
+             description: K,
+           },
+         })),
+         q.toolUseContext.abortController.signal.addEventListener(
+           "abort",
+           () => {
+             if (!X()) return;
+             (O(), q.logCancelled(), J(q.cancelAndAbort(void 0, !0)));
+           },
+           { once: !0 },
+         ));
+     });
+   } catch (O) {
+     return (
+       q1(
+         O instanceof Error
+           ? O
+           : Error(`Failed to submit swarm permission request: ${String(O)}`),
+       ),
+       null
+     );
+   }
+ }

+++ Added a$q (pretty-v2.1.27.js:540943-541063)
+ function a$q(A, q) {
+   let {
+       ctx: K,
+       description: Y,
+       result: z,
+       awaitAutomatedChecksBeforeDialog: w,
+     } = A,
+     { resolve: H, isResolved: O, claim: $ } = Qf6(q),
+     _ = !1,
+     J = Date.now(),
+     X = z.updatedInput ?? K.input;
+   function D() {
+     K.updateQueueItem({ classifierCheckInProgress: !1 });
+   }
+   if (
+     (K.pushToQueue({
+       assistantMessage: K.assistantMessage,
+       tool: K.tool,
+       description: Y,
+       input: X,
+       toolUseContext: K.toolUseContext,
+       toolUseID: K.toolUseID,
+       permissionResult: z,
+       permissionPromptStartTimeMs: J,
+       classifierCheckInProgress: !!z.pendingClassifierCheck,
+       onUserInteraction() {
+         ((_ = !0), oO6(K.toolUseID), D());
+       },
+       onAbort() {
+         if (!$()) return;
+         (K.logCancelled(),
+           K.logDecision(
+             { decision: "reject", source: { type: "user_abort" } },
+             { permissionPromptStartTimeMs: J },
+           ),
+           H(K.cancelAndAbort(void 0, !0)));
+       },
+       async onAllow(j, M, P) {
+         if (!$()) return;
+         H(await K.handleUserAllow(j, M, P, J));
+       },
+       onReject(j) {
+         if (!$()) return;
+         (K.logDecision(
+           {
+             decision: "reject",
+             source: { type: "user_reject", hasFeedback: !!j },
+           },
+           { permissionPromptStartTimeMs: J },
+         ),
+           H(K.cancelAndAbort(j)));
+       },
+       async recheckPermission() {
+         if (O()) return;
+         let j = await wX(
+           K.tool,
+           K.input,
+           K.toolUseContext,
+           K.assistantMessage,
+           K.toolUseID,
+         );
+         if (j.behavior === "allow")
+           (K.removeFromQueue(),
+             K.logDecision({ decision: "accept", source: "config" }),
+             H(K.buildAllow(j.updatedInput ?? K.input)));
+       },
+     }),
+     !w)
+   )
+     (async () => {
+       if (O()) return;
+       let j = await K.toolUseContext.getAppState(),
+         M = await K.runHooks(
+           j.toolPermissionContext.mode,
+           z.suggestions,
+           z.updatedInput,
+           J,
+         );
+       if (!M || !$()) return;
+       (K.removeFromQueue(), H(M));
+     })();
+   if (z.pendingClassifierCheck && K.tool.name === X4 && !w)
+     (LY4(K.toolUseID),
+       UC4(
+         z.pendingClassifierCheck,
+         K.toolUseContext.abortController.signal,
+         K.toolUseContext.options.isNonInteractiveSession,
+         {
+           shouldContinue: () => !O() && !_,
+           onComplete: () => {
+             (oO6(K.toolUseID), D());
+           },
+           onAllow: (j) => {
+             if (!$()) return;
+             oO6(K.toolUseID);
+             let M =
+               j.type === "classifier"
+                 ? (j.reason.match(/^Allowed by prompt rule: "(.+)"$/)?.[1] ??
+                   j.reason)
+                 : void 0;
+             (K.updateQueueItem({
+               classifierCheckInProgress: !1,
+               classifierAutoApproved: !0,
+               classifierMatchedRule: M,
+             }),
+               K.logDecision(
+                 { decision: "accept", source: { type: "classifier" } },
+                 { permissionPromptStartTimeMs: J },
+               ),
+               H(K.buildAllow(K.input, { decisionReason: j })));
+             let P = setTimeout(() => {
+               K.removeFromQueue();
+             }, 1000);
+             K.toolUseContext.abortController.signal.addEventListener(
+               "abort",
+               () => clearTimeout(P),
+             );
+           },
+         },
+       ));
+ }

+++ Added sKz (pretty-v2.1.27.js:541072-541164)
+ function sKz(A, q) {
+   return t$q.useCallback(
+     async (K, Y, z, w, H, O) => {
+       return new Promise(($) => {
+         let _ = l$q(K, Y, z, w, H, q, A);
+         if (_.resolveIfAborted($)) return;
+         return (O !== void 0 ? Promise.resolve(O) : wX(K, Y, z, w, H))
+           .then(async (X) => {
+             if (X.behavior === "allow") {
+               (_.logDecision({ decision: "accept", source: "config" }),
+                 $(
+                   _.buildAllow(X.updatedInput ?? Y, {
+                     decisionReason: X.decisionReason,
+                   }),
+                 ));
+               return;
+             }
+             let D = await z.getAppState(),
+               j = await K.description(Y, {
+                 isNonInteractiveSession: z.options.isNonInteractiveSession,
+                 toolPermissionContext: D.toolPermissionContext,
+                 tools: z.options.tools,
+               });
+             if (_.resolveIfAborted($)) return;
+             switch (X.behavior) {
+               case "deny": {
+                 (gf6(
+                   {
+                     tool: K,
+                     input: Y,
+                     toolUseContext: z,
+                     messageId: _.messageId,
+                     toolUseID: H,
+                   },
+                   { decision: "reject", source: "config" },
+                 ),
+                   $(X));
+                 return;
+               }
+               case "ask": {
+                 if (D.toolPermissionContext.awaitAutomatedChecksBeforeDialog) {
+                   let P = await i$q({
+                     ctx: _,
+                     pendingClassifierCheck: X.pendingClassifierCheck,
+                     updatedInput: X.updatedInput,
+                     suggestions: X.suggestions,
+                     permissionMode: D.toolPermissionContext.mode,
+                   });
+                   if (P) {
+                     $(P);
+                     return;
+                   }
+                 }
+                 if (_.resolveIfAborted($)) return;
+                 let M = await r$q({
+                   ctx: _,
+                   description: j,
+                   pendingClassifierCheck: X.pendingClassifierCheck,
+                   updatedInput: X.updatedInput,
+                   suggestions: X.suggestions,
+                 });
+                 if (M) {
+                   $(M);
+                   return;
+                 }
+                 a$q(
+                   {
+                     ctx: _,
+                     description: j,
+                     result: X,
+                     awaitAutomatedChecksBeforeDialog:
+                       D.toolPermissionContext.awaitAutomatedChecksBeforeDialog,
+                   },
+                   $,
+                 );
+                 return;
+               }
+             }
+           })
+           .catch((X) => {
+             if (X instanceof Tz || X instanceof pY)
+               (I(
+                 `Permission check threw ${X.constructor.name} for tool=${K.name}: ${X.message}`,
+               ),
+                 _.logCancelled(),
+                 $(_.cancelAndAbort(void 0, !0)));
+             else (q1(X), $(_.cancelAndAbort(void 0, !0)));
+           });
+       });
+     },
+     [A, q],
+   );
+ }

+++ Added A_q (pretty-v2.1.27.js:541166-541183)
+ var A_q = E(() => {
+   o_();
+   F6();
+   JO();
+   mw();
+   Tf();
+   WD1();
+   f6();
+   $6();
+   R6();
+   QbA();
+   Uf6();
+   n$q();
+   o$q();
+   s$q();
+   t$q = r($1(), 1);
+   e$q = sKz;
+ });

+++ Added q_q (pretty-v2.1.27.js:541184-541184)
+ var q_q = "Sleep";

+++ Added mt (pretty-v2.1.27.js:544757-544759)
+ function mt() {
+   return F3z;
+ }

+++ Added GPq (pretty-v2.1.27.js:547924-547928)
+ function GPq(A) {
+   if (!("text" in A)) return 1;
+   let q = A.text.match(/^(\d+)/);
+   return q?.[1] ? parseInt(q[1], 10) : 1;
+ }

+++ Added t5z (pretty-v2.1.27.js:547929-547931)
+ function t5z(A, q) {
+   return ZPq(GPq(A) + 1);
+ }

+++ Added ZPq (pretty-v2.1.27.js:547932-547940)
+ function ZPq(A) {
+   return {
+     key: "teammate-spawn",
+     text: A === 1 ? "1 agent spawned" : `${A} agents spawned`,
+     priority: "low",
+     timeoutMs: 5000,
+     fold: t5z,
+   };
+ }

+++ Added e5z (pretty-v2.1.27.js:547941-547943)
+ function e5z(A, q) {
+   return fPq(GPq(A) + 1);
+ }

+++ Added fPq (pretty-v2.1.27.js:547944-547952)
+ function fPq(A) {
+   return {
+     key: "teammate-shutdown",
+     text: A === 1 ? "1 agent shut down" : `${A} agents shut down`,
+     priority: "low",
+     timeoutMs: 5000,
+     fold: e5z,
+   };
+ }

+++ Added NPq (pretty-v2.1.27.js:547953-547967)
+ function NPq() {
+   let A = h6((z) => z.tasks),
+     { addNotification: q } = bq(),
+     K = xU1.useRef(new Set()),
+     Y = xU1.useRef(new Set());
+   xU1.useEffect(() => {
+     for (let [z, w] of Object.entries(A)) {
+       if (!a_(w)) continue;
+       if (w.status === "running" && !K.current.has(z))
+         (K.current.add(z), q(ZPq(1)));
+       if (w.status === "completed" && !Y.current.has(z))
+         (Y.current.add(z), q(fPq(1)));
+     }
+   }, [A, q]);
+ }

+++ Added vPq (pretty-v2.1.27.js:548058-548058)
+   vPq = () => "/issue";

+++ Added WN6 (pretty-v2.1.27.js:549723-549723)
+   WN6 = null;

+++ Added I9z (pretty-v2.1.27.js:552487-552493)
+ function I9z(A) {
+   let q = parseInt(A, 10);
+   if (!isNaN(q) && q > 0) return q;
+   let K = A.match(/github\.com\/[^/]+\/[^/]+\/pull\/(\d+)/);
+   if (K?.[1]) return parseInt(K[1], 10);
+   return null;
+ }

+++ Added d9z (pretty-v2.1.27.js:553421-553423)
+ function d9z(A, q) {
+   return;
+ }

+++ Added _Yz (pretty-v2.1.27.js:554597-554597)
+   _Yz = 1e4;

+++ Added FuA (pretty-v2.1.27.js:554598-554604)
+ var FuA = E(() => {
+   g_1();
+   $6();
+   cF();
+   LW();
+   R6();
+ });

+++ Added FU1 (pretty-v2.1.27.js:554612-554612)
+ var FU1 = 10,

+++ Added TGq (pretty-v2.1.27.js:554686-554690)
+ var TGq = E(() => {
+   FuA();
+   NGq();
+   gA();
+ });

+++ Added yGq (pretty-v2.1.27.js:555318-555325)
+ var yGq = E(() => {
+   f6();
+   EuA();
+   R7();
+   RGq();
+   F6();
+   Qn();
+ });

+++ Added xGq (pretty-v2.1.27.js:555382-555384)
+ var xGq = E(() => {
+   DS();
+ });

+++ Added uGq (pretty-v2.1.27.js:555435-555444)
+ var uGq = E(() => {
+   sbA();
+   XW1();
+   _CA();
+   NO();
+   jG6();
+   r_();
+   $6();
+   f6();
+ });

+++ Added cGq (pretty-v2.1.27.js:557348-557357)
+ var cGq = E(() => {
+   F6();
+   iU();
+   Nh();
+   dS();
+   $6();
+   Mw();
+   Ba();
+   C8();
+ });

+++ Added puA (pretty-v2.1.27.js:557699-557706)
+ var puA = E(() => {
+   KK1();
+   mA();
+   n6();
+   $6();
+   jq();
+   wY();
+ });

+++ Added MZq (pretty-v2.1.27.js:558643-558649)
+ var MZq = E(() => {
+   rG();
+   ZX();
+   gA();
+   R6();
+   F6();
+ });

+++ Added TZq (pretty-v2.1.27.js:558967-558967)
+ var TZq = {};

+++ Added import@513552 (pretty-v2.1.27.js:513553-513558)
+ import {
+   writeFile as IeY,
+   mkdir as xeY,
+   rm as v9q,
+   readdir as beY,
+ } from "fs/promises";

+++ Added import@558974 (pretty-v2.1.27.js:558975-558975)
+ import { existsSync as xN6, readFileSync as WZq } from "fs";

+++ Added import@562198 (pretty-v2.1.27.js:562199-562208)
+ import {
+   existsSync as j1z,
+   unlinkSync as iIA,
+   chmodSync as s9q,
+   statSync as M1z,
+   mkdirSync as P1z,
+   readdirSync as t9q,
+   rmdirSync as W1z,
+   appendFileSync as G1z,
+ } from "fs";

=== Structural Changes ===

@@@ variable 'D78' (was 'FY8')  structural (97.7%)
--- pretty-v2.1.26.js:31237
+++ pretty-v2.1.27.js:31425
@@ -987,8 +987,7 @@
       function W(a, _A) {
         _A = _A || O.languages || Object.keys(K);
         let WA = Z(a),
-          ZA = _A
-            .filter(d)
+          M1 = D1.filter(d)
             .filter(c)
             .map((GA) => G(GA, a, !1));
         ZA.unshift(WA);

@@@ variable 'aT' (was 'Dv')  structural (96.5%)
--- pretty-v2.1.26.js:411744
+++ pretty-v2.1.27.js:378475
@@ -15,6 +15,7 @@
   K7();
   b1();
   o9();
+  wY();
   x1K = U.strictObject({
     operation: U.enum([
       "spawnTeam",

@@@ variable 'w_' (was 'w0')  structural (96.3%)
--- pretty-v2.1.26.js:524743
+++ pretty-v2.1.27.js:506444
@@ -92,6 +92,8 @@
   YVK();
   zVK();
   $J();
+  f5q();
+  KO();
   ((ng6 = J6(() => [
     xHK,
     sjK,

@@@ variable 'VM6' (was 'CV1')  structural (95.3%)
--- pretty-v2.1.26.js:447878
+++ pretty-v2.1.27.js:429640
@@ -1175,6 +1175,33 @@
           "--version": "none",
         },
       },
+      pyright: {
+        safeFlags: {
+          "--outputjson": "none",
+          "--project": "string",
+          "-p": "string",
+          "--pythonversion": "string",
+          "--pythonplatform": "string",
+          "--typeshedpath": "string",
+          "--venvpath": "string",
+          "--level": "string",
+          "--stats": "none",
+          "--verbose": "none",
+          "--version": "none",
+          "--dependencies": "none",
+          "--warnings": "none",
+        },
+        additionalCommandIsDangerousCallback: (A) => {
+          let q = sz(A, (Y) => `$${Y}`);
+          if (!q.success) return !0;
+          return q.tokens
+            .map((Y) =>
+              typeof Y === "string" ? Y : "pattern" in Y ? Y.pattern : void 0,
+            )
+            .filter((Y) => Y !== void 0)
+            .some((Y) => Y === "--watch" || Y === "-w");
+        },
+      },
     }));
   MP2 = ["echo", "printf", "wc", "grep", "head", "tail"];
   ((fP2 = [

@@@ variable 'CU8' (was 'FK4')  structural (95.0%)
--- pretty-v2.1.26.js:147383
+++ pretty-v2.1.27.js:127212
@@ -663,7 +663,8 @@
           ((O = !0),
           T5(z.destroyed || (z[Pn] && q[MD] <= 1)),
           z.off("drain", _).off("error", Z),
-          K.removeListener("data", $)
+          q
+            .removeListener("data", J)
             .removeListener("end", Z)
             .removeListener("close", G),
           !W)

@@@ variable 'Mw' (was 'yw')  structural (94.8%)
--- pretty-v2.1.26.js:466428
+++ pretty-v2.1.27.js:310450
@@ -10,6 +10,7 @@
   l1();
   K6();
   yK();
+  vq();
   cwK = J6(() => {
     if (
       (process.on("SIGINT", () => {

@@@ variable 'dlA' (was 'je6')  structural (94.5%)
--- pretty-v2.1.26.js:13980
+++ pretty-v2.1.27.js:14187
@@ -28,7 +28,8 @@
       return /^debug_/i.test(A);
     })
     .reduce((A, K) => {
-      let q = K.substring(6)
+      let K = q
+          .substring(6)
           .toLowerCase()
           .replace(/_([a-z])/g, (z, w) => {
             return w.toUpperCase();

@@@ variable 'TiA' (was 'oe6')  structural (94.4%)
--- pretty-v2.1.26.js:14943
+++ pretty-v2.1.27.js:15151
@@ -175,11 +175,10 @@
           F && T.delete("authorization");
           let Q;
           try {
-            Q = eAA(
-              f.pathname + f.search,
-              K.params,
-              K.paramsSerializer,
-            ).replace(/^\?/, "");
+            Q = ie(N.pathname + N.search, q.params, q.paramsSerializer).replace(
+              /^\?/,
+              "",
+            );
           } catch (c) {
             let qA = Error(c.message);
             return ((qA.config = K), (qA.url = K.url), (qA.exists = !0), z(qA));

@@@ function 'keY' (was 'GE2')  structural (93.8%)
--- pretty-v2.1.26.js:466030
+++ pretty-v2.1.27.js:513192
@@ -7,6 +7,9 @@
   if (q.tag !== void 0) z.tag = q.tag;
   if (q.agentName !== void 0) z.agentName = q.agentName;
   if (q.agentColor !== void 0) z.agentColor = q.agentColor;
+  if (K.prNumber !== void 0) z.prNumber = K.prNumber;
+  if (K.prUrl !== void 0) z.prUrl = K.prUrl;
+  if (K.prRepository !== void 0) z.prRepository = K.prRepository;
   let w = BA();
   try {
     let H = w.statSync(z.fullPath);

@@@ function '_Q1' (was 'HdA')  structural (93.5%)
--- pretty-v2.1.26.js:502350
+++ pretty-v2.1.27.js:484043
@@ -214,8 +214,16 @@
       ((v8 = G3.filter((V7) => {
         let n5 = Ml(V7).toLowerCase(),
           $9 = (V7.gitBranch || "").toLowerCase(),
-          vY = (V7.tag || "").toLowerCase();
-        return n5.includes(V8) || $9.includes(V8) || vY.includes(V8);
+          ZY = (w4.tag || "").toLowerCase(),
+          C6 = w4.prNumber
+            ? `pr #${w4.prNumber} ${w4.prRepository || ""}`.toLowerCase()
+            : "";
+        return (
+          rK.includes(X8) ||
+          Y9.includes(X8) ||
+          ZY.includes(X8) ||
+          C6.includes(X8)
+        );
       })),
         (K[43] = G3),
         (K[44] = N1),

@@@ variable 'Hy' (was 'Ay')  structural (93.3%)
--- pretty-v2.1.26.js:118065
+++ pretty-v2.1.27.js:92699
@@ -7,10 +7,9 @@
     oNq = async (A) => {
       let K = A?.Bucket || "";
       if (typeof A.Bucket === "string")
-        A.Bucket = K.replace(/#/g, encodeURIComponent("#")).replace(
-          /\?/g,
-          encodeURIComponent("?"),
-        );
+        A.Bucket = q
+          .replace(/#/g, encodeURIComponent("#"))
+          .replace(/\?/g, encodeURIComponent("?"));
       if (ATq(K)) {
         if (A.ForcePathStyle === !0)
           throw Error("Path-style addressing cannot be used with ARN buckets");

@@@ variable 'wQ4' (was 'j9K')  structural (92.5%)
--- pretty-v2.1.26.js:445267
+++ pretty-v2.1.27.js:418157
@@ -35,7 +35,6 @@
     name: bmA,
     maxResultSizeChars: 1e5,
     userFacingName() {
-      if (x8()) return "";
       return "SendMessage";
     },
     inputSchema: Z9K,

@@@ variable 'V3q' (was 'HPK')  structural (92.5%)
--- pretty-v2.1.26.js:520910
+++ pretty-v2.1.27.js:502611
@@ -9,7 +9,6 @@
   xq();
   S4();
   Yz();
-  ZPA();
   Xh = r(XA(), 1);
   wPK = {
     type: "local-jsx",

@@@ function '$7z' (was 'Wr2')  structural (92.4%)
--- pretty-v2.1.26.js:540838
+++ pretty-v2.1.27.js:524705
@@ -172,7 +172,7 @@
             permissionResult: A.permissionResult,
             toolName: "Bash",
           }),
-          A.toolUseContext.options.debug &&
+          q.options.debug &&
             vO.default.createElement(
               S,
               { justifyContent: "flex-end", marginTop: 1 },
@@ -225,7 +225,7 @@
               ((B === "yes" && !C) || (B === "no" && !x)) && "  Tab to amend",
               _.enabled && `  ctrl+e to ${_.visible ? "hide" : "explain"}`,
             ),
-            A.toolUseContext.options.debug &&
+            q.options.debug &&
               vO.default.createElement(
                 V,
                 { dimColor: !0 },

@@@ function 'V$Y' (was 'A02')  structural (92.2%)
--- pretty-v2.1.26.js:405545
+++ pretty-v2.1.27.js:374396
@@ -4,10 +4,7 @@
     z = VAK(A.content, Y);
   if (z) return yq.createElement(yq.Fragment, { key: K }, z);
   let w = jAK(A.content);
-  if (w) {
-    if (x8()) return null;
-    return yq.createElement(yq.Fragment, { key: K }, w);
-  }
+  if (w) return S3.createElement(S3.Fragment, { key: q }, w);
   let H = MAK(A.content);
   if (H) return yq.createElement(yq.Fragment, { key: K }, H);
   let J = PAK(A.content);

@@@ function 'Xy4' (was 'S1K')  structural (91.7%)
--- pretty-v2.1.26.js:410955
+++ pretty-v2.1.27.js:377686
@@ -1,7 +1,7 @@
 function S1K(A, K, { verbose: q }) {
   let Y = typeof A === "string" ? W6(A) : A;
-  if (s02(Y)) return null;
-  if (t02(Y)) return null;
+  if (n$Y(Y))
+    return QP.default.createElement(f, { dimColor: !0 }, "  ", "Created team");
   if (e02(Y)) {
     let z = Y.teams.length;
     if (z === 0)

@@@ function 'Xqz' (was 'Ma2')  structural (91.6%)
--- pretty-v2.1.26.js:550156
+++ pretty-v2.1.27.js:534018
@@ -8,7 +8,6 @@
       tasksSelected: H,
       teamsSelected: J,
       diffSelected: O,
-      loopSelected: X,
       teammateFooterIndex: $,
     } = A,
     { columns: _ } = T8(),
@@ -70,7 +69,7 @@
     d = !pC8(u),
     o = j === "viewing-agent",
     c = T > 0 || o,
-    qA = (f ? 1 : 0) + (d ? 1 : 0) + (c ? 1 : 0) + (Q ? 1 : 0),
+    c = (Z || u ? 1 : 0) + (o ? 1 : 0) + (g ? 1 : 0),
     JA =
       (M1().codeDiffFooterEnabled ?? !0) &&
       b &&
@@ -97,30 +96,36 @@
             ),
           ]
         : []),
-      ...(u && d
+      ...(Z && hf6?.LoopModeIndicator
         ? [
-            N7.createElement(
-              V,
-              { color: YD(u), key: "mode" },
-              jEA(u),
-              " ",
-              ZF(u).toLowerCase(),
-              " on",
-              a &&
-                N7.createElement(
-                  V,
-                  { dimColor: !0 },
-                  " ",
-                  N7.createElement(D6, {
-                    shortcut: G,
-                    action: "cycle",
-                    parens: !0,
-                  }),
-                ),
-            ),
+            D4.createElement(hf6.LoopModeIndicator, {
+              key: "mode",
+              showHint: z,
+            }),
           ]
-        : []),
-      ...[],
+        : Q && u
+          ? [
+              D4.createElement(
+                f,
+                { color: dM(Q), key: "mode" },
+                jV1(Q),
+                " ",
+                sm(Q).toLowerCase(),
+                " on",
+                J1 &&
+                  D4.createElement(
+                    f,
+                    { dimColor: !0 },
+                    " ",
+                    D4.createElement(JA, {
+                      shortcut: X,
+                      action: "cycle",
+                      parens: !0,
+                    }),
+                  ),
+              ),
+            ]
+          : []),
       ...(c && !WA
         ? [
             N7.createElement(AU6, {
@@ -187,7 +192,7 @@
           ]
         : []),
     ],
-    IA = z ? Ca2(w, R, x, C, M) : [];
+    M1 = z ? Nqz(w && !Z, k, y, T, W) : [];
   if (!WA && z) ZA.push(...IA);
   if (WA) {
     let LA = [...ZA, ...IA],

@@@ variable 'cD7' (was 'hO4')  structural (91.5%)
--- pretty-v2.1.26.js:178733
+++ pretty-v2.1.27.js:185944
@@ -16,6 +16,7 @@
   Y3();
   i6();
   IO4();
+  P7A();
   ((xx = r(XA(), 1)),
     (SO4 = ["iTerm.app", "kitty", "WezTerm", "ghostty"]),
     (dr3 = process.platform !== "win32"));
@@ -33,6 +34,7 @@
     };
     rawModeEnabledCount = 0;
     internal_eventEmitter = new zr();
+    animationClock = yD7(G46);
     keyParseState = fO4;
     incompleteEscapeTimer = null;
     NORMAL_TIMEOUT = 50;
@@ -91,9 +93,15 @@
                   {
                     value: { isTerminalFocused: this.state.isTerminalFocused },
                   },
-                  this.state.error
-                    ? xx.default.createElement(L76, { error: this.state.error })
-                    : this.props.children,
+                  KC.default.createElement(
+                    W46.Provider,
+                    { value: this.animationClock },
+                    this.state.error
+                      ? KC.default.createElement(_7A, {
+                          error: this.state.error,
+                        })
+                      : this.props.children,
+                  ),
                 ),
               ),
             ),

@@@ function 'r4q' (was 'hDK')  structural (91.3%)
--- pretty-v2.1.26.js:510699
+++ pretty-v2.1.27.js:492412
@@ -39,7 +39,7 @@
   else W = K[8];
   let D;
   if (K[9] === Symbol.for("react.memo_cache_sentinel"))
-    ((D = AJ.createElement(V, null, "Tool matcher:")), (K[9] = D));
+    ((P = lH.createElement(f, null, "Matcher:")), (q[9] = P));
   else D = K[9];
   let j;
   if (K[10] !== O || K[11] !== Y || K[12] !== z)

@@@ function 'EGA' (was 'MC6')  structural (91.0%)
--- pretty-v2.1.26.js:385926
+++ pretty-v2.1.27.js:354730
@@ -62,7 +62,13 @@
     if (K[20] !== J || K[21] !== H || K[22] !== w || K[23] !== Y || K[24] !== O)
       ((W = (D, j) => {
         if (Y === "tool-use")
-          return X0.createElement(WC6, { key: j, char: D, flashOpacity: J });
+          return $_.createElement(VGA, {
+            key: W,
+            char: P,
+            flashOpacity: O,
+            messageColor: w,
+            shimmerColor: $,
+          });
         else
           return X0.createElement(Hd, {
             key: j,

@@@ variable 'x_' (was 'U0')  structural (90.8%)
--- pretty-v2.1.26.js:117193
+++ pretty-v2.1.27.js:91828
@@ -121,8 +121,7 @@
     Afq = (A, { signingRegion: K, regionRegex: q, useFipsEndpoint: Y }) => {
       if (K) return K;
       else if (Y) {
-        let z = q
-            .replace("\\\\", "\\")
+        let z = K.replace("\\\\", "\\")
             .replace(/^\^/g, "\\.")
             .replace(/\$$/g, "\\."),
           w = A.match(z);

@@@ function 'XK1' (was 'O3A')  structural (90.7%)
--- pretty-v2.1.26.js:405732
+++ pretty-v2.1.27.js:374579
@@ -18,7 +18,7 @@
     else O = K[2];
     return O;
   }
-  if (d7(Y.text, jl)) return null;
+  if (u4(Y.text, Yc) || u4(Y.text, zc)) return null;
   if (Y.text.startsWith("<bash-stdout") || Y.text.startsWith("<bash-stderr")) {
     let O;
     if (K[3] !== Y.text || K[4] !== z)

@@@ function 'l_q' (was 'LRK')  structural (90.3%)
--- pretty-v2.1.26.js:559383
+++ pretty-v2.1.27.js:543229
@@ -62,6 +62,7 @@
       if (!f) return !1;
       if (j1(process.env.CLAUDE_CODE_DISABLE_FEEDBACK_SURVEY)) return !1;
       if (HM()) return !1;
+      if (!YM("allow_product_feedback")) return !1;
       if (H.timeLastShown) {
         if (
           H.submitCountAtLastAppearance !== null &&

@@@ variable 'PPA' (was 'wE6')  structural (89.4%)
--- pretty-v2.1.26.js:371138
+++ pretty-v2.1.27.js:339937
@@ -219,11 +219,9 @@
           this.alternativeResolver.resolve6(A),
         ]);
         if (q.every((Y) => Y.status === "rejected")) throw Error(q[0].reason);
-        return q
-          .reduce((Y, z) => {
-            return z.status === "fulfilled" ? [...Y, ...z.value] : Y;
-          }, [])
-          .map((Y) => ({ host: Y, port: +this.port }));
+        return K.reduce((Y, z) => {
+          return z.status === "fulfilled" ? [...Y, ...z.value] : Y;
+        }, []).map((Y) => ({ host: Y, port: +this.port }));
       }
       return (await YE6.promises.lookup(A, { all: !0 })).map((q) => ({
         host: q.address,

@@@ function 'r26' (was 'ZJ1')  structural (88.9%)
--- pretty-v2.1.26.js:265696
+++ pretty-v2.1.27.js:271348
@@ -20,12 +20,10 @@
         `
 `,
       ).filter(Boolean).length,
-      z = q
-        .split(
-          `
+      z = K.split(
+        `
 `,
-        )
-        .filter(Boolean).length;
+      ).filter(Boolean).length;
     n("tengu_tool_prompt_changed", {
       tool: "ToolSearchTool",
       previousDeferredCount: Y,

@@@ function 'Dp' (was 'yd')  structural (88.1%)
--- pretty-v2.1.26.js:456388
+++ pretty-v2.1.27.js:422733
@@ -113,7 +113,7 @@
       FMA());
     let W = x2K(Y ? "manual" : "auto", O, X, Array.from($), Array.from(G));
     return (
-      A57(q?.options.querySource ?? "repl_main_thread"),
+      V34(K?.options.querySource ?? "repl_main_thread", K?.agentId),
       { messages: Z, compactionInfo: { boundaryMessage: W } }
     );
   }

@@@ function 'ubY' (was 'Ok2')  structural (88.0%)
--- pretty-v2.1.26.js:469011
+++ pretty-v2.1.27.js:450717
@@ -12,7 +12,7 @@
   let G;
   if (K[1] !== z)
     ((G = (N, T) => {
-      if (T.escape || T.return) z(void 0, { display: "skip" });
+      if (T.escape || T.return || V === " ") z(void 0, { display: "skip" });
     }),
       (K[1] = z),
       (K[2] = G));
@@ -112,7 +112,7 @@
         xw.createElement(
           V,
           { dimColor: !0 },
-          "Press Enter or Escape to dismiss",
+          "Press Space, Enter, or Escape to dismiss",
         ),
       )),
       (K[14] = J),

@@@ function 'LeY' (was 'ZE2')  structural (88.0%)
--- pretty-v2.1.26.js:466046
+++ pretty-v2.1.27.js:513211
@@ -1,4 +1,4 @@
-function ZE2(A, K, q, Y, z, w, H, J, O) {
+function LeY(A, q, K, Y, z, w, H, O, $, _, J, X) {
   if (Y.length === 0) return null;
   let X = Y[0],
     $ = Y[Y.length - 1],
@@ -15,6 +15,9 @@
     tag: H.get(A),
     agentName: J.get(A),
     agentColor: O.get(A),
+    prNumber: _.get(A),
+    prUrl: J.get(A),
+    prRepository: X.get(A),
     messageCount: $x6(Y),
     created: X.timestamp,
     modified: $.timestamp,

@@@ variable 'ga' (was 'k3A')  structural (87.9%)
--- pretty-v2.1.26.js:419314
+++ pretty-v2.1.27.js:386099
@@ -17,6 +17,7 @@
   CG();
   l1();
   b1();
+  Tf();
   X_2 = new Set([
     "GOEXPERIMENT",
     "GOOS",

@@@ function 'fB' (was 'lh')  structural (87.7%)
--- pretty-v2.1.26.js:6248
+++ pretty-v2.1.27.js:480754
@@ -1,7 +1,7 @@
 async function lh(A) {
   let K = Date.now(),
     { stdout: q, code: Y } = await A7(
-      "git",
+      A4(),
       ["worktree", "list", "--porcelain"],
       { cwd: A, preserveOutputOnError: !1 },
     ),
@@ -15,11 +15,10 @@
       }),
       []
     );
-  let w = q
-    .split(
-      `
+  let w = K.split(
+    `
 `,
-    )
+  )
     .filter((O) => O.startsWith("worktree "))
     .map((O) => O.slice(9));
   n("tengu_worktree_detection", {

@@@ variable 'zZq' (was 'QmK')  structural (87.7%)
--- pretty-v2.1.26.js:574268
+++ pretty-v2.1.27.js:557951
@@ -5,7 +5,6 @@
   g4();
   K4();
   hd();
-  gB();
   ((Fw = r(XA(), 1)),
     (Cp6 = r(XA(), 1)),
     (kp6 = ["", "", "", ""]),

@@@ function 'TPq' (was 'exK')  structural (87.7%)
--- pretty-v2.1.26.js:564073
+++ pretty-v2.1.27.js:547974
@@ -23,11 +23,7 @@
     ((X = xW.createElement(
       S,
       null,
-      xW.createElement(
-        V,
-        { bold: !0 },
-        "Running /issue to capture feedback...",
-      ),
+      vM.createElement(f, { bold: !0 }, "Running feedback capture..."),
     )),
       (K[4] = X));
   else X = K[4];

@@@ class 'Aq6' (was 'mq1')  structural (87.1%)
--- pretty-v2.1.26.js:182462
+++ pretty-v2.1.27.js:189680
@@ -52,7 +52,7 @@
       })),
       (this.scheduleRender = A.debug
         ? this.onRender
-        : e86(this.onRender, 32, { leading: !0, trailing: !0 })),
+        : mAA(this.onRender, G46, { leading: !0, trailing: !0 })),
       (this.isUnmounted = !1),
       (this.unsubscribeExit = CnA(this.unmount, { alwaysLast: !1 })),
       A.stdout.isTTY)

@@@ variable 'clY' (was 'NB2')  structural (86.9%)
--- pretty-v2.1.26.js:501566
+++ pretty-v2.1.27.js:483254
@@ -77,6 +77,11 @@
               YA = `${EA.uuid}:${J1}`;
               break A;
             }
+        } else if (T1?.type === "user") {
+          if (!T1.message.content.some(ilY)) {
+            K1 = "no-thinking";
+            break A;
+          }
         }
       }
       YA = null;

@@@ function '$_Y' (was 'ZX2')  structural (86.8%)
--- pretty-v2.1.26.js:411291
+++ pretty-v2.1.27.js:378022
@@ -12,7 +12,7 @@
     }
   } catch {}
   if (q) {
-    let Y = await A7("git", ["worktree", "remove", "--force", A], { cwd: q });
+    let Y = await l7(A4(), ["worktree", "remove", "--force", A], { cwd: K });
     if (Y.code === 0) {
       h(`[TeammateTool] Removed worktree via git: ${A}`);
       return;

@@@ function 'KM1' (was 'ojA')  structural (86.6%)
--- pretty-v2.1.26.js:455320
+++ pretty-v2.1.27.js:421940
@@ -111,7 +111,7 @@
         }),
       ];
     return (
-      K57(K.options.querySource ?? "compact"),
+      T34(q.options.querySource ?? "compact", q.agentId),
       {
         boundaryMarker: b,
         summaryMessages: Q,

@@@ function 'PYz' (was 'S1z')  structural (86.1%)
--- pretty-v2.1.26.js:571968
+++ pretty-v2.1.27.js:555659
@@ -392,7 +392,7 @@
           } else if (e.request.subtype === "mcp_status") {
             let JA = await J(),
               OA = JA.mcp.clients,
-              a = JA.mcp.tools,
+              a = [...z1.mcp.tools, ...y, ...C.tools],
               _A = [...OA, ...C, ...y.clients].map((WA) => {
                 let ZA;
                 if (WA.config.type === "sse" || WA.config.type === "http")

@@@ function 'jQ4' (was 'tAK')  structural (86.1%)
--- pretty-v2.1.26.js:408187
+++ pretty-v2.1.27.js:419159
@@ -42,7 +42,6 @@
     );
   }
   if (A.status === "teammate_spawned") {
-    if (x8()) return null;
     let D = A,
       j = D.color ? kJ[D.color] : void 0;
     return y6.createElement(

@@@ function 'B8A' (was 'A76')  structural (86.0%)
--- pretty-v2.1.26.js:175956
+++ pretty-v2.1.27.js:183140
@@ -1,9 +1,4 @@
-function A76(
-  A,
-  K,
-  { offsetX: q = 0, offsetY: Y = 0, skipStaticElements: z, prevScreen: w },
-) {
-  if (z && A.internal_static) return;
+function B8A(A, q, { offsetX: K = 0, offsetY: Y = 0, prevScreen: z }) {
   let { yogaNode: H } = A;
   if (H) {
     if (H.getDisplay() === xV.None) {
@@ -113,12 +108,7 @@
       for (let P of A.childNodes) {
         let f = P;
         if (f.dirty) M = !0;
-        A76(f, K, {
-          offsetX: J,
-          offsetY: O,
-          skipStaticElements: z,
-          prevScreen: j || M ? void 0 : w,
-        });
+        B8A(Z, q, { offsetX: H, offsetY: O, prevScreen: P || W ? void 0 : z });
       }
       if (D) K.unclip();
       _J4(J, O, A, K);
@@ -128,12 +118,7 @@
       for (let D of A.childNodes) {
         let j = D;
         if (j.dirty) W = !0;
-        A76(j, K, {
-          offsetX: J,
-          offsetY: O,
-          skipStaticElements: z,
-          prevScreen: Z || W ? void 0 : w,
-        });
+        B8A(P, q, { offsetX: H, offsetY: O, prevScreen: D || j ? void 0 : z });
       }
     }
     (en.set(A, { x: J, y: O, width: X, height: $ }), (A.dirty = !1));

@@@ function 'ZCY' (was 'Jv2')  structural (86.0%)
--- pretty-v2.1.26.js:460801
+++ pretty-v2.1.27.js:437095
@@ -10,7 +10,7 @@
   ];
   if (q) Y.push("--branch", q);
   Y.push(A, K);
-  let z = await R6("git", Y, {
+  let z = await GA(A4(), Y, {
     timeout: 30000,
     stdin: "ignore",
     env: { ...process.env, ...BzK },

@@@ function 'Wq1' (was 'xs')  structural (85.9%)
--- pretty-v2.1.26.js:341123
+++ pretty-v2.1.27.js:309545
@@ -1,9 +1,7 @@
 function xs(A) {
   let K = s(7),
     { isError: q, isUnresolved: Y, shouldAnimate: z } = A,
-    [w, H] = _4A(),
-    { isVisible: J } = H,
-    O = UR7(z && J),
+    [w, H] = uY4(z),
     X = Y ? void 0 : q ? "error" : "success",
     $ = !z || O || q || !Y ? hY : " ",
     _;

@@@ function 'u51' (was 'ZYA')  structural (85.8%)
--- pretty-v2.1.26.js:564216
+++ pretty-v2.1.27.js:548115
@@ -102,6 +102,7 @@
     uRK(),
     mRK(),
     QRK(),
+    vMq(),
     wxK());
   let { recommendation: J1, handleResponse: sA } = jxK();
   PxK();
@@ -279,10 +280,21 @@
       setAbortController: o8,
     }),
     G4 = f3A(_A).some((W1) => W1.status === "running"),
+    hw = v8.findLast((W6) => W6.type === "assistant"),
+    o2 =
+      hw?.type === "assistant"
+        ? hw.message.content.filter(
+            (W6) => W6.type === "tool_use" && yK.has(W6.id),
+          )
+        : [],
     t7 =
+      o2.length > 0 &&
+      o2.every((W6) => W6.type === "tool_use" && W6.name === q_q),
+    R$ =
       (!B5 || B5.showSpinner === !0) &&
       d4.length === 0 &&
       (C8 || h3 || G4) &&
+      !z1 &&
       !JA,
     kq =
       d4.length > 0 ||
@@ -602,9 +614,9 @@
     ),
     y0 = Y8.useCallback(
       async (W1, Q6, r6, e4, N4, h7, hK) => {
-        let A3 = Q6.filter(
-          (BW) => BW.type === "user" || BW.type === "assistant",
-        ).pop();
+        let s9 = rA
+          .filter((f9) => f9.type === "user" || f9.type === "assistant")
+          .pop();
         if (e4) {
           Dp.handleQueryStart(F1);
           let BW = Pf(F1);
@@ -740,7 +752,8 @@
         } finally {
           (($9.current = !1), Qw(Date.now()), EY());
           let c3 = Date.now() - fY.current - O9.current;
-          if (c3 > 30000 && !Q6.signal.aborted) _5((bq) => [...bq, NwK(c3)]);
+          if (z9 > 30000 && !rA.signal.aborted && !_1)
+            Aq((b3) => [...b3, J9q(z9)]);
         }
       },
       [w4, y0, QK, LA, EY],
@@ -956,13 +969,14 @@
       [LA, DA],
     ),
     YAA = Y8.useCallback(() => {
+      let W6 = y1 ? vPq(y1) : "/issue";
       (Iz(null),
-        bP("/issue", {
+        eN(W6, {
           setCursorOffset: () => {},
           clearBuffer: () => {},
           resetHistory: () => {},
         }));
-    }, [bP]),
+    }, [eN, y1]),
     MYA = Y8.useCallback(() => {
       Iz(null);
     }, []),
@@ -1092,11 +1106,11 @@
       return () => clearTimeout(W1);
     }, [C8, B5, Q7, qw, wA]));
   let av = Y8.useCallback(
-    (W1) => {
+    (W6, rA) => {
       if ($9.current) return !1;
       let Q6 = e7();
       o8(Q6);
-      let r6 = t1({ content: W1 });
+      let GK = r6({ content: W6, isMeta: rA?.isMeta ? !0 : void 0 });
       return (CO([r6], Q6, !0, [], GA, void 0), !0);
     },
     [CO, GA],
@@ -1189,7 +1203,9 @@
       screen: RA,
       setScreen: hA,
       setScreenToggleId: lA,
+      showAllInTranscript: Z6,
       setShowAllInTranscript: R1,
+      messageCount: v8.length,
       onEnterTranscript: Cc,
       onExitTranscript: VYA,
       todos: Mh,
@@ -1339,9 +1355,9 @@
               }
               b3((h7) => {
                 return (
-                  h7
-                    .filter((hK) => hK.hostPattern.host === N4)
-                    .forEach((hK) => hK.resolvePromise(Q6)),
+                  V4.filter((fq) => fq.hostPattern.host === H4).forEach((fq) =>
+                    fq.resolvePromise(rA),
+                  ),
                   h7.filter((hK) => hK.hostPattern.host !== N4)
                 );
               });

@@@ variable 'iU6' (was '$a1')  structural (85.6%)
--- pretty-v2.1.26.js:130144
+++ pretty-v2.1.27.js:104792
@@ -14,10 +14,7 @@
             q?.debug(
               "@aws-sdk/credential-provider-ini - credential_source is EcsContainer",
             ),
-            async () =>
-              iCA
-                .chain(w(z ?? {}), H(z))()
-                .then(Oa1)
+            async () => BT1.chain(w(z ?? {}), H(z))().then(cU6)
           );
         },
         Ec2InstanceMetadata: async (z) => {
@@ -132,15 +129,9 @@
           ((X.SerialNumber = $), (X.TokenCode = await q.mfaCodeProvider($)));
         }
         let _ = await O;
-        return q
-          .roleAssumer(_, X)
-          .then((G) =>
-            tF.setCredentialFeature(
-              G,
-              "CREDENTIALS_PROFILE_SOURCE_PROFILE",
-              "o",
-            ),
-          );
+        return K.roleAssumer(X, _).then((D) =>
+          LF.setCredentialFeature(D, "CREDENTIALS_PROFILE_SOURCE_PROFILE", "o"),
+        );
       }
     },
     Qr8 = (A) => {

@@@ variable '$D' (was 'SG')  structural (85.4%)
--- pretty-v2.1.26.js:459606
+++ pretty-v2.1.27.js:447335
@@ -309,7 +309,7 @@
         while (!c.done);
         if (
           ((D = c.value),
-          BT2(A.command, D.code),
+          FxY(A.command, P.code, P.stdout),
           $.append((D.stdout || "").trimEnd() + uUA),
           (G = NzK(A.command, D.code, D.stdout || "", D.stderr || "")),
           D.stderr && D.stderr.includes(".git/index.lock': File exists"))

@@@ variable 'Rm6' (was 'il1')  structural (85.0%)
--- pretty-v2.1.26.js:111446
+++ pretty-v2.1.27.js:86080
@@ -241,7 +241,8 @@
             .sort()
             .join("&");
       }
-      return K.sort()
+      return q
+        .sort()
         .map((Y) => q[Y])
         .filter((Y) => Y)
         .join("&");

@@@ function 'GKz' (was 'ks2')  structural (84.9%)
--- pretty-v2.1.26.js:553995
+++ pretty-v2.1.27.js:537874
@@ -63,6 +63,7 @@
     F1 = p1((P1) => P1.mainLoopModel),
     T6 = p1((P1) => P1.mainLoopModelForSession),
     w1 = p1((P1) => P1.thinkingEnabled),
+    H6 = !1,
     $1 = wB(vA.getState()),
     N1 = $1?.identity.agentName,
     A6 =
@@ -104,7 +105,6 @@
       T,
     ),
     z1 = fK.useRef(Cs2(X)),
-    [f1, T1] = fK.useState(!1),
     [q6, U6] = fK.useState(!1),
     [A4, j8] = fK.useState(!1),
     [z7, T7] = fK.useState(0),
@@ -113,7 +113,6 @@
     [l5, o8] = fK.useState(!1),
     [C8, J9] = fK.useState(!1),
     [S3, G3] = fK.useState(!1),
-    [h3, QY] = fK.useState(!1),
     [fY, O9] = fK.useState(0),
     NY = fK.useMemo(() => {
       let P1 = G.indexOf(`
@@ -295,9 +294,9 @@
         }
         let kq = P1.replaceAll("\t", "    ");
         if (G !== kq) Z3(G, $A, T);
-        (u(!1), o(!1), T1(!1), j8(!1), Z(kq));
+        (u(!1), o(!1), N6(!1), j(M7));
       },
-      [Z, D, G, $A, Z3, T, u, o, T1, j8, hq, yA],
+      [j, P, D, _1, Aq, T, u, o, N6, v8, k1],
     ),
     {
       resetHistory: cA,
@@ -318,16 +317,8 @@
     if (OA) u1();
   }, [OA, u1]);
   function E1(P1) {
-    if (
-      (u(P1 === "tasks"), o(P1 === "diff"), j8(P1 === "loop"), P1 === "tasks")
-    )
-      T7(0);
+    if ((u(C6 === "tasks"), o(C6 === "diff"), C6 === "tasks")) F7(0);
   }
-  let G6 = nCK.useSyncExternalStore(
-    lCK?.subscribeToLoopModeChanges ?? Es2,
-    lCK?.isLoopModeActive ?? iCK,
-    iCK,
-  );
   function Z8() {
     if (x3.length > 1) return;
     if (!NY) return;
@@ -341,23 +332,16 @@
         Object.values(xA).filter((t7) => t7.status === "running").length > 0
       )
         E1("tasks");
-      else if (G6) E1("loop");
       else E1("none");
       return;
     }
     if (f1) {
       let G4 = Object.values(xA).filter((t7) => t7.status === "running").length;
       if ((T1(!1), G4 > 0)) E1("tasks");
-      else if (G6) E1("loop");
       else E1("none");
       return;
     }
     if (Q) {
-      if (G6) E1("loop");
-      else E1("none");
-      return;
-    }
-    if (A4) {
       E1("none");
       return;
     }
@@ -375,12 +359,6 @@
     let P1 = Object.values(xA).filter((kq) => kq.status === "running").length,
       s6 = P4("tengu_code_diff_cli", !1) && hA.stats && hA.stats.filesCount > 0;
     if (A4) {
-      if (P1 > 0) E1("tasks");
-      else if (QK.length > 0) (T1(!0), E1("none"));
-      else if (s6) E1("diff");
-      return;
-    }
-    if (Q) {
       if (QK.length > 0) (T1(!0), E1("none"));
       else if (s6) E1("diff");
       return;
@@ -393,8 +371,7 @@
     let G4 = y1(),
       t7 = QK.length > 0;
     if (G4) {
-      if (G6) E1("loop");
-      else if (P1 > 0) {
+      if (C6 > 0) {
         if ((E1("tasks"), T1(!1), !M1().hasSeenTasksHint))
           j6((eq) => {
             if (eq.hasSeenTasksHint === !0) return eq;
@@ -414,7 +391,7 @@
     }, []),
     m5 = fK.useCallback(
       async (P1, s6 = !1) => {
-        if (Q || f1 || d || A4) return;
+        if (Q || _6 || d) return;
         let G4 = Object.values(T).some((Y5) => Y5.type === "image"),
           t7 = pA.text;
         if ((P1.trim() === "" || P1 === t7) && t7 && !G4) {
@@ -474,7 +451,6 @@
         await e(P1, { setCursorOffset: VA, clearBuffer: DA, resetHistory: cA });
       },
       [
-        pA,
         lA,
         v1,
         fA,
@@ -769,18 +745,11 @@
     },
     { context: "Attachments", isActive: h3 && !b },
   );
-  let h_ = Q || f1 || d || A4;
+  let IO = Q || _6 || d;
   (s4(
     {
       "footer:next": () => {
         if (A4) {
-          if (
-            Object.values(xA).filter((s6) => s6.status === "running").length > 0
-          )
-            E1("tasks");
-          else if (QK.length > 0) (T1(!0), E1("none"));
-          else if (P4("tengu_code_diff_cli", !1)) E1("diff");
-        } else if (Q) {
           if (z6) {
             let P1 = 1 + c1.length;
             T7((s6) => (s6 + 1) % P1);
@@ -809,20 +778,17 @@
             Object.values(xA).filter((s6) => s6.status === "running").length > 0
           )
             E1("tasks");
-          else if (G6) E1("loop");
         } else if (f1) {
           let P1 = Object.values(xA).filter(
             (s6) => s6.status === "running",
           ).length;
           if ((T1(!1), P1 > 0)) E1("tasks");
-          else if (G6) E1("loop");
         } else if (Q) {
           if (z6) {
             let P1 = 1 + c1.length;
             T7((s6) => (s6 - 1 + P1) % P1);
             return;
           }
-          if (G6) E1("loop");
         }
       },
       "footer:openSelected": () => {
@@ -1037,7 +1003,7 @@
       onPaste: v0,
       onIsPastingChange: Eq,
       focus: !OA && !h3 && !AA,
-      showCursor: !Q && !f1 && !d && !A4 && !OA && !h3,
+      showCursor: !Q && !_6 && !d && !J1 && !x3,
       argumentHint: Qw,
       onUndo: NA
         ? () => {
@@ -1177,7 +1143,6 @@
       tasksSelected: Q,
       teamsSelected: f1,
       diffSelected: d,
-      loopSelected: A4,
       teammateFooterIndex: z7,
       ideSelection: K,
       mcpClients: N,

@@@ variable 'i_q' (was 'RRK')  structural (84.9%)
--- pretty-v2.1.26.js:559486
+++ pretty-v2.1.27.js:543333
@@ -8,6 +8,7 @@
   K4();
   $8();
   LU6();
+  rbA();
   ((ZN = r(XA(), 1)),
     (Dt2 = {
       minTimeBeforeFeedbackMs: 600000,

@@@ function 'Dwq' (was 'svK')  structural (84.5%)
--- pretty-v2.1.26.js:545865
+++ pretty-v2.1.27.js:529730
@@ -22,10 +22,10 @@
               "report the issue at https://github.com/anthropics/claude-code/issues",
             PACKAGE_URL: "@anthropic-ai/claude-code",
             README_URL: "https://code.claude.com/docs/en/overview",
-            VERSION: "2.1.26",
+            VERSION: "2.1.27",
             FEEDBACK_CHANNEL:
               "https://github.com/anthropics/claude-code/issues",
-            BUILD_TIME: "2026-01-30T02:12:23Z",
+            BUILD_TIME: "2026-01-30T19:50:44Z",
           }.VERSION,
           D = Date.now() - G;
         if (Z.lockFailed) {
@@ -39,8 +39,7 @@
       } catch (Z) {
         let W = Date.now() - G,
           D = Z instanceof Error ? Z.message : String(Z);
-        (KA(Z instanceof Error ? Z : Error(String(Z))),
-          avK.captureException(Z));
+        q1(j instanceof Error ? j : Error(String(j)));
         let j = qo2(D);
         (n("tengu_native_auto_updater_fail", {
           latency_ms: W,

@@@ function 'Is4' (was 'vOK')  structural (84.4%)
--- pretty-v2.1.26.js:475274
+++ pretty-v2.1.27.js:456920
@@ -29,10 +29,10 @@
     Q = p1((fA) => fA.mainLoopModel),
     u = p1((fA) => fA.verbose),
     d = p1((fA) => fA.thinkingEnabled),
+    o = !1,
     o = p1((fA) => fA.promptSuggestionEnabled),
     c = F4(),
     [qA, YA] = WP.useState({}),
-    e = o1.useRef(Q),
     JA = o1.useRef(d),
     [OA, a] = WP.useState(!1),
     [_A, WA] = WP.useState(null),
@@ -563,8 +563,6 @@
       fA.push(
         `Set auto-update channel to ${O1.bold(Z?.autoUpdatesChannel ?? "latest")}`,
       );
-    if (Q !== e.current && !("model" in qA))
-      fA.push(`Set model to ${O1.bold(kk(Q))}`);
     if (fA.length > 0)
       A(
         fA.join(`
@@ -914,10 +912,10 @@
                           PACKAGE_URL: "@anthropic-ai/claude-code",
                           README_URL:
                             "https://code.claude.com/docs/en/overview",
-                          VERSION: "2.1.26",
+                          VERSION: "2.1.27",
                           FEEDBACK_CHANNEL:
                             "https://github.com/anthropics/claude-code/issues",
-                          BUILD_TIME: "2026-01-30T02:12:23Z",
+                          BUILD_TIME: "2026-01-30T19:50:44Z",
                         }.VERSION,
                         onChoice: (fA) => {
                           if ((WA(null), q(!1), fA === "cancel")) return;
@@ -929,10 +927,10 @@
                               PACKAGE_URL: "@anthropic-ai/claude-code",
                               README_URL:
                                 "https://code.claude.com/docs/en/overview",
-                              VERSION: "2.1.26",
+                              VERSION: "2.1.27",
                               FEEDBACK_CHANNEL:
                                 "https://github.com/anthropics/claude-code/issues",
-                              BUILD_TIME: "2026-01-30T02:12:23Z",
+                              BUILD_TIME: "2026-01-30T19:50:44Z",
                             }.VERSION;
                           (T4("userSettings", RA),
                             W((hA) => ({ ...hA, ...RA })),

@@@ variable 'Sk1' (was 'jIA')  structural (84.4%)
--- pretty-v2.1.26.js:195664
+++ pretty-v2.1.27.js:150115
@@ -210,12 +210,11 @@
       if (((N += " " + J(A.replace(/ ?[\r\n]+/g, " "))), z)) z();
     }
     if (!$) {
-      let T = q
-          .replace(
-            /\n+/g,
-            `
+      let T = K.replace(
+          /\n+/g,
+          `
 $&`,
-          )
+        )
           .replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g, "$1$2")
           .replace(/\n+/g, `$&${X}`),
         C = !1,

@@@ variable 'ai' (was 't8A')  structural (83.9%)
--- pretty-v2.1.26.js:175372
+++ pretty-v2.1.27.js:182544
@@ -59,6 +59,8 @@
       memoryBackgroundColor: "rgb(230, 245, 250)",
       rate_limit_fill: "rgb(87,105,247)",
       rate_limit_empty: "rgb(39,47,111)",
+      penguin: "rgb(15,144,127)",
+      penguinShimmer: "rgb(55,184,167)",
     }),
     (Bn3 = {
       autoAccept: "ansi:magenta",
@@ -110,6 +112,8 @@
       memoryBackgroundColor: "ansi:white",
       rate_limit_fill: "ansi:yellow",
       rate_limit_empty: "ansi:black",
+      penguin: "ansi:cyan",
+      penguinShimmer: "ansi:cyanBright",
     }),
     (mn3 = {
       autoAccept: "ansi:magentaBright",
@@ -161,6 +165,8 @@
       memoryBackgroundColor: "ansi:blackBright",
       rate_limit_fill: "ansi:yellow",
       rate_limit_empty: "ansi:white",
+      penguin: "ansi:cyanBright",
+      penguinShimmer: "ansi:cyanBright",
     }),
     (gn3 = {
       autoAccept: "rgb(135,0,255)",
@@ -212,6 +218,8 @@
       memoryBackgroundColor: "rgb(230, 245, 250)",
       rate_limit_fill: "rgb(51,102,255)",
       rate_limit_empty: "rgb(23,46,114)",
+      penguin: "rgb(15,144,127)",
+      penguinShimmer: "rgb(55,184,167)",
     }),
     (Fn3 = {
       autoAccept: "rgb(175,135,255)",
@@ -263,6 +271,8 @@
       memoryBackgroundColor: "rgb(55, 65, 70)",
       rate_limit_fill: "rgb(177,185,249)",
       rate_limit_empty: "rgb(80,83,112)",
+      penguin: "rgb(47,176,159)",
+      penguinShimmer: "rgb(87,206,189)",
     }),
     (Qn3 = {
       autoAccept: "rgb(175,135,255)",
@@ -314,6 +324,8 @@
       memoryBackgroundColor: "rgb(55, 65, 70)",
       rate_limit_fill: "rgb(153,204,255)",
       rate_limit_empty: "rgb(69,92,115)",
+      penguin: "rgb(47,176,159)",
+      penguinShimmer: "rgb(87,206,189)",
     }));
   Un3 = g6.terminal === "Apple_Terminal" ? new ZR1({ level: 2 }) : O1;
 });

@@@ variable 'ME6' (was 'DR1')  structural (83.7%)
--- pretty-v2.1.26.js:6433
+++ pretty-v2.1.27.js:6637
@@ -1,5 +1,5 @@
   DR1 = async () => {
-    let { stdout: A } = await R6("git", ["status", "--porcelain"], {
+    let { stdout: A } = await GA(A4(), ["status", "--porcelain"], {
         preserveOutputOnError: !1,
       }),
       K = [],

@@@ function 'sS' (was 'bS')  structural (83.1%)
--- pretty-v2.1.26.js:524711
+++ pretty-v2.1.27.js:506411
@@ -4,10 +4,11 @@
   );
   if (!q)
     throw ReferenceError(
-      `Command ${A} not found. Available commands: ${K.map((Y) => {
-        let z = Y.userFacingName();
-        return Y.aliases ? `${z} (aliases: ${Y.aliases.join(", ")})` : z;
-      })
+      `Command ${A} not found. Available commands: ${q
+        .map((Y) => {
+          let z = Y.userFacingName();
+          return Y.aliases ? `${z} (aliases: ${Y.aliases.join(", ")})` : z;
+        })
         .sort((Y, z) => Y.localeCompare(z))
         .join(", ")}`,
     );

@@@ function 'ftY' (was 'tp2')  structural (83.1%)
--- pretty-v2.1.26.js:526693
+++ pretty-v2.1.27.js:508399
@@ -2,9 +2,10 @@
   let K = PVK(),
     { processedCommand: q } = sg6(A),
     Y = xz(
-      q
-        .replaceAll('"', `"${K.DOUBLE_QUOTE}`)
-        .replaceAll("'", `'${K.SINGLE_QUOTE}`),
+      K.replaceAll('"', `"${q.DOUBLE_QUOTE}`).replaceAll(
+        "'",
+        `'${q.SINGLE_QUOTE}`,
+      ),
       (w) => `$${w}`,
     );
   if (!Y.success) return !1;

@@@ function 'AMY' (was 'kFY')  structural (83.0%)
--- pretty-v2.1.26.js:334108
+++ pretty-v2.1.27.js:395915
@@ -1,11 +1,12 @@
 async function kFY(A) {
   let { stdout: K, code: q } = await R6(
-    "git",
+    A4(),
     ["ls-files", "--others", "--exclude-standard"],
     { timeout: uG1, preserveOutputOnError: !1 },
   );
   if (q !== 0 || !K.trim()) return null;
-  let Y = K.trim()
+  let Y = q
+    .trim()
     .split(
       `
 `,

@@@ variable 'u11' (was 'k8')  structural (82.8%)
--- pretty-v2.1.26.js:528477
+++ pretty-v2.1.27.js:74297
@@ -1,23 +1,6 @@
 var k8 = E(() => {
   l7();
   r$8();
-  zK();
-  A8();
-  Hw();
-  C1();
-  G1();
-  Bj();
-  uq();
-  $J();
-  UU();
-  K6();
-  Fu6();
-  i6();
-  eP6();
-  cM();
-  ui();
-  HjA();
-  b1();
   CT = J6(function () {
     switch (o6()) {
       case "macos":
@@ -30,5 +13,4 @@
         return "/etc/claude-code";
     }
   });
-  J8 = z5;
 });

@@@ variable 'oIA' (was 'IF6')  structural (82.7%)
--- pretty-v2.1.26.js:531329
+++ pretty-v2.1.27.js:515270
@@ -155,10 +155,12 @@
         return Z;
       }
       function J(Z) {
-        return Z.join(
-          `
+        return j
+          .join(
+            `
 `,
-        ).replace(/^/gm, " ".repeat(2));
+          )
+          .replace(/^/gm, " ".repeat(2));
       }
       let O = [`Usage: ${K.commandUsage(A)}`, ""],
         X = K.commandDescription(A);

@@@ variable 'nS7' (was 'Hm4')  structural (82.5%)
--- pretty-v2.1.26.js:215006
+++ pretty-v2.1.27.js:220505
@@ -138,7 +138,8 @@
             .sort()
             .join("&");
       }
-      return K.map((Y) => q[Y])
+      return q
+        .map((Y) => K[Y])
         .filter((Y) => Y)
         .join("&");
     }, "getCanonicalQuery"),

@@@ class 'Z9q' (was 'IwK')  structural (82.3%)
--- pretty-v2.1.26.js:465131
+++ pretty-v2.1.27.js:512141
@@ -77,6 +77,30 @@
           X.sourceToolAssistantUUID
         )
           _ = X.sourceToolAssistantUUID;
+        if (
+          _.type === "attachment" &&
+          _.attachment.type === "hook_additional_context" &&
+          mQ1() !== "ant"
+        ) {
+          let j = {
+            type: "saved_hook_context",
+            uuid: _.uuid,
+            content: _.attachment.content,
+            hookName: _.attachment.hookName,
+            toolUseID: _.attachment.toolUseID,
+            hookEvent: _.attachment.hookEvent,
+            timestamp: _.timestamp,
+            parentUuid: J ? null : X,
+            sessionId: O,
+            cwd: y6(),
+            userType: mQ1(),
+            version: M9q,
+            isSidechain: q,
+            gitBranch: H,
+          };
+          (await this.appendEntry(j), (w = _.uuid));
+          continue;
+        }
         let G = {
           parentUuid: $ ? null : _,
           logicalParentUuid: $ ? w : void 0,
@@ -173,6 +197,14 @@
 `,
         { mode: 384 },
       );
+    else if (A.type === "pr-link")
+      Y.appendFileSync(
+        H,
+        B1(A) +
+          `
+`,
+        { mode: 384 },
+      );
     else if (A.type === "file-history-snapshot")
       Y.appendFileSync(
         H,
@@ -189,6 +221,14 @@
 `,
         { mode: 384 },
       );
+    else if (A.type === "saved_hook_context")
+      Y.appendFileSync(
+        H,
+        B1(A) +
+          `
+`,
+        { mode: 384 },
+      );
     else if (A.type === "speculation-accept")
       Y.appendFileSync(
         H,

@@@ function 'SeY' (was 'ME2')  structural (82.3%)
--- pretty-v2.1.26.js:466231
+++ pretty-v2.1.27.js:513405
@@ -6,6 +6,9 @@
     tags: w,
     agentNames: H,
     agentColors: J,
+    prNumbers: $,
+    prUrls: _,
+    prRepositories: J,
     fileHistorySnapshots: O,
     attributionSnapshots: X,
     leafUuids: $,
@@ -42,6 +45,9 @@
       tag: w.get(M),
       agentName: H.get(M),
       agentColor: J.get(M),
+      prNumber: $.get(V),
+      prUrl: _.get(V),
+      prRepository: J.get(V),
       gitBranch: Z.gitBranch,
       projectPath: K ?? j.cwd,
       fileHistorySnapshots: Ox6(O, W),

@@@ variable 'vZq' (was 'wgK')  structural (82.2%)
--- pretty-v2.1.26.js:578225
+++ pretty-v2.1.27.js:561923
@@ -179,6 +179,9 @@
   CG();
   cdA();
   Bj();
+  ID();
+  lQ1();
+  LW();
   K5 = r(XA(), 1);
   HK("main_tsx_entry");
   HK("main_tsx_imports_loaded");

@@@ variable 'Bz' (was 'c2')  structural (81.8%)
--- pretty-v2.1.26.js:386556
+++ pretty-v2.1.27.js:355344
@@ -18,6 +18,8 @@
   Zr7();
   jr7();
   HG();
+  o0();
+  u1();
   ((P7 = r(XA(), 1)),
     (MW = r(XA(), 1)),
     (Mr7 = JFA()),

@@@ variable 'pN1' (was 'lvA')  structural (81.8%)
--- pretty-v2.1.26.js:80923
+++ pretty-v2.1.27.js:63898
@@ -993,8 +993,7 @@
     let q = yvA(K.entries);
     ((A._zod.values = new Set(q)),
       (A._zod.pattern = new RegExp(
-        `^(${q
-          .filter((Y) => hvA.has(typeof Y))
+        `^(${K.filter((Y) => CN1.has(typeof Y))
           .map((Y) => (typeof Y === "string" ? HF(Y) : Y.toString()))
           .join("|")})$`,
       )),

@@@ function 'NWq' (was 'auK')  structural (81.6%)
--- pretty-v2.1.26.js:568572
+++ pretty-v2.1.27.js:552494
@@ -13,6 +13,7 @@
   disableSlashCommands: _ = !1,
   forkSession: G,
   taskListId: Z,
+  filterByPr: M,
 }) {
   let { rows: W } = T8(),
     D = F4(),
@@ -22,7 +23,18 @@
     [C, R] = t2.default.useState(!1),
     [x, y] = t2.default.useState(null),
     [B, b] = t2.default.useState(null),
-    F = j.filter((qA) => !qA.isSidechain),
+    Q = Mz.default.useMemo(() => {
+      let K1 = G.filter((e) => !e.isSidechain);
+      if (M !== void 0) {
+        if (M === !0) K1 = K1.filter((e) => e.prNumber !== void 0);
+        else if (typeof M === "number") K1 = K1.filter((e) => e.prNumber === M);
+        else if (typeof M === "string") {
+          let e = I9z(M);
+          if (e !== null) K1 = K1.filter((z1) => z1.prNumber === e);
+        }
+      }
+      return K1;
+    }, [G, M]),
     Q = Fd();
   t2.default.useEffect(() => {
     (Js(),

@@@ variable 'npA' (was 'fa6')  structural (81.5%)
--- pretty-v2.1.26.js:6372
+++ pretty-v2.1.27.js:6578
@@ -9,7 +9,7 @@
         commitsAheadOfDefaultBranch: K,
       };
     let { stdout: q, code: Y } = await R6(
-      "git",
+      A4(),
       ["rev-list", "--count", "@{u}..HEAD"],
       { preserveOutputOnError: !1 },
     );

@@@ function 'dHq' (was 'ykK')  structural (80.7%)
--- pretty-v2.1.26.js:550029
+++ pretty-v2.1.27.js:533895
@@ -1,5 +1,5 @@
 function ykK(A) {
-  let K = s(28),
+  let q = s(27),
     {
       exitMessage: q,
       vimMode: Y,
@@ -10,7 +10,6 @@
       tasksSelected: O,
       teamsSelected: X,
       diffSelected: $,
-      loopSelected: _,
       teammateFooterIndex: G,
       isPasting: Z,
       isSearching: W,
@@ -83,8 +82,7 @@
     K[18] !== R ||
     K[19] !== O ||
     K[20] !== G ||
-    K[21] !== X ||
-    K[22] !== w
+    q[21] !== w
   )
     ((x = N7.createElement(Ma2, {
       mode: z,
@@ -94,7 +92,6 @@
       tasksSelected: O,
       teamsSelected: X,
       diffSelected: $,
-      loopSelected: _,
       teammateFooterIndex: G,
     })),
       (K[14] = $),
@@ -105,11 +102,10 @@
       (K[19] = O),
       (K[20] = G),
       (K[21] = X),
-      (K[22] = w),
-      (K[23] = x));
-  else x = K[23];
+      (q[22] = y));
+  else y = q[22];
   let y;
-  if (K[24] !== T || K[25] !== C || K[26] !== x)
+  if (q[23] !== V || q[24] !== T || q[25] !== y)
     ((y = N7.createElement(
       S,
       { justifyContent: "flex-start", gap: 1 },
@@ -118,10 +114,10 @@
       C,
       x,
     )),
+      (q[23] = V),
       (K[24] = T),
       (K[25] = C),
-      (K[26] = x),
-      (K[27] = y));
-  else y = K[27];
+      (q[26] = b));
+  else b = q[26];
   return y;
 }

@@@ function '$K' (was 'X5')  structural (80.6%)
--- pretty-v2.1.26.js:466395
+++ pretty-v2.1.27.js:310416
@@ -22,10 +22,11 @@
     ]),
       clearTimeout(Y),
       await Cq6(),
+      await JDA(),
       Dx6(),
       jx6(),
       Mx6(A));
   } catch {
-    (clearTimeout(Y), await Cq6(), Dx6(), jx6(), Mx6(A));
+    (clearTimeout(Y), await Je6(), await JDA(), jDA(), MDA(), PDA(A));
   }
 }

@@@ function 'qFY' (was 'yR2')  structural (80.5%)
--- pretty-v2.1.26.js:479249
+++ pretty-v2.1.27.js:460893
@@ -9,9 +9,9 @@
         return { name: z.agentType, tokens: U2(w) };
       })
       .sort((z, w) => w.tokens - z.tokens),
-    Y = q
-      .slice(0, 5)
-      .map((z) => `${z.name}: ~${z.tokens.toLocaleString()} tokens`);
+    Y = K.slice(0, 5).map(
+      (z) => `${z.name}: ~${z.tokens.toLocaleString()} tokens`,
+    );
   if (q.length > 5) Y.push(`(${q.length - 5} more custom agents)`);
   return {
     type: "agent_descriptions",

@@@ function '_s' (was 'Ft')  structural (80.5%)
--- pretty-v2.1.26.js:445454
+++ pretty-v2.1.27.js:418343
@@ -23,6 +23,7 @@
     dS6,
     ...(x8() ? [nM2(), rM2()] : []),
     ...(M9K ? [M9K] : []),
+    ...(HQ4 ? [HQ4] : []),
     _p,
     Gp,
     ...(FU() ? [IJ1] : []),

@@@ variable 'gX6' (was 'HZ1')  structural (80.4%)
--- pretty-v2.1.26.js:422428
+++ pretty-v2.1.27.js:418509
@@ -71,9 +71,11 @@
         .describe(
           "Team name for spawning. Uses current team context if omitted.",
         ),
-      mode: QC8.optional().describe(
-        'Permission mode for spawned teammate (e.g., "plan" to require plan approval).',
-      ),
+      mode: tO8
+        .optional()
+        .describe(
+          'Permission mode for spawned teammate (e.g., "plan" to require plan approval).',
+        ),
     })),
     (a8K = s_2.merge(t_2)),
     (wR6 = XP1 ? a8K.omit({ run_in_background: !0 }) : a8K),

@@@ function '$0A' (was 'R$6')  structural (80.4%)
--- pretty-v2.1.26.js:267112
+++ pretty-v2.1.27.js:298455
@@ -110,7 +110,7 @@
     A.status === 403 &&
     A.message.includes("OAuth token has been revoked")
   )
-    return G2({ error: "authentication_failed", content: LJ1 });
+    return Hz({ error: "authentication_failed", content: EF9() });
   if (
     A instanceof i7 &&
     (A.status === 401 || A.status === 403) &&
@@ -118,11 +118,13 @@
       "OAuth authentication is currently not allowed for this organization",
     )
   )
-    return G2({ error: "authentication_failed", content: m3Y });
+    return Hz({ error: "authentication_failed", content: kF9() });
   if (A instanceof i7 && (A.status === 401 || A.status === 403))
     return G2({
       error: "authentication_failed",
-      content: `${H$}: ${A.message}  Please run /login`,
+      content: e7()
+        ? `Failed to authenticate. ${s_}: ${A.message}`
+        : `${s_}: ${A.message}  Please run /login`,
     });
   if (
     j1(process.env.CLAUDE_CODE_USE_BEDROCK) &&

@@@ function 'SM6' (was 'uV1')  structural (80.1%)
--- pretty-v2.1.26.js:451294
+++ pretty-v2.1.27.js:433084
@@ -14,7 +14,7 @@
   if (O) W.CLAUDE_PLUGIN_ROOT = O;
   if ((K === "SessionStart" || K === "Setup") && H !== void 0)
     W.CLAUDE_ENV_FILE = BD7(K, H);
-  let D = KV2(G, [], { env: W, cwd: x1(), shell: !0 }),
+  let P = pRY(D, [], { env: M, cwd: y6(), shell: !0, windowsHide: !0 }),
     j = i$1(D, z, Z),
     M = !1,
     P = !1;

@@@ variable 'px1' (was 'OxA')  structural (80.0%)
--- pretty-v2.1.26.js:266417
+++ pretty-v2.1.27.js:299159
@@ -4,6 +4,7 @@
   K6();
   b1();
   C1();
+  S_1();
   ((JGA = new Map()),
     (W3Y = [
       "repl_main_thread",

@@@ function 'eqz' (was 'ws2')  structural (80.0%)
--- pretty-v2.1.26.js:552858
+++ pretty-v2.1.27.js:536725
@@ -33,7 +33,7 @@
 `).length < 10)
     ) {
       let { stdout: H } = await A7(
-          "git",
+          A4(),
           [
             "log",
             "-n",

@@@ function 'bx4' (was 'bE7')  structural (79.8%)
--- pretty-v2.1.26.js:333970
+++ pretty-v2.1.27.js:395778
@@ -1,17 +1,16 @@
 async function bE7() {
   if (!(await oW())) return null;
   if (await uE7()) return null;
-  let { stdout: K, code: q } = await R6(
-    "git",
-    ["diff", "HEAD", "--shortstat"],
-    { timeout: uG1, preserveOutputOnError: !1 },
-  );
+  let { stdout: q, code: K } = await GA(A4(), ["diff", "HEAD", "--shortstat"], {
+    timeout: DD6,
+    preserveOutputOnError: !1,
+  });
   if (q === 0) {
     let O = CFY(K);
     if (O && O.filesCount > TFY)
       return { stats: O, perFileStats: new Map(), hunks: new Map() };
   }
-  let { stdout: Y, code: z } = await R6("git", ["diff", "HEAD", "--numstat"], {
+  let { stdout: Y, code: z } = await GA(A4(), ["diff", "HEAD", "--numstat"], {
     timeout: uG1,
     preserveOutputOnError: !1,
   });

@@@ function 'yeY' (was 'DE2')  structural (79.5%)
--- pretty-v2.1.26.js:466158
+++ pretty-v2.1.27.js:513329
@@ -17,6 +17,9 @@
     agentName: A.agentName,
     agentColor: A.agentColor,
     gitBranch: A.gitBranch,
+    prNumber: A.prNumber,
+    prUrl: A.prUrl,
+    prRepository: A.prRepository,
     projectPath: q ?? A.projectPath,
   };
 }

@@@ variable 'Yv' (was 'Pv')  structural (79.1%)
--- pretty-v2.1.26.js:458798
+++ pretty-v2.1.27.js:446477
@@ -20,6 +20,8 @@
   zK();
   b1();
   Vs();
+  R6();
+  Ys();
   $T2 = String.fromCharCode(8239);
   _T2 = [];
   oV1 = class oV1 extends Error {
@@ -254,7 +256,7 @@
           return { result: !1, message: j, errorCode: 2 };
         }
         let $ = bUA.extname(w).toLowerCase();
-        if (ZT2.has($.slice(1)) && !(kJA() && Z11($)))
+        if (MxY.has(J.slice(1)) && !W76(J))
           return {
             result: !1,
             message: `This tool cannot read binary files. The file appears to be a binary ${$} file. Please use appropriate tools for binary file analysis.`,
@@ -270,7 +272,7 @@
             };
         }
         let Z = $ === ".ipynb",
-          W = kJA() && Z11($);
+          M = W76(J);
         if (!Pf1.has($.slice(1)) && !Z && !W) {
           if (!aV1(w) && !K && !q)
             return {
@@ -333,8 +335,30 @@
             ...(N && { newMessages: [t1({ content: N, isMeta: !0 })] }),
           };
         }
-        if (kJA() && Z11(O)) {
+        if (W76($)) {
+          let V = await x1().stat(J);
+          if (!KR1() || V.size > Zf7) {
+            let b = await Ir4(J);
+            if (b.success)
+              n("tengu_pdf_page_extraction", {
+                success: !0,
+                pageCount: b.data.file.count,
+                fileSize: b.data.file.originalSize,
+              });
+            else
+              n("tengu_pdf_page_extraction", {
+                success: !1,
+                available: b.error.reason !== "unavailable",
+                fileSize: V.size,
+              });
+          }
+          if (!KR1())
+            throw Error(
+              "PDF reading is not supported. Install poppler-utils (e.g. `brew install poppler` or `apt-get install poppler-utils`) to enable PDF reading.",
+            );
           let f = await Eh8($);
+          if (!k.success) throw Error(k.error.message);
+          let y = k.data;
           return (
             _B({
               operation: "read",

@@@ function 'HNA' (was 'Dy6')  structural (79.0%)
--- pretty-v2.1.26.js:418987
+++ pretty-v2.1.27.js:385767
@@ -20,18 +20,37 @@
   if (w.behavior === "deny") return w;
   let H = !1;
   if (zm() && !H) {
-    let T = Jy6(Y.toolPermissionContext);
-    if (T.length > 0) {
-      let C = await njA(
-        A.command,
-        x1(),
-        T,
-        "deny",
-        K.abortController.signal,
-        K.options.isNonInteractiveSession,
-      );
+    let T = tfA(Y.toolPermissionContext),
+      k = IC4(Y.toolPermissionContext),
+      y = T.length > 0,
+      b = k.length > 0;
+    if (y || b) {
+      let [C, B] = await Promise.all([
+        y
+          ? AM1(
+              A.command,
+              y6(),
+              T,
+              "deny",
+              q.abortController.signal,
+              q.options.isNonInteractiveSession,
+            )
+          : null,
+        b
+          ? AM1(
+              A.command,
+              y6(),
+              k,
+              "ask",
+              q.abortController.signal,
+              q.options.isNonInteractiveSession,
+            )
+          : null,
+      ]);
       if (K.abortController.signal.aborted) throw new C2();
-      if ((aM1(A.command, "deny", T, C), C.matches && C.confidence === "high"))
+      if (C) f06(A.command, "deny", T, C);
+      if (B) f06(A.command, "ask", k, B);
+      if (C?.matches && C.confidence === "high")
         return {
           behavior: "deny",
           message: `Denied by Bash prompt rule: "${C.matchedDescription}"`,
@@ -40,21 +59,7 @@
             reason: `Denied by Bash prompt rule: "${C.matchedDescription}"`,
           },
         };
-    }
-  }
-  if (zm() && !H) {
-    let T = s6K(Y.toolPermissionContext);
-    if (T.length > 0) {
-      let C = await njA(
-        A.command,
-        x1(),
-        T,
-        "ask",
-        K.abortController.signal,
-        K.options.isNonInteractiveSession,
-      );
-      if (K.abortController.signal.aborted) throw new C2();
-      if ((aM1(A.command, "ask", T, C), C.matches && C.confidence === "high")) {
+      if (B?.matches && B.confidence === "high") {
         let R = await q(
           A.command,
           K.abortController.signal,

@@@ variable 'Hq1' (was 'XqA')  structural (78.9%)
--- pretty-v2.1.26.js:339869
+++ pretty-v2.1.27.js:300348
@@ -5,7 +5,6 @@
   Rk();
   $8();
   G1();
-  w7();
   zR7 = U.object({
     status: U.literal("sub_agent_entered"),
     description: U.string(),

@@@ variable 'wk' (was 'uE')  structural (78.4%)
--- pretty-v2.1.26.js:89639
+++ pretty-v2.1.27.js:156198
@@ -5,7 +5,6 @@
   k8();
   A8();
   zK();
-  Hw();
   U4q = ["allow", "deny", "ask"];
   c4q = ["userSettings", "projectSettings", "localSettings"];
 });

@@@ variable '_E' (was 'ik')  structural (78.2%)
--- pretty-v2.1.26.js:193213
+++ pretty-v2.1.27.js:77856
@@ -18,11 +18,9 @@
     if (Z4()) K.push(vE);
     if (A.includes("[1m]")) K.push(tfA);
     if (!j1(process.env.DISABLE_INTERLEAVED_THINKING) && _09(A)) K.push(Bl6);
-    if (
-      (j1(process.env.USE_API_CONTEXT_MANAGEMENT) && !1) ||
-      (Z09(A) && P4("tengu_marble_anvil", !1))
-    )
-      K.push(giA);
+    let w = X6(process.env.USE_API_CONTEXT_MANAGEMENT) && !1,
+      H = MOK(A) && J7("tengu_marble_anvil", !1);
+    if (ir1() && (w || H)) q.push(Fd1);
     let w = nY("tengu_tool_pear");
     if (Zq6(A) && w) K.push(Jl);
     if (z && P4("tengu_scarf_coffee", !1)) K.push(FiA);

@@@ function 'XO6' (was 'PJ1')  structural (78.0%)
--- pretty-v2.1.26.js:266274
+++ pretty-v2.1.27.js:298982
@@ -1,4 +1,5 @@
-function PJ1(A) {
+function XO6(A, q) {
+  if (q) return q;
   if (A === "compact") return "repl_main_thread";
   for (let K of W3Y) if (A.startsWith(K)) return A;
   return null;

@@@ variable 'rP6' (was 'w_1')  structural (77.8%)
--- pretty-v2.1.26.js:314751
+++ pretty-v2.1.27.js:448046
@@ -9,7 +9,6 @@
   k8();
   t3();
   z_1();
-  yH();
   zW = r(XA(), 1);
   wWA = ["localSettings", "projectSettings", "userSettings"];
 });

@@@ function 'lb6' (was 'Qn7')  structural (77.8%)
--- pretty-v2.1.26.js:384496
+++ pretty-v2.1.27.js:75856
@@ -1,8 +1,7 @@
 function Qn7() {
   try {
-    let A = tD1();
-    if (!rk6(A)) return null;
-    let K = F0(A),
+    let A = NV1(),
+      q = I_(A),
       q = M3(K, !1);
     if (!q || typeof q !== "object" || Array.isArray(q)) return null;
     return q;

@@@ class 'sy1' (was 'BxA')  structural (77.7%)
--- pretty-v2.1.26.js:272284
+++ pretty-v2.1.27.js:206649
@@ -546,22 +546,16 @@
           this._cleanupTimeout(P),
           (y = this._transport) === null ||
             y === void 0 ||
-            y
-              .send(
-                {
-                  jsonrpc: "2.0",
-                  method: "notifications/cancelled",
-                  params: { requestId: P, reason: String(x) },
-                },
-                {
-                  relatedRequestId: Y,
-                  resumptionToken: z,
-                  onresumptiontoken: w,
-                },
-              )
-              .catch((b) =>
-                this._onerror(Error(`Failed to send cancellation: ${b}`)),
-              ));
+            C.send(
+              {
+                jsonrpc: "2.0",
+                method: "notifications/cancelled",
+                params: { requestId: Z, reason: String(b) },
+              },
+              { relatedRequestId: Y, resumptionToken: z, onresumptiontoken: w },
+            ).catch((x) =>
+              this._onerror(Error(`Failed to send cancellation: ${x}`)),
+            ));
         let B = x instanceof PK ? x : new PK(J5.RequestTimeout, String(x));
         X(B);
       };

@@@ function 'xIA' (was 'UwK')  structural (77.6%)
--- pretty-v2.1.26.js:466092
+++ pretty-v2.1.27.js:513260
@@ -30,6 +30,9 @@
           tags: N,
           agentNames: T,
           agentColors: C,
+          prNumbers: y,
+          prUrls: b,
+          prRepositories: C,
           leafUuids: R,
         } = await sMA(W.path);
         if (M.size === 0) continue;
@@ -46,7 +49,7 @@
               (W = { ...W, mtime: K.statSync(W.path).mtime.getTime() }));
         }
         if (D) Y.entries = Y.entries.filter((b) => b.sessionId !== G);
-        let B = ZE2(G, W.path, W.mtime, x, P, f, N, T, C);
+        let Q = LeY(D, M.path, M.mtime, x, Z, N, V, T, k, y, b, C);
         if (B)
           if ((Y.entries.push(B), D)) J++;
           else H++;

@@@ variable 'AE' (was 'VE')  structural (77.4%)
--- pretty-v2.1.26.js:6326
+++ pretty-v2.1.27.js:6533
@@ -1,6 +1,6 @@
   VE = async () => {
     let { stdout: A, code: K } = await R6(
-      "git",
+      A4(),
       ["symbolic-ref", "refs/remotes/origin/HEAD"],
       { preserveOutputOnError: !1 },
     );
@@ -8,12 +8,11 @@
       let z = A.trim().match(/refs\/remotes\/origin\/(.+)/);
       if (z && z[1]) return z[1];
     }
-    let { stdout: q, code: Y } = await R6("git", ["branch", "-r"], {
+    let { stdout: K, code: Y } = await GA(A4(), ["branch", "-r"], {
       preserveOutputOnError: !1,
     });
     if (Y === 0) {
-      let z = q
-        .trim()
+      let z = K.trim()
         .split(
           `
 `,

@@@ function 'iLY' (was 'wP2')  structural (77.4%)
--- pretty-v2.1.26.js:446569
+++ pretty-v2.1.27.js:428323
@@ -3,6 +3,7 @@
   if (!_.success) {
     let R = b9K(A.name, _.error);
     return (
+      I(`${A.name} tool input error: ${y.slice(0, 200)}`),
       n("tengu_tool_use_error", {
         error: "InputValidationError",
         errorDetails: R.slice(0, 2000),
@@ -36,6 +37,7 @@
   let G = await A.validateInput?.(_.data, Y);
   if (G?.result === !1)
     return (
+      I(`${A.name} tool validation error: ${D.message?.slice(0, 200)}`),
       n("tengu_tool_use_error", {
         messageID: H,
         toolName: MK(A.name),
@@ -164,6 +166,7 @@
       }),
     });
   if (f.behavior !== "allow") {
+    I(`${A.name} tool permission denied`);
     let R = Y.toolDecisions?.get(K);
     (ZM6("reject", R?.source || "unknown"),
       j_1(),
@@ -368,7 +371,12 @@
         );
       });
     if (!(R instanceof C2)) {
-      if (!(R instanceof SR)) KA(R instanceof Error ? R : Error(String(R)));
+      let g = y instanceof Error ? y.message : String(y);
+      if (
+        (I(`${A.name} tool error (${b}ms): ${g.slice(0, 200)}`),
+        !(y instanceof tR))
+      )
+        q1(y instanceof Error ? y : Error(String(y)));
       n("tengu_tool_use_error", {
         messageID: H,
         toolName: MK(A.name),

@@@ function 'ux4' (was 'xE7')  structural (77.3%)
--- pretty-v2.1.26.js:333999
+++ pretty-v2.1.27.js:395806
@@ -1,7 +1,7 @@
 async function xE7() {
   if (!(await oW())) return new Map();
   if (await uE7()) return new Map();
-  let { stdout: K, code: q } = await R6("git", ["diff", "HEAD"], {
+  let { stdout: q, code: K } = await GA(A4(), ["diff", "HEAD"], {
     timeout: uG1,
     preserveOutputOnError: !1,
   });

@@@ function 'zx4' (was 'tN7')  structural (77.2%)
--- pretty-v2.1.26.js:324397
+++ pretty-v2.1.27.js:394199
@@ -9,6 +9,7 @@
     let q = {
       tengu_vscode_review_upsell: nY("tengu_vscode_review_upsell"),
       tengu_vscode_onboarding: nY("tengu_vscode_onboarding"),
+      tengu_quiet_fern: J7("tengu_quiet_fern", !1),
     };
     K.client.notification({ method: "experiment_gates", params: { gates: q } });
   }

@@@ function 'xCq' (was 'trK')  structural (76.9%)
--- pretty-v2.1.26.js:6238
+++ pretty-v2.1.27.js:6477
@@ -1,6 +1,6 @@
 async function trK() {
   let A = await VE(),
-    { stdout: K, code: q } = await R6("git", [
+    { stdout: q, code: K } = await GA(A4(), [
       "rev-list",
       "--count",
       `${A}..HEAD`,

@@@ function 'MV4' (was 'Vr7')  structural (76.8%)
--- pretty-v2.1.26.js:386257
+++ pretty-v2.1.27.js:355037
@@ -11,11 +11,12 @@
   todos: X,
   hasActiveTools: $ = !1,
 }) {
-  let [_, G] = MW.useState(0),
+  let [X, D] = nx(50),
     [Z, W] = MW.useState(0),
     D = p1((F1) => F1.tasks),
     j = p1((F1) => F1.viewingAgentTaskId),
     M = p1((F1) => F1.showExpandedTodos),
+    Z = !1,
     { isConnected: P } = OC6(),
     { columns: f } = T8(),
     N = Hj1(),
@@ -49,8 +50,17 @@
     [B] = MW.useState(() => Ug(qr7())),
     b = (H ?? x?.activeForm ?? B) + "",
     { isStalled: F, stalledIntensity: Q } = fC6(Y, $),
-    u = kS(A, b, P, F),
-    d = VC6(A),
+    d = N === !1 ? 4 : Math.floor(D / 120),
+    o = A === "requesting" ? 50 : 200,
+    c = g.length + 20,
+    H1 = Math.floor(D / o),
+    K1 =
+      N === !1 || Q
+        ? -100
+        : A === "requesting"
+          ? (H1 % c) - 10
+          : g.length + 10 - (H1 % c),
+    e = A === "tool-use" ? (Math.sin((D / 1000) * Math.PI) + 1) / 2 : 0,
     o = MW.useRef(Y);
   (MW.useEffect(() => {
     let F1 = "spinner-" + A;
@@ -65,13 +75,6 @@
       o.current = Y;
     }, [Y]),
     r9(() => {
-      if (!P) {
-        G(4);
-        return;
-      }
-      G((F1) => F1 + 1);
-    }, 120),
-    r9(() => {
       W((F1) => {
         let T6 = o.current - F1;
         if (T6 <= 0) return F1;
@@ -154,8 +157,11 @@
         P7.createElement(V, { color: "error", bold: !0 }, "offline"),
       ),
     );
-  let v1 = z ?? (P === !1 ? "inactive" : "claude"),
-    R1 = w ?? "claudeShimmer",
+  let e1 = !1,
+    H6 = N === !1 ? "inactive" : e1 ? "penguin" : "claude",
+    M6 = e1 ? "penguinShimmer" : "claudeShimmer",
+    c6 = z ?? H6,
+    g6 = w ?? M6,
     B1 =
       lA.length > 0
         ? P7.createElement(
@@ -168,7 +174,12 @@
         : null;
   return P7.createElement(
     S,
-    { flexDirection: "column", width: "100%", alignItems: "flex-start" },
+    {
+      ref: X,
+      flexDirection: "column",
+      width: "100%",
+      alignItems: "flex-start",
+    },
     P7.createElement(
       S,
       { flexDirection: "row", flexWrap: "wrap", marginTop: 1, width: "100%" },

@@@ function 'dXY' (was 'i_2')  structural (76.8%)
--- pretty-v2.1.26.js:421903
+++ pretty-v2.1.27.js:388696
@@ -52,7 +52,8 @@
       permissionMode: $.toolPermissionContext.mode,
     });
   if (X)
-    ((R = R.split(" ")
+    ((y = y
+      .split(" ")
       .filter((Q, u, d) => Q !== "--model" && d[u - 1] !== "--model")
       .join(" ")),
       (R = R ? `${R} --model ${y4([X])}` : `--model ${y4([X])}`));

@@@ variable 'oYq' (was 'bNK')  structural (76.8%)
--- pretty-v2.1.26.js:534271
+++ pretty-v2.1.27.js:518110
@@ -29,8 +29,6 @@
   Ys();
   Jz();
   G1();
-  Bj();
-  fr();
   hNK = J6(() => {
     let A = Date.now();
     (M8("info", "init_started"), HK("init_function_start"));
@@ -40,20 +38,12 @@
         M8("info", "init_configs_enabled", { duration_ms: Date.now() - K }),
         HK("init_configs_enabled"));
       let q = Date.now();
-      (CNK(),
+      if (
+        (cYq(),
         M8("info", "init_safe_env_vars_applied", {
           duration_ms: Date.now() - q,
         }),
-        HK("init_safe_env_vars_applied"));
-      let Y = Date.now();
-      if (
-        (n_.initialize(),
-        M8("info", "init_settings_detector_initialized", {
-          duration_ms: Date.now() - Y,
-        }),
-        HK("init_settings_detector_initialized"),
-        _VA.initialize(),
-        HK("init_skill_detector_initialized"),
+        Mq("init_safe_env_vars_applied"),
         cwK(),
         HK("init_after_graceful_shutdown"),
         nL4(),

@@@ function 'pOY' (was 'Ms2')  structural (76.5%)
--- pretty-v2.1.26.js:553195
+++ pretty-v2.1.27.js:366026
@@ -1,3 +1,3 @@
-function Ms2(A) {
-  return A.queuedCommands;
+function pOY() {
+  return UOY.production;
 }

@@@ function 'wU4' (was 'ss2')  structural (76.5%)
--- pretty-v2.1.26.js:556300
+++ pretty-v2.1.27.js:422410
@@ -1,3 +1,3 @@
-function ss2(A) {
-  return A.showExpandedTodos;
+function wU4() {
+  return qP1.toolCallsBetweenUpdates;
 }

@@@ function 'Eqz' (was 'Ia2')  structural (76.4%)
--- pretty-v2.1.26.js:550632
+++ pretty-v2.1.27.js:534499
@@ -1,5 +1,5 @@
 function Ia2(A) {
-  let K = s(51),
+  let q = s(50),
     {
       apiKeyStatus: q,
       debug: Y,
@@ -21,7 +21,6 @@
       tasksSelected: f,
       teamsSelected: N,
       diffSelected: T,
-      loopSelected: C,
       teammateFooterIndex: R,
       ideSelection: x,
       mcpClients: y,
@@ -38,7 +37,11 @@
     YA = AP(),
     e;
   if (K[0] !== Q || K[1] !== YA || K[2] !== M)
-    ((e = M || KU6(YA) || Q), (K[0] = Q), (K[1] = YA), (K[2] = M), (K[3] = e));
+    ((K1 = G || NbA(H1) || g),
+      (q[0] = g),
+      (q[1] = H1),
+      (q[2] = G),
+      (q[3] = K1));
   else e = K[3];
   let JA = e;
   if (G.length) {
@@ -111,8 +114,7 @@
     K[27] !== f ||
     K[28] !== R ||
     K[29] !== N ||
-    K[30] !== D ||
-    K[31] !== w
+    q[30] !== w
   )
     ((a = hW.createElement(ykK, {
       exitMessage: z,
@@ -124,7 +126,6 @@
       tasksSelected: f,
       teamsSelected: N,
       diffSelected: T,
-      loopSelected: C,
       teammateFooterIndex: R,
       isPasting: c,
       isSearching: Q,
@@ -147,23 +148,23 @@
       (K[28] = R),
       (K[29] = N),
       (K[30] = D),
-      (K[31] = w),
-      (K[32] = a));
-  else a = K[32];
+      (q[31] = J1));
+  else J1 = q[31];
   let _A;
-  if (K[33] !== OA || K[34] !== a)
+  if (q[32] !== z1 || q[33] !== J1)
     ((_A = hW.createElement(
       S,
       { flexDirection: "column", flexShrink: 0 },
       OA,
       a,
     )),
+      (q[32] = z1),
       (K[33] = OA),
-      (K[34] = a),
-      (K[35] = _A));
-  else _A = K[35];
+      (q[34] = a));
+  else a = q[34];
   let WA;
   if (
+    q[35] !== K ||
     K[36] !== q ||
     K[37] !== J ||
     K[38] !== Y ||
@@ -173,8 +174,7 @@
     K[42] !== y ||
     K[43] !== F ||
     K[44] !== $ ||
-    K[45] !== _ ||
-    K[46] !== X
+    q[45] !== _
   )
     ((WA = hW.createElement(TEK, {
       apiKeyStatus: q,
@@ -189,6 +189,7 @@
       mcpClients: y,
       isInputWrapped: qA,
     })),
+      (q[35] = K),
       (K[36] = q),
       (K[37] = J),
       (K[38] = Y),
@@ -199,11 +200,10 @@
       (K[43] = F),
       (K[44] = $),
       (K[45] = _),
-      (K[46] = X),
-      (K[47] = WA));
-  else WA = K[47];
+      (q[46] = D1));
+  else D1 = q[46];
   let ZA;
-  if (K[48] !== _A || K[49] !== WA)
+  if (q[47] !== a || q[48] !== D1)
     ((ZA = hW.createElement(
       S,
       {
@@ -215,9 +215,9 @@
       _A,
       WA,
     )),
+      (q[47] = a),
       (K[48] = _A),
-      (K[49] = WA),
-      (K[50] = ZA));
-  else ZA = K[50];
+      (q[49] = P1));
+  else P1 = q[49];
   return ZA;
 }

@@@ function 'c88' (was 'MY8')  structural (76.2%)
--- pretty-v2.1.26.js:30961
+++ pretty-v2.1.27.js:31149
@@ -6,7 +6,7 @@
     _ = parseInt(process.env.CLAUDE_CODE_GLOB_TIMEOUT_SECONDS || "", 10) || 0,
     G = _ > 0 ? _ * 1000 : $;
   if (J) {
-    let Z = H_5(w, X, { argv0: J, signal: q }),
+    let j = u6K(w, _, { argv0: O, signal: K, windowsHide: !0 }),
       W = "",
       D = "",
       j = !1,

@@@ function 'bq' (was 'oK')  structural (76.2%)
--- pretty-v2.1.26.js:466939
+++ pretty-v2.1.27.js:448608
@@ -67,7 +67,44 @@
           return;
         }
         (K((H) => {
-          if (w.priority === "immediate") return H;
+          if (w.fold) {
+            if (H.notifications.current?.key === w.key) {
+              let J = w.fold(H.notifications.current, w);
+              if (qZ) (clearTimeout(qZ), (qZ = null));
+              return (
+                (qZ = setTimeout(() => {
+                  ((qZ = null),
+                    q((X) => {
+                      if (X.notifications.current?.key !== J.key) return X;
+                      return {
+                        ...X,
+                        notifications: {
+                          queue: X.notifications.queue,
+                          current: null,
+                        },
+                      };
+                    }),
+                    K());
+                }, J.timeoutMs ?? LRA)),
+                {
+                  ...H,
+                  notifications: { current: J, queue: H.notifications.queue },
+                }
+              );
+            }
+            let _ = H.notifications.queue.findIndex((J) => J.key === w.key);
+            if (_ !== -1) {
+              let J = w.fold(H.notifications.queue[_], w),
+                X = [...H.notifications.queue];
+              return (
+                (X[_] = J),
+                {
+                  ...H,
+                  notifications: { current: H.notifications.current, queue: X },
+                }
+              );
+            }
+          }
           let O =
             !new Set(H.notifications.queue.map((X) => X.key)).has(w.key) &&
             H.notifications.current?.key !== w.key;

@@@ function 'YMY' (was 'RFY')  structural (76.2%)
--- pretty-v2.1.26.js:334182
+++ pretty-v2.1.27.js:395990
@@ -1,6 +1,6 @@
 async function RFY(A) {
   let K = process.env.CLAUDE_CODE_BASE_REF || (await VE()),
-    { stdout: q, code: Y } = await A7("git", ["merge-base", "HEAD", K], {
+    { stdout: K, code: Y } = await l7(A4(), ["merge-base", "HEAD", q], {
       cwd: A,
       timeout: QV6,
     });

@@@ variable 'de' (was 'aAA')  structural (75.8%)
--- pretty-v2.1.26.js:6366
+++ pretty-v2.1.27.js:6572
@@ -1,6 +1,6 @@
   aAA = async (A) => {
     let K = ["status", "--porcelain"];
     if (A?.ignoreUntracked) K.push("-uno");
-    let { stdout: q } = await R6("git", K, { preserveOutputOnError: !1 });
+    let { stdout: K } = await GA(A4(), q, { preserveOutputOnError: !1 });
     return q.trim().length === 0;
   },

@@@ function 's8A' (was 'D76')  structural (75.6%)
--- pretty-v2.1.26.js:176916
+++ pretty-v2.1.27.js:184085
@@ -34,7 +34,7 @@
         stylePool: K,
         screen: X ?? _yA(j, M, K, $, _),
       });
-    jJ4(A, P, { skipStaticElements: !0, prevScreen: O });
+    k07(A, Z, { prevScreen: $ });
     let f = P.get();
     return {
       screen: f,

@@@ function 'Pwq' (was 'AEK')  structural (75.6%)
--- pretty-v2.1.26.js:545986
+++ pretty-v2.1.27.js:529850
@@ -21,10 +21,10 @@
                 "report the issue at https://github.com/anthropics/claude-code/issues",
               PACKAGE_URL: "@anthropic-ai/claude-code",
               README_URL: "https://code.claude.com/docs/en/overview",
-              VERSION: "2.1.26",
+              VERSION: "2.1.27",
               FEEDBACK_CHANNEL:
                 "https://github.com/anthropics/claude-code/issues",
-              BUILD_TIME: "2026-01-30T02:12:23Z",
+              BUILD_TIME: "2026-01-30T19:50:44Z",
             }.VERSION,
             M,
             { loose: !0 },
@@ -32,7 +32,7 @@
           !QjA(M);
       if ((z(!!P), P))
         h(
-          `PackageManagerAutoUpdater: Update available ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION} -> ${M}`,
+          `PackageManagerAutoUpdater: Update available ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION} -> ${G}`,
         );
     }),
       (K[0] = J));
@@ -70,9 +70,9 @@
             "report the issue at https://github.com/anthropics/claude-code/issues",
           PACKAGE_URL: "@anthropic-ai/claude-code",
           README_URL: "https://code.claude.com/docs/en/overview",
-          VERSION: "2.1.26",
+          VERSION: "2.1.27",
           FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-          BUILD_TIME: "2026-01-30T02:12:23Z",
+          BUILD_TIME: "2026-01-30T19:50:44Z",
         }.VERSION,
       )),
       (K[3] = q),

@@@ function 'dRY' (was 'qV2')  structural (75.6%)
--- pretty-v2.1.26.js:451449
+++ pretty-v2.1.27.js:433239
@@ -2,7 +2,8 @@
   if (!K || K === "*") return !0;
   if (/^[a-zA-Z0-9_|]+$/.test(K)) {
     if (K.includes("|"))
-      return K.split("|")
+      return q
+        .split("|")
         .map((Y) => Y.trim())
         .includes(A);
     return A === K;

@@@ function 'c$A' (was 'Z$6')  structural (75.5%)
--- pretty-v2.1.26.js:265828
+++ pretty-v2.1.27.js:271478
@@ -1,4 +1,6 @@
 function Z$6() {
+  if (X6(process.env.CLAUDE_AGENT_SDK_DISABLE_BUILTIN_AGENTS) && e7())
+    return [];
   let A = [SK7, XJ1, bK7, TC, _J1];
   if (
     process.env.CLAUDE_CODE_ENTRYPOINT !== "sdk-ts" &&

@@@ variable 'NO' (was 'fJ')  structural (75.2%)
--- pretty-v2.1.26.js:461326
+++ pretty-v2.1.27.js:437620
@@ -15,6 +15,7 @@
   b1();
   bZ();
   NL();
+  wY();
   BzK = { GIT_TERMINAL_PROMPT: "0", GIT_ASKPASS: "" };
   JM = J6(async (A) => {
     let K = await p3(),

@@@ function 'wGA' (was 'ak6')  structural (75.0%)
--- pretty-v2.1.26.js:384519
+++ pretty-v2.1.27.js:353287
@@ -1,5 +1,5 @@
 function ak6() {
-  (dn7(), (Jv = null), (dqA = null), (qd = null));
+  (UN4(), q_8(), (rq1 = null), (CU = null));
   try {
     let A = tD1();
     if (rk6(A)) mn7(A);

@@@ function 'vK1' (was 'v3A')  structural (75.0%)
--- pretty-v2.1.26.js:416710
+++ pretty-v2.1.27.js:383433
@@ -6,7 +6,7 @@
       "npm",
       [
         "view",
-        `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.PACKAGE_URL}@${q}`,
+        `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.PACKAGE_URL}@${K}`,
         "version",
         "--prefer-online",
       ],

@@@ function 'gC4' (was 'z8K')  structural (75.0%)
--- pretty-v2.1.26.js:418960
+++ pretty-v2.1.27.js:385734
@@ -4,5 +4,5 @@
   if (z.length === 0) return;
   let w = x1(),
     H = njA(A, w, z, "allow", q, Y);
-  Xy6.set(A, H);
+  (H.catch(() => {}), ANA.set(A, H));
 }

@@@ function 'F51' (was 'jYA')  structural (75.0%)
--- pretty-v2.1.26.js:575666
+++ pretty-v2.1.27.js:559348
@@ -1,4 +1,5 @@
 function jYA() {
+  if (X6(process.env.CLAUDE_CODE_EXIT_AFTER_FIRST_RENDER)) return;
   if (
     (eVK(),
     t0(),
@@ -9,5 +10,9 @@
   )
     aVK();
   let A = e7();
-  (setTimeout(() => A.abort(), 3000), LoA(x1(), A.signal, []), xNK(), kBK());
+  (setTimeout(() => A.abort(), 3000),
+    ki1(y6(), A.signal, []),
+    pWq(),
+    x0.initialize(),
+    oW1.initialize());
 }

@@@ function 'sGq' (was 'xmK')  structural (74.7%)
--- pretty-v2.1.26.js:573981
+++ pretty-v2.1.27.js:557672
@@ -1,7 +1,7 @@
 async function xmK(A, K) {
   try {
     let { stdout: q, code: Y } = await A7(
-      "git",
+      A4(),
       ["remote", "get-url", "origin"],
       { cwd: A, preserveOutputOnError: !1 },
     );

@@@ variable 'ZAA' (was 'Md1')  structural (74.2%)
--- pretty-v2.1.26.js:102736
+++ pretty-v2.1.27.js:167728
@@ -1,7 +1,4 @@
 var Md1 = E(() => {
   RH();
-  A8();
-  zK();
-  G11();
   wzq = new Set(["pdf"]);
 });

@@@ variable '_zq' (was 'nNK')  structural (74.2%)
--- pretty-v2.1.26.js:534994
+++ pretty-v2.1.27.js:518862
@@ -10,6 +10,7 @@
   l1();
   RjA();
   kK6();
+  J4A();
   lNK = r(zb(), 1);
   $OO = 7 * Li2;
 });

@@@ variable 'kqA' (was 'r$6')  structural (74.0%)
--- pretty-v2.1.26.js:270128
+++ pretty-v2.1.27.js:204495
@@ -88,19 +88,17 @@
       .map((K) => {
         let q = A[K];
         if (!Array.isArray(q)) q = [q];
-        return q
-          .map((Y) => {
-            return [K]
-              .concat(
-                Object.keys(Y).map((z) => {
-                  let w = Y[z];
-                  if (!Array.isArray(w)) w = [w];
-                  return w.map((H) => (H === !0 ? z : `${z}=${H}`)).join("; ");
-                }),
-              )
-              .join("; ");
-          })
-          .join(", ");
+        return K.map((Y) => {
+          return [q]
+            .concat(
+              Object.keys(Y).map((z) => {
+                let w = Y[z];
+                if (!Array.isArray(w)) w = [w];
+                return w.map((H) => (H === !0 ? z : `${z}=${H}`)).join("; ");
+              }),
+            )
+            .join("; ");
+        }).join(", ");
       })
       .join(", ");
   }

@@@ function 'Oy4' (was 'L1K')  structural (73.9%)
--- pretty-v2.1.26.js:410894
+++ pretty-v2.1.27.js:377628
@@ -3,7 +3,7 @@
     case "spawnTeam":
       return `create team: ${A.team_name}`;
     case "cleanup":
-      return null;
+      return `cleanup team: ${A.team_name || "current"}`;
     case "discoverTeams":
       return "discover available teams";
     case "requestJoin":

@@@ variable 'wY' (was 'Sz')  structural (73.9%)
--- pretty-v2.1.26.js:6485
+++ pretty-v2.1.27.js:6689
@@ -54,10 +54,13 @@
       null
     );
   })),
+    (A4 = qA(() => {
+      return Uc1("git") || "git";
+    })),
     (oW = J6(async () => {
       let A = Date.now();
       M8("info", "is_git_check_started");
-      let { code: K } = await R6("git", ["rev-parse", "--is-inside-work-tree"]);
+      let { code: q } = await GA(A4(), ["rev-parse", "--is-inside-work-tree"]);
       return (
         M8("info", "is_git_check_completed", {
           duration_ms: Date.now() - A,

@@@ function 'N9q' (was 'gwK')  structural (73.4%)
--- pretty-v2.1.26.js:465946
+++ pretty-v2.1.27.js:513105
@@ -1,6 +1,9 @@
 function gwK(A) {
   return A.filter((K) => {
-    if (K.type === "attachment" && ywK() !== "ant") return !1;
+    if (q.type === "attachment" && mQ1() !== "ant") {
+      if (q.attachment.type === "hook_additional_context") return !0;
+      return !1;
+    }
     return !0;
   }).map((K) => {
     if (

@@@ variable 'r_' (was 'o0')  structural (73.3%)
--- pretty-v2.1.26.js:462570
+++ pretty-v2.1.27.js:438866
@@ -15,6 +15,7 @@
   B2();
   gd();
   b1();
+  wY();
   RY = J6(async () => {
     let A = await Ev2(),
       K = [...A.plugins],

@@@ function 'wc' (was 'Ml')  structural (73.1%)
--- pretty-v2.1.26.js:5504
+++ pretty-v2.1.27.js:5715
@@ -1,5 +1,7 @@
 function Ml(A, K) {
-  let q = A.firstPrompt?.startsWith(`<${jl}>`),
+  let K =
+      A.firstPrompt?.startsWith(`<${Yc}>`) ||
+      A.firstPrompt?.startsWith(`<${zc}>`),
     Y = A.firstPrompt && !q,
     z =
       A.agentName ||

@@@ function 'EzY' (was 'wz2')  structural (72.9%)
--- pretty-v2.1.26.js:384611
+++ pretty-v2.1.27.js:353372
@@ -1,8 +1,11 @@
 async function wz2() {
   if (!Yd()) return;
-  let A = Jv ? FA(Jv) : null;
+  let A = cb6(),
+    q = A ? B1(A) : null;
   try {
-    if ((await sk6(), (Jv ? FA(Jv) : null) !== A))
+    await HGA();
+    let K = cb6();
+    if ((K ? B1(K) : null) !== q)
       (h("Remote settings: Changed during background poll"),
         g_(),
         n_.notifyChange("policySettings"));

@@@ variable 'R81' (was 'z7A')  structural (72.8%)
--- pretty-v2.1.26.js:209595
+++ pretty-v2.1.27.js:201080
@@ -6,6 +6,7 @@
   Gb4();
   LK();
   K7();
+  wY();
   $v9 = [
     "github.com:anthropics/claude-cli-internal",
     "github.com/anthropics/claude-cli-internal",
@@ -23,7 +24,7 @@
   _v9 = Ex(async () => {
     if (M$A !== null) return M$A;
     let A = N8(),
-      K = await A7("git", ["remote", "get-url", "origin"], {
+      q = await l7(A4(), ["remote", "get-url", "origin"], {
         cwd: A,
         timeout: 5000,
       });

@@@ variable 'q9z' (was 'Es2')  structural (72.7%)
--- pretty-v2.1.26.js:555209
+++ pretty-v2.1.27.js:549722
@@ -1 +1 @@
-  Es2 = (A) => () => {},
+  q9z = () => {},

@@@ variable 'x8A' (was 's46')  structural (72.6%)
--- pretty-v2.1.26.js:175037
+++ pretty-v2.1.27.js:182248
@@ -12,13 +12,6 @@
       clearContainer: () => !1,
       resetAfterCommit(A) {
         if (typeof A.onComputeLayout === "function") A.onComputeLayout();
-        if (A.isStaticDirty) {
-          if (
-            ((A.isStaticDirty = !1), typeof A.onImmediateRender === "function")
-          )
-            A.onImmediateRender();
-          return;
-        }
         A.onRender?.();
       },
       getChildHostContext(A, K) {
@@ -43,10 +36,6 @@
             w.textStyles = J;
             continue;
           }
-          if (H === "internal_static") {
-            w.internal_static = !0;
-            continue;
-          }
           c46(w, H, J);
         }
         return w;
@@ -73,21 +62,9 @@
         A.yogaNode?.setDisplay(xV.Flex);
       },
       appendInitialChild: u51,
-      appendChild(A, K) {
-        if ((u51(A, K), K.internal_static)) {
-          let q = r46(A);
-          ((q.isStaticDirty = !0), (q.staticNode = K));
-        }
-      },
-      insertBefore(A, K, q) {
-        if ((d46(A, K, q), K.internal_static)) {
-          let Y = r46(A);
-          ((Y.isStaticDirty = !0), (Y.staticNode = K));
-        }
-      },
-      finalizeInitialChildren() {
-        return !1;
-      },
+      appendChild: a76,
+      insertBefore: R8A,
+      finalizeInitialChildren: () => !1,
       isPrimaryRenderer: !0,
       supportsMutation: !0,
       supportsPersistence: !1,
@@ -102,24 +79,12 @@
       getInstanceFromNode: () => null,
       prepareScopeUpdate() {},
       getInstanceFromScope: () => null,
-      appendChildToContainer(A, K) {
-        u51(A, K);
-        let q = a46(K);
-        if (q) ((A.isStaticDirty = !0), (A.staticNode = q));
-      },
-      insertInContainerBefore(A, K, q) {
-        d46(A, K, q);
-        let Y = a46(K);
-        if (Y) ((A.isStaticDirty = !0), (A.staticNode = Y));
-      },
+      appendChildToContainer: a76,
+      insertInContainerBefore: R8A,
       removeChildFromContainer(A, K) {
         (wyA(A, K), AJ4(K));
       },
       commitUpdate(A, K, q, Y) {
-        if (A.internal_static) {
-          let H = r46(A);
-          H.isStaticDirty = !0;
-        }
         let z = eH4(q, Y),
           w = eH4(q.style, Y.style);
         if (z)
@@ -130,10 +95,6 @@
             }
             if (H === "textStyles") {
               ((A.textStyles = J), EQ(A));
-              continue;
-            }
-            if (H === "internal_static") {
-              A.internal_static = !0;
               continue;
             }
             c46(A, H, J);

@@@ function 'Ft4' (was 'y0K')  structural (72.5%)
--- pretty-v2.1.26.js:480935
+++ pretty-v2.1.27.js:462549
@@ -27,7 +27,7 @@
           null,
           DP.createElement(V, { bold: !0 }, "Shortcuts"),
         ),
-        DP.createElement(mN1, { gap: 2 }),
+        YZ.createElement(nW6, { gap: 2, fixedWidth: !0 }),
       ),
     )),
       (A[1] = q));

@@@ function 'cpA' (was 'Ma6')  structural (72.4%)
--- pretty-v2.1.26.js:6209
+++ pretty-v2.1.27.js:6448
@@ -1,5 +1,5 @@
 async function Ma6(A) {
-  let { stdout: K, code: q } = await A7("git", ["rev-parse", "--git-dir"], {
+  let { stdout: q, code: K } = await l7(A4(), ["rev-parse", "--git-dir"], {
     cwd: A,
     preserveOutputOnError: !1,
   });

@@@ variable 'pc1' (was 'cnA')  structural (72.4%)
--- pretty-v2.1.26.js:6352
+++ pretty-v2.1.27.js:6558
@@ -1,6 +1,6 @@
   cnA = async () => {
     let { stdout: A, code: K } = await R6(
-      "git",
+      A4(),
       ["remote", "get-url", "origin"],
       { preserveOutputOnError: !1 },
     );

@@@ variable 'jwq' (was 'bkK')  structural (72.4%)
--- pretty-v2.1.26.js:550613
+++ pretty-v2.1.27.js:529839
@@ -7,13 +7,5 @@
   K7();
   iO();
   HP();
-  l1();
-  G1();
-  K4();
-  oB();
-  Tk();
-  lP();
-  lZ();
-  VPA();
   ((zYA = r(XA(), 1)), (Mc = r(XA(), 1)));
 });

@@@ variable 'NuA' (was 'eU6')  structural (72.4%)
--- pretty-v2.1.26.js:565809
+++ pretty-v2.1.27.js:549724
@@ -144,5 +144,6 @@
   txK();
   KuK();
   YuK();
+  RPq();
   ((E4 = r(XA(), 1)), (Y8 = r(XA(), 1)));
 });

@@@ variable 'gPq' (was 'rmK')  structural (72.4%)
--- pretty-v2.1.26.js:574826
+++ pretty-v2.1.27.js:550365
@@ -8,6 +8,5 @@
   K4();
   FB();
   G1();
-  gB();
   ((vj = r(XA(), 1)), (imK = r(XA(), 1)));
 });

@@@ variable 'Nv7' (was 'k97')  structural (72.2%)
--- pretty-v2.1.26.js:275009
+++ pretty-v2.1.27.js:209368
@@ -91,12 +91,10 @@
     q.if(
       mM._`Array.isArray(${K})`,
       () => {
-        (q
-          .assign(
-            oKA.default.vErrors,
-            mM._`${oKA.default.vErrors} === null ? ${K} : ${oKA.default.vErrors}.concat(${K})`,
-          )
-          .assign(oKA.default.errors, mM._`${oKA.default.vErrors}.length`),
+        (K.assign(
+          p81.default.vErrors,
+          zG._`${p81.default.vErrors} === null ? ${q} : ${p81.default.vErrors}.concat(${q})`,
+        ).assign(p81.default.errors, zG._`${p81.default.vErrors}.length`),
           (0, jHY.extendErrors)(A));
       },
       () => A.error(),

@@@ variable 'Xf1' (was 'VNA')  structural (72.2%)
--- pretty-v2.1.26.js:6455
+++ pretty-v2.1.27.js:6659
@@ -1,6 +1,6 @@
   VNA = async () => {
     try {
-      let { stdout: A, code: K } = await R6("git", ["worktree", "list"], {
+      let { stdout: A, code: q } = await GA(A4(), ["worktree", "list"], {
         preserveOutputOnError: !1,
       });
       if (K !== 0) return 0;

@@@ function 'vBY' (was 'aC2')  structural (72.0%)
--- pretty-v2.1.26.js:472833
+++ pretty-v2.1.27.js:454495
@@ -2,24 +2,25 @@
   try {
     let q = PX(A, "node_modules", "@anthropic-ai"),
       z = (await XPA(q)).find((H) => H.startsWith("claude-cli-native-"));
-    if (!z) {
-      n("tengu_native_install_package_failure", {
-        stage_find_package: !0,
-        error_package_not_found: !0,
-      });
-      let H = Error("Could not find platform-specific native package");
-      throw ($PA.captureException(H), H);
-    }
+    if (!z)
+      throw (
+        n("tengu_native_install_package_failure", {
+          stage_find_package: !0,
+          error_package_not_found: !0,
+        }),
+        Error("Could not find platform-specific native package")
+      );
     let w = PX(q, z, "cli");
     try {
       await Dj(w);
     } catch {
-      n("tengu_native_install_package_failure", {
-        stage_binary_exists: !0,
-        error_binary_not_found: !0,
-      });
-      let H = Error("Native binary not found in staged package");
-      throw ($PA.captureException(H), H);
+      throw (
+        n("tengu_native_install_package_failure", {
+          stage_binary_exists: !0,
+          error_binary_not_found: !0,
+        }),
+        Error("Native binary not found in staged package")
+      );
     }
     (await sJK(w, K),
       await PN1(A, { recursive: !0, force: !0 }),
@@ -30,11 +31,10 @@
       !Y.includes("Could not find platform-specific") &&
       !Y.includes("Native binary not found")
     )
-      (n("tengu_native_install_package_failure", {
+      n("tengu_native_install_package_failure", {
         stage_atomic_move: !0,
         error_move_failed: !0,
-      }),
-        $PA.captureException(q));
+      });
     throw (KA(q instanceof Error ? q : Error(Y)), q);
   }
 }

@@@ function 'qOK' (was 'Vd2')  structural (72.0%)
--- pretty-v2.1.26.js:528406
+++ pretty-v2.1.27.js:76069
@@ -25,9 +25,7 @@
       }
       if (X) K = aoA(K, X, uVK);
     }
-    let w = ["user", "project", "local"];
     return (
-      q.push(...w.flatMap((H) => wX(H).errors)),
       M8("info", "settings_load_completed", {
         duration_ms: Date.now() - A,
         source_count: z.size,

@@@ function 'ft' (was 'sMA')  structural (71.9%)
--- pretty-v2.1.26.js:465780
+++ pretty-v2.1.27.js:512907
@@ -6,12 +6,36 @@
     w = new Map(),
     H = new Map(),
     J = new Map(),
+    $ = new Map(),
+    _ = new Map(),
+    J = new Map(),
     O = new Map();
   try {
     let Z = await LwK(A),
       W = D1A(Z);
     for (let D of W)
-      if (Gm(D)) {
+      if (Z.type === "saved_hook_context") {
+        let N = {
+          type: "attachment",
+          uuid: Z.uuid,
+          attachment: {
+            type: "hook_additional_context",
+            content: Z.content,
+            hookName: Z.hookName,
+            toolUseID: Z.toolUseID,
+            hookEvent: Z.hookEvent,
+          },
+          timestamp: Z.timestamp,
+          parentUuid: Z.parentUuid,
+          sessionId: Z.sessionId,
+          cwd: Z.cwd,
+          userType: Z.userType,
+          version: Z.version,
+          isSidechain: Z.isSidechain,
+          gitBranch: Z.gitBranch,
+        };
+        q.set(Z.uuid, N);
+      } else if (Wh(Z)) {
         if (
           D.type === "progress" &&
           D.data &&
@@ -31,6 +55,10 @@
         w.set(D.sessionId, D.agentName);
       else if (D.type === "agent-color" && D.sessionId)
         H.set(D.sessionId, D.agentColor);
+      else if (Z.type === "pr-link" && Z.sessionId)
+        (O.set(Z.sessionId, Z.prNumber),
+          $.set(Z.sessionId, Z.prUrl),
+          _.set(Z.sessionId, Z.prRepository));
       else if (D.type === "file-history-snapshot") J.set(D.messageId, D);
       else if (D.type === "attribution-snapshot") O.set(D.messageId, D);
   } catch {}
@@ -55,6 +83,9 @@
     tags: z,
     agentNames: w,
     agentColors: H,
+    prNumbers: O,
+    prUrls: $,
+    prRepositories: _,
     fileHistorySnapshots: J,
     attributionSnapshots: O,
     leafUuids: G,

@@@ function 'EwY' (was 'wH2')  structural (71.8%)
--- pretty-v2.1.26.js:394437
+++ pretty-v2.1.27.js:363227
@@ -1,6 +1,6 @@
 async function wH2() {
   try {
-    let A = await R6("git", ["config", "--get", "user.email"], {
+    let A = await GA(A4(), ["config", "--get", "user.email"], {
       useCwd: !1,
       timeout: 5000,
     });

@@@ variable 'As4' (was 'dJK')  structural (71.4%)
--- pretty-v2.1.26.js:472448
+++ pretty-v2.1.27.js:454111
@@ -8,7 +8,6 @@
   C1();
   b1();
   b1();
-  FJK = r(zF(), 1);
   UJK = class UJK extends Error {
     constructor() {
       super("Download stalled: no data received for 60 seconds");

@@@ variable 'KwA' (was 'dJ6')  structural (71.1%)
--- pretty-v2.1.26.js:248595
+++ pretty-v2.1.27.js:251299
@@ -160,7 +160,8 @@
         (K = A === null || A === void 0 ? void 0 : A.body) === null ||
         K === void 0
           ? void 0
-          : K.split("&")
+          : q
+              .split("&")
               .map((Y) => Y.split("="))
               .find(([Y]) => Y === "client-request-id");
       return q && q.length ? q[1] || jhA : jhA;

@@@ function 'tOq' (was 'gCK')  structural (71.0%)
--- pretty-v2.1.26.js:553606
+++ pretty-v2.1.27.js:537473
@@ -10,7 +10,14 @@
     } = q,
     X = K || A.length > 0 ? null : z,
     $ = z && H > 0,
-    _ = DcA.useCallback(() => {
+    X = Hd.useRef(0),
+    D = Hd.useRef(!0),
+    j = Hd.useRef(0);
+  if (H > 0 && H !== j.current)
+    ((j.current = H), (D.current = pD7()), (X.current = 0));
+  else if (H === 0) j.current = 0;
+  if (A.length > 0 && X.current === 0 && J) X.current = Date.now();
+  let M = Hd.useCallback(() => {
       (Q3A(Y),
         Y((D) => ({
           ...D,
@@ -53,6 +60,8 @@
           ...(M && { acceptMethod: j ? "tab" : "enter" }),
           ...(M && { timeToAcceptMs: P - H }),
           ...(!M && { timeToIgnoreMs: P - H }),
+          ...(X.current > 0 && { timeToFirstKeystrokeMs: X.current - H }),
+          wasFocusedWhenShown: D.current,
           similarity: Math.round((D.length / (z?.length || 1)) * 100) / 100,
           ...!1,
         }),

@@@ function 'SvA' (was 'YR6')  structural (70.7%)
--- pretty-v2.1.26.js:408651
+++ pretty-v2.1.27.js:419589
@@ -1,5 +1,5 @@
 function YR6(A) {
-  if (x8() && A?.name) return "";
+  if (i8() && A?.team_name && A?.name) return wq1;
   if (A?.subagent_type && A.subagent_type !== XJ1.agentType)
     return A.subagent_type;
   return "Task";

@@@ variable 'xL' (was 'vC')  structural (70.0%)
--- pretty-v2.1.26.js:266172
+++ pretty-v2.1.27.js:439226
@@ -36,27 +36,29 @@
     try {
       let K = await pQ("agents", A),
         q = [],
-        Y = K.map(
-          ({
-            filePath: O,
-            baseDir: X,
-            frontmatter: $,
-            content: _,
-            source: G,
-          }) => {
-            let Z = G3Y(O, X, $, _, G);
-            if (!Z) {
-              let W = X3Y($);
-              return (
-                q.push({ path: O, error: W }),
-                h(`Failed to parse agent from ${O}: ${W}`),
-                n("tengu_agent_parse_error", { error: W, location: G }),
-                null
-              );
-            }
-            return Z;
-          },
-        ).filter((O) => O !== null),
+        Y = q
+          .map(
+            ({
+              filePath: $,
+              baseDir: _,
+              frontmatter: J,
+              content: X,
+              source: D,
+            }) => {
+              let j = iCY($, _, J, X, D);
+              if (!j) {
+                let M = dCY(J);
+                return (
+                  K.push({ path: $, error: M }),
+                  I(`Failed to parse agent from ${$}: ${M}`),
+                  n("tengu_agent_parse_error", { error: M, location: D }),
+                  null
+                );
+              }
+              return j;
+            },
+          )
+          .filter(($) => $ !== null),
         z = await xKA(),
         H = [...Z$6(), ...z, ...Y],
         J = QU(H);

@@@ function 'EBY' (was 'sC2')  structural (69.8%)
--- pretty-v2.1.26.js:472873
+++ pretty-v2.1.27.js:454535
@@ -6,12 +6,13 @@
     try {
       await Dj(z);
     } catch {
-      n("tengu_native_install_binary_failure", {
-        stage_binary_exists: !0,
-        error_binary_not_found: !0,
-      });
-      let w = Error("Staged binary not found");
-      throw ($PA.captureException(w), w);
+      throw (
+        n("tengu_native_install_binary_failure", {
+          stage_binary_exists: !0,
+          error_binary_not_found: !0,
+        }),
+        Error("Staged binary not found")
+      );
     }
     (await sJK(z, K),
       await PN1(A, { recursive: !0, force: !0 }),
@@ -19,11 +20,10 @@
   } catch (q) {
     let Y = q instanceof Error ? q.message : String(q);
     if (!Y.includes("Staged binary not found"))
-      (n("tengu_native_install_binary_failure", {
+      n("tengu_native_install_binary_failure", {
         stage_atomic_move: !0,
         error_move_failed: !0,
-      }),
-        $PA.captureException(q));
+      });
     throw (KA(q instanceof Error ? q : Error(Y)), q);
   }
 }

@@@ variable 'zq1' (was 'p5A')  structural (69.6%)
--- pretty-v2.1.26.js:319445
+++ pretty-v2.1.27.js:298934
@@ -12,6 +12,7 @@
   $8();
   dU();
   i6();
+  xo();
   ea = class ea extends Error {
     originalError;
     retryContext;

@@@ variable 'NV' (was 'SN')  structural (69.2%)
--- pretty-v2.1.26.js:6320
+++ pretty-v2.1.27.js:6527
@@ -1,5 +1,5 @@
   SN = async () => {
-    let { stdout: A } = await R6("git", ["rev-parse", "--abbrev-ref", "HEAD"], {
+    let { stdout: A } = await GA(A4(), ["rev-parse", "--abbrev-ref", "HEAD"], {
       preserveOutputOnError: !1,
     });
     return A.trim();

@@@ function 'TCY' (was '_v2')  structural (69.2%)
--- pretty-v2.1.26.js:461376
+++ pretty-v2.1.27.js:437671
@@ -1,6 +1,6 @@
 async function _v2(A) {
   try {
-    let K = await A7("git", ["rev-parse", "HEAD"], { cwd: A });
+    let q = await l7(A4(), ["rev-parse", "HEAD"], { cwd: A });
     if (K.code === 0 && K.stdout) return K.stdout.trim();
     return null;
   } catch {

@@@ variable 'Ns4' (was 'eTK')  structural (69.2%)
--- pretty-v2.1.26.js:539550
+++ pretty-v2.1.27.js:455536
@@ -10,5 +10,13 @@
   K4();
   z_1();
   yH();
+  cF();
+  gH1();
+  C8();
+  Pg1();
+  EH();
+  x7();
+  V7();
+  KO();
   WK = r(XA(), 1);
 });

@@@ variable 'hW6' (was 'MQ6')  structural (69.2%)
--- pretty-v2.1.26.js:541363
+++ pretty-v2.1.27.js:456070
@@ -10,5 +10,10 @@
   cv1();
   r0();
   uE();
+  C8();
+  r8();
+  N8();
+  X2();
+  kg();
   dL = r(XA(), 1);
 });

@@@ variable 'pG6' (was 'gvK')  structural (69.2%)
--- pretty-v2.1.26.js:545013
+++ pretty-v2.1.27.js:485447
@@ -25,5 +25,6 @@
   RvK();
   JV1();
   BvK();
+  E31();
   CQ6 = r(XA(), 1);
 });

@@@ variable 'ZJq' (was 'FLK')  structural (69.2%)
--- pretty-v2.1.26.js:557528
+++ pretty-v2.1.27.js:544716
@@ -3,19 +3,5 @@
   $8();
   mA();
   yL6();
-  k5();
-  hd();
-  RS();
-  TMA();
-  pV1();
-  G1();
-  yK();
-  Hw();
-  rz();
-  Pv();
-  K7();
-  lP();
-  Sz();
-  TQ6();
   Rz = r(XA(), 1);
 });

@@@ variable 'tMq' (was 'HxK')  structural (69.2%)
--- pretty-v2.1.26.js:562895
+++ pretty-v2.1.27.js:547582
@@ -3,8 +3,5 @@
   mA();
   Aw();
   K4();
-  iO();
-  Ys();
-  G1();
   Tj = r(XA(), 1);
 });

@@@ variable 'PWq' (was 'WBK')  structural (69.2%)
--- pretty-v2.1.26.js:569331
+++ pretty-v2.1.27.js:552351
@@ -10,5 +10,10 @@
   U5();
   O5();
   t3();
+  u1();
+  oA();
+  Mw();
+  DWq();
+  pT();
   sL = r(XA(), 1);
 });

@@@ variable 'GWq' (was 'jBK')  structural (69.2%)
--- pretty-v2.1.26.js:569422
+++ pretty-v2.1.27.js:552459
@@ -5,5 +5,9 @@
   Xp6();
   l1();
   t3();
+  Mw();
+  ByA();
+  I5();
+  Cu();
   Gk1 = r(XA(), 1);
 });

@@@ variable 'CuA' (was 'BBK')  structural (69.2%)
--- pretty-v2.1.26.js:569796
+++ pretty-v2.1.27.js:553043
@@ -1,4 +1,6 @@
 var BBK = E(() => {
   b1();
+  u1();
+  u1();
   X1z = r(bG1(), 1);
 });

@@@ variable 'qGq' (was 'dmK')  structural (69.2%)
--- pretty-v2.1.26.js:574571
+++ pretty-v2.1.27.js:553575
@@ -7,10 +7,5 @@
   G1();
   oh6();
   sqA();
-  RS();
-  UK();
-  U5();
-  Mz();
-  O5();
   A5 = r(XA(), 1);
 });

@@@ function 'V34' (was 'A57')  structural (69.0%)
--- pretty-v2.1.26.js:266401
+++ pretty-v2.1.27.js:299133
@@ -1,5 +1,5 @@
-function A57(A) {
-  let K = PJ1(A),
+function V34(A, q) {
+  let K = XO6(A, q),
     q = K ? JGA.get(K) : void 0;
   if (q) q.microcompacted = !0;
 }

@@@ function 'jD6' (was 'BG1')  structural (69.0%)
--- pretty-v2.1.26.js:334138
+++ pretty-v2.1.27.js:395946
@@ -2,13 +2,13 @@
   let K = ch(jFY(A));
   if (!K) return null;
   let q = PFY(K, A).split(VFY).join("/"),
-    { code: Y } = await A7("git", ["ls-files", "--error-unmatch", q], {
+    { code: Y } = await l7(A4(), ["ls-files", "--error-unmatch", K], {
       cwd: K,
       timeout: QV6,
     });
   if (Y === 0) {
     let z = await RFY(K),
-      { stdout: w, code: H } = await A7("git", ["diff", z, "--", q], {
+      { stdout: w, code: H } = await l7(A4(), ["diff", z, "--", K], {
         cwd: K,
         timeout: QV6,
       });

@@@ function 'T34' (was 'K57')  structural (68.3%)
--- pretty-v2.1.26.js:266406
+++ pretty-v2.1.27.js:299138
@@ -1,5 +1,5 @@
-function K57(A) {
-  let K = PJ1(A),
+function T34(A, q) {
+  let K = XO6(A, q),
     q = K ? JGA.get(K) : void 0;
   if (q) q.prevCacheReadTokens = null;
 }

@@@ variable 'XV4' (was 'jr7')  structural (68.2%)
--- pretty-v2.1.26.js:386248
+++ pretty-v2.1.27.js:355030
@@ -1,9 +1,7 @@
 var jr7 = E(() => {
   nA();
   mA();
-  iO();
   ((NC6 = r(XA(), 1)),
-    (Jj1 = r(XA(), 1)),
     (uz2 = { r: 153, g: 153, b: 153 }),
     (Bz2 = { r: 185, g: 185, b: 185 }));
 });

@@@ variable 'rpA' (was 'Na6')  structural (68.0%)
--- pretty-v2.1.26.js:6467
+++ pretty-v2.1.27.js:6671
@@ -3,12 +3,12 @@
       let K = A || `Claude Code auto-stash - ${new Date().toISOString()}`,
         { untracked: q } = await DR1();
       if (q.length > 0) {
-        let { code: z } = await R6("git", ["add", ...q], {
+        let { code: z } = await GA(A4(), ["add", ...K], {
           preserveOutputOnError: !1,
         });
         if (z !== 0) return !1;
       }
-      let { code: Y } = await R6("git", ["stash", "push", "--message", K], {
+      let { code: Y } = await GA(A4(), ["stash", "push", "--message", q], {
         preserveOutputOnError: !1,
       });
       return Y === 0;

@@@ variable 'PI4' (was 'KN7')  structural (67.8%)
--- pretty-v2.1.26.js:320993
+++ pretty-v2.1.27.js:391066
@@ -342,9 +342,11 @@
                 P.delete($1),
                 (MA.id = A6.id),
                 VA(MA, w1.method, Date.now()),
-                K.write(MA).catch(() =>
-                  z.error("Sending response for canceled message failed."),
-                ));
+                q
+                  .write(X1)
+                  .catch(() =>
+                    z.error("Sending response for canceled message failed."),
+                  ));
               return;
             }
           }

@@@ function 'yY4' (was 'xR7')  structural (67.8%)
--- pretty-v2.1.26.js:340800
+++ pretty-v2.1.27.js:309265
@@ -1,5 +1,5 @@
 function xR7(A) {
-  let K = s(31),
+  let q = s(28),
     {
       message: q,
       messages: Y,
@@ -49,27 +49,22 @@
   else j = K[11];
   let M = j,
     P;
-  if (K[12] !== z) ((P = IR7(z)), (K[12] = z), (K[13] = P));
+  if (q[12] !== P) ((Z = !1), (q[12] = P), (q[13] = Z));
   else P = K[13];
-  let f = P,
-    N;
-  if (K[14] !== M || K[15] !== D)
-    ((N = !1), (K[14] = M), (K[15] = D), (K[16] = N));
-  else N = K[16];
   let T;
-  if (K[17] !== f) ((T = !1), (K[17] = f), (K[18] = T));
-  else T = K[18];
+  if (q[14] !== G) ((N = !1), (q[14] = G), (q[15] = N));
+  else N = q[15];
   let C;
-  if (K[19] !== Z || K[20] !== N || K[21] !== T || K[22] !== $)
+  if (q[16] !== j || q[17] !== Z || q[18] !== N || q[19] !== J)
     ((C = Fp.createElement(S, { flexDirection: "column", width: $ }, Z, N, T)),
+      (q[16] = j),
+      (q[17] = Z),
+      (q[18] = N),
       (K[19] = Z),
-      (K[20] = N),
-      (K[21] = T),
-      (K[22] = $),
-      (K[23] = C));
-  else C = K[23];
+      (q[20] = V));
+  else V = q[20];
   let R;
-  if (K[24] !== Y || K[25] !== z || K[26] !== X)
+  if (q[21] !== Y || q[22] !== z || q[23] !== _)
     ((R = Fp.createElement(
       $qA,
       null,
@@ -80,17 +75,17 @@
         verbose: X,
       }),
     )),
-      (K[24] = Y),
+      (q[21] = Y),
+      (q[22] = z),
+      (q[23] = _),
+      (q[24] = T));
+  else T = q[24];
+  let k;
+  if (q[25] !== V || q[26] !== T)
+    ((k = DU.createElement(h, { flexDirection: "column" }, V, T)),
       (K[25] = z),
       (K[26] = X),
       (K[27] = R));
   else R = K[27];
-  let x;
-  if (K[28] !== C || K[29] !== R)
-    ((x = Fp.createElement(S, { flexDirection: "column" }, C, R)),
-      (K[28] = C),
-      (K[29] = R),
-      (K[30] = x));
-  else x = K[30];
   return x;
 }

@@@ function 'HGA' (was 'sk6')  structural (67.7%)
--- pretty-v2.1.26.js:384526
+++ pretty-v2.1.27.js:353294
@@ -8,7 +8,7 @@
       if (A)
         return (
           h("Remote settings: Using stale cache after fetch failure"),
-          (Jv = A),
+          v21(A),
           A
         );
       return null;
@@ -16,7 +16,7 @@
     if (q.settings === null && A)
       return (
         h("Remote settings: Cache still valid (304 Not Modified)"),
-        (Jv = A),
+        v21(A),
         A
       );
     let Y = q.settings || {};
@@ -30,13 +30,13 @@
           A
         );
       return (
-        (Jv = Y),
         zz2(Y),
+        vzY(Y),
         h("Remote settings: Applied new settings successfully"),
         Y
       );
     }
-    Jv = Y;
+    v21(Y);
     try {
       let w = tD1();
       if (rk6(w))
@@ -49,7 +49,7 @@
     return Y;
   } catch {
     if (A)
-      return (h("Remote settings: Using stale cache after error"), (Jv = A), A);
+      return (I("Remote settings: Using stale cache after error"), v21(A), A);
     return null;
   }
 }

@@@ function '$k1' (was 'bRA')  structural (67.6%)
--- pretty-v2.1.26.js:158607
+++ pretty-v2.1.27.js:146198
@@ -5,5 +5,11 @@
     A.gitBranch || "-",
   ];
   if (A.tag) K.push(`#${A.tag}`);
+  if (A.prNumber) {
+    let K = A.prRepository
+      ? `${A.prRepository.split("/")[1]}#${A.prNumber}`
+      : `PR #${A.prNumber}`;
+    q.push(K);
+  }
   return K.join("  ");
 }

@@@ function 'BP6' (was 'Zf1')  structural (67.5%)
--- pretty-v2.1.26.js:458139
+++ pretty-v2.1.27.js:445687
@@ -52,13 +52,13 @@
           SHELL: X,
           GIT_EDITOR: "true",
           CLAUDECODE: "1",
-          ...tN2,
           ...{},
           ...(H ? { TMPDIR: Z, CLAUDE_CODE_TMPDIR: Z } : {}),
           ...(x ? { TMUX: x } : {}),
         },
         cwd: T,
         detached: !0,
+        windowsHide: !0,
       }),
       B = i$1(y, K, O, z, J);
     return (

@@@ variable 'lpA' (was 'Pa6')  structural (67.3%)
--- pretty-v2.1.26.js:6309
+++ pretty-v2.1.27.js:6516
@@ -1,5 +1,5 @@
   Pa6 = async (A) => {
-    let { code: K } = await A7("git", ["rev-parse", "--is-inside-work-tree"], {
+    let { code: q } = await l7(A4(), ["rev-parse", "--is-inside-work-tree"], {
       preserveOutputOnError: !1,
       cwd: A,
     });

@@@ function 'FxY' (was 'BT2')  structural (67.2%)
--- pretty-v2.1.26.js:459351
+++ pretty-v2.1.27.js:447060
@@ -1,4 +1,4 @@
-function BT2(A, K) {
+function FxY(A, q, K) {
   if (K !== 0) return;
   if (A.match(/\bgit\s+commit\b/)) {
     if (
@@ -7,10 +7,30 @@
       n("tengu_git_operation", { operation: "commit_amend" });
     (Ji6()?.add(1), p7("git-commits"));
   }
-  if (A.match(/\bgh\s+pr\s+create\b/))
-    (n("tengu_git_operation", { operation: "pr_create" }),
+  if (A.match(/\bgh\s+pr\s+create\b/)) {
+    if (
+      (n("tengu_git_operation", { operation: "pr_create" }),
       oiA()?.add(1),
-      p7("pr-creation"));
+      Q4("pr-creation"),
+      K)
+    ) {
+      let H = K.match(/https:\/\/github\.com\/[^/]+\/[^/]+\/pull\/\d+/);
+      if (H) {
+        let O = mxY(H[0]);
+        if (O)
+          Promise.resolve()
+            .then(() => (vq(), sr4))
+            .then(({ linkSessionToPR: $ }) => {
+              Promise.resolve()
+                .then(() => (n6(), PgA))
+                .then(({ getSessionId: _ }) => {
+                  let J = _();
+                  if (J) $(J, O.prNumber, O.prUrl, O.prRepository);
+                });
+            });
+      }
+    }
+  }
   if (A.match(/\bglab\s+mr\s+create\b/))
     (n("tengu_git_operation", { operation: "pr_create" }),
       oiA()?.add(1),

@@@ function 'f34' (was 'tK7')  structural (67.1%)
--- pretty-v2.1.26.js:266295
+++ pretty-v2.1.27.js:299021
@@ -1,6 +1,6 @@
-function tK7(A, K, q, Y) {
+function f34(A, q, K, Y, z) {
   try {
-    let z = PJ1(q);
+    let w = XO6(K, z);
     if (!z) return;
     let w = aK7(A),
       H = aK7(K),
@@ -8,6 +8,7 @@
       O = sK7(H),
       X = K.map((D) => ("name" in D ? D.name : "unknown")),
       $ = M3Y(A),
+      D = iF9(A, q, Y),
       _ = JGA.get(z);
     if (!_) {
       JGA.set(z, {
@@ -20,6 +21,7 @@
         pendingChanges: null,
         prevCacheReadTokens: null,
         microcompacted: !1,
+        diffableContent: D,
       });
       return;
     }
@@ -39,13 +41,15 @@
         systemCharDelta: $ - _.systemCharCount,
         previousModel: _.model,
         newModel: Y,
+        prevDiffableContent: j.diffableContent,
       };
     } else _.pendingChanges = null;
     ((_.systemHash = J),
       (_.toolsHash = O),
       (_.toolNames = X),
       (_.systemCharCount = $),
-      (_.model = Y));
+      (j.model = Y),
+      (j.diffableContent = D));
   } catch (z) {
     KA(z instanceof Error ? z : Error(String(z)));
   }

@@@ variable 'ipA' (was 'Va6')  structural (66.7%)
--- pretty-v2.1.26.js:6360
+++ pretty-v2.1.27.js:6566
@@ -1,5 +1,5 @@
   Va6 = async () => {
-    let { code: A } = await R6("git", ["rev-parse", "@{u}"], {
+    let { code: A } = await GA(A4(), ["rev-parse", "@{u}"], {
       preserveOutputOnError: !1,
     });
     return A === 0;

@@@ function 'Fx4' (was '$3Y')  structural (66.7%)
--- pretty-v2.1.26.js:266013
+++ pretty-v2.1.27.js:396062
@@ -2,7 +2,7 @@
   if (!A.hooks) return;
   let q = sk.safeParse(A.hooks);
   if (!q.success) {
-    h(`Invalid hooks in agent '${K}': ${q.error.message}`);
+    I(`Invalid hooks in skill '${q}': ${K.error.message}`);
     return;
   }
   return q.data;

@@@ function 'cCY' (was 'mE7')  structural (66.7%)
--- pretty-v2.1.26.js:334254
+++ pretty-v2.1.27.js:439067
@@ -2,7 +2,7 @@
   if (!A.hooks) return;
   let q = sk.safeParse(A.hooks);
   if (!q.success) {
-    h(`Invalid hooks in skill '${K}': ${q.error.message}`);
+    I(`Invalid hooks in agent '${q}': ${K.error.message}`);
     return;
   }
   return q.data;

@@@ function 'UC4' (was 'H8K')  structural (66.7%)
--- pretty-v2.1.26.js:418980
+++ pretty-v2.1.27.js:385754
@@ -1,7 +1,13 @@
 async function H8K(A, K, q, Y) {
   let { command: z, cwd: w, descriptions: H } = A,
     J = w8K(z),
+    $;
+  try {
     O = J ? await J : await njA(z, w, H, "allow", K, q);
+  } catch (_) {
+    if (_ instanceof pY || _ instanceof Tz) return;
+    throw _;
+  }
   if ((aM1(z, "allow", H, O), !Y.shouldContinue())) return;
   Y.onComplete?.();
 }

@@@ variable 'V7' (was 'S4')  structural (66.7%)
--- pretty-v2.1.26.js:529185
+++ pretty-v2.1.27.js:138595
@@ -23,17 +23,16 @@
   hK1();
   _pA();
   b1();
-  ((cVK = r(zF(), 1)), (lVK = r(zb(), 1)));
+  $r8 = r(ZI(), 1);
   qxA = h86((A) => {
     let K = bdA();
     if (!K) return null;
     if (iVK()) {
       if (!Gw(!0) && !A) {
         let Y = Error(
-          `Security: apiKeyHelper executed before workspace trust is confirmed. If you see this message, post in ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.FEEDBACK_CHANNEL}.`,
+          `Security: apiKeyHelper executed before workspace trust is confirmed. If you see this message, post in ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.FEEDBACK_CHANNEL}.`,
         );
         (jE("apiKeyHelper invoked before trust check", Y),
-          cVK.captureException(Y),
           n("tengu_apiKeyHelper_missing_trust11", {}));
       }
     }

@@@ function 'rKz' (was 'At2')  structural (66.7%)
--- pretty-v2.1.26.js:556733
+++ pretty-v2.1.27.js:540592
@@ -4,5 +4,9 @@
       return "hook";
     case "user":
       return A.permanent ? "user_permanent" : "user_temporary";
+    case "user_abort":
+      return "user_abort";
+    case "user_reject":
+      return "user_reject";
   }
 }

@@@ function 'MO6' (was '_RK')  structural (66.7%)
--- pretty-v2.1.26.js:558597
+++ pretty-v2.1.27.js:299612
@@ -1,3 +1,3 @@
-function _RK(A) {
+function MO6(A, q) {
   return;
 }

@@@ function 'BB1' (was 'DQA')  structural (66.5%)
--- pretty-v2.1.26.js:526569
+++ pretty-v2.1.27.js:508274
@@ -41,14 +41,15 @@
       }
       K.push($);
     }
-    let X = K.map(($) => {
-      if ($ === null) return null;
-      if (typeof $ === "string") return $;
-      if ("comment" in $) return "#" + $.comment;
-      if ("op" in $ && $.op === "glob") return $.pattern;
-      if ("op" in $) return $.op;
-      return null;
-    })
+    let _ = q
+      .map((J) => {
+        if (J === null) return null;
+        if (typeof J === "string") return J;
+        if ("comment" in J) return "#" + J.comment;
+        if ("op" in J && J.op === "glob") return J.pattern;
+        if ("op" in J) return J.op;
+        return null;
+      })
       .filter(($) => $ !== null)
       .map(($) => {
         return $.replaceAll(`${q.SINGLE_QUOTE}`, "'")

@@@ function 'zyY' (was 'PV2')  structural (66.3%)
--- pretty-v2.1.26.js:453404
+++ pretty-v2.1.27.js:435111
@@ -1,10 +1,10 @@
 async function PV2(A) {
   let K = A ? ["fetch", "origin", `${A}:${A}`] : ["fetch", "origin"],
-    { code: q, stderr: Y } = await R6("git", K);
+    { code: K, stderr: Y } = await GA(A4(), q);
   if (q !== 0)
     if (A && Y.includes("refspec")) {
       h(`Specific branch fetch failed, trying to fetch ref: ${A}`);
-      let { code: z, stderr: w } = await R6("git", ["fetch", "origin", A]);
+      let { code: z, stderr: w } = await GA(A4(), ["fetch", "origin", A]);
       if (z !== 0) KA(Error(`Failed to fetch from remote origin: ${w}`));
     } else KA(Error(`Failed to fetch from remote origin: ${Y}`));
 }

@@@ function 'zBY' (was 'SC2')  structural (66.1%)
--- pretty-v2.1.26.js:472298
+++ pretty-v2.1.27.js:453962
@@ -19,6 +19,6 @@
       is_timeout: H.includes("timeout"),
     });
     let O = Error(`Failed to fetch version from ${K}/${A}: ${H}`);
-    throw (KA(O), FJK.captureException(O), O);
+    throw (q1($), $);
   }
 }

@@@ function 'OG6' (was 'sN1')  structural (65.7%)
--- pretty-v2.1.26.js:490856
+++ pretty-v2.1.27.js:472485
@@ -2,16 +2,22 @@
   aN1(K);
   let { enabled: q, disabled: Y } = await RY(),
     z = [...q, ...Y],
-    w = RI2(A, z);
-  if (!w)
-    return {
-      success: !1,
-      message: `Plugin "${A}" not found in installed plugins`,
-    };
-  let H = ix(K),
+    w = ogY(A, z),
     J = k4(H),
-    O = LI2(A, w, J),
     X = $e(K),
+    $,
+    _;
+  if (w) (($ = rgY(A, w, O)), (_ = w.name));
+  else {
+    let Z = agY(A);
+    if (!Z)
+      return {
+        success: !1,
+        message: `Plugin "${A}" not found in installed plugins`,
+      };
+    (($ = Z.pluginId), (_ = Z.pluginName));
+  }
+  let J = ls(q),
     _ = CD().plugins[O],
     G = _?.find((M) => M.scope === K && M.projectPath === X);
   if (!G) {
@@ -33,9 +39,9 @@
   if ((!j || j.length === 0) && Z) cMA(Z);
   return {
     success: !0,
-    message: `Successfully uninstalled plugin: ${w.name} (scope: ${K})`,
+    message: `Successfully uninstalled plugin: ${_} (scope: ${q})`,
     pluginId: O,
-    pluginName: w.name,
+    pluginName: _,
     scope: K,
   };
 }

@@@ variable 'hCq' (was 'arK')  structural (65.2%)
--- pretty-v2.1.26.js:6316
+++ pretty-v2.1.27.js:6523
@@ -1,4 +1,4 @@
   arK = async () => {
-    let { stdout: A } = await R6("git", ["rev-parse", "HEAD"]);
+    let { stdout: A } = await GA(A4(), ["rev-parse", "HEAD"]);
     return A.trim();
   },

@@@ function 'gm1' (was 'Q_Y')  structural (65.2%)
--- pretty-v2.1.26.js:282432
+++ pretty-v2.1.27.js:420555
@@ -1,7 +1,3 @@
 function Q_Y() {
-  return `
-
-[OUTPUT TRUNCATED - exceeded ${N01()} token limit]
-
-The tool output was truncated. If this MCP server provides pagination or filtering tools, use them to retrieve specific portions of the data. If pagination is not available, inform the user that you are working with truncated output and results may be incomplete.`;
+  return `/tmp/claude-mcp-browser-bridge-${pvA()}`;
 }

@@@ function 'CNY' (was 'MuA')  structural (65.2%)
--- pretty-v2.1.26.js:282843
+++ pretty-v2.1.27.js:420576
@@ -1,3 +1,3 @@
 function MuA() {
-  return `/tmp/claude-mcp-browser-bridge-${IZ6()}`;
+  return `claude-mcp-browser-bridge-${pvA()}`;
 }

@@@ function 'PSY' (was 'wGY')  structural (65.2%)
--- pretty-v2.1.26.js:282864
+++ pretty-v2.1.27.js:440295
@@ -1,3 +1,7 @@
 function wGY() {
-  return `claude-mcp-browser-bridge-${IZ6()}`;
+  return `
+
+[OUTPUT TRUNCATED - exceeded ${OP6()} token limit]
+
+The tool output was truncated. If this MCP server provides pagination or filtering tools, use them to retrieve specific portions of the data. If pagination is not available, inform the user that you are working with truncated output and results may be incomplete.`;
 }

@@@ function 'gM6' (was 'dV1')  structural (65.2%)
--- pretty-v2.1.26.js:453460
+++ pretty-v2.1.27.js:435167
@@ -1,4 +1,4 @@
 async function dV1() {
-  let { stdout: A } = await R6("git", ["branch", "--show-current"]);
+  let { stdout: A } = await GA(A4(), ["branch", "--show-current"]);
   return A.trim();
 }

@@@ variable 'iU' (was 'fd')  structural (64.9%)
--- pretty-v2.1.26.js:416878
+++ pretty-v2.1.27.js:383600
@@ -16,6 +16,6 @@
   FM1();
   b1();
   r3();
-  ((pM1 = r(yy(), 1)), (v6K = r(zF(), 1)));
+  X06 = r(zC(), 1);
   QM1 = class QM1 extends OTA {};
 });

@@@ function 'ZD1' (was 'ODA')  structural (64.7%)
--- pretty-v2.1.26.js:341541
+++ pretty-v2.1.27.js:310075
@@ -1,5 +1,7 @@
 function ODA() {
   let A = o6();
+  if (!!(process.env.SSH_CLIENT || process.env.SSH_TTY))
+    return "Failed to copy to clipboard. Over SSH, clipboard access requires a terminal that supports OSC52 (iTerm2, Kitty, Ghostty, WezTerm, Alacritty, etc.). If using tmux, ensure `set-clipboard` is enabled and `allow-passthrough` is on.";
   return {
     macos:
       "Failed to copy to clipboard. Make sure the `pbcopy` command is available on your system and try again.",

@@@ variable 'rO6' (was 'fZ1')  structural (64.4%)
--- pretty-v2.1.26.js:340751
+++ pretty-v2.1.27.js:309224
@@ -1,5 +1,5 @@
 var fZ1 = E(() => {
-  ((kR7 = r(XA(), 1)), (CR7 = r(zF(), 1)));
+  NY4 = r($1(), 1);
   $qA = class $qA extends kR7.Component {
     constructor(A) {
       super(A);
@@ -7,11 +7,6 @@
     }
     static getDerivedStateFromError() {
       return { hasError: !0 };
-    }
-    componentDidCatch(A) {
-      try {
-        CR7.captureException(A);
-      } catch {}
     }
     render() {
       if (this.state.hasError) return null;

@@@ function 'MiY' (was 'cB2')  structural (64.4%)
--- pretty-v2.1.26.js:503699
+++ pretty-v2.1.27.js:485401
@@ -8,6 +8,6 @@
       .filter(Boolean)
       .join(" "),
     z =
-      `${[A.customTitle, A.summary, A.firstPrompt, A.gitBranch, A.tag].filter(Boolean).join(" ")} ${q}`.trim();
+      `${[A.customTitle, A.summary, A.firstPrompt, A.gitBranch, A.tag, A.prNumber ? `PR #${A.prNumber}` : void 0, A.prRepository].filter(Boolean).join(" ")} ${K}`.trim();
   return z.length > YWK ? z.slice(0, YWK) : z;
 }

@@@ variable 'O$q' (was 'aCK')  structural (64.1%)
--- pretty-v2.1.26.js:555212
+++ pretty-v2.1.27.js:539050
@@ -70,6 +70,7 @@
   RjA();
   cCK();
   ZPA();
-  ((Q4 = r(XA(), 1)), (nCK = r(XA(), 1)), (fK = r(XA(), 1)));
+  nSA();
+  ((u7 = r($1(), 1)), (Cq = r($1(), 1)));
   oCK = Q4.memo(ks2);
 });

@@@ function 'cXY' (was 'n_2')  structural (63.8%)
--- pretty-v2.1.26.js:422037
+++ pretty-v2.1.27.js:388831
@@ -45,7 +45,8 @@
       permissionMode: $.toolPermissionContext.mode,
     });
   if (X)
-    ((C = C.split(" ")
+    ((k = k
+      .split(" ")
       .filter((b, F, Q) => b !== "--model" && Q[F - 1] !== "--model")
       .join(" ")),
       (C = C ? `${C} --model ${y4([X])}` : `--model ${y4([X])}`));

@@@ function 'N76' (was 'q51')  structural (63.6%)
--- pretty-v2.1.26.js:160535
+++ pretty-v2.1.27.js:168193
@@ -1,6 +1,6 @@
 function q51(A) {
   if (!Zi3()) return "";
-  let K = `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION}.${A}`,
+  let q = `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION}.${A}`,
     q = process.env.CLAUDE_CODE_ENTRYPOINT ?? "unknown",
     Y = `x-anthropic-billing-header: cc_version=${K}; cc_entrypoint=${q};`;
   return (h(`attribution header ${Y}`), Y);

@@@ function 'wyY' (was 'VV2')  structural (63.4%)
--- pretty-v2.1.26.js:453414
+++ pretty-v2.1.27.js:435121
@@ -1,5 +1,5 @@
 async function VV2(A) {
-  let { code: K } = await R6("git", [
+  let { code: q } = await GA(A4(), [
     "rev-parse",
     "--abbrev-ref",
     `${A}@{upstream}`,
@@ -8,10 +8,10 @@
     h(`Branch '${A}' already has upstream set`);
     return;
   }
-  let { code: q } = await R6("git", ["rev-parse", "--verify", `origin/${A}`]);
+  let { code: K } = await GA(A4(), ["rev-parse", "--verify", `origin/${A}`]);
   if (q === 0) {
     h(`Setting upstream for '${A}' to 'origin/${A}'`);
-    let { code: Y, stderr: z } = await R6("git", [
+    let { code: Y, stderr: z } = await GA(A4(), [
       "branch",
       "--set-upstream-to",
       `origin/${A}`,

@@@ function 'lj1' (was 'gjA')  structural (63.2%)
--- pretty-v2.1.26.js:416476
+++ pretty-v2.1.27.js:383208
@@ -6,24 +6,16 @@
         "npm",
         [
           "install",
-          `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.PACKAGE_URL}@${q}`,
+          `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.PACKAGE_URL}@${K}`,
         ],
         { cwd: kt, maxBuffer: 1e6 },
       );
     if (Y.code !== 0) {
       let z = Error(`Failed to install Claude CLI package: ${Y.stderr}`);
-      return (
-        KA(z),
-        mR6.captureException(z),
-        Y.code === 190 ? "in_progress" : "install_failed"
-      );
+      return (q1(z), Y.code === 190 ? "in_progress" : "install_failed");
     }
     return (j6((z) => ({ ...z, installMethod: "local" })), "success");
   } catch (q) {
-    return (
-      KA(q instanceof Error ? q : Error(String(q))),
-      mR6.captureException(q),
-      "install_failed"
-    );
+    return (q1(K instanceof Error ? K : Error(String(K))), "install_failed");
   }
 }

@@@ function 'BuY' (was 'XC2')  structural (63.0%)
--- pretty-v2.1.26.js:471351
+++ pretty-v2.1.27.js:453016
@@ -3,7 +3,7 @@
   if (ex6 === A && wpA !== null) return wpA;
   return (
     (wpA =
-      (await A7("git", ["rev-parse", "--git-dir"], { timeout: 2000, cwd: A }))
+      (await l7(A4(), ["rev-parse", "--git-dir"], { timeout: 2000, cwd: A }))
         .code === 0),
     (ex6 = A),
     wpA

@@@ function 'WXY' (was 'V_2')  structural (62.9%)
--- pretty-v2.1.26.js:419676
+++ pretty-v2.1.27.js:386462
@@ -79,20 +79,26 @@
         y = _I(M);
       if (y > eM1()) {
         h(`[inProcessRunner] ${K.agentId} compacting history (${y} tokens)`);
-        let e = await ojA(
-          M,
-          H,
-          {
-            systemPrompt: [],
-            userContext: {},
-            systemContext: {},
-            toolUseContext: H,
-            forkContextMessages: [],
+        let e = {
+            ...H,
+            readFileState: bQ(H.readFileState),
+            onCompactProgress: void 0,
+            setStreamMode: void 0,
           },
-          !0,
-          void 0,
-          !0,
-        );
+          z1 = await KM1(
+            G,
+            e,
+            {
+              systemPrompt: [],
+              userContext: {},
+              systemContext: {},
+              toolUseContext: e,
+              forkContextMessages: [],
+            },
+            !0,
+            void 0,
+            !0,
+          );
         ((x = Nt(e)), (M.length = 0), M.push(...x));
       }
       let B = x.length > 0 ? [...x] : void 0;

@@@ function 'rj1' (was 'UjA')  structural (62.8%)
--- pretty-v2.1.26.js:416786
+++ pretty-v2.1.27.js:383509
@@ -9,9 +9,9 @@
             "report the issue at https://github.com/anthropics/claude-code/issues",
           PACKAGE_URL: "@anthropic-ai/claude-code",
           README_URL: "https://code.claude.com/docs/en/overview",
-          VERSION: "2.1.26",
+          VERSION: "2.1.27",
           FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-          BUILD_TIME: "2026-01-30T02:12:23Z",
+          BUILD_TIME: "2026-01-30T19:50:44Z",
         }.VERSION,
       }),
       "in_progress"
@@ -26,10 +26,10 @@
               "report the issue at https://github.com/anthropics/claude-code/issues",
             PACKAGE_URL: "@anthropic-ai/claude-code",
             README_URL: "https://code.claude.com/docs/en/overview",
-            VERSION: "2.1.26",
+            VERSION: "2.1.27",
             FEEDBACK_CHANNEL:
               "https://github.com/anthropics/claude-code/issues",
-            BUILD_TIME: "2026-01-30T02:12:23Z",
+            BUILD_TIME: "2026-01-30T19:50:44Z",
           }.VERSION,
         }),
         console.error(`
@@ -48,16 +48,16 @@
     let { hasPermissions: K } = await QR6();
     if (!K) return "no_permissions";
     let q = A
-        ? `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.PACKAGE_URL}@${A}`
+        ? `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.PACKAGE_URL}@${A}`
         : {
             ISSUES_EXPLAINER:
               "report the issue at https://github.com/anthropics/claude-code/issues",
             PACKAGE_URL: "@anthropic-ai/claude-code",
             README_URL: "https://code.claude.com/docs/en/overview",
-            VERSION: "2.1.26",
+            VERSION: "2.1.27",
             FEEDBACK_CHANNEL:
               "https://github.com/anthropics/claude-code/issues",
-            BUILD_TIME: "2026-01-30T02:12:23Z",
+            BUILD_TIME: "2026-01-30T19:50:44Z",
           }.PACKAGE_URL,
       Y = g6.isRunningWithBun() ? "bun" : "npm",
       z = await A7(Y, ["install", "-g", q], { cwd: $QA() });
@@ -65,7 +65,7 @@
       let w = new QM1(
         `Failed to install new version of claude: ${z.stdout} ${z.stderr}`,
       );
-      return (KA(w), v6K.captureException(w), "install_failed");
+      return (q1(w), "install_failed");
     }
     return (j6((w) => ({ ...w, installMethod: "global" })), "success");
   } finally {

@@@ variable 'CT' (was 'KC')  structural (62.8%)
--- pretty-v2.1.26.js:212691
+++ pretty-v2.1.27.js:270660
@@ -27,16 +27,16 @@
     try {
       let Y = Date.now(),
         [z, w, H, J] = await Promise.all([
-          R6("git", ["branch", "--show-current"], {
+          GA(A4(), ["branch", "--show-current"], {
             preserveOutputOnError: !1,
           }).then(({ stdout: X }) => X.trim()),
-          R6("git", ["rev-parse", "--abbrev-ref", "origin/HEAD"], {
+          GA(A4(), ["rev-parse", "--abbrev-ref", "origin/HEAD"], {
             preserveOutputOnError: !1,
           }).then(({ stdout: X }) => X.replace("origin/", "").trim()),
-          R6("git", ["status", "--short"], { preserveOutputOnError: !1 }).then(
+          GA(A4(), ["status", "--short"], { preserveOutputOnError: !1 }).then(
             ({ stdout: X }) => X.trim(),
           ),
-          R6("git", ["log", "--oneline", "-n", "5"], {
+          GA(A4(), ["log", "--oneline", "-n", "5"], {
             preserveOutputOnError: !1,
           }).then(({ stdout: X }) => X.trim()),
         ]);
@@ -77,13 +77,15 @@
     (s0 = J6(async () => {
       let A = Date.now();
       M8("info", "system_context_started");
-      let K = j1(process.env.CLAUDE_CODE_REMOTE) ? null : await r96();
+      let q = X6(process.env.CLAUDE_CODE_REMOTE) ? null : await g$A(),
+        K = null;
       return (
         M8("info", "system_context_completed", {
           duration_ms: Date.now() - A,
           has_git_status: K !== null,
+          has_injection: K !== null,
         }),
-        { ...(K ? { gitStatus: K } : {}) }
+        { ...(q ? { gitStatus: q } : {}), ...{} }
       );
     })),
     (t0 = J6(async () => {

@@@ function 'zzz' (was 'N6z')  structural (62.3%)
--- pretty-v2.1.26.js:575832
+++ pretty-v2.1.27.js:559519
@@ -23,7 +23,8 @@
         HK("preAction_after_remote_settings"),
         HK("preAction_after_settings_sync"));
     }),
-    K.name("claude")
+    q
+      .name("claude")
       .description(
         "Claude Code - starts an interactive session by default, use -p/--print for non-interactive output",
       )
@@ -227,6 +228,11 @@
         () => !0,
       )
       .option(
+        "--from-pr [value]",
+        "Resume a session linked to a PR by PR number/URL, or open interactive picker with optional search term",
+        (O) => O || !0,
+      )
+      .option(
         "--no-session-persistence",
         "Disable session persistence - sessions will not be saved to disk and cannot be resumed (only works with --print)",
       )
@@ -1079,7 +1085,7 @@
           } catch (v6) {
             (KA(v6 instanceof Error ? v6 : Error(String(v6))), process.exit(1));
           }
-        else if (O.resume || LA || wA !== null) {
+        else if ($.resume || $.fromPr || R1 || w1 !== null) {
           wN1();
           let v6 = null,
             W7 = void 0,
@@ -1087,7 +1093,12 @@
             d4 = void 0,
             q5 = eT(O.resume),
             SK = void 0,
-            b3 = null;
+            R5 = null,
+            FK = void 0;
+          if ($.fromPr) {
+            if ($.fromPr === !0) FK = !0;
+            else if (typeof $.fromPr === "string") FK = $.fromPr;
+          }
           if (O.resume && typeof O.resume === "string" && !q5) {
             let z4 = O.resume.trim();
             if (z4) {
@@ -1377,6 +1388,7 @@
                       disableSlashCommands: YA,
                       forkSession: O.forkSession,
                       taskListId: JA,
+                      filterByPr: FK,
                     }),
                   ),
                 ),
@@ -1419,7 +1431,7 @@
         }
       })
       .version(
-        `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION} (Claude Code)`,
+        `${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION} (Claude Code)`,
         "-v, --version",
         "Output the version number",
       ),
@@ -1480,13 +1492,13 @@
         "Create a remote session with the given description",
       ).hideHelp(),
     ));
-  let q = K.command("mcp")
+  let K = q
+    .command("mcp")
     .description("Configure and manage MCP servers")
     .helpOption("-h, --help", "Display help for command")
     .configureHelp(A())
     .enablePositionalOptions();
-  (q
-    .command("serve")
+  (K.command("serve")
     .description("Start the Claude Code MCP server")
     .helpOption("-h, --help", "Display help for command")
     .option("-d, --debug", "Enable debug mode", () => !0)
@@ -1505,8 +1517,7 @@
       }
     }),
     omK(q),
-    q
-      .command("remove <name>")
+    K.command("remove <name>")
       .description("Remove an MCP server")
       .option(
         "-s, --scope <scope>",
@@ -1567,8 +1578,7 @@
             process.exit(1));
         }
       }),
-    q
-      .command("list")
+    K.command("list")
       .description("List configured MCP servers")
       .helpOption("-h, --help", "Display help for command")
       .action(async () => {
@@ -1604,8 +1614,7 @@
         }
         await X5(0);
       }),
-    q
-      .command("get <name>")
+    K.command("get <name>")
       .description("Get details about an MCP server")
       .helpOption("-h, --help", "Display help for command")
       .action(async (J) => {
@@ -1650,8 +1659,7 @@
 To remove this server, run: claude mcp remove "${J}" -s ${O.scope}`),
           await X5(0));
       }),
-    q
-      .command("add-json <name> <json>")
+    K.command("add-json <name> <json>")
       .description("Add an MCP server (stdio or SSE) with a JSON string")
       .option(
         "-s, --scope <scope>",
@@ -1675,8 +1683,7 @@
           (console.error($.message), process.exit(1));
         }
       }),
-    q
-      .command("add-from-claude-desktop")
+    K.command("add-from-claude-desktop")
       .description("Import MCP servers from Claude Desktop (Mac and WSL only)")
       .option(
         "-s, --scope <scope>",
@@ -1717,8 +1724,7 @@
           (console.error(O.message), process.exit(1));
         }
       }),
-    q
-      .command("reset-project-choices")
+    K.command("reset-project-choices")
       .description(
         "Reset all approved and rejected project-scoped (.mcp.json) servers within this project",
       )
@@ -1746,7 +1752,8 @@
       ),
       process.exit(1));
   }
-  let z = K.command("plugin")
+  let z = q
+    .command("plugin")
     .description("Manage Claude Code plugins")
     .helpOption("-h, --help", "Display help for command")
     .configureHelp(A());
@@ -2196,7 +2203,8 @@
             process.exit(1));
         await _BK(J, X);
       }),
-    K.command("setup-token")
+    q
+      .command("setup-token")
       .description(
         "Set up a long-lived authentication token (requires Claude subscription)",
       )
@@ -2247,7 +2255,8 @@
     return $;
   }
   return (
-    K.command("doctor")
+    q
+      .command("doctor")
       .description("Check the health of your Claude Code auto-updater")
       .helpOption("-h, --help", "Display help for command")
       .action(async () => {
@@ -2276,11 +2285,13 @@
           }),
           process.exit(0));
       }),
-    K.command("update")
+    q
+      .command("update")
       .description("Check for updates and install if available")
       .helpOption("-h, --help", "Display help for command")
       .action(kmK),
-    K.command("install [target]")
+    q
+      .command("install [target]")
       .description(
         "Install Claude Code native build. Use [target] to specify version (stable, latest, or specific version)",
       )

@@@ function 'f7' (was 'R4')  structural (62.2%)
--- pretty-v2.1.26.js:308456
+++ pretty-v2.1.27.js:217047
@@ -1,5 +1,5 @@
 function R4(A) {
-  let K = s(9),
+  let q = s(10),
     {
       title: q,
       subtitle: Y,
@@ -9,6 +9,7 @@
       borderDimColor: J,
       hideInputGuide: O,
       hideBorder: X,
+      inputGuide: J,
     } = A,
     $;
   if (
@@ -19,7 +20,8 @@
     K[4] !== O ||
     K[5] !== w ||
     K[6] !== Y ||
-    K[7] !== q
+    q[7] !== Y ||
+    q[8] !== K
   )
     (($ = YW.default.createElement(
       pvY,
@@ -31,6 +33,7 @@
         borderDimColor: J,
         hideInputGuide: O,
         hideBorder: X,
+        inputGuide: J,
       },
       z,
     )),
@@ -42,7 +45,8 @@
       (K[5] = w),
       (K[6] = Y),
       (K[7] = q),
-      (K[8] = $));
-  else $ = K[8];
+      (q[8] = K),
+      (q[9] = X));
+  else X = q[9];
   return $;
 }

@@@ function 'WJY' (was 'N$2')  structural (62.0%)
--- pretty-v2.1.26.js:417102
+++ pretty-v2.1.27.js:383824
@@ -12,6 +12,8 @@
       !H.some((_) => {
         let G = _;
         if (o6() === "windows") G = _.split(GQA.sep).join(_QA.sep);
+        let j = D.replace(/\/+$/, ""),
+          M = X.replace(/[/\\]+$/, "");
         return G === X || _ === "~/.local/bin" || _ === "$HOME/.local/bin";
       })
     )

@@@ variable 'Ba' (was 'Ct')  structural (61.2%)
--- pretty-v2.1.26.js:416516
+++ pretty-v2.1.27.js:383240
@@ -6,8 +6,7 @@
   i6();
   b1();
   b1();
-  ((mR6 = r(zF(), 1)),
-    (kt = OQA(D8(), "local")),
+  ((ua = CB1(_8(), "local")),
     (P6K = OQA(kt, "package.json")),
     (V6K = OQA(kt, "claude")));
 });

@@@ variable 'dGq' (was 'pR7')  structural (60.0%)
--- pretty-v2.1.26.js:341117
+++ pretty-v2.1.27.js:557333
@@ -1,6 +1,15 @@
 var pR7 = E(() => {
   mA();
   l7();
+  j06();
+  mA();
+  Ba();
+  Nh();
+  dS();
+  u3();
+  $6();
+  Mw();
+  C8();
+  Y4A();
   vZ1 = r(XA(), 1);
-  QR7 = J6(WlY);
 });

@@@ function 'PCY' (was 'zv2')  structural (59.8%)
--- pretty-v2.1.26.js:460702
+++ pretty-v2.1.27.js:436996
@@ -2,21 +2,21 @@
   let Y = { ...process.env, ...BzK },
     z = q?.disableCredentialHelper ? ["-c", "credential.helper="] : [];
   if (K) {
-    let H = await A7("git", [...z, "fetch", "origin", K], {
+    let H = await l7(A4(), [...z, "fetch", "origin", q], {
       cwd: A,
       timeout: 30000,
       stdin: "ignore",
       env: Y,
     });
     if (H.code !== 0) return Cf1(H);
-    let J = await A7("git", [...z, "checkout", K], {
+    let O = await l7(A4(), [...z, "checkout", q], {
       cwd: A,
       timeout: 30000,
       stdin: "ignore",
       env: Y,
     });
     if (J.code !== 0) return Cf1(J);
-    let O = await A7("git", [...z, "pull", "origin", "HEAD"], {
+    let $ = await l7(A4(), [...z, "pull", "origin", "HEAD"], {
       cwd: A,
       timeout: 30000,
       stdin: "ignore",
@@ -24,7 +24,7 @@
     });
     return Cf1(O);
   }
-  let w = await A7("git", [...z, "pull", "origin", "HEAD"], {
+  let w = await l7(A4(), [...z, "pull", "origin", "HEAD"], {
     cwd: A,
     timeout: 30000,
     stdin: "ignore",

@@@ function 'nW6' (was 'mN1')  structural (59.6%)
--- pretty-v2.1.26.js:480607
+++ pretty-v2.1.27.js:462201
@@ -1,5 +1,5 @@
 function mN1(A) {
-  let K = s(84),
+  let q = s(90),
     { dimColor: q, fixedWidth: Y, gap: z, paddingX: w } = A,
     H = cK("app:toggleTranscript", "Global", "ctrl+o"),
     J;
@@ -36,57 +36,67 @@
   if (K[12] !== x) ((y = j9A(x)), (K[12] = x), (K[13] = y));
   else y = K[13];
   let B = y,
+    x = Qq("app:toggleTerminal", "Global", "meta+j"),
+    g;
+  if (q[14] !== x) ((g = Qs(x)), (q[14] = x), (q[15] = g));
+  else g = q[15];
+  let Q = g,
+    u;
+  if (q[16] !== K || q[17] !== Q)
+    ((u = null), (q[16] = K), (q[17] = Q), (q[18] = u));
+  else u = q[18];
+  let d = u,
     b = Y ? 24 : void 0,
     F;
-  if (K[14] !== q)
+  if (q[19] !== K)
     ((F = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, "! for bash mode"),
     )),
-      (K[14] = q),
-      (K[15] = F));
-  else F = K[15];
+      (q[19] = K),
+      (q[20] = c));
+  else c = q[20];
   let Q;
-  if (K[16] !== q)
+  if (q[21] !== K)
     ((Q = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, "/ for commands"),
     )),
-      (K[16] = q),
-      (K[17] = Q));
-  else Q = K[17];
+      (q[21] = K),
+      (q[22] = H1));
+  else H1 = q[22];
   let u;
-  if (K[18] !== q)
+  if (q[23] !== K)
     ((u = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, "@ for file paths"),
     )),
-      (K[18] = q),
-      (K[19] = u));
-  else u = K[19];
+      (q[23] = K),
+      (q[24] = K1));
+  else K1 = q[24];
   let d, o;
-  if (K[20] !== q)
+  if (q[25] !== K)
     ((d = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, "& for background"),
     )),
       (o = !1),
-      (K[20] = q),
-      (K[21] = d),
-      (K[22] = o));
-  else ((d = K[21]), (o = K[22]));
+      (q[25] = K),
+      (q[26] = e),
+      (q[27] = z1));
+  else ((e = q[26]), (z1 = q[27]));
   let c;
   if (
-    K[23] !== b ||
-    K[24] !== F ||
-    K[25] !== Q ||
-    K[26] !== u ||
-    K[27] !== d ||
-    K[28] !== o
+    q[28] !== o ||
+    q[29] !== c ||
+    q[30] !== H1 ||
+    q[31] !== K1 ||
+    q[32] !== e ||
+    q[33] !== z1
   )
     ((c = O7.createElement(
       S,
@@ -97,76 +107,77 @@
       d,
       o,
     )),
-      (K[23] = b),
-      (K[24] = F),
-      (K[25] = Q),
-      (K[26] = u),
-      (K[27] = d),
       (K[28] = o),
-      (K[29] = c));
-  else c = K[29];
+      (q[29] = c),
+      (q[30] = H1),
+      (q[31] = K1),
+      (q[32] = e),
+      (q[33] = z1),
+      (q[34] = J1));
+  else J1 = q[34];
   let qA = Y ? 35 : void 0,
     YA;
-  if (K[30] !== q)
+  if (q[35] !== K)
     ((YA = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, "double tap esc to clear input"),
     )),
-      (K[30] = q),
-      (K[31] = YA));
-  else YA = K[31];
+      (q[35] = K),
+      (q[36] = D1));
+  else D1 = q[36];
   let e;
-  if (K[32] !== N || K[33] !== q)
+  if (q[37] !== V || q[38] !== K)
     ((e = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, N, " to auto-accept edits"),
     )),
-      (K[32] = N),
-      (K[33] = q),
-      (K[34] = e));
-  else e = K[34];
+      (q[37] = V),
+      (q[38] = K),
+      (q[39] = P1));
+  else P1 = q[39];
   let JA;
-  if (K[35] !== q || K[36] !== O)
+  if (q[40] !== K || q[41] !== $)
     ((JA = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, O, " for verbose output"),
     )),
-      (K[35] = q),
-      (K[36] = O),
-      (K[37] = JA));
-  else JA = K[37];
+      (q[40] = K),
+      (q[41] = $),
+      (q[42] = M1));
+  else M1 = q[42];
   let OA;
-  if (K[38] !== q || K[39] !== _)
+  if (q[43] !== K || q[44] !== X)
     ((OA = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, _, " to show todos"),
     )),
-      (K[38] = q),
-      (K[39] = _),
-      (K[40] = OA));
-  else OA = K[40];
+      (q[43] = K),
+      (q[44] = X),
+      (q[45] = E1));
+  else E1 = q[45];
   let a;
-  if (K[41] === Symbol.for("react.memo_cache_sentinel"))
-    ((a = R0K()), (K[41] = a));
-  else a = K[41];
+  if (q[46] === Symbol.for("react.memo_cache_sentinel"))
+    ((R1 = mt4()), (q[46] = R1));
+  else R1 = q[46];
   let _A;
-  if (K[42] !== q)
+  if (q[47] !== K)
     ((_A = O7.createElement(S, null, O7.createElement(V, { dimColor: q }, a))),
-      (K[42] = q),
-      (K[43] = _A));
-  else _A = K[43];
+      (q[47] = K),
+      (q[48] = A1));
+  else A1 = q[48];
   let WA;
   if (
-    K[44] !== qA ||
-    K[45] !== YA ||
-    K[46] !== e ||
-    K[47] !== JA ||
-    K[48] !== OA ||
-    K[49] !== _A
+    q[49] !== a ||
+    q[50] !== D1 ||
+    q[51] !== P1 ||
+    q[52] !== M1 ||
+    q[53] !== E1 ||
+    q[54] !== A1 ||
+    q[55] !== d
   )
     ((WA = O7.createElement(
       S,
@@ -176,28 +187,30 @@
       JA,
       OA,
       _A,
+      A1,
     )),
-      (K[44] = qA),
-      (K[45] = YA),
-      (K[46] = e),
-      (K[47] = JA),
-      (K[48] = OA),
       (K[49] = _A),
-      (K[50] = WA));
-  else WA = K[50];
+      (q[50] = D1),
+      (q[51] = P1),
+      (q[52] = M1),
+      (q[53] = E1),
+      (q[54] = A1),
+      (q[55] = d),
+      (q[56] = w1));
+  else w1 = q[56];
   let ZA;
-  if (K[51] !== q || K[52] !== W)
+  if (q[57] !== K || q[58] !== M)
     ((ZA = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, W, " to undo"),
     )),
-      (K[51] = q),
-      (K[52] = W),
-      (K[53] = ZA));
-  else ZA = K[53];
+      (q[57] = K),
+      (q[58] = M),
+      (q[59] = j1));
+  else j1 = q[59];
   let IA;
-  if (K[54] !== q)
+  if (q[60] !== K)
     ((IA =
       h98 &&
       O7.createElement(
@@ -205,58 +218,58 @@
         null,
         O7.createElement(V, { dimColor: q }, "ctrl + z to suspend"),
       )),
-      (K[54] = q),
-      (K[55] = IA));
-  else IA = K[55];
+      (q[60] = K),
+      (q[61] = O1));
+  else O1 = q[61];
   let LA;
-  if (K[56] === Symbol.for("react.memo_cache_sentinel"))
-    ((LA = KPA.displayText.replace("+", " + ")), (K[56] = LA));
-  else LA = K[56];
+  if (q[62] === Symbol.for("react.memo_cache_sentinel"))
+    ((t = UP1.displayText.replace("+", " + ")), (q[62] = t));
+  else t = q[62];
   let AA;
-  if (K[57] !== q)
+  if (q[63] !== K)
     ((AA = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, LA, " to paste images"),
     )),
-      (K[57] = q),
-      (K[58] = AA));
-  else AA = K[58];
+      (q[63] = K),
+      (q[64] = _1));
+  else _1 = q[64];
   let wA;
-  if (K[59] !== q || K[60] !== R)
+  if (q[65] !== K || q[66] !== y)
     ((wA = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, R, " to switch model"),
     )),
-      (K[59] = q),
-      (K[60] = R),
-      (K[61] = wA));
-  else wA = K[61];
+      (q[65] = K),
+      (q[66] = y),
+      (q[67] = Z1));
+  else Z1 = q[67];
   let GA;
-  if (K[62] !== q || K[63] !== M)
+  if (q[68] !== K || q[69] !== G)
     ((GA = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, M, " to stash prompt"),
     )),
-      (K[62] = q),
-      (K[63] = M),
-      (K[64] = GA));
-  else GA = K[64];
+      (q[68] = K),
+      (q[69] = G),
+      (q[70] = V1));
+  else V1 = q[70];
   let HA;
-  if (K[65] !== q || K[66] !== B)
+  if (q[71] !== K || q[72] !== B)
     ((HA = O7.createElement(
       S,
       null,
       O7.createElement(V, { dimColor: q }, B, " to edit in $EDITOR"),
     )),
-      (K[65] = q),
-      (K[66] = B),
-      (K[67] = HA));
-  else HA = K[67];
+      (q[71] = K),
+      (q[72] = B),
+      (q[73] = k1));
+  else k1 = q[73];
   let t;
-  if (K[68] !== q)
+  if (q[74] !== K)
     ((t =
       Bk() &&
       O7.createElement(
@@ -264,18 +277,18 @@
         null,
         O7.createElement(V, { dimColor: q }, "/keybindings to customize"),
       )),
-      (K[68] = q),
-      (K[69] = t));
-  else t = K[69];
+      (q[74] = K),
+      (q[75] = I1));
+  else I1 = q[75];
   let $A;
   if (
-    K[70] !== ZA ||
-    K[71] !== IA ||
-    K[72] !== AA ||
-    K[73] !== wA ||
-    K[74] !== GA ||
-    K[75] !== HA ||
-    K[76] !== t
+    q[76] !== j1 ||
+    q[77] !== O1 ||
+    q[78] !== _1 ||
+    q[79] !== Z1 ||
+    q[80] !== V1 ||
+    q[81] !== k1 ||
+    q[82] !== I1
   )
     (($A = O7.createElement(
       S,
@@ -288,17 +301,23 @@
       HA,
       t,
     )),
-      (K[70] = ZA),
-      (K[71] = IA),
-      (K[72] = AA),
-      (K[73] = wA),
-      (K[74] = GA),
-      (K[75] = HA),
       (K[76] = t),
-      (K[77] = $A));
-  else $A = K[77];
+      (q[77] = O1),
+      (q[78] = _1),
+      (q[79] = Z1),
+      (q[80] = V1),
+      (q[81] = k1),
+      (q[82] = I1),
+      (q[83] = f1));
+  else f1 = q[83];
   let VA;
-  if (K[78] !== z || K[79] !== w || K[80] !== c || K[81] !== WA || K[82] !== $A)
+  if (
+    q[84] !== z ||
+    q[85] !== w ||
+    q[86] !== J1 ||
+    q[87] !== w1 ||
+    q[88] !== f1
+  )
     ((VA = O7.createElement(
       S,
       { paddingX: w, flexDirection: "row", gap: z },
@@ -306,12 +325,12 @@
       WA,
       $A,
     )),
-      (K[78] = z),
-      (K[79] = w),
-      (K[80] = c),
-      (K[81] = WA),
-      (K[82] = $A),
-      (K[83] = VA));
-  else VA = K[83];
+      (q[84] = z),
+      (q[85] = w),
+      (q[86] = J1),
+      (q[87] = w1),
+      (q[88] = f1),
+      (q[89] = L1));
+  else L1 = q[89];
   return VA;
 }

@@@ function 'Au6' (was 'JF6')  structural (59.5%)
--- pretty-v2.1.26.js:528555
+++ pretty-v2.1.27.js:77419
@@ -26,11 +26,7 @@
         c2A(null),
         null
       );
-    return (
-      h(`Successfully read API key from file descriptor ${q}`),
-      c2A(w),
-      w
-    );
+    return (I(`Successfully read API key from file descriptor ${K}`), be(w), w);
   } catch (Y) {
     return (
       h(

@@@ variable 'wG' (was 'iM')  structural (58.9%)
--- pretty-v2.1.26.js:307211
+++ pretty-v2.1.27.js:443137
@@ -254,10 +254,10 @@
                 "report the issue at https://github.com/anthropics/claude-code/issues",
               PACKAGE_URL: "@anthropic-ai/claude-code",
               README_URL: "https://code.claude.com/docs/en/overview",
-              VERSION: "2.1.26",
+              VERSION: "2.1.27",
               FEEDBACK_CHANNEL:
                 "https://github.com/anthropics/claude-code/issues",
-              BUILD_TIME: "2026-01-30T02:12:23Z",
+              BUILD_TIME: "2026-01-30T19:50:44Z",
             }.VERSION ?? "unknown",
         },
         { capabilities: { roots: {}, ...{} } },
@@ -627,121 +627,117 @@
         Y =
           A.config.type === "sdk" &&
           j1(process.env.CLAUDE_AGENT_SDK_MCP_NO_PREFIX);
-      return q
-        .map((z) => ({
-          ...WG7,
-          name: Y ? z.name : `mcp__${z3(A.name)}__${z3(z.name)}`,
-          originalMcpToolName: z.name,
-          isMcp: !0,
-          async description() {
-            return z.description ?? "";
-          },
-          async prompt() {
-            return z.description ?? "";
-          },
-          isConcurrencySafe() {
-            return z.annotations?.readOnlyHint ?? !1;
-          },
-          isReadOnly() {
-            return z.annotations?.readOnlyHint ?? !1;
-          },
-          isDestructive() {
-            return z.annotations?.destructiveHint ?? !1;
-          },
-          isOpenWorld() {
-            return z.annotations?.openWorldHint ?? !1;
-          },
-          inputJSONSchema: z.inputSchema,
-          async checkPermissions() {
+      return K.map((z) => ({
+        ...ri4,
+        name: Y ? z.name : `mcp__${A5(A.name)}__${A5(z.name)}`,
+        originalMcpToolName: z.name,
+        isMcp: !0,
+        async description() {
+          return z.description ?? "";
+        },
+        async prompt() {
+          return z.description ?? "";
+        },
+        isConcurrencySafe() {
+          return z.annotations?.readOnlyHint ?? !1;
+        },
+        isReadOnly() {
+          return z.annotations?.readOnlyHint ?? !1;
+        },
+        isDestructive() {
+          return z.annotations?.destructiveHint ?? !1;
+        },
+        isOpenWorld() {
+          return z.annotations?.openWorldHint ?? !1;
+        },
+        inputJSONSchema: z.inputSchema,
+        async checkPermissions() {
+          return {
+            behavior: "passthrough",
+            message: "MCPTool requires permission.",
+            suggestions: [
+              {
+                type: "addRules",
+                rules: [
+                  {
+                    toolName: Y ? z.name : `mcp__${A5(A.name)}__${A5(z.name)}`,
+                    ruleContent: void 0,
+                  },
+                ],
+                behavior: "allow",
+                destination: "localSettings",
+              },
+            ],
+          };
+        },
+        async call(w, H, O, $, _) {
+          let J = XIY($),
+            X = J ? { "claudecode/toolUseId": J } : {};
+          if (_ && J)
+            _({
+              toolUseID: J,
+              data: {
+                type: "mcp_progress",
+                status: "started",
+                serverName: A.name,
+                toolName: z.name,
+              },
+            });
+          let D = Date.now();
+          try {
+            let j = await lM1(A),
+              M = await Un4({
+                client: j,
+                tool: z.name,
+                args: w,
+                meta: X,
+                signal: H.abortController.signal,
+              });
+            if (_ && J)
+              _({
+                toolUseID: J,
+                data: {
+                  type: "mcp_progress",
+                  status: "completed",
+                  serverName: A.name,
+                  toolName: z.name,
+                  elapsedTimeMs: Date.now() - D,
+                },
+              });
             return {
-              behavior: "passthrough",
-              message: "MCPTool requires permission.",
-              suggestions: [
-                {
-                  type: "addRules",
-                  rules: [
-                    {
-                      toolName: Y
-                        ? z.name
-                        : `mcp__${z3(A.name)}__${z3(z.name)}`,
-                      ruleContent: void 0,
+              data: M.content,
+              ...(M._meta || M.structuredContent
+                ? {
+                    mcpMeta: {
+                      ...(M._meta && { _meta: M._meta }),
+                      ...(M.structuredContent && {
+                        structuredContent: M.structuredContent,
+                      }),
                     },
-                  ],
-                  behavior: "allow",
-                  destination: "localSettings",
-                },
-              ],
+                  }
+                : {}),
             };
-          },
-          async call(w, H, J, O, X) {
-            let $ = uvY(O),
-              _ = $ ? { "claudecode/toolUseId": $ } : {};
+          } catch (j) {
             if (X && $)
               X({
                 toolUseID: $,
                 data: {
                   type: "mcp_progress",
-                  status: "started",
+                  status: "failed",
                   serverName: A.name,
                   toolName: z.name,
+                  elapsedTimeMs: Date.now() - D,
                 },
               });
-            let G = Date.now();
-            try {
-              let Z = await hZA(A),
-                W = await RZ7({
-                  client: Z,
-                  tool: z.name,
-                  args: w,
-                  meta: _,
-                  signal: H.abortController.signal,
-                });
-              if (X && $)
-                X({
-                  toolUseID: $,
-                  data: {
-                    type: "mcp_progress",
-                    status: "completed",
-                    serverName: A.name,
-                    toolName: z.name,
-                    elapsedTimeMs: Date.now() - G,
-                  },
-                });
-              return {
-                data: W.content,
-                ...(W._meta || W.structuredContent
-                  ? {
-                      mcpMeta: {
-                        ...(W._meta && { _meta: W._meta }),
-                        ...(W.structuredContent && {
-                          structuredContent: W.structuredContent,
-                        }),
-                      },
-                    }
-                  : {}),
-              };
-            } catch (Z) {
-              if (X && $)
-                X({
-                  toolUseID: $,
-                  data: {
-                    type: "mcp_progress",
-                    status: "failed",
-                    serverName: A.name,
-                    toolName: z.name,
-                    elapsedTimeMs: Date.now() - G,
-                  },
-                });
-              throw Z;
-            }
-          },
-          userFacingName() {
-            let w = z.annotations?.title || z.name;
-            return `${A.name} - ${w} (MCP)`;
-          },
-          ...(tGA(A.name) ? NZ7(z.name) : {}),
-        }))
-        .filter(hvY);
+            throw j;
+          }
+        },
+        userFacingName() {
+          let w = z.annotations?.title || z.name;
+          return `${A.name} - ${w} (MCP)`;
+        },
+        ...(sM1(A.name) ? bn4(z.name) : {}),
+      })).filter($IY);
     } catch (K) {
       return (
         w2(

@@@ variable 'vq' (was 'yK')  structural (58.8%)
--- pretty-v2.1.26.js:466324
+++ pretty-v2.1.27.js:513504
@@ -23,18 +23,19 @@
   K6();
   b1();
   yw();
+  Mw();
   ((zE2 = {
     ISSUES_EXPLAINER:
       "report the issue at https://github.com/anthropics/claude-code/issues",
     PACKAGE_URL: "@anthropic-ai/claude-code",
     README_URL: "https://code.claude.com/docs/en/overview",
-    VERSION: "2.1.26",
+    VERSION: "2.1.27",
     FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-    BUILD_TIME: "2026-01-30T02:12:23Z",
+    BUILD_TIME: "2026-01-30T19:50:44Z",
   }.VERSION),
     (at = x1()),
     (wE2 = new RegExp(
-      `^(?:<local-command-stdout>|<session-start-hook>|<${jl}>|\\s*<ide_opened_file>[\\s\\S]*</ide_opened_file>\\s*$|\\s*<ide_selection>[\\s\\S]*</ide_selection>\\s*$)`,
+      `^(?:<local-command-stdout>|<session-start-hook>|<${Yc}>|<${zc}>|\\s*<ide_opened_file>[\\s\\S]*</ide_opened_file>\\s*$|\\s*<ide_selection>[\\s\\S]*</ide_selection>\\s*$)`,
     )));
   Zx6 = J6(
     async (A) => {

@@@ variable 'H$8' (was 'hVK')  structural (58.8%)
--- pretty-v2.1.26.js:527796
+++ pretty-v2.1.27.js:72790
@@ -2,7 +2,6 @@
   w7();
   R2();
   aN();
-  IVK();
   jv1 = U.string().superRefine((A, K) => {
     let q = $d2(A);
     if (!q.valid) {

@@@ variable 'u1' (was 'fy6')  structural (57.9%)
--- pretty-v2.1.26.js:419933
+++ pretty-v2.1.27.js:191446
@@ -22,4 +22,5 @@
   kH();
   $8();
   k3A();
+  aP7();
 });

@@@ variable 'XNA' (was '$h6')  structural (57.9%)
--- pretty-v2.1.26.js:446988
+++ pretty-v2.1.27.js:386725
@@ -22,4 +22,5 @@
   k3A();
   MV1();
   m9K();
+  mj();
 });

@@@ variable 'rG' (was 'MUA')  structural (57.9%)
--- pretty-v2.1.26.js:449901
+++ pretty-v2.1.27.js:421375
@@ -16,4 +16,7 @@
   LV1();
   LD();
   yMA();
+  YH6();
+  dvA();
+  R6();
 });

@@@ variable 'Gl4' (was 'YUA')  structural (57.9%)
--- pretty-v2.1.26.js:456995
+++ pretty-v2.1.27.js:432818
@@ -14,8 +14,4 @@
   RBA();
   I4();
   Td();
-  C1();
-  G1();
-  Vs();
-  b1();
 });

@@@ variable 'fr4' (was 'cPA')  structural (57.9%)
--- pretty-v2.1.26.js:512700
+++ pretty-v2.1.27.js:445587
@@ -6,4 +6,10 @@
   vC();
   KjK();
   k8();
+  R3();
+  $6();
+  NI();
+  R7();
+  yz1();
+  ID();
 });

@@@ variable 's$q' (was 'SMK')  structural (57.9%)
--- pretty-v2.1.26.js:519607
+++ pretty-v2.1.27.js:541064
@@ -5,5 +5,4 @@
   Dg6();
   tT1();
   CMK();
-  yMK();
 });

@@@ variable 'DJq' (was 'cPK')  structural (57.9%)
--- pretty-v2.1.26.js:523541
+++ pretty-v2.1.27.js:544557
@@ -5,5 +5,4 @@
   QPK();
   C1();
   LK();
-  mS();
 });

@@@ variable 'xMq' (was '_TK')  structural (57.9%)
--- pretty-v2.1.26.js:536395
+++ pretty-v2.1.27.js:546910
@@ -5,5 +5,4 @@
   wTK();
   JTK();
   XTK();
-  p9A();
 });

@@@ variable 'ZGq' (was 'eBK')  structural (57.9%)
--- pretty-v2.1.26.js:570336
+++ pretty-v2.1.27.js:554043
@@ -2,5 +2,4 @@
   l6();
   k8();
   RH();
-  K7();
 });

@@@ function 'N34' (was 'eK7')  structural (57.5%)
--- pretty-v2.1.26.js:266347
+++ pretty-v2.1.27.js:299077
@@ -1,6 +1,6 @@
-function eK7(A, K, q) {
+function N34(A, q, K, Y) {
   try {
-    let Y = PJ1(A);
+    let z = XO6(A, Y);
     if (!Y) return;
     let z = JGA.get(Y);
     if (!z) return;
@@ -45,9 +45,11 @@
         prevCacheReadTokens: w,
         cacheReadTokens: K,
         cacheCreationTokens: q,
-      }),
-      mi6(_),
-      (z.pendingChanges = null));
+      }));
+    let j;
+    if (O?.prevDiffableContent)
+      j = nF9(O.prevDiffableContent, w.diffableContent);
+    (eT6(D, j), (w.pendingChanges = null));
   } catch (Y) {
     KA(Y instanceof Error ? Y : Error(String(Y)));
   }

@@@ function 'Y$8' (was 'ft2')  structural (57.1%)
--- pretty-v2.1.26.js:559597
+++ pretty-v2.1.27.js:72606
@@ -1,3 +1,3 @@
 function ft2(A) {
-  return A.uuid;
+  return Gb6.customValidation[A];
 }

@@@ function 'ZQ4' (was 'Y1K')  structural (57.0%)
--- pretty-v2.1.26.js:408520
+++ pretty-v2.1.27.js:419491
@@ -19,10 +19,7 @@
             "run_in_background" in C.data &&
             C.data.run_in_background === !0,
           b = f?.output?.status === "async_launched",
-          F = B || b,
-          Q =
-            (C.success && !!C.data.name) ||
-            f?.output?.status === "teammate_spawned";
+          b = k || y;
         return {
           id: D.id,
           agentType: R,
@@ -32,100 +29,70 @@
           isResolved: j,
           isError: M,
           isAsync: F,
-          isTeammateSpawn: Q,
           color: y,
           lastToolInfo: T,
         };
       },
     ),
-    w = z.filter((D) => D.isTeammateSpawn).length,
-    H = x8() ? z.filter((D) => !D.isTeammateSpawn) : z,
-    J = x8() ? A.filter((D, j) => !z[j]?.isTeammateSpawn) : A,
     O = J.some((D) => !D.isResolved),
     X = J.some((D) => D.isError),
     $ = !O,
     _ = H.length > 0 && H.every((D) => D.agentType === H[0]?.agentType),
     G = _ ? H[0]?.agentType : null,
-    Z = H.every((D) => D.isAsync),
-    W =
-      x8() && w > 0
-        ? y6.createElement(
-            S,
-            { flexDirection: "row", marginTop: 1 },
-            y6.createElement(xs, {
-              shouldAnimate: !1,
-              isUnresolved: !1,
-              isError: !1,
-            }),
-            y6.createElement(
-              V,
-              { dimColor: !0 },
-              "Created ",
-              y6.createElement(V, { bold: !0 }, w),
-              " ",
-              w === 1 ? "teammate" : "teammates",
-            ),
-          )
-        : null;
-  if (H.length === 0) return W;
+    J = z.every((X) => X.isAsync);
   return y6.createElement(
     S,
-    { flexDirection: "column" },
-    W,
+    { flexDirection: "column", marginTop: 1 },
     y6.createElement(
       S,
-      { flexDirection: "column", marginTop: 1 },
+      { flexDirection: "row" },
+      hA.createElement(Wq1, {
+        shouldAnimate: K && w,
+        isUnresolved: w,
+        isError: H,
+      }),
       y6.createElement(
         S,
-        { flexDirection: "row" },
-        y6.createElement(xs, {
-          shouldAnimate: q && O,
-          isUnresolved: O,
-          isError: X,
-        }),
-        y6.createElement(
-          V,
-          null,
-          $
-            ? y6.createElement(
-                y6.Fragment,
-                null,
-                y6.createElement(V, { bold: !0 }, J.length),
-                " ",
-                G ? `${G} agents` : "agents",
-                " ",
-                Z ? "launched" : "finished",
-              )
-            : y6.createElement(
-                y6.Fragment,
-                null,
-                "Running ",
-                y6.createElement(V, { bold: !0 }, J.length),
-                " ",
-                G ? `${G} agents` : "agents",
-                "",
-              ),
-          " ",
-        ),
-        y6.createElement(uI, null),
+        null,
+        O
+          ? hA.createElement(
+              hA.Fragment,
+              null,
+              hA.createElement(f, { bold: !0 }, A.length),
+              " ",
+              _ ? `${_} agents` : "agents",
+              " ",
+              J ? "launched" : "finished",
+            )
+          : hA.createElement(
+              hA.Fragment,
+              null,
+              "Running ",
+              hA.createElement(f, { bold: !0 }, A.length),
+              " ",
+              _ ? `${_} agents` : "agents",
+              "",
+            ),
+        " ",
       ),
-      H.map((D, j) =>
-        y6.createElement(aAK, {
-          key: D.id,
-          agentType: D.agentType,
-          description: D.description,
-          toolUseCount: D.toolUseCount,
-          tokens: D.tokens,
-          color: D.color,
-          isLast: j === H.length - 1,
-          isResolved: D.isResolved,
-          isError: D.isError,
-          isAsync: D.isAsync,
-          shouldAnimate: q,
-          lastToolInfo: D.lastToolInfo,
-          hideType: _,
-        }),
-      ),
+      hA.createElement(JC, null),
+    ),
+    z.map((X, D) =>
+      hA.createElement(lR4, {
+        key: X.id,
+        agentType: X.agentType,
+        description: X.description,
+        toolUseCount: X.toolUseCount,
+        tokens: X.tokens,
+        color: X.color,
+        isLast: D === z.length - 1,
+        isResolved: X.isResolved,
+        isError: X.isError,
+        isAsync: X.isAsync,
+        shouldAnimate: K,
+        lastToolInfo: X.lastToolInfo,
+        hideType: $,
+      }),
     ),
   );
 }

@@@ function 'FuY' (was '_C2')  structural (56.9%)
--- pretty-v2.1.26.js:471412
+++ pretty-v2.1.27.js:453077
@@ -13,7 +13,7 @@
       );
     let z = x1(),
       w = Date.now(),
-      H = await A7("git", ["ls-files", "--recurse-submodules"], {
+      H = await l7(A4(), ["ls-files", "--recurse-submodules"], {
         timeout: 5000,
         abortSignal: A,
         cwd: z,
@@ -54,14 +54,11 @@
         duration_ms: _,
       }),
       !qN1)
-    )
-      qN1 = A7(
-        "git",
-        K
-          ? ["ls-files", "--others", "--exclude-standard"]
-          : ["ls-files", "--others"],
-        { timeout: 1e4, cwd: z },
-      )
+    ) {
+      let D = q
+        ? ["ls-files", "--others", "--exclude-standard"]
+        : ["ls-files", "--others"];
+      jW6 = l7(A4(), D, { timeout: 1e4, cwd: z })
         .then((Z) => {
           if (Z.code === 0) {
             let W = Z.stdout
@@ -91,6 +88,7 @@
         .finally(() => {
           qN1 = null;
         });
+    }
     return X;
   } catch (Y) {
     return (

@@@ function 'xYz' (was 'o1z')  structural (56.9%)
--- pretty-v2.1.26.js:574153
+++ pretty-v2.1.27.js:557845
@@ -1,22 +1,15 @@
 function o1z(A) {
   let K = s(16),
     { currentStep: q, sessionId: Y } = A,
-    [z, w] = Cp6.useState(0),
+    [z, w] = nx(100),
+    H = Math.floor(w / 100) % duA.length,
     H;
-  if (K[0] === Symbol.for("react.memo_cache_sentinel"))
-    ((H = () => {
-      w(a1z);
-    }),
-      (K[0] = H));
-  else H = K[0];
-  r9(H, 100);
-  let J;
-  if (K[1] !== q) ((J = (D) => D.key === q), (K[1] = q), (K[2] = J));
-  else J = K[2];
+  if (q[0] !== K) ((O = (P) => P.key === K), (q[0] = K), (q[1] = O));
+  else O = q[1];
   let O = gmK.findIndex(J),
     X = kp6[z],
     $;
-  if (K[3] !== X)
+  if (q[2] !== _)
     (($ = Fw.createElement(
       S,
       { marginBottom: 1 },
@@ -27,11 +20,11 @@
         " Teleporting session",
       ),
     )),
-      (K[3] = X),
-      (K[4] = $));
-  else $ = K[4];
+      (q[2] = _),
+      (q[3] = J));
+  else J = q[3];
   let _;
-  if (K[5] !== Y)
+  if (q[4] !== Y)
     ((_ =
       Y &&
       Fw.createElement(
@@ -39,11 +32,11 @@
         { marginBottom: 1 },
         Fw.createElement(V, { dimColor: !0 }, Y),
       )),
-      (K[5] = Y),
-      (K[6] = _));
-  else _ = K[6];
+      (q[4] = Y),
+      (q[5] = X));
+  else X = q[5];
   let G;
-  if (K[7] !== O || K[8] !== z)
+  if (q[6] !== $ || q[7] !== H)
     ((G = gmK.map((D, j) => {
       let M = j < O,
         P = j === O,
@@ -64,25 +57,26 @@
         Fw.createElement(V, { dimColor: f, bold: P }, D.label),
       );
     })),
+      (q[6] = $),
       (K[7] = O),
-      (K[8] = z),
-      (K[9] = G));
-  else G = K[9];
+      (q[8] = D));
+  else D = q[8];
   let Z;
-  if (K[10] !== G)
+  if (q[9] !== D)
     ((Z = Fw.createElement(S, { flexDirection: "column", marginLeft: 2 }, G)),
-      (K[10] = G),
-      (K[11] = Z));
-  else Z = K[11];
+      (q[9] = D),
+      (q[10] = j));
+  else j = q[10];
   let W;
-  if (K[12] !== $ || K[13] !== _ || K[14] !== Z)
+  if (q[11] !== z || q[12] !== J || q[13] !== X || q[14] !== j)
     ((W = Fw.createElement(
       S,
-      { flexDirection: "column", paddingX: 1, paddingY: 1 },
+      { ref: z, flexDirection: "column", paddingX: 1, paddingY: 1 },
       $,
       _,
       Z,
     )),
+      (q[11] = z),
       (K[12] = $),
       (K[13] = _),
       (K[14] = Z),

@@@ function 'WW6' (was 'wN1')  structural (56.7%)
--- pretty-v2.1.26.js:471766
+++ pretty-v2.1.27.js:453429
@@ -7,5 +7,6 @@
     Wm(),
     lt(),
     q57(),
-    gi6());
+    Av6(),
+    F$A(null));
 }

@@@ variable 'sPq' (was 'KEK')  structural (56.2%)
--- pretty-v2.1.26.js:546087
+++ pretty-v2.1.27.js:550942
@@ -7,5 +7,5 @@
   cM1();
   l6();
   k8();
-  ((GN = r(XA(), 1)), (evK = r(yy(), 1)), (IQ6 = r(XA(), 1)));
+  ((ZR = r($1(), 1)), (fG1 = r($1(), 1)));
 });

@@@ function 'i4q' (was 'IDK')  structural (54.4%)
--- pretty-v2.1.26.js:510593
+++ pretty-v2.1.27.js:492302
@@ -1,5 +1,5 @@
 function IDK(A) {
-  let K = s(26),
+  let q = s(27),
     {
       selectedEvent: q,
       matchersForSelectedEvent: Y,
@@ -25,33 +25,37 @@
   } else O = K[3];
   let X = O,
     $ = `${q} - Tool Matchers`,
+    X,
     _;
   if (K[7] === Symbol.for("react.memo_cache_sentinel"))
     ((_ = { label: `+ Add new matcher${eA.ellipsis}`, value: "add-new" }),
-      (K[7] = _));
-  else _ = K[7];
+      (D = { label: "+ Match all (no filter)", value: "match-all" }),
+      (q[7] = X),
+      (q[8] = D));
+  else ((X = q[7]), (D = q[8]));
   let G;
-  if (K[8] !== X) ((G = [_, ...X.map(Dg2)]), (K[8] = X), (K[9] = G));
-  else G = K[9];
+  if (q[9] !== _) ((j = [X, D, ..._.map(pnY)]), (q[9] = _), (q[10] = j));
+  else j = q[10];
   let Z;
-  if (K[10] !== H)
+  if (q[11] !== H)
     ((Z = (P) => {
       if (P === "add-new") H(null);
+      else if (N === "match-all") H("");
       else H(P);
     }),
-      (K[10] = H),
-      (K[11] = Z));
-  else Z = K[11];
+      (q[11] = H),
+      (q[12] = M));
+  else M = q[12];
   let W;
-  if (K[12] !== J || K[13] !== G || K[14] !== Z)
+  if (q[13] !== O || q[14] !== j || q[15] !== M)
     ((W = Hh.createElement(E6, { options: G, onChange: Z, onCancel: J })),
-      (K[12] = J),
       (K[13] = G),
       (K[14] = Z),
-      (K[15] = W));
-  else W = K[15];
+      (q[15] = M),
+      (q[16] = P));
+  else P = q[16];
   let D;
-  if (K[16] !== Y.length)
+  if (q[17] !== Y.length)
     ((D =
       Y.length === 0 &&
       Hh.createElement(
@@ -59,28 +63,28 @@
         { marginLeft: 2 },
         Hh.createElement(V, { dimColor: !0 }, "No matchers configured yet"),
       )),
-      (K[16] = Y.length),
-      (K[17] = D));
-  else D = K[17];
+      (q[17] = Y.length),
+      (q[18] = W));
+  else W = q[18];
   let j;
-  if (K[18] !== W || K[19] !== D)
+  if (q[19] !== P || q[20] !== W)
     ((j = Hh.createElement(S, { flexDirection: "column" }, W, D)),
-      (K[18] = W),
       (K[19] = D),
-      (K[20] = j));
-  else j = K[20];
+      (q[20] = W),
+      (q[21] = G));
+  else G = q[21];
   let M;
-  if (K[21] !== w || K[22] !== J || K[23] !== $ || K[24] !== j)
+  if (q[22] !== w || q[23] !== O || q[24] !== J || q[25] !== G)
     ((M = Hh.createElement(
       R4,
       { title: $, subtitle: w, onCancel: J, borderDimColor: !1 },
       j,
     )),
-      (K[21] = w),
       (K[22] = J),
       (K[23] = $),
       (K[24] = j),
-      (K[25] = M));
-  else M = K[25];
+      (q[25] = G),
+      (q[26] = Z));
+  else Z = q[26];
   return M;
 }

@@@ function 'r79' (was 'pvY')  structural (53.9%)
--- pretty-v2.1.26.js:308504
+++ pretty-v2.1.27.js:217099
@@ -1,5 +1,5 @@
 function pvY(A) {
-  let K = s(27),
+  let q = s(32),
     {
       title: q,
       subtitle: Y,
@@ -9,6 +9,7 @@
       borderDimColor: J,
       hideInputGuide: O,
       hideBorder: X,
+      inputGuide: J,
     } = A,
     $ = H === void 0 ? "permission" : H,
     _ = J === void 0 ? !0 : J,
@@ -19,106 +20,106 @@
   else Z = K[0];
   H6("confirm:no", w, Z);
   let W;
-  if (K[1] !== _ || K[2] !== $ || K[3] !== X)
+  if (q[1] !== j.keyName || q[2] !== j.pending)
+    ((P = j.pending
+      ? GP.default.createElement(f, null, "Press ", j.keyName, " again to exit")
+      : GP.default.createElement(
+          A8,
+          null,
+          GP.default.createElement(JA, {
+            shortcut: "Enter",
+            action: "confirm",
+          }),
+          GP.default.createElement(xA, {
+            action: "confirm:no",
+            context: "Confirmation",
+            fallback: "Esc",
+            description: "cancel",
+          }),
+        )),
+      (q[1] = j.keyName),
+      (q[2] = j.pending),
+      (q[3] = P));
+  else P = q[3];
+  let W = P,
+    G;
+  if (q[4] !== D || q[5] !== X || q[6] !== _)
     ((W =
       !X &&
       YW.default.createElement(L3, { dividerColor: $, dividerDimColor: _ })),
-      (K[1] = _),
-      (K[2] = $),
-      (K[3] = X),
-      (K[4] = W));
-  else W = K[4];
-  let D = X ? 0 : 1,
-    j;
-  if (K[5] !== $ || K[6] !== q)
-    ((j = YW.default.createElement(V, { bold: !0, color: $ }, q)),
+      (q[4] = D),
       (K[5] = $),
       (K[6] = q),
       (K[7] = j));
   else j = K[7];
+  let Z = _ ? 0 : 1,
+    N;
+  if (q[8] !== X || q[9] !== K)
+    ((N = GP.default.createElement(f, { bold: !0, color: X }, K)),
+      (q[8] = X),
+      (q[9] = K),
+      (q[10] = N));
+  else N = q[10];
   let M;
-  if (K[8] !== Y)
+  if (q[11] !== Y)
     ((M = Y && YW.default.createElement(V, { dimColor: !0 }, Y)),
-      (K[8] = Y),
-      (K[9] = M));
-  else M = K[9];
-  let P;
-  if (K[10] !== j || K[11] !== M)
-    ((P = YW.default.createElement(S, { flexDirection: "column" }, j, M)),
-      (K[10] = j),
       (K[11] = M),
       (K[12] = P));
   else P = K[12];
   let f;
-  if (K[13] !== z || K[14] !== D || K[15] !== P)
+  if (q[13] !== N || q[14] !== V)
+    ((T = GP.default.createElement(h, { flexDirection: "column" }, N, V)),
+      (q[13] = N),
+      (q[14] = V),
+      (q[15] = T));
+  else T = q[15];
+  let k;
+  if (q[16] !== z || q[17] !== Z || q[18] !== T)
     ((f = YW.default.createElement(
       S,
       { flexDirection: "column", paddingX: D, gap: 1 },
       P,
       z,
     )),
-      (K[13] = z),
-      (K[14] = D),
-      (K[15] = P),
-      (K[16] = f));
-  else f = K[16];
+      (q[16] = z),
+      (q[17] = Z),
+      (q[18] = T),
+      (q[19] = k));
+  else k = q[19];
   let N;
-  if (K[17] !== W || K[18] !== f)
+  if (q[20] !== k || q[21] !== G)
     ((N = YW.default.createElement(
       S,
       { flexDirection: "column", paddingBottom: 1 },
       W,
       f,
     )),
-      (K[17] = W),
-      (K[18] = f),
-      (K[19] = N));
-  else N = K[19];
+      (q[20] = k),
+      (q[21] = G),
+      (q[22] = y));
+  else y = q[22];
   let T;
-  if (K[20] !== G || K[21] !== X || K[22] !== O)
+  if (q[23] !== W || q[24] !== j || q[25] !== _ || q[26] !== $ || q[27] !== J)
     ((T =
       !O &&
       YW.default.createElement(
         S,
         { paddingX: X ? 0 : 1 },
-        YW.default.createElement(
-          V,
-          { dimColor: !0, italic: !0 },
-          G.pending
-            ? YW.default.createElement(
-                YW.default.Fragment,
-                null,
-                "Press ",
-                G.keyName,
-                " again to exit",
-              )
-            : YW.default.createElement(
-                z8,
-                null,
-                YW.default.createElement(D6, {
-                  shortcut: "Enter",
-                  action: "confirm",
-                }),
-                YW.default.createElement(B6, {
-                  action: "confirm:no",
-                  context: "Confirmation",
-                  fallback: "Esc",
-                  description: "cancel",
-                }),
-              ),
-        ),
+        GP.default.createElement(f, { dimColor: !0, italic: !0 }, J ? J(j) : W),
       )),
-      (K[20] = G),
-      (K[21] = X),
-      (K[22] = O),
-      (K[23] = T));
-  else T = K[23];
-  let C;
-  if (K[24] !== N || K[25] !== T)
-    ((C = YW.default.createElement(YW.default.Fragment, null, N, T)),
+      (q[23] = W),
       (K[24] = N),
       (K[25] = T),
-      (K[26] = C));
-  else C = K[26];
+      (q[26] = $),
+      (q[27] = J),
+      (q[28] = b));
+  else b = q[28];
+  let C;
+  if (q[29] !== y || q[30] !== b)
+    ((C = GP.default.createElement(GP.default.Fragment, null, y, b)),
+      (q[29] = y),
+      (q[30] = b),
+      (q[31] = C));
+  else C = q[31];
   return C;
 }

@@@ function 'Fa' (was 'Rt')  structural (52.7%)
--- pretty-v2.1.26.js:417186
+++ pretty-v2.1.27.js:383910
@@ -5,18 +5,18 @@
         "report the issue at https://github.com/anthropics/claude-code/issues",
       PACKAGE_URL: "@anthropic-ai/claude-code",
       README_URL: "https://code.claude.com/docs/en/overview",
-      VERSION: "2.1.26",
+      VERSION: "2.1.27",
       FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-      BUILD_TIME: "2026-01-30T02:12:23Z",
+      BUILD_TIME: "2026-01-30T19:50:44Z",
     }.VERSION
       ? {
           ISSUES_EXPLAINER:
             "report the issue at https://github.com/anthropics/claude-code/issues",
           PACKAGE_URL: "@anthropic-ai/claude-code",
           README_URL: "https://code.claude.com/docs/en/overview",
-          VERSION: "2.1.26",
+          VERSION: "2.1.27",
           FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-          BUILD_TIME: "2026-01-30T02:12:23Z",
+          BUILD_TIME: "2026-01-30T19:50:44Z",
         }.VERSION
       : "unknown",
     q = await V$2(),
@@ -40,23 +40,23 @@
               "report the issue at https://github.com/anthropics/claude-code/issues",
             PACKAGE_URL: "@anthropic-ai/claude-code",
             README_URL: "https://code.claude.com/docs/en/overview",
-            VERSION: "2.1.26",
+            VERSION: "2.1.27",
             FEEDBACK_CHANNEL:
               "https://github.com/anthropics/claude-code/issues",
-            BUILD_TIME: "2026-01-30T02:12:23Z",
+            BUILD_TIME: "2026-01-30T19:50:44Z",
           }.PACKAGE_URL &&
           {
             ISSUES_EXPLAINER:
               "report the issue at https://github.com/anthropics/claude-code/issues",
             PACKAGE_URL: "@anthropic-ai/claude-code",
             README_URL: "https://code.claude.com/docs/en/overview",
-            VERSION: "2.1.26",
+            VERSION: "2.1.27",
             FEEDBACK_CHANNEL:
               "https://github.com/anthropics/claude-code/issues",
-            BUILD_TIME: "2026-01-30T02:12:23Z",
+            BUILD_TIME: "2026-01-30T19:50:44Z",
           }.PACKAGE_URL !== "@anthropic-ai/claude-code"
         )
-          j += ` && npm -g uninstall ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.PACKAGE_URL}`;
+          W += ` && npm -g uninstall ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.PACKAGE_URL}`;
         w.push({
           issue: `Leftover npm global installation at ${D.path}`,
           fix: `Run: ${j}`,

@@@ variable 'QbA' (was 'mLK')  structural (52.4%)
--- pretty-v2.1.26.js:557314
+++ pretty-v2.1.27.js:540662
@@ -5,21 +5,5 @@
   $8();
   cw();
   oN();
-  TZ1();
-  C1();
-  G1();
-  K6();
-  ca();
-  zK();
-  kH();
-  yH();
-  HP();
-  oa();
-  b1();
-  k3A();
-  o9();
-  BjA();
-  YQA();
-  ((uLK = r(XA(), 1)), (es2 = ["Edit", "Write", "NotebookEdit"]));
-  BLK = Kt2;
+  lKz = ["Edit", "Write", "NotebookEdit"];
 });

@@@ function 'BbA' (was 'jU6')  structural (51.4%)
--- pretty-v2.1.26.js:556161
+++ pretty-v2.1.27.js:540001
@@ -1,10 +1,12 @@
 function jU6(A) {
-  let K = s(31),
+  let q = s(37),
     {
       screen: q,
       setScreen: Y,
       setScreenToggleId: z,
+      showAllInTranscript: w,
       setShowAllInTranscript: w,
+      messageCount: O,
       onEnterTranscript: H,
       onExitTranscript: J,
       todos: O,
@@ -34,11 +36,24 @@
     K[6] !== q ||
     K[7] !== Y ||
     K[8] !== z ||
-    K[9] !== w
+    q[9] !== z ||
+    q[10] !== H ||
+    q[11] !== w
   )
     ((Z = () => {
       let Q = q !== "transcript";
-      if ((Y(os2), z(rs2), w(!1), Q && H)) H();
+      if (
+        (n("tengu_toggle_transcript", {
+          is_entering: d,
+          show_all: w,
+          message_count: O,
+        }),
+        Y(UKz),
+        z(QKz),
+        H(!1),
+        d && $)
+      )
+        $();
       if (!Q && J) J();
     }),
       (K[4] = H),
@@ -47,72 +62,97 @@
       (K[7] = Y),
       (K[8] = z),
       (K[9] = w),
-      (K[10] = Z));
-  else Z = K[10];
+      (q[10] = H),
+      (q[11] = w),
+      (q[12] = P));
+  else P = q[12];
   let W = Z,
     D;
-  if (K[11] !== z || K[12] !== w)
+  if (q[13] !== O || q[14] !== z || q[15] !== H || q[16] !== w)
     ((D = () => {
-      (w(ns2), z(is2));
+      (n("tengu_transcript_toggle_show_all", {
+        is_expanding: !w,
+        message_count: O,
+      }),
+        H(gKz),
+        z(FKz));
     }),
-      (K[11] = z),
-      (K[12] = w),
-      (K[13] = D));
-  else D = K[13];
+      (q[13] = O),
+      (q[14] = z),
+      (q[15] = H),
+      (q[16] = w),
+      (q[17] = G));
+  else G = q[17];
   let j = D,
     M;
-  if (K[14] !== J || K[15] !== Y || K[16] !== z || K[17] !== w)
+  if (
+    q[18] !== O ||
+    q[19] !== _ ||
+    q[20] !== Y ||
+    q[21] !== z ||
+    q[22] !== H ||
+    q[23] !== w
+  )
     ((M = () => {
-      if ((Y("prompt"), z(ls2), w(!1), J)) J();
+      if (
+        (n("tengu_transcript_exit", { show_all: w, message_count: O }),
+        Y("prompt"),
+        z(mKz),
+        H(!1),
+        _)
+      )
+        _();
     }),
-      (K[14] = J),
-      (K[15] = Y),
-      (K[16] = z),
-      (K[17] = w),
-      (K[18] = M));
-  else M = K[18];
+      (q[18] = O),
+      (q[19] = _),
+      (q[20] = Y),
+      (q[21] = z),
+      (q[22] = H),
+      (q[23] = w),
+      (q[24] = N));
+  else N = q[24];
   let P = M,
     f;
-  if (K[19] === Symbol.for("react.memo_cache_sentinel"))
-    ((f = { context: "Global" }), (K[19] = f));
-  else f = K[19];
+  if (q[25] === Symbol.for("react.memo_cache_sentinel"))
+    ((T = { context: "Global" }), (q[25] = T));
+  else T = q[25];
   H6("app:toggleTodos", G, f);
   let N;
-  if (K[20] === Symbol.for("react.memo_cache_sentinel"))
-    ((N = { context: "Global" }), (K[20] = N));
-  else N = K[20];
+  if (q[26] === Symbol.for("react.memo_cache_sentinel"))
+    ((k = { context: "Global" }), (q[26] = k));
+  else k = q[26];
   H6("app:toggleTranscript", W, N);
   let T;
-  if (K[21] !== $)
+  if (q[27] !== D)
     ((T = () => {
       $(cs2);
     }),
-      (K[21] = $),
-      (K[22] = T));
-  else T = K[22];
+      (q[27] = D),
+      (q[28] = y));
+  else y = q[28];
   let C;
-  if (K[23] === Symbol.for("react.memo_cache_sentinel"))
-    ((C = { context: "Global" }), (K[23] = C));
-  else C = K[23];
+  if (q[29] === Symbol.for("react.memo_cache_sentinel"))
+    ((b = { context: "Global" }), (q[29] = b));
+  else b = q[29];
   H6("app:toggleTeammatePreview", T, C);
   let R;
-  if (K[24] !== z) ((R = () => {}), (K[24] = z), (K[25] = R));
-  else R = K[25];
+  if (q[30] !== z) ((C = () => {}), (q[30] = z), (q[31] = C));
+  else C = q[31];
   let x = R,
     y;
-  if (K[26] === Symbol.for("react.memo_cache_sentinel"))
-    ((y = { context: "Global" }), (K[26] = y));
-  else y = K[26];
+  if (q[32] === Symbol.for("react.memo_cache_sentinel"))
+    ((x = { context: "Global" }), (q[32] = x));
+  else x = q[32];
   H6("app:toggleTerminal", x, y);
   let B = q === "transcript",
     b;
-  if (K[27] !== B)
-    ((b = { context: "Transcript", isActive: B }), (K[27] = B), (K[28] = b));
-  else b = K[28];
+  if (q[33] !== g)
+    ((Q = { context: "Transcript", isActive: g }), (q[33] = g), (q[34] = Q));
+  else Q = q[34];
   H6("transcript:toggleShowAll", j, b);
   let F;
-  if (K[29] !== B)
-    ((F = { context: "Transcript", isActive: B }), (K[29] = B), (K[30] = F));
-  else F = K[30];
+  if (q[35] !== g)
+    ((u = { context: "Transcript", isActive: g }), (q[35] = g), (q[36] = u));
+  else u = q[36];
   return (H6("transcript:exit", P, F), null);
 }

@@@ function '$qq' (was 'nDK')  structural (51.0%)
--- pretty-v2.1.26.js:511519
+++ pretty-v2.1.27.js:493232
@@ -1,5 +1,5 @@
 function nDK(A) {
-  let K = s(179),
+  let q = s(188),
     { toolNames: q, onExit: Y } = A,
     z;
   if (K[0] === Symbol.for("react.memo_cache_sentinel")) ((z = []), (K[0] = z));
@@ -10,7 +10,6 @@
     ((J = { mode: "select-event" }), (K[1] = J));
   else J = K[1];
   let [O, X] = ym.useState(J),
-    [$, _] = ym.useState(0),
     [G, Z] = ym.useState(Cg2),
     [W, D] = ym.useState(kg2),
     j;
@@ -42,21 +41,44 @@
   let b = B,
     F;
   if (K[6] !== y || K[7] !== b)
-    ((F = pDK(y.getState(), b)), (K[6] = y), (K[7] = b), (K[8] = F));
+    ((B = () => AZ6(y.getState(), C)), (q[6] = y), (q[7] = C), (q[8] = B));
   else F = K[8];
+  let [x, g] = yh.useState(B),
+    Q,
+    u;
+  if (q[9] !== y || q[10] !== C)
+    ((Q = () => {
+      g(AZ6(y.getState(), C));
+    }),
+      (u = [C, y]),
+      (q[9] = y),
+      (q[10] = C),
+      (q[11] = Q),
+      (q[12] = u));
+  else ((Q = q[11]), (u = q[12]));
+  yh.useEffect(Q, u);
+  let d;
+  if (q[13] !== y || q[14] !== C)
+    ((d = () => {
+      g(AZ6(y.getState(), C));
+    }),
+      (q[13] = y),
+      (q[14] = C),
+      (q[15] = d));
+  else d = q[15];
   let Q = F,
     u;
-  if (K[9] !== Q || K[10] !== C)
-    ((u = dDK(Q, C)), (K[9] = Q), (K[10] = C), (K[11] = u));
-  else u = K[11];
+  if (q[16] !== x || q[17] !== V)
+    ((c = zqq(x, V)), (q[16] = x), (q[17] = V), (q[18] = c));
+  else c = q[18];
   let d = u,
     o;
-  if (K[12] !== Q || K[13] !== C || K[14] !== R)
-    ((o = cDK(Q, C, R)), (K[12] = Q), (K[13] = C), (K[14] = R), (K[15] = o));
-  else o = K[15];
+  if (q[19] !== x || q[20] !== V || q[21] !== T)
+    ((K1 = wqq(x, V, T)), (q[19] = x), (q[20] = V), (q[21] = T), (q[22] = K1));
+  else K1 = q[22];
   let c = o,
     qA;
-  if (K[16] !== w || K[17] !== Y)
+  if (q[23] !== w || q[24] !== Y)
     ((qA = () => {
       if (w.length > 0)
         Y(
@@ -65,35 +87,35 @@
         );
       else Y("Hooks dialog dismissed", { display: "system" });
     }),
-      (K[16] = w),
-      (K[17] = Y),
-      (K[18] = qA));
-  else qA = K[18];
+      (q[23] = w),
+      (q[24] = Y),
+      (q[25] = z1));
+  else z1 = q[25];
   let YA = T === "select-event",
     e;
-  if (K[19] !== YA)
+  if (q[26] !== J1)
     ((e = { context: "Confirmation", isActive: YA }),
-      (K[19] = YA),
-      (K[20] = e));
-  else e = K[20];
+      (q[26] = J1),
+      (q[27] = a));
+  else a = q[27];
   H6("confirm:no", qA, e);
   let JA;
-  if (K[21] === Symbol.for("react.memo_cache_sentinel"))
+  if (q[28] === Symbol.for("react.memo_cache_sentinel"))
     ((JA = () => {
       X({ mode: "select-event" });
     }),
-      (K[21] = JA));
-  else JA = K[21];
+      (q[28] = D1));
+  else D1 = q[28];
   let OA = T === "select-matcher",
     a;
-  if (K[22] !== OA)
+  if (q[29] !== P1)
     ((a = { context: "Confirmation", isActive: OA }),
-      (K[22] = OA),
-      (K[23] = a));
-  else a = K[23];
+      (q[29] = P1),
+      (q[30] = M1));
+  else M1 = q[30];
   H6("confirm:no", JA, a);
   let _A;
-  if (K[24] !== O)
+  if (q[31] !== $)
     ((_A = () => {
       if ("event" in O && "matcherMetadata" in O)
         X({
@@ -103,19 +125,19 @@
         });
       N("");
     }),
-      (K[24] = O),
-      (K[25] = _A));
-  else _A = K[25];
+      (q[31] = $),
+      (q[32] = E1));
+  else E1 = q[32];
   let WA = T === "add-matcher",
     ZA;
-  if (K[26] !== WA)
+  if (q[33] !== R1)
     ((ZA = { context: "Confirmation", isActive: WA }),
-      (K[26] = WA),
-      (K[27] = ZA));
-  else ZA = K[27];
+      (q[33] = R1),
+      (q[34] = A1));
+  else A1 = q[34];
   H6("confirm:no", _A, ZA);
   let IA;
-  if (K[28] !== O)
+  if (q[35] !== $)
     ((IA = () => {
       if ("event" in O && "matcherMetadata" in O)
         X({
@@ -124,19 +146,19 @@
           matcherMetadata: O.matcherMetadata,
         });
     }),
-      (K[28] = O),
-      (K[29] = IA));
-  else IA = K[29];
+      (q[35] = $),
+      (q[36] = w1));
+  else w1 = q[36];
   let LA = T === "delete-matcher",
     AA;
-  if (K[30] !== LA)
+  if (q[37] !== j1)
     ((AA = { context: "Confirmation", isActive: LA }),
-      (K[30] = LA),
-      (K[31] = AA));
-  else AA = K[31];
+      (q[37] = j1),
+      (q[38] = O1));
+  else O1 = q[38];
   H6("confirm:no", IA, AA);
   let wA;
-  if (K[32] !== b || K[33] !== O)
+  if (q[39] !== C || q[40] !== $)
     ((wA = () => {
       if ("event" in O) {
         let sA = Te(O.event, b);
@@ -145,57 +167,57 @@
         else X({ mode: "select-event" });
       }
     }),
-      (K[32] = b),
-      (K[33] = O),
-      (K[34] = wA));
-  else wA = K[34];
+      (q[39] = C),
+      (q[40] = $),
+      (q[41] = t));
+  else t = q[41];
   let GA = T === "select-hook",
     HA;
-  if (K[35] !== GA)
+  if (q[42] !== _1)
     ((HA = { context: "Confirmation", isActive: GA }),
-      (K[35] = GA),
-      (K[36] = HA));
-  else HA = K[36];
+      (q[42] = _1),
+      (q[43] = Z1));
+  else Z1 = q[43];
   H6("confirm:no", wA, HA);
   let t;
-  if (K[37] !== O)
+  if (q[44] !== $)
     ((t = () => {
       if ("event" in O && "matcher" in O)
         X({ mode: "select-hook", event: O.event, matcher: O.matcher });
       P("");
     }),
-      (K[37] = O),
-      (K[38] = t));
-  else t = K[38];
+      (q[44] = $),
+      (q[45] = V1));
+  else V1 = q[45];
   let $A = T === "add-hook",
     VA;
-  if (K[39] !== $A)
+  if (q[46] !== k1)
     ((VA = { context: "Confirmation", isActive: $A }),
-      (K[39] = $A),
-      (K[40] = VA));
-  else VA = K[40];
+      (q[46] = k1),
+      (q[47] = I1));
+  else I1 = q[47];
   H6("confirm:no", t, VA);
   let vA;
-  if (K[41] !== O)
+  if (q[48] !== $)
     ((vA = () => {
       if ("event" in O && O.mode === "delete-hook") {
         let { hook: sA } = O;
         X({ mode: "select-hook", event: O.event, matcher: sA.matcher || "" });
       }
     }),
-      (K[41] = O),
-      (K[42] = vA));
-  else vA = K[42];
+      (q[48] = $),
+      (q[49] = f1));
+  else f1 = q[49];
   let yA = T === "delete-hook",
     xA;
-  if (K[43] !== yA)
+  if (q[50] !== L1)
     ((xA = { context: "Confirmation", isActive: yA }),
-      (K[43] = yA),
-      (K[44] = xA));
-  else xA = K[44];
+      (q[50] = L1),
+      (q[51] = C1));
+  else C1 = q[51];
   H6("confirm:no", vA, xA);
   let fA;
-  if (K[45] !== b || K[46] !== M || K[47] !== T || K[48] !== O || K[49] !== f)
+  if (q[52] !== C || q[53] !== P || q[54] !== N || q[55] !== $ || q[56] !== G)
     ((fA = (sA, z1) => {
       if (T === "save-hook") return;
       A: switch (T) {
@@ -222,16 +244,16 @@
         case "select-hook":
       }
     }),
-      (K[45] = b),
-      (K[46] = M),
-      (K[47] = T),
-      (K[48] = O),
-      (K[49] = f),
-      (K[50] = fA));
-  else fA = K[50];
+      (q[52] = C),
+      (q[53] = P),
+      (q[54] = N),
+      (q[55] = $),
+      (q[56] = G),
+      (q[57] = g1));
+  else g1 = q[57];
   q8(fA);
   let RA;
-  if (K[51] !== O)
+  if (q[58] !== $ || q[59] !== o)
     ((RA = () => {
       if (O.mode === "save-hook") {
         let { hookToSave: sA } = O;
@@ -241,14 +263,15 @@
         ]),
           X({ mode: "select-hook", event: sA.event, matcher: sA.matcher }));
       }
-      (P(""), _(Tg2));
+      (W(""), y_(), o());
     }),
-      (K[51] = O),
-      (K[52] = RA));
-  else RA = K[52];
+      (q[58] = $),
+      (q[59] = o),
+      (q[60] = p1));
+  else p1 = q[60];
   let hA = RA,
     pA;
-  if (K[53] !== O)
+  if (q[61] !== $)
     ((pA = () => {
       if (O.mode === "save-hook") {
         let { hookToSave: sA } = O;
@@ -256,12 +279,12 @@
       }
       P("");
     }),
-      (K[53] = O),
-      (K[54] = pA));
-  else pA = K[54];
+      (q[61] = $),
+      (q[62] = v6));
+  else v6 = q[62];
   let lA = pA,
     v1;
-  if (K[55] !== b || K[56] !== Q || K[57] !== O)
+  if (q[63] !== C || q[64] !== x || q[65] !== $ || q[66] !== o)
     ((v1 = async () => {
       if (O.mode !== "delete-hook") return;
       let { hook: sA, event: z1 } = O;
@@ -275,7 +298,8 @@
           ...q6,
           `Deleted ${sA.event} hook: ${O1.bold(sM(sA.config))}`,
         ]),
-        _(Ng2));
+        y_(),
+        o());
       let f1 = sA.matcher || "",
         T1 = Q[z1]?.[f1]?.filter((q6) => !OWA(q6.config, sA.config));
       if (!T1 || T1.length === 0) {
@@ -285,14 +309,15 @@
         else X({ mode: "select-event" });
       } else X({ mode: "select-hook", event: z1, matcher: f1 });
     }),
-      (K[55] = b),
-      (K[56] = Q),
-      (K[57] = O),
-      (K[58] = v1));
-  else v1 = K[58];
+      (q[63] = C),
+      (q[64] = x),
+      (q[65] = $),
+      (q[66] = o),
+      (q[67] = zA));
+  else zA = q[67];
   let R1 = v1,
     B1;
-  if (K[59] !== O)
+  if (q[68] !== $)
     ((B1 = () => {
       if (O.mode === "delete-matcher") {
         let { matcher: sA, event: z1 } = O;
@@ -304,27 +329,27 @@
           }));
       }
     }),
-      (K[59] = O),
-      (K[60] = B1));
-  else B1 = K[60];
+      (q[68] = $),
+      (q[69] = e1));
+  else e1 = q[69];
   let F1 = B1,
     T6;
-  if (K[61] !== b) ((T6 = MdA(b)), (K[61] = b), (K[62] = T6));
-  else T6 = K[62];
+  if (q[70] !== C) ((M6 = NQ1(C)), (q[70] = C), (q[71] = M6));
+  else M6 = q[71];
   let w1 = T6,
     $1;
-  if (K[63] === Symbol.for("react.memo_cache_sentinel"))
-    (($1 = Oj7()), (K[63] = $1));
-  else $1 = K[63];
+  if (q[72] === Symbol.for("react.memo_cache_sentinel"))
+    ((g6 = Ho4()), (q[72] = g6));
+  else g6 = q[72];
   let N1 = $1,
     A6;
-  if (K[64] === Symbol.for("react.memo_cache_sentinel"))
-    ((A6 = []), (K[64] = A6));
-  else A6 = K[64];
+  if (q[73] === Symbol.for("react.memo_cache_sentinel"))
+    ((X1 = []), (q[73] = X1));
+  else X1 = q[73];
   ym.useEffect(fg2, A6);
   let z6 = J8()?.disableAllHooks === !0,
     MA;
-  if (K[65] !== w || K[66] !== Y)
+  if (q[74] !== w || q[75] !== Y)
     ((MA = () => {
       Y(
         w.length > 0
@@ -334,32 +359,32 @@
         { display: w.length === 0 ? "system" : void 0 },
       );
     }),
-      (K[65] = w),
-      (K[66] = Y),
-      (K[67] = MA));
-  else MA = K[67];
+      (q[74] = w),
+      (q[75] = Y),
+      (q[76] = z6));
+  else z6 = q[76];
   let EA = MA,
     oA;
-  if (K[68] !== Q)
-    ((oA = Object.values(Q).reduce(Pg2, 0)), (K[68] = Q), (K[69] = oA));
-  else oA = K[69];
+  if (q[77] !== x)
+    ((w6 = Object.values(x).reduce(lnY, 0)), (q[77] = x), (q[78] = w6));
+  else w6 = q[78];
   let J1 = oA;
   if (z6) {
     let sA;
-    if (K[70] === Symbol.for("react.memo_cache_sentinel"))
-      ((sA = Tq.createElement(V, { bold: !0 }, "disabled")), (K[70] = sA));
-    else sA = K[70];
+    if (q[79] === Symbol.for("react.memo_cache_sentinel"))
+      ((_6 = E3.createElement(f, { bold: !0 }, "disabled")), (q[79] = _6));
+    else _6 = q[79];
     let z1 = G && " by a managed settings file",
       f1;
-    if (K[71] !== J1)
+    if (q[80] !== s6)
       ((f1 = Tq.createElement(V, { bold: !0 }, J1)),
-        (K[71] = J1),
-        (K[72] = f1));
-    else f1 = K[72];
+        (q[80] = s6),
+        (q[81] = OA));
+    else OA = q[81];
     let T1 = J1 !== 1 ? "s" : "",
       q6 = J1 !== 1 ? "are" : "is",
       U6;
-    if (K[73] !== z1 || K[74] !== f1 || K[75] !== T1 || K[76] !== q6)
+    if (q[82] !== N6 || q[83] !== OA || q[84] !== T8 || q[85] !== dA)
       ((U6 = Tq.createElement(
         V,
         null,
@@ -376,14 +401,14 @@
         q6,
         " not running.",
       )),
-        (K[73] = z1),
-        (K[74] = f1),
-        (K[75] = T1),
-        (K[76] = q6),
-        (K[77] = U6));
-    else U6 = K[77];
+        (q[82] = N6),
+        (q[83] = OA),
+        (q[84] = T8),
+        (q[85] = dA),
+        (q[86] = F7));
+    else F7 = q[86];
     let A4, j8, z7, T7;
-    if (K[78] === Symbol.for("react.memo_cache_sentinel"))
+    if (q[87] === Symbol.for("react.memo_cache_sentinel"))
       ((A4 = Tq.createElement(
         S,
         { marginTop: 1 },
@@ -404,13 +429,13 @@
           { dimColor: !0 },
           " Tool operations will proceed without hook validation",
         )),
-        (K[78] = A4),
-        (K[79] = j8),
-        (K[80] = z7),
-        (K[81] = T7));
-    else ((A4 = K[78]), (j8 = K[79]), (z7 = K[80]), (T7 = K[81]));
+        (q[87] = j4),
+        (q[88] = d8),
+        (q[89] = h4),
+        (q[90] = Xq));
+    else ((j4 = q[87]), (d8 = q[88]), (h4 = q[89]), (Xq = q[90]));
     let J4;
-    if (K[82] !== U6)
+    if (q[91] !== F7)
       ((J4 = Tq.createElement(
         S,
         { flexDirection: "column" },
@@ -420,11 +445,11 @@
         z7,
         T7,
       )),
-        (K[82] = U6),
-        (K[83] = J4));
-    else J4 = K[83];
+        (q[91] = F7),
+        (q[92] = j3));
+    else j3 = q[92];
     let B7;
-    if (K[84] !== G || K[85] !== EA || K[86] !== Y)
+    if (q[93] !== J || q[94] !== q6 || q[95] !== Y)
       ((B7 =
         !G &&
         Tq.createElement(
@@ -445,20 +470,20 @@
             onCancel: EA,
           }),
         )),
-        (K[84] = G),
-        (K[85] = EA),
-        (K[86] = Y),
-        (K[87] = B7));
-    else B7 = K[87];
+        (q[93] = J),
+        (q[94] = q6),
+        (q[95] = Y),
+        (q[96] = YK));
+    else YK = q[96];
     let s7;
-    if (K[88] !== J4 || K[89] !== B7)
+    if (q[97] !== j3 || q[98] !== YK)
       ((s7 = Tq.createElement(S, { flexDirection: "column", gap: 1 }, J4, B7)),
-        (K[88] = J4),
-        (K[89] = B7),
-        (K[90] = s7));
-    else s7 = K[90];
+        (q[97] = j3),
+        (q[98] = YK),
+        (q[99] = B8));
+    else B8 = q[99];
     let Eq;
-    if (K[91] !== G || K[92] !== EA || K[93] !== s7)
+    if (q[100] !== J || q[101] !== q6 || q[102] !== B8)
       ((Eq = Tq.createElement(
         R4,
         {
@@ -469,11 +494,11 @@
         },
         s7,
       )),
-        (K[91] = G),
-        (K[92] = EA),
-        (K[93] = s7),
-        (K[94] = Eq));
-    else Eq = K[94];
+        (q[100] = J),
+        (q[101] = q6),
+        (q[102] = B8),
+        (q[103] = Z8));
+    else Z8 = q[103];
     return Eq;
   }
   switch (O.mode) {
@@ -481,12 +506,12 @@
       let sA = w1[O.hookToSave.event],
         z1;
       if (
-        K[95] !== lA ||
-        K[96] !== hA ||
-        K[97] !== O.hookToSave.config ||
-        K[98] !== O.hookToSave.event ||
-        K[99] !== O.hookToSave.matcher ||
-        K[100] !== sA.summary
+        q[104] !== b6 ||
+        q[105] !== Z6 ||
+        q[106] !== $.hookToSave.config ||
+        q[107] !== $.hookToSave.event ||
+        q[108] !== $.hookToSave.matcher ||
+        q[109] !== _6.summary
       )
         ((z1 = Tq.createElement(CDK, {
           event: O.hookToSave.event,
@@ -496,19 +521,19 @@
           onSuccess: hA,
           onCancel: lA,
         })),
-          (K[95] = lA),
-          (K[96] = hA),
-          (K[97] = O.hookToSave.config),
-          (K[98] = O.hookToSave.event),
-          (K[99] = O.hookToSave.matcher),
-          (K[100] = sA.summary),
-          (K[101] = z1));
-      else z1 = K[101];
+          (q[104] = b6),
+          (q[105] = Z6),
+          (q[106] = $.hookToSave.config),
+          (q[107] = $.hookToSave.event),
+          (q[108] = $.hookToSave.matcher),
+          (q[109] = _6.summary),
+          (q[110] = N6));
+      else N6 = q[110];
       return z1;
     }
     case "select-event": {
       let sA;
-      if (K[102] !== b || K[103] !== Y)
+      if (q[111] !== C || q[112] !== Y)
         ((sA = (f1) => {
           if (f1 === "disable-all")
             (T4("localSettings", { disableAllHooks: !0 }),
@@ -520,17 +545,17 @@
             else X({ mode: "select-hook", event: f1, matcher: "" });
           }
         }),
-          (K[102] = b),
-          (K[103] = Y),
-          (K[104] = sA));
-      else sA = K[104];
+          (q[111] = C),
+          (q[112] = Y),
+          (q[113] = _6));
+      else _6 = q[113];
       let z1;
       if (
-        K[105] !== EA ||
-        K[106] !== w1 ||
-        K[107] !== W ||
-        K[108] !== sA ||
-        K[109] !== J1
+        q[114] !== q6 ||
+        q[115] !== c6 ||
+        q[116] !== D ||
+        q[117] !== _6 ||
+        q[118] !== s6
       )
         ((z1 = Tq.createElement(RDK, {
           hookEventMetadata: w1,
@@ -540,19 +565,19 @@
           onSelectEvent: sA,
           onCancel: EA,
         })),
-          (K[105] = EA),
-          (K[106] = w1),
-          (K[107] = W),
-          (K[108] = sA),
-          (K[109] = J1),
-          (K[110] = z1));
-      else z1 = K[110];
+          (q[114] = q6),
+          (q[115] = c6),
+          (q[116] = D),
+          (q[117] = _6),
+          (q[118] = s6),
+          (q[119] = N6));
+      else N6 = q[119];
       return z1;
     }
     case "select-matcher": {
       let sA = w1[O.event],
         z1;
-      if (K[111] !== Q || K[112] !== O.event || K[113] !== O.matcherMetadata)
+      if (q[120] !== x || q[121] !== $.event || q[122] !== $.matcherMetadata)
         ((z1 = (q6) => {
           if (q6 === null)
             X({
@@ -560,7 +585,7 @@
               event: O.event,
               matcherMetadata: O.matcherMetadata,
             });
-          else if ((Q[O.event]?.[q6] || []).length === 0)
+          else if ((x[$.event]?.[dA] || []).length === 0 && dA !== "")
             X({
               mode: "delete-matcher",
               event: O.event,
@@ -569,25 +594,25 @@
             });
           else X({ mode: "select-hook", event: O.event, matcher: q6 });
         }),
-          (K[111] = Q),
-          (K[112] = O.event),
-          (K[113] = O.matcherMetadata),
-          (K[114] = z1));
-      else z1 = K[114];
+          (q[120] = x),
+          (q[121] = $.event),
+          (q[122] = $.matcherMetadata),
+          (q[123] = N6));
+      else N6 = q[123];
       let f1;
-      if (K[115] === Symbol.for("react.memo_cache_sentinel"))
+      if (q[124] === Symbol.for("react.memo_cache_sentinel"))
         ((f1 = () => {
           X({ mode: "select-event" });
         }),
-          (K[115] = f1));
-      else f1 = K[115];
+          (q[124] = OA));
+      else OA = q[124];
       let T1;
       if (
-        K[116] !== Q ||
-        K[117] !== O.event ||
-        K[118] !== d ||
-        K[119] !== sA.description ||
-        K[120] !== z1
+        q[125] !== x ||
+        q[126] !== $.event ||
+        q[127] !== H1 ||
+        q[128] !== _6.description ||
+        q[129] !== N6
       )
         ((T1 = Tq.createElement(IDK, {
           selectedEvent: O.event,
@@ -597,19 +622,19 @@
           onSelect: z1,
           onCancel: f1,
         })),
-          (K[116] = Q),
-          (K[117] = O.event),
-          (K[118] = d),
-          (K[119] = sA.description),
-          (K[120] = z1),
-          (K[121] = T1));
-      else T1 = K[121];
+          (q[125] = x),
+          (q[126] = $.event),
+          (q[127] = H1),
+          (q[128] = _6.description),
+          (q[129] = N6),
+          (q[130] = T8));
+      else T8 = q[130];
       return T1;
     }
     case "add-matcher": {
       let sA = w1[O.event],
         z1;
-      if (K[122] !== O.event || K[123] !== O.matcherMetadata)
+      if (q[131] !== $.event || q[132] !== $.matcherMetadata)
         ((z1 = () => {
           (X({
             mode: "select-matcher",
@@ -618,17 +643,17 @@
           }),
             N(""));
         }),
-          (K[122] = O.event),
-          (K[123] = O.matcherMetadata),
-          (K[124] = z1));
-      else z1 = K[124];
+          (q[131] = $.event),
+          (q[132] = $.matcherMetadata),
+          (q[133] = N6));
+      else N6 = q[133];
       let f1;
       if (
-        K[125] !== O.event ||
-        K[126] !== O.matcherMetadata ||
-        K[127] !== f ||
-        K[128] !== sA.description ||
-        K[129] !== z1
+        q[134] !== $.event ||
+        q[135] !== $.matcherMetadata ||
+        q[136] !== G ||
+        q[137] !== _6.description ||
+        q[138] !== N6
       )
         ((f1 = Tq.createElement(hDK, {
           selectedEvent: O.event,
@@ -638,34 +663,34 @@
           matcherMetadata: O.matcherMetadata,
           onCancel: z1,
         })),
-          (K[125] = O.event),
-          (K[126] = O.matcherMetadata),
-          (K[127] = f),
-          (K[128] = sA.description),
-          (K[129] = z1),
-          (K[130] = f1));
-      else f1 = K[130];
+          (q[134] = $.event),
+          (q[135] = $.matcherMetadata),
+          (q[136] = G),
+          (q[137] = _6.description),
+          (q[138] = N6),
+          (q[139] = OA));
+      else OA = q[139];
       return f1;
     }
     case "delete-matcher": {
       let sA;
-      if (K[131] !== O.event || K[132] !== O.matcherMetadata)
+      if (q[140] !== $.event || q[141] !== $.matcherMetadata)
         ((sA = () =>
           X({
             mode: "select-matcher",
             event: O.event,
             matcherMetadata: O.matcherMetadata,
           })),
-          (K[131] = O.event),
-          (K[132] = O.matcherMetadata),
-          (K[133] = sA));
-      else sA = K[133];
+          (q[140] = $.event),
+          (q[141] = $.matcherMetadata),
+          (q[142] = _6));
+      else _6 = q[142];
       let z1;
       if (
-        K[134] !== F1 ||
-        K[135] !== O.event ||
-        K[136] !== O.matcher ||
-        K[137] !== sA
+        q[143] !== H6 ||
+        q[144] !== $.event ||
+        q[145] !== $.matcher ||
+        q[146] !== _6
       )
         ((z1 = Tq.createElement(BDK, {
           selectedMatcher: O.matcher,
@@ -673,47 +698,47 @@
           onDelete: F1,
           onCancel: sA,
         })),
-          (K[134] = F1),
-          (K[135] = O.event),
-          (K[136] = O.matcher),
-          (K[137] = sA),
-          (K[138] = z1));
-      else z1 = K[138];
+          (q[143] = H6),
+          (q[144] = $.event),
+          (q[145] = $.matcher),
+          (q[146] = _6),
+          (q[147] = N6));
+      else N6 = q[147];
       return z1;
     }
     case "select-hook": {
       let sA = w1[O.event],
         z1;
-      if (K[139] !== O.event || K[140] !== O.matcher)
+      if (q[148] !== $.event || q[149] !== $.matcher)
         ((z1 = (q6) => {
           if (q6 === null)
             X({ mode: "add-hook", event: O.event, matcher: O.matcher });
           else X({ mode: "delete-hook", event: O.event, hook: q6 });
         }),
-          (K[139] = O.event),
-          (K[140] = O.matcher),
-          (K[141] = z1));
-      else z1 = K[141];
+          (q[148] = $.event),
+          (q[149] = $.matcher),
+          (q[150] = N6));
+      else N6 = q[150];
       let f1;
-      if (K[142] !== b || K[143] !== O.event)
+      if (q[151] !== C || q[152] !== $.event)
         ((f1 = () => {
           let q6 = Te(O.event, b);
           if (q6 !== void 0)
             X({ mode: "select-matcher", event: O.event, matcherMetadata: q6 });
           else X({ mode: "select-event" });
         }),
-          (K[142] = b),
-          (K[143] = O.event),
-          (K[144] = f1));
-      else f1 = K[144];
+          (q[151] = C),
+          (q[152] = $.event),
+          (q[153] = OA));
+      else OA = q[153];
       let T1;
       if (
-        K[145] !== c ||
-        K[146] !== O.event ||
-        K[147] !== O.matcher ||
-        K[148] !== sA ||
-        K[149] !== z1 ||
-        K[150] !== f1
+        q[154] !== e ||
+        q[155] !== $.event ||
+        q[156] !== $.matcher ||
+        q[157] !== _6 ||
+        q[158] !== N6 ||
+        q[159] !== OA
       )
         ((T1 = Tq.createElement(gDK, {
           selectedEvent: O.event,
@@ -723,54 +748,54 @@
           onSelect: z1,
           onCancel: f1,
         })),
-          (K[145] = c),
-          (K[146] = O.event),
-          (K[147] = O.matcher),
-          (K[148] = sA),
-          (K[149] = z1),
-          (K[150] = f1),
-          (K[151] = T1));
-      else T1 = K[151];
+          (q[154] = e),
+          (q[155] = $.event),
+          (q[156] = $.matcher),
+          (q[157] = _6),
+          (q[158] = N6),
+          (q[159] = OA),
+          (q[160] = T8));
+      else T8 = q[160];
       return T1;
     }
     case "add-hook": {
       let { event: sA, matcher: z1 } = O,
         f1;
-      if (K[152] !== b || K[153] !== O.event)
+      if (q[161] !== C || q[162] !== $.event)
         ((f1 = lDK(O.event, b)),
-          (K[152] = b),
-          (K[153] = O.event),
-          (K[154] = f1));
-      else f1 = K[154];
+          (q[161] = C),
+          (q[162] = $.event),
+          (q[163] = OA));
+      else OA = q[163];
       let T1 = w1[O.event],
         q6 = T1.description,
         U6;
-      if (K[155] !== b || K[156] !== O.event)
+      if (q[164] !== C || q[165] !== $.event)
         ((U6 = Te(O.event, b)),
-          (K[155] = b),
-          (K[156] = O.event),
-          (K[157] = U6));
-      else U6 = K[157];
+          (q[164] = C),
+          (q[165] = $.event),
+          (q[166] = F7));
+      else F7 = q[166];
       let A4 = U6 !== void 0,
         j8;
-      if (K[158] !== O.event || K[159] !== O.matcher)
+      if (q[167] !== $.event || q[168] !== $.matcher)
         ((j8 = () => {
           (X({ mode: "select-hook", event: O.event, matcher: O.matcher }),
             P(""));
         }),
-          (K[158] = O.event),
-          (K[159] = O.matcher),
-          (K[160] = j8));
-      else j8 = K[160];
+          (q[167] = $.event),
+          (q[168] = $.matcher),
+          (q[169] = d8));
+      else d8 = q[169];
       let z7;
       if (
-        K[161] !== M ||
-        K[162] !== O.event ||
-        K[163] !== O.matcher ||
-        K[164] !== f1 ||
-        K[165] !== T1.description ||
-        K[166] !== A4 ||
-        K[167] !== j8
+        q[170] !== P ||
+        q[171] !== $.event ||
+        q[172] !== $.matcher ||
+        q[173] !== OA ||
+        q[174] !== T8.description ||
+        q[175] !== j4 ||
+        q[176] !== d8
       )
         ((z7 = Tq.createElement(xDK, {
           selectedEvent: sA,
@@ -782,50 +807,50 @@
           onChangeCommand: P,
           onCancel: j8,
         })),
-          (K[161] = M),
-          (K[162] = O.event),
-          (K[163] = O.matcher),
-          (K[164] = f1),
-          (K[165] = T1.description),
-          (K[166] = A4),
-          (K[167] = j8),
-          (K[168] = z7));
-      else z7 = K[168];
+          (q[170] = P),
+          (q[171] = $.event),
+          (q[172] = $.matcher),
+          (q[173] = OA),
+          (q[174] = T8.description),
+          (q[175] = j4),
+          (q[176] = d8),
+          (q[177] = h4));
+      else h4 = q[177];
       return z7;
     }
     case "delete-hook": {
       let sA = O.hook,
         z1;
-      if (K[169] !== b || K[170] !== O.event)
+      if (q[178] !== C || q[179] !== $.event)
         ((z1 = Te(O.event, b)),
-          (K[169] = b),
-          (K[170] = O.event),
-          (K[171] = z1));
-      else z1 = K[171];
+          (q[178] = C),
+          (q[179] = $.event),
+          (q[180] = N6));
+      else N6 = q[180];
       let f1 = z1 !== void 0,
         T1;
-      if (K[172] !== O)
+      if (q[181] !== $)
         ((T1 = () => {
           let { event: U6, hook: A4 } = O;
           X({ mode: "select-hook", event: U6, matcher: A4.matcher || "" });
         }),
-          (K[172] = O),
-          (K[173] = T1));
-      else T1 = K[173];
+          (q[181] = $),
+          (q[182] = T8));
+      else T8 = q[182];
       let q6;
-      if (K[174] !== R1 || K[175] !== O.hook || K[176] !== f1 || K[177] !== T1)
+      if (q[183] !== EA || q[184] !== $.hook || q[185] !== OA || q[186] !== T8)
         ((q6 = Tq.createElement(QDK, {
           selectedHook: sA,
           eventSupportsMatcher: f1,
           onDelete: R1,
           onCancel: T1,
         })),
-          (K[174] = R1),
-          (K[175] = O.hook),
-          (K[176] = f1),
-          (K[177] = T1),
-          (K[178] = q6));
-      else q6 = K[178];
+          (q[183] = EA),
+          (q[184] = $.hook),
+          (q[185] = OA),
+          (q[186] = T8),
+          (q[187] = dA));
+      else dA = q[187];
       return q6;
     }
   }

@@@ variable 'DL7' (was 'Mz7')  structural (50.7%)
--- pretty-v2.1.26.js:278738
+++ pretty-v2.1.27.js:213095
@@ -28,9 +28,10 @@
           (q.if(
             zX._`typeof ${D} == "object" && !(${D} instanceof RegExp)`,
             () =>
-              q
-                .assign(j, zX._`${D}.type || "string"`)
-                .assign(M, zX._`${D}.validate`),
+              K.assign(W, Q_._`${P}.type || "string"`).assign(
+                G,
+                Q_._`${P}.validate`,
+              ),
             () => q.assign(j, zX._`"string"`).assign(M, D),
           ),
             A.fail$data((0, zX.or)(P(), f())));

@@@ variable 'lc1' (was 'nnA')  structural (50.4%)
--- pretty-v2.1.26.js:6410
+++ pretty-v2.1.27.js:6616
@@ -1,12 +1,12 @@
   nnA = async (A, K) => {
     if (!(await aAA())) {
       K?.("committing");
-      let { code: O, stderr: X } = await R6("git", ["add", "-A"], {
+      let { code: $, stderr: _ } = await GA(A4(), ["add", "-A"], {
         preserveOutputOnError: !0,
       });
       if (O !== 0)
         return { success: !1, error: `Failed to stage changes: ${X}` };
-      let { code: $, stderr: _ } = await R6("git", ["commit", "-m", A], {
+      let { code: J, stderr: X } = await GA(A4(), ["commit", "-m", A], {
         preserveOutputOnError: !0,
       });
       if ($ !== 0) return { success: !1, error: `Failed to commit: ${_}` };
@@ -15,9 +15,7 @@
     let Y = await fa6(),
       z = await SN(),
       w = Y.hasUpstream ? ["push"] : ["push", "-u", "origin", z],
-      { code: H, stderr: J } = await R6("git", w, {
-        preserveOutputOnError: !0,
-      });
+      { code: H, stderr: O } = await GA(A4(), w, { preserveOutputOnError: !0 });
     if (H !== 0) return { success: !1, error: `Failed to push: ${J}` };
     return { success: !0 };
   },

@@@ function 'tQ1' (was 'sdA')  structural (49.1%)
--- pretty-v2.1.26.js:537470
+++ pretty-v2.1.27.js:521339
@@ -17,6 +17,7 @@
     Y.indexOf(`<${ro6}>`) !== -1 ||
     Y.indexOf(`<${x0}>`) !== -1 ||
     Y.indexOf(`<${jl}>`) !== -1 ||
+    Y.indexOf(`<${zc}>`) !== -1 ||
     Y.indexOf(`<${u0}`) !== -1
   )
     return !1;

@@@ function 'pGq' (was 'kmK')  structural (48.9%)
--- pretty-v2.1.26.js:573156
+++ pretty-v2.1.27.js:556847
@@ -1,6 +1,6 @@
 async function kmK() {
   (n("tengu_update_check", {}),
-    v7(`Current version: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION}
+    T4(`Current version: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION}
 `));
   let A = z5()?.autoUpdatesChannel ?? "latest";
   (v7(`Checking for updates to ${A} version...
@@ -92,16 +92,16 @@
               "report the issue at https://github.com/anthropics/claude-code/issues",
             PACKAGE_URL: "@anthropic-ai/claude-code",
             README_URL: "https://code.claude.com/docs/en/overview",
-            VERSION: "2.1.26",
+            VERSION: "2.1.27",
             FEEDBACK_CHANNEL:
               "https://github.com/anthropics/claude-code/issues",
-            BUILD_TIME: "2026-01-30T02:12:23Z",
+            BUILD_TIME: "2026-01-30T19:50:44Z",
           }.VERSION,
           $,
           { loose: !0 },
         )
       )
-        (v7(`Update available: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION}  ${$}
+        (T4(`Update available: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION}  ${J}
 `),
           v7(`
 `),
@@ -127,16 +127,16 @@
               "report the issue at https://github.com/anthropics/claude-code/issues",
             PACKAGE_URL: "@anthropic-ai/claude-code",
             README_URL: "https://code.claude.com/docs/en/overview",
-            VERSION: "2.1.26",
+            VERSION: "2.1.27",
             FEEDBACK_CHANNEL:
               "https://github.com/anthropics/claude-code/issues",
-            BUILD_TIME: "2026-01-30T02:12:23Z",
+            BUILD_TIME: "2026-01-30T19:50:44Z",
           }.VERSION,
           $,
           { loose: !0 },
         )
       )
-        (v7(`Update available: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION}  ${$}
+        (T4(`Update available: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION}  ${J}
 `),
           v7(`
 `),
@@ -162,16 +162,16 @@
               "report the issue at https://github.com/anthropics/claude-code/issues",
             PACKAGE_URL: "@anthropic-ai/claude-code",
             README_URL: "https://code.claude.com/docs/en/overview",
-            VERSION: "2.1.26",
+            VERSION: "2.1.27",
             FEEDBACK_CHANNEL:
               "https://github.com/anthropics/claude-code/issues",
-            BUILD_TIME: "2026-01-30T02:12:23Z",
+            BUILD_TIME: "2026-01-30T19:50:44Z",
           }.VERSION,
           $,
           { loose: !0 },
         )
       )
-        (v7(`Update available: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION}  ${$}
+        (T4(`Update available: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION}  ${J}
 `),
           v7(`
 `),
@@ -253,14 +253,14 @@
             "report the issue at https://github.com/anthropics/claude-code/issues",
           PACKAGE_URL: "@anthropic-ai/claude-code",
           README_URL: "https://code.claude.com/docs/en/overview",
-          VERSION: "2.1.26",
+          VERSION: "2.1.27",
           FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-          BUILD_TIME: "2026-01-30T02:12:23Z",
+          BUILD_TIME: "2026-01-30T19:50:44Z",
         }.VERSION
       )
         v7(
           O1.green(
-            `Claude Code is up to date (${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION})`,
+            `Claude Code is up to date (${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION})`,
           ) +
             `
 `,
@@ -268,7 +268,7 @@
       else
         (v7(
           O1.green(
-            `Successfully updated from ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION} to version ${X.latestVersion}`,
+            `Successfully updated from ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION} to version ${_.latestVersion}`,
           ) +
             `
 `,
@@ -291,10 +291,10 @@
   if (q.installMethod !== "native") await OpA();
   (h("update: Checking npm registry for latest version"),
     h(
-      `update: Package URL: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.PACKAGE_URL}`,
+      `update: Package URL: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.PACKAGE_URL}`,
     ));
   let Y = A === "stable" ? "stable" : "latest",
-    z = `npm view ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.PACKAGE_URL}@${Y} version`;
+    z = `npm view ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.PACKAGE_URL}@${Y} version`;
   h(`update: Running: ${z}`);
   let w = await v3A(A);
   if ((h(`update: Latest version from npm: ${w || "FAILED"}`), !w)) {
@@ -322,18 +322,18 @@
           "report the issue at https://github.com/anthropics/claude-code/issues",
         PACKAGE_URL: "@anthropic-ai/claude-code",
         README_URL: "https://code.claude.com/docs/en/overview",
-        VERSION: "2.1.26",
+        VERSION: "2.1.27",
         FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-        BUILD_TIME: "2026-01-30T02:12:23Z",
+        BUILD_TIME: "2026-01-30T19:50:44Z",
       }.PACKAGE_URL &&
         !{
           ISSUES_EXPLAINER:
             "report the issue at https://github.com/anthropics/claude-code/issues",
           PACKAGE_URL: "@anthropic-ai/claude-code",
           README_URL: "https://code.claude.com/docs/en/overview",
-          VERSION: "2.1.26",
+          VERSION: "2.1.27",
           FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-          BUILD_TIME: "2026-01-30T02:12:23Z",
+          BUILD_TIME: "2026-01-30T19:50:44Z",
         }.PACKAGE_URL.startsWith("@anthropic"))
     )
       process.stderr.write(`   Internal/development build not published to npm
@@ -352,9 +352,9 @@
           "report the issue at https://github.com/anthropics/claude-code/issues",
         PACKAGE_URL: "@anthropic-ai/claude-code",
         README_URL: "https://code.claude.com/docs/en/overview",
-        VERSION: "2.1.26",
+        VERSION: "2.1.27",
         FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-        BUILD_TIME: "2026-01-30T02:12:23Z",
+        BUILD_TIME: "2026-01-30T19:50:44Z",
       }.PACKAGE_URL || "@anthropic-ai/claude-code";
     (process.stderr.write(`   Manually check: npm view ${X} version
 `),
@@ -369,20 +369,20 @@
         "report the issue at https://github.com/anthropics/claude-code/issues",
       PACKAGE_URL: "@anthropic-ai/claude-code",
       README_URL: "https://code.claude.com/docs/en/overview",
-      VERSION: "2.1.26",
+      VERSION: "2.1.27",
       FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues",
-      BUILD_TIME: "2026-01-30T02:12:23Z",
+      BUILD_TIME: "2026-01-30T19:50:44Z",
     }.VERSION
   )
     (v7(
       O1.green(
-        `Claude Code is up to date (${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION})`,
+        `Claude Code is up to date (${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION})`,
       ) +
         `
 `,
     ),
       await X5(0));
-  (v7(`New version available: ${w} (current: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION})
+  (T4(`New version available: ${w} (current: ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION})
 `),
     v7(`Installing update...
 `));
@@ -429,7 +429,7 @@
     case "success":
       (v7(
         O1.green(
-          `Successfully updated from ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.VERSION} to version ${w}`,
+          `Successfully updated from ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.VERSION} to version ${w}`,
         ) +
           `
 `,
@@ -445,7 +445,7 @@
         (process.stderr.write(`Try manually updating with:
 `),
           process.stderr
-            .write(`  cd ~/.claude/local && npm update ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.PACKAGE_URL}
+            .write(`  cd ~/.claude/local && npm update ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.PACKAGE_URL}
 `));
       else
         (process.stderr.write(`Try running with sudo or fix npm permissions
@@ -464,7 +464,7 @@
         (process.stderr.write(`Try manually updating with:
 `),
           process.stderr
-            .write(`  cd ~/.claude/local && npm update ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.26", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T02:12:23Z" }.PACKAGE_URL}
+            .write(`  cd ~/.claude/local && npm update ${{ ISSUES_EXPLAINER: "report the issue at https://github.com/anthropics/claude-code/issues", PACKAGE_URL: "@anthropic-ai/claude-code", README_URL: "https://code.claude.com/docs/en/overview", VERSION: "2.1.27", FEEDBACK_CHANNEL: "https://github.com/anthropics/claude-code/issues", BUILD_TIME: "2026-01-30T19:50:44Z" }.PACKAGE_URL}
 `));
       else
         process.stderr

@@@ function 'hCY' (was 'fv2')  structural (47.3%)
--- pretty-v2.1.26.js:461611
+++ pretty-v2.1.27.js:437907
@@ -9,18 +9,18 @@
   if (q) z.push("--branch", q);
   if (Y) z.push("--no-checkout");
   z.push(A, K);
-  let w = await R6("git", z);
+  let w = await GA(A4(), z);
   if (w.code !== 0) throw Error(`Failed to clone repository: ${w.stderr}`);
   if (Y) {
     if (
-      (await A7("git", ["fetch", "--depth", "1", "origin", Y], { cwd: K }))
+      (await l7(A4(), ["fetch", "--depth", "1", "origin", Y], { cwd: q }))
         .code !== 0
     ) {
       h(`Shallow fetch of SHA ${Y} failed, falling back to unshallow fetch`);
-      let O = await A7("git", ["fetch", "--unshallow"], { cwd: K });
+      let $ = await l7(A4(), ["fetch", "--unshallow"], { cwd: q });
       if (O.code !== 0) throw Error(`Failed to fetch commit ${Y}: ${O.stderr}`);
     }
-    let J = await A7("git", ["checkout", Y], { cwd: K });
+    let O = await l7(A4(), ["checkout", Y], { cwd: q });
     if (J.code !== 0)
       throw Error(`Failed to checkout commit ${Y}: ${J.stderr}`);
   }

@@@ function 'JV4' (was 'Dr7')  structural (45.6%)
--- pretty-v2.1.26.js:386209
+++ pretty-v2.1.27.js:354999
@@ -1,33 +1,26 @@
 function Dr7(A) {
-  let K = s(7),
+  let q = s(8),
     { text: q } = A,
+    [Y, z] = nx(50),
+    w = (z - _V4) / 1000,
+    H = z < _V4 ? 0 : (Math.sin((w * Math.PI * 2) / K2Y) + 1) / 2,
     Y;
-  if (K[0] === Symbol.for("react.memo_cache_sentinel"))
-    ((Y = Date.now()), (K[0] = Y));
-  else Y = K[0];
-  let z = Jj1.useRef(Y),
-    [w, H] = Jj1.useState(0),
-    J;
-  if (K[1] === Symbol.for("react.memo_cache_sentinel"))
-    ((J = () => {
-      let _ = Date.now() - z.current;
-      if (_ < Wr7) return;
-      let G = (_ - Wr7) / 1000;
-      H((Math.sin((G * Math.PI * 2) / mz2) + 1) / 2);
-    }),
-      (K[1] = J));
+  if (q[0] !== H) ((O = Za(hU(A2Y, q2Y, H))), (q[0] = H), (q[1] = O));
   else J = K[1];
-  r9(J, 50);
-  let O;
-  if (K[2] !== w) ((O = Ot(wd(uz2, Bz2, w))), (K[2] = w), (K[3] = O));
-  else O = K[3];
   let X = O,
     $;
-  if (K[4] !== X || K[5] !== q)
+  if (q[2] !== $ || q[3] !== K)
     (($ = NC6.createElement(V, { color: X }, q)),
-      (K[4] = X),
+      (q[2] = $),
+      (q[3] = K),
+      (q[4] = _));
+  else _ = q[4];
+  let J;
+  if (q[5] !== Y || q[6] !== _)
+    ((J = mu1.createElement(h, { ref: Y }, _)),
       (K[5] = q),
-      (K[6] = $));
-  else $ = K[6];
+      (q[6] = _),
+      (q[7] = J));
+  else J = q[7];
   return $;
 }

@@@ function 'HyY' (was 'fV2')  structural (44.0%)
--- pretty-v2.1.26.js:453438
+++ pretty-v2.1.27.js:435145
@@ -1,11 +1,11 @@
 async function fV2(A) {
-  let { code: K, stderr: q } = await R6("git", ["checkout", A]);
+  let { code: q, stderr: K } = await GA(A4(), ["checkout", A]);
   if (K !== 0) {
     h(`Local checkout failed, trying to checkout from origin: ${q}`);
-    let Y = await R6("git", ["checkout", "-b", A, "--track", `origin/${A}`]);
+    let Y = await GA(A4(), ["checkout", "-b", A, "--track", `origin/${A}`]);
     if (((K = Y.code), (q = Y.stderr), K !== 0)) {
       h(`Remote checkout with -b failed, trying without -b: ${q}`);
-      let z = await R6("git", ["checkout", "--track", `origin/${A}`]);
+      let z = await GA(A4(), ["checkout", "--track", `origin/${A}`]);
       ((K = z.code), (q = z.stderr));
     }
   }

@@@ function 'x4' (was 'u7')  structural (40.9%)
--- pretty-v2.1.26.js:386514
+++ pretty-v2.1.27.js:355305
@@ -1,27 +1,27 @@
 function u7() {
-  let A = s(4),
-    [K, q] = MW.useState(0),
+  let A = s(6),
+    [q, K] = nx(120),
     { isConnected: Y } = OC6(),
-    z;
-  if (A[0] === Symbol.for("react.memo_cache_sentinel"))
-    ((z = () => {
-      q(Qz2);
-    }),
-      (A[0] = z));
-  else z = A[0];
-  r9(z, 120);
-  let w = Y === !1 ? "inactive" : "text",
+    z = Math.floor(K / 120) % jV4.length,
+    w = Y === !1 ? "inactive" : "text",
     H = Pr7[K],
     J;
-  if (A[1] !== w || A[2] !== H)
+  if (A[0] !== w || A[1] !== H)
+    ((O = Z4.createElement(f, { color: w }, H)),
+      (A[0] = w),
+      (A[1] = H),
+      (A[2] = O));
+  else O = A[2];
+  let $;
+  if (A[3] !== q || A[4] !== O)
     ((J = P7.createElement(
       S,
-      { flexWrap: "wrap", height: 1, width: 2 },
-      P7.createElement(V, { color: w }, H),
+      { ref: q, flexWrap: "wrap", height: 1, width: 2 },
+      O,
     )),
-      (A[1] = w),
-      (A[2] = H),
-      (A[3] = J));
-  else J = A[3];
+      (A[3] = q),
+      (A[4] = O),
+      (A[5] = $));
+  else $ = A[5];
   return J;
 }

=== String Changes ===

@@@ function 'Nqz' (was 'Ca2')  string-only
--- pretty-v2.1.26.js:550416
+++ pretty-v2.1.27.js:534283
@@ -13,7 +13,7 @@
       ? [
           N7.createElement(
             V,
-            { dimColor: !0, key: "tasks" },
+            { dimColor: !0, key: "toggle-tasks" },
             N7.createElement(D6, {
               shortcut: q,
               action: z ? "hide tasks" : "show tasks",
